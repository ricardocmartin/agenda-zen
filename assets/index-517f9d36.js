var ap=Object.defineProperty;var lp=(t,e,s)=>e in t?ap(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var B=(t,e,s)=>(lp(t,typeof e!="symbol"?e+"":e,s),s);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();/**
* @vue/shared v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function za(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const Pe={},kn=[],Ut=()=>{},cp=()=>!1,er=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ha=t=>t.startsWith("onUpdate:"),Ye=Object.assign,Wa=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},dp=Object.prototype.hasOwnProperty,Se=(t,e)=>dp.call(t,e),ne=Array.isArray,Sn=t=>zi(t)==="[object Map]",Bn=t=>zi(t)==="[object Set]",Ll=t=>zi(t)==="[object Date]",ce=t=>typeof t=="function",He=t=>typeof t=="string",Bt=t=>typeof t=="symbol",Re=t=>t!==null&&typeof t=="object",fu=t=>(Re(t)||ce(t))&&ce(t.then)&&ce(t.catch),pu=Object.prototype.toString,zi=t=>pu.call(t),up=t=>zi(t).slice(8,-1),mu=t=>zi(t)==="[object Object]",qa=t=>He(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ci=za(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),tr=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},hp=/-(\w)/g,Dt=tr(t=>t.replace(hp,(e,s)=>s?s.toUpperCase():"")),fp=/\B([A-Z])/g,un=tr(t=>t.replace(fp,"-$1").toLowerCase()),sr=tr(t=>t.charAt(0).toUpperCase()+t.slice(1)),Mr=tr(t=>t?`on${sr(t)}`:""),js=(t,e)=>!Object.is(t,e),vo=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},gu=(t,e,s,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:s})},Fo=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Fl;const nr=()=>Fl||(Fl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ir(t){if(ne(t)){const e={};for(let s=0;s<t.length;s++){const n=t[s],i=He(n)?bp(n):ir(n);if(i)for(const o in i)e[o]=i[o]}return e}else if(He(t)||Re(t))return t}const pp=/;(?![^(]*\))/g,mp=/:([^]+)/,gp=/\/\*[^]*?\*\//g;function bp(t){const e={};return t.replace(gp,"").split(pp).forEach(s=>{if(s){const n=s.split(mp);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function bt(t){let e="";if(He(t))e=t;else if(ne(t))for(let s=0;s<t.length;s++){const n=bt(t[s]);n&&(e+=n+" ")}else if(Re(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const yp="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",xp=za(yp);function bu(t){return!!t||t===""}function _p(t,e){if(t.length!==e.length)return!1;let s=!0;for(let n=0;s&&n<t.length;n++)s=Hi(t[n],e[n]);return s}function Hi(t,e){if(t===e)return!0;let s=Ll(t),n=Ll(e);if(s||n)return s&&n?t.getTime()===e.getTime():!1;if(s=Bt(t),n=Bt(e),s||n)return t===e;if(s=ne(t),n=ne(e),s||n)return s&&n?_p(t,e):!1;if(s=Re(t),n=Re(e),s||n){if(!s||!n)return!1;const i=Object.keys(t).length,o=Object.keys(e).length;if(i!==o)return!1;for(const r in t){const a=t.hasOwnProperty(r),l=e.hasOwnProperty(r);if(a&&!l||!a&&l||!Hi(t[r],e[r]))return!1}}return String(t)===String(e)}function Ka(t,e){return t.findIndex(s=>Hi(s,e))}const yu=t=>!!(t&&t.__v_isRef===!0),P=t=>He(t)?t:t==null?"":ne(t)||Re(t)&&(t.toString===pu||!ce(t.toString))?yu(t)?P(t.value):JSON.stringify(t,xu,2):String(t),xu=(t,e)=>yu(e)?xu(t,e.value):Sn(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[n,i],o)=>(s[Ar(n,o)+" =>"]=i,s),{})}:Bn(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>Ar(s))}:Bt(e)?Ar(e):Re(e)&&!ne(e)&&!mu(e)?String(e):e,Ar=(t,e="")=>{var s;return Bt(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let pt;class vp{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=pt,!e&&pt&&(this.index=(pt.scopes||(pt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=pt;try{return pt=this,e()}finally{pt=s}}}on(){++this._on===1&&(this.prevScope=pt,pt=this)}off(){this._on>0&&--this._on===0&&(pt=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function wp(){return pt}let De;const Pr=new WeakSet;class _u{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,pt&&pt.active&&pt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Pr.has(this)&&(Pr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||wu(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,jl(this),ku(this);const e=De,s=Nt;De=this,Nt=!0;try{return this.fn()}finally{Su(this),De=e,Nt=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Ja(e);this.deps=this.depsTail=void 0,jl(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Pr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){oa(this)&&this.run()}get dirty(){return oa(this)}}let vu=0,di,ui;function wu(t,e=!1){if(t.flags|=8,e){t.next=ui,ui=t;return}t.next=di,di=t}function Ga(){vu++}function Ya(){if(--vu>0)return;if(ui){let e=ui;for(ui=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;di;){let e=di;for(di=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=s}}if(t)throw t}function ku(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Su(t){let e,s=t.depsTail,n=s;for(;n;){const i=n.prevDep;n.version===-1?(n===s&&(s=i),Ja(n),kp(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}t.deps=e,t.depsTail=s}function oa(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Cu(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Cu(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Si)||(t.globalVersion=Si,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!oa(t))))return;t.flags|=2;const e=t.dep,s=De,n=Nt;De=t,Nt=!0;try{ku(t);const i=t.fn(t._value);(e.version===0||js(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{De=s,Nt=n,Su(t),t.flags&=-3}}function Ja(t,e=!1){const{dep:s,prevSub:n,nextSub:i}=t;if(n&&(n.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=n,t.nextSub=void 0),s.subs===t&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let o=s.computed.deps;o;o=o.nextDep)Ja(o,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function kp(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let Nt=!0;const Mu=[];function xs(){Mu.push(Nt),Nt=!1}function _s(){const t=Mu.pop();Nt=t===void 0?!0:t}function jl(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=De;De=void 0;try{e()}finally{De=s}}}let Si=0;class Sp{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Xa{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!De||!Nt||De===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==De)s=this.activeLink=new Sp(De,this),De.deps?(s.prevDep=De.depsTail,De.depsTail.nextDep=s,De.depsTail=s):De.deps=De.depsTail=s,Au(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=De.depsTail,s.nextDep=void 0,De.depsTail.nextDep=s,De.depsTail=s,De.deps===s&&(De.deps=n)}return s}trigger(e){this.version++,Si++,this.notify(e)}notify(e){Ga();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Ya()}}}function Au(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)Au(n)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const ra=new WeakMap,on=Symbol(""),aa=Symbol(""),Ci=Symbol("");function et(t,e,s){if(Nt&&De){let n=ra.get(t);n||ra.set(t,n=new Map);let i=n.get(s);i||(n.set(s,i=new Xa),i.map=n,i.key=s),i.track()}}function hs(t,e,s,n,i,o){const r=ra.get(t);if(!r){Si++;return}const a=l=>{l&&l.trigger()};if(Ga(),e==="clear")r.forEach(a);else{const l=ne(t),c=l&&qa(s);if(l&&s==="length"){const d=Number(n);r.forEach((h,f)=>{(f==="length"||f===Ci||!Bt(f)&&f>=d)&&a(h)})}else switch((s!==void 0||r.has(void 0))&&a(r.get(s)),c&&a(r.get(Ci)),e){case"add":l?c&&a(r.get("length")):(a(r.get(on)),Sn(t)&&a(r.get(aa)));break;case"delete":l||(a(r.get(on)),Sn(t)&&a(r.get(aa)));break;case"set":Sn(t)&&a(r.get(on));break}}Ya()}function pn(t){const e=ke(t);return e===t?e:(et(e,"iterate",Ci),Et(t)?e:e.map(Je))}function or(t){return et(t=ke(t),"iterate",Ci),t}const Cp={__proto__:null,[Symbol.iterator](){return Tr(this,Symbol.iterator,Je)},concat(...t){return pn(this).concat(...t.map(e=>ne(e)?pn(e):e))},entries(){return Tr(this,"entries",t=>(t[1]=Je(t[1]),t))},every(t,e){return ns(this,"every",t,e,void 0,arguments)},filter(t,e){return ns(this,"filter",t,e,s=>s.map(Je),arguments)},find(t,e){return ns(this,"find",t,e,Je,arguments)},findIndex(t,e){return ns(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return ns(this,"findLast",t,e,Je,arguments)},findLastIndex(t,e){return ns(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return ns(this,"forEach",t,e,void 0,arguments)},includes(...t){return Or(this,"includes",t)},indexOf(...t){return Or(this,"indexOf",t)},join(t){return pn(this).join(t)},lastIndexOf(...t){return Or(this,"lastIndexOf",t)},map(t,e){return ns(this,"map",t,e,void 0,arguments)},pop(){return Wn(this,"pop")},push(...t){return Wn(this,"push",t)},reduce(t,...e){return Ul(this,"reduce",t,e)},reduceRight(t,...e){return Ul(this,"reduceRight",t,e)},shift(){return Wn(this,"shift")},some(t,e){return ns(this,"some",t,e,void 0,arguments)},splice(...t){return Wn(this,"splice",t)},toReversed(){return pn(this).toReversed()},toSorted(t){return pn(this).toSorted(t)},toSpliced(...t){return pn(this).toSpliced(...t)},unshift(...t){return Wn(this,"unshift",t)},values(){return Tr(this,"values",Je)}};function Tr(t,e,s){const n=or(t),i=n[e]();return n!==t&&!Et(t)&&(i._next=i.next,i.next=()=>{const o=i._next();return o.value&&(o.value=s(o.value)),o}),i}const Mp=Array.prototype;function ns(t,e,s,n,i,o){const r=or(t),a=r!==t&&!Et(t),l=r[e];if(l!==Mp[e]){const h=l.apply(t,o);return a?Je(h):h}let c=s;r!==t&&(a?c=function(h,f){return s.call(this,Je(h),f,t)}:s.length>2&&(c=function(h,f){return s.call(this,h,f,t)}));const d=l.call(r,c,n);return a&&i?i(d):d}function Ul(t,e,s,n){const i=or(t);let o=s;return i!==t&&(Et(t)?s.length>3&&(o=function(r,a,l){return s.call(this,r,a,l,t)}):o=function(r,a,l){return s.call(this,r,Je(a),l,t)}),i[e](o,...n)}function Or(t,e,s){const n=ke(t);et(n,"iterate",Ci);const i=n[e](...s);return(i===-1||i===!1)&&el(s[0])?(s[0]=ke(s[0]),n[e](...s)):i}function Wn(t,e,s=[]){xs(),Ga();const n=ke(t)[e].apply(t,s);return Ya(),_s(),n}const Ap=za("__proto__,__v_isRef,__isVue"),Pu=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Bt));function Pp(t){Bt(t)||(t=String(t));const e=ke(this);return et(e,"has",t),e.hasOwnProperty(t)}class Tu{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,n){if(s==="__v_skip")return e.__v_skip;const i=this._isReadonly,o=this._isShallow;if(s==="__v_isReactive")return!i;if(s==="__v_isReadonly")return i;if(s==="__v_isShallow")return o;if(s==="__v_raw")return n===(i?o?Up:Iu:o?Du:Eu).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const r=ne(e);if(!i){let l;if(r&&(l=Cp[s]))return l;if(s==="hasOwnProperty")return Pp}const a=Reflect.get(e,s,nt(e)?e:n);return(Bt(s)?Pu.has(s):Ap(s))||(i||et(e,"get",s),o)?a:nt(a)?r&&qa(s)?a:a.value:Re(a)?i?Lu(a):rr(a):a}}class Ou extends Tu{constructor(e=!1){super(!1,e)}set(e,s,n,i){let o=e[s];if(!this._isShallow){const l=Ns(o);if(!Et(n)&&!Ns(n)&&(o=ke(o),n=ke(n)),!ne(e)&&nt(o)&&!nt(n))return l?!1:(o.value=n,!0)}const r=ne(e)&&qa(s)?Number(s)<e.length:Se(e,s),a=Reflect.set(e,s,n,nt(e)?e:i);return e===ke(i)&&(r?js(n,o)&&hs(e,"set",s,n):hs(e,"add",s,n)),a}deleteProperty(e,s){const n=Se(e,s);e[s];const i=Reflect.deleteProperty(e,s);return i&&n&&hs(e,"delete",s,void 0),i}has(e,s){const n=Reflect.has(e,s);return(!Bt(s)||!Pu.has(s))&&et(e,"has",s),n}ownKeys(e){return et(e,"iterate",ne(e)?"length":on),Reflect.ownKeys(e)}}class Tp extends Tu{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const Op=new Ou,Ep=new Tp,Dp=new Ou(!0);const la=t=>t,Qi=t=>Reflect.getPrototypeOf(t);function Ip(t,e,s){return function(...n){const i=this.__v_raw,o=ke(i),r=Sn(o),a=t==="entries"||t===Symbol.iterator&&r,l=t==="keys"&&r,c=i[t](...n),d=s?la:e?jo:Je;return!e&&et(o,"iterate",l?aa:on),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[d(h[0]),d(h[1])]:d(h),done:f}},[Symbol.iterator](){return this}}}}function Zi(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Rp(t,e){const s={get(i){const o=this.__v_raw,r=ke(o),a=ke(i);t||(js(i,a)&&et(r,"get",i),et(r,"get",a));const{has:l}=Qi(r),c=e?la:t?jo:Je;if(l.call(r,i))return c(o.get(i));if(l.call(r,a))return c(o.get(a));o!==r&&o.get(i)},get size(){const i=this.__v_raw;return!t&&et(ke(i),"iterate",on),Reflect.get(i,"size",i)},has(i){const o=this.__v_raw,r=ke(o),a=ke(i);return t||(js(i,a)&&et(r,"has",i),et(r,"has",a)),i===a?o.has(i):o.has(i)||o.has(a)},forEach(i,o){const r=this,a=r.__v_raw,l=ke(a),c=e?la:t?jo:Je;return!t&&et(l,"iterate",on),a.forEach((d,h)=>i.call(o,c(d),c(h),r))}};return Ye(s,t?{add:Zi("add"),set:Zi("set"),delete:Zi("delete"),clear:Zi("clear")}:{add(i){!e&&!Et(i)&&!Ns(i)&&(i=ke(i));const o=ke(this);return Qi(o).has.call(o,i)||(o.add(i),hs(o,"add",i,i)),this},set(i,o){!e&&!Et(o)&&!Ns(o)&&(o=ke(o));const r=ke(this),{has:a,get:l}=Qi(r);let c=a.call(r,i);c||(i=ke(i),c=a.call(r,i));const d=l.call(r,i);return r.set(i,o),c?js(o,d)&&hs(r,"set",i,o):hs(r,"add",i,o),this},delete(i){const o=ke(this),{has:r,get:a}=Qi(o);let l=r.call(o,i);l||(i=ke(i),l=r.call(o,i)),a&&a.call(o,i);const c=o.delete(i);return l&&hs(o,"delete",i,void 0),c},clear(){const i=ke(this),o=i.size!==0,r=i.clear();return o&&hs(i,"clear",void 0,void 0),r}}),["keys","values","entries",Symbol.iterator].forEach(i=>{s[i]=Ip(i,t,e)}),s}function Qa(t,e){const s=Rp(t,e);return(n,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(Se(s,i)&&i in n?s:n,i,o)}const Lp={get:Qa(!1,!1)},Fp={get:Qa(!1,!0)},jp={get:Qa(!0,!1)};const Eu=new WeakMap,Du=new WeakMap,Iu=new WeakMap,Up=new WeakMap;function Np(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function $p(t){return t.__v_skip||!Object.isExtensible(t)?0:Np(up(t))}function rr(t){return Ns(t)?t:Za(t,!1,Op,Lp,Eu)}function Ru(t){return Za(t,!1,Dp,Fp,Du)}function Lu(t){return Za(t,!0,Ep,jp,Iu)}function Za(t,e,s,n,i){if(!Re(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=$p(t);if(o===0)return t;const r=i.get(t);if(r)return r;const a=new Proxy(t,o===2?n:s);return i.set(t,a),a}function Cn(t){return Ns(t)?Cn(t.__v_raw):!!(t&&t.__v_isReactive)}function Ns(t){return!!(t&&t.__v_isReadonly)}function Et(t){return!!(t&&t.__v_isShallow)}function el(t){return t?!!t.__v_raw:!1}function ke(t){const e=t&&t.__v_raw;return e?ke(e):t}function Bp(t){return!Se(t,"__v_skip")&&Object.isExtensible(t)&&gu(t,"__v_skip",!0),t}const Je=t=>Re(t)?rr(t):t,jo=t=>Re(t)?Lu(t):t;function nt(t){return t?t.__v_isRef===!0:!1}function Vp(t){return Fu(t,!1)}function zp(t){return Fu(t,!0)}function Fu(t,e){return nt(t)?t:new Hp(t,e)}class Hp{constructor(e,s){this.dep=new Xa,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:ke(e),this._value=s?e:Je(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,n=this.__v_isShallow||Et(e)||Ns(e);e=n?e:ke(e),js(e,s)&&(this._rawValue=e,this._value=n?e:Je(e),this.dep.trigger())}}function Mn(t){return nt(t)?t.value:t}const Wp={get:(t,e,s)=>e==="__v_raw"?t:Mn(Reflect.get(t,e,s)),set:(t,e,s,n)=>{const i=t[e];return nt(i)&&!nt(s)?(i.value=s,!0):Reflect.set(t,e,s,n)}};function ju(t){return Cn(t)?t:new Proxy(t,Wp)}class qp{constructor(e,s,n){this.fn=e,this.setter=s,this._value=void 0,this.dep=new Xa(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Si-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&De!==this)return wu(this,!0),!0}get value(){const e=this.dep.track();return Cu(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Kp(t,e,s=!1){let n,i;return ce(t)?n=t:(n=t.get,i=t.set),new qp(n,i,s)}const eo={},Uo=new WeakMap;let Qs;function Gp(t,e=!1,s=Qs){if(s){let n=Uo.get(s);n||Uo.set(s,n=[]),n.push(t)}}function Yp(t,e,s=Pe){const{immediate:n,deep:i,once:o,scheduler:r,augmentJob:a,call:l}=s,c=S=>i?S:Et(S)||i===!1||i===0?fs(S,1):fs(S);let d,h,f,p,m=!1,g=!1;if(nt(t)?(h=()=>t.value,m=Et(t)):Cn(t)?(h=()=>c(t),m=!0):ne(t)?(g=!0,m=t.some(S=>Cn(S)||Et(S)),h=()=>t.map(S=>{if(nt(S))return S.value;if(Cn(S))return c(S);if(ce(S))return l?l(S,2):S()})):ce(t)?e?h=l?()=>l(t,2):t:h=()=>{if(f){xs();try{f()}finally{_s()}}const S=Qs;Qs=d;try{return l?l(t,3,[p]):t(p)}finally{Qs=S}}:h=Ut,e&&i){const S=h,M=i===!0?1/0:i;h=()=>fs(S(),M)}const b=wp(),_=()=>{d.stop(),b&&b.active&&Wa(b.effects,d)};if(o&&e){const S=e;e=(...M)=>{S(...M),_()}}let w=g?new Array(t.length).fill(eo):eo;const C=S=>{if(!(!(d.flags&1)||!d.dirty&&!S))if(e){const M=d.run();if(i||m||(g?M.some((L,I)=>js(L,w[I])):js(M,w))){f&&f();const L=Qs;Qs=d;try{const I=[M,w===eo?void 0:g&&w[0]===eo?[]:w,p];l?l(e,3,I):e(...I),w=M}finally{Qs=L}}}else d.run()};return a&&a(C),d=new _u(h),d.scheduler=r?()=>r(C,!1):C,p=S=>Gp(S,!1,d),f=d.onStop=()=>{const S=Uo.get(d);if(S){if(l)l(S,4);else for(const M of S)M();Uo.delete(d)}},e?n?C(!0):w=d.run():r?r(C.bind(null,!0),!0):d.run(),_.pause=d.pause.bind(d),_.resume=d.resume.bind(d),_.stop=_,_}function fs(t,e=1/0,s){if(e<=0||!Re(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,nt(t))fs(t.value,e,s);else if(ne(t))for(let n=0;n<t.length;n++)fs(t[n],e,s);else if(Bn(t)||Sn(t))t.forEach(n=>{fs(n,e,s)});else if(mu(t)){for(const n in t)fs(t[n],e,s);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&fs(t[n],e,s)}return t}/**
* @vue/runtime-core v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Wi(t,e,s,n){try{return n?t(...n):t()}catch(i){ar(i,e,s)}}function ts(t,e,s,n){if(ce(t)){const i=Wi(t,e,s,n);return i&&fu(i)&&i.catch(o=>{ar(o,e,s)}),i}if(ne(t)){const i=[];for(let o=0;o<t.length;o++)i.push(ts(t[o],e,s,n));return i}}function ar(t,e,s,n=!0){const i=e?e.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:r}=e&&e.appContext.config||Pe;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const d=a.ec;if(d){for(let h=0;h<d.length;h++)if(d[h](t,l,c)===!1)return}a=a.parent}if(o){xs(),Wi(o,null,10,[t,l,c]),_s();return}}Jp(t,s,i,n,r)}function Jp(t,e,s,n=!0,i=!1){if(i)throw t;console.error(t)}const ct=[];let Jt=-1;const An=[];let As=null,_n=0;const Uu=Promise.resolve();let No=null;function tl(t){const e=No||Uu;return t?e.then(this?t.bind(this):t):e}function Xp(t){let e=Jt+1,s=ct.length;for(;e<s;){const n=e+s>>>1,i=ct[n],o=Mi(i);o<t||o===t&&i.flags&2?e=n+1:s=n}return e}function sl(t){if(!(t.flags&1)){const e=Mi(t),s=ct[ct.length-1];!s||!(t.flags&2)&&e>=Mi(s)?ct.push(t):ct.splice(Xp(e),0,t),t.flags|=1,Nu()}}function Nu(){No||(No=Uu.then(Bu))}function Qp(t){ne(t)?An.push(...t):As&&t.id===-1?As.splice(_n+1,0,t):t.flags&1||(An.push(t),t.flags|=1),Nu()}function Nl(t,e,s=Jt+1){for(;s<ct.length;s++){const n=ct[s];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;ct.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function $u(t){if(An.length){const e=[...new Set(An)].sort((s,n)=>Mi(s)-Mi(n));if(An.length=0,As){As.push(...e);return}for(As=e,_n=0;_n<As.length;_n++){const s=As[_n];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}As=null,_n=0}}const Mi=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Bu(t){const e=Ut;try{for(Jt=0;Jt<ct.length;Jt++){const s=ct[Jt];s&&!(s.flags&8)&&(s.flags&4&&(s.flags&=-2),Wi(s,s.i,s.i?15:14),s.flags&4||(s.flags&=-2))}}finally{for(;Jt<ct.length;Jt++){const s=ct[Jt];s&&(s.flags&=-2)}Jt=-1,ct.length=0,$u(),No=null,(ct.length||An.length)&&Bu()}}let Xe=null,Vu=null;function $o(t){const e=Xe;return Xe=t,Vu=t&&t.type.__scopeId||null,e}function se(t,e=Xe,s){if(!e||t._n)return t;const n=(...i)=>{n._d&&Gl(-1);const o=$o(e);let r;try{r=t(...i)}finally{$o(o),n._d&&Gl(1)}return r};return n._n=!0,n._c=!0,n._d=!0,n}function O(t,e){if(Xe===null)return t;const s=ur(Xe),n=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,r,a,l=Pe]=e[i];o&&(ce(o)&&(o={mounted:o,updated:o}),o.deep&&fs(r),n.push({dir:o,instance:s,value:r,oldValue:void 0,arg:a,modifiers:l}))}return t}function Ws(t,e,s,n){const i=t.dirs,o=e&&e.dirs;for(let r=0;r<i.length;r++){const a=i[r];o&&(a.oldValue=o[r].value);let l=a.dir[n];l&&(xs(),ts(l,s,8,[t.el,a,t,e]),_s())}}const Zp=Symbol("_vte"),em=t=>t.__isTeleport;function nl(t,e){t.shapeFlag&6&&t.component?(t.transition=e,nl(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function zu(t,e){return ce(t)?(()=>Ye({name:t.name},e,{setup:t}))():t}function Hu(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Bo(t,e,s,n,i=!1){if(ne(t)){t.forEach((m,g)=>Bo(m,e&&(ne(e)?e[g]:e),s,n,i));return}if(Pn(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Bo(t,e,s,n.component.subTree);return}const o=n.shapeFlag&4?ur(n.component):n.el,r=i?null:o,{i:a,r:l}=t,c=e&&e.r,d=a.refs===Pe?a.refs={}:a.refs,h=a.setupState,f=ke(h),p=h===Pe?()=>!1:m=>Se(f,m);if(c!=null&&c!==l&&(He(c)?(d[c]=null,p(c)&&(h[c]=null)):nt(c)&&(c.value=null)),ce(l))Wi(l,a,12,[r,d]);else{const m=He(l),g=nt(l);if(m||g){const b=()=>{if(t.f){const _=m?p(l)?h[l]:d[l]:l.value;i?ne(_)&&Wa(_,o):ne(_)?_.includes(o)||_.push(o):m?(d[l]=[o],p(l)&&(h[l]=d[l])):(l.value=[o],t.k&&(d[t.k]=l.value))}else m?(d[l]=r,p(l)&&(h[l]=r)):g&&(l.value=r,t.k&&(d[t.k]=r))};r?(b.id=-1,vt(b,s)):b()}}}nr().requestIdleCallback;nr().cancelIdleCallback;const Pn=t=>!!t.type.__asyncLoader,Wu=t=>t.type.__isKeepAlive;function tm(t,e){qu(t,"a",e)}function sm(t,e){qu(t,"da",e)}function qu(t,e,s=tt){const n=t.__wdc||(t.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(lr(e,n,s),s){let i=s.parent;for(;i&&i.parent;)Wu(i.parent.vnode)&&nm(n,e,s,i),i=i.parent}}function nm(t,e,s,n){const i=lr(e,t,n,!0);Ku(()=>{Wa(n[e],i)},s)}function lr(t,e,s=tt,n=!1){if(s){const i=s[t]||(s[t]=[]),o=e.__weh||(e.__weh=(...r)=>{xs();const a=qi(s),l=ts(e,s,t,r);return a(),_s(),l});return n?i.unshift(o):i.push(o),o}}const ws=t=>(e,s=tt)=>{(!Ti||t==="sp")&&lr(t,(...n)=>e(...n),s)},im=ws("bm"),om=ws("m"),rm=ws("bu"),am=ws("u"),lm=ws("bum"),Ku=ws("um"),cm=ws("sp"),dm=ws("rtg"),um=ws("rtc");function hm(t,e=tt){lr("ec",t,e)}const Gu="components";function H(t,e){return pm(Gu,t,!0,e)||t}const fm=Symbol.for("v-ndc");function pm(t,e,s=!0,n=!1){const i=Xe||tt;if(i){const o=i.type;if(t===Gu){const a=tg(o,!1);if(a&&(a===e||a===Dt(e)||a===sr(Dt(e))))return o}const r=$l(i[t]||o[t],e)||$l(i.appContext[t],e);return!r&&n?o:r}}function $l(t,e){return t&&(t[e]||t[Dt(e)]||t[sr(Dt(e))])}function pe(t,e,s,n){let i;const o=s&&s[n],r=ne(t);if(r||He(t)){const a=r&&Cn(t);let l=!1,c=!1;a&&(l=!Et(t),c=Ns(t),t=or(t)),i=new Array(t.length);for(let d=0,h=t.length;d<h;d++)i[d]=e(l?c?jo(Je(t[d])):Je(t[d]):t[d],d,void 0,o&&o[d])}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,o&&o[a])}else if(Re(t))if(t[Symbol.iterator])i=Array.from(t,(a,l)=>e(a,l,void 0,o&&o[l]));else{const a=Object.keys(t);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const d=a[l];i[l]=e(t[d],d,l,o&&o[l])}}else i=[];return s&&(s[n]=i),i}function mm(t,e,s={},n,i){if(Xe.ce||Xe.parent&&Pn(Xe.parent)&&Xe.parent.ce)return e!=="default"&&(s.name=e),v(),dt(J,null,[D("slot",s,n&&n())],64);let o=t[e];o&&o._c&&(o._d=!1),v();const r=o&&Yu(o(s)),a=s.key||r&&r.key,l=dt(J,{key:(a&&!Bt(a)?a:`_${e}`)+(!r&&n?"_fb":"")},r||(n?n():[]),r&&t._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function Yu(t){return t.some(e=>Pi(e)?!(e.type===vs||e.type===J&&!Yu(e.children)):!0)?t:null}const ca=t=>t?ph(t)?ur(t):ca(t.parent):null,hi=Ye(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>ca(t.parent),$root:t=>ca(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>il(t),$forceUpdate:t=>t.f||(t.f=()=>{sl(t.update)}),$nextTick:t=>t.n||(t.n=tl.bind(t.proxy)),$watch:t=>Fm.bind(t)}),Er=(t,e)=>t!==Pe&&!t.__isScriptSetup&&Se(t,e),gm={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:n,data:i,props:o,accessCache:r,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const p=r[e];if(p!==void 0)switch(p){case 1:return n[e];case 2:return i[e];case 4:return s[e];case 3:return o[e]}else{if(Er(n,e))return r[e]=1,n[e];if(i!==Pe&&Se(i,e))return r[e]=2,i[e];if((c=t.propsOptions[0])&&Se(c,e))return r[e]=3,o[e];if(s!==Pe&&Se(s,e))return r[e]=4,s[e];da&&(r[e]=0)}}const d=hi[e];let h,f;if(d)return e==="$attrs"&&et(t.attrs,"get",""),d(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(s!==Pe&&Se(s,e))return r[e]=4,s[e];if(f=l.config.globalProperties,Se(f,e))return f[e]},set({_:t},e,s){const{data:n,setupState:i,ctx:o}=t;return Er(i,e)?(i[e]=s,!0):n!==Pe&&Se(n,e)?(n[e]=s,!0):Se(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:n,appContext:i,propsOptions:o}},r){let a;return!!s[r]||t!==Pe&&Se(t,r)||Er(e,r)||(a=o[0])&&Se(a,r)||Se(n,r)||Se(hi,r)||Se(i.config.globalProperties,r)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:Se(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Bl(t){return ne(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let da=!0;function bm(t){const e=il(t),s=t.proxy,n=t.ctx;da=!1,e.beforeCreate&&Vl(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:r,watch:a,provide:l,inject:c,created:d,beforeMount:h,mounted:f,beforeUpdate:p,updated:m,activated:g,deactivated:b,beforeDestroy:_,beforeUnmount:w,destroyed:C,unmounted:S,render:M,renderTracked:L,renderTriggered:I,errorCaptured:$,serverPrefetch:X,expose:ie,inheritAttrs:re,components:de,directives:Ae,filters:We}=e;if(c&&ym(c,n,null),r)for(const oe in r){const ue=r[oe];ce(ue)&&(n[oe]=ue.bind(s))}if(i){const oe=i.call(s,s);Re(oe)&&(t.data=rr(oe))}if(da=!0,o)for(const oe in o){const ue=o[oe],Te=ce(ue)?ue.bind(s,s):ce(ue.get)?ue.get.bind(s,s):Ut,rt=!ce(ue)&&ce(ue.set)?ue.set.bind(s):Ut,at=Ft({get:Te,set:rt});Object.defineProperty(n,oe,{enumerable:!0,configurable:!0,get:()=>at.value,set:Be=>at.value=Be})}if(a)for(const oe in a)Ju(a[oe],n,s,oe);if(l){const oe=ce(l)?l.call(s):l;Reflect.ownKeys(oe).forEach(ue=>{wo(ue,oe[ue])})}d&&Vl(d,t,"c");function le(oe,ue){ne(ue)?ue.forEach(Te=>oe(Te.bind(s))):ue&&oe(ue.bind(s))}if(le(im,h),le(om,f),le(rm,p),le(am,m),le(tm,g),le(sm,b),le(hm,$),le(um,L),le(dm,I),le(lm,w),le(Ku,S),le(cm,X),ne(ie))if(ie.length){const oe=t.exposed||(t.exposed={});ie.forEach(ue=>{Object.defineProperty(oe,ue,{get:()=>s[ue],set:Te=>s[ue]=Te})})}else t.exposed||(t.exposed={});M&&t.render===Ut&&(t.render=M),re!=null&&(t.inheritAttrs=re),de&&(t.components=de),Ae&&(t.directives=Ae),X&&Hu(t)}function ym(t,e,s=Ut){ne(t)&&(t=ua(t));for(const n in t){const i=t[n];let o;Re(i)?"default"in i?o=bs(i.from||n,i.default,!0):o=bs(i.from||n):o=bs(i),nt(o)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:r=>o.value=r}):e[n]=o}}function Vl(t,e,s){ts(ne(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,s)}function Ju(t,e,s,n){let i=n.includes(".")?ch(s,n):()=>s[n];if(He(t)){const o=e[t];ce(o)&&ko(i,o)}else if(ce(t))ko(i,t.bind(s));else if(Re(t))if(ne(t))t.forEach(o=>Ju(o,e,s,n));else{const o=ce(t.handler)?t.handler.bind(s):e[t.handler];ce(o)&&ko(i,o,t)}}function il(t){const e=t.type,{mixins:s,extends:n}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:r}}=t.appContext,a=o.get(e);let l;return a?l=a:!i.length&&!s&&!n?l=e:(l={},i.length&&i.forEach(c=>Vo(l,c,r,!0)),Vo(l,e,r)),Re(e)&&o.set(e,l),l}function Vo(t,e,s,n=!1){const{mixins:i,extends:o}=e;o&&Vo(t,o,s,!0),i&&i.forEach(r=>Vo(t,r,s,!0));for(const r in e)if(!(n&&r==="expose")){const a=xm[r]||s&&s[r];t[r]=a?a(t[r],e[r]):e[r]}return t}const xm={data:zl,props:Hl,emits:Hl,methods:ti,computed:ti,beforeCreate:lt,created:lt,beforeMount:lt,mounted:lt,beforeUpdate:lt,updated:lt,beforeDestroy:lt,beforeUnmount:lt,destroyed:lt,unmounted:lt,activated:lt,deactivated:lt,errorCaptured:lt,serverPrefetch:lt,components:ti,directives:ti,watch:vm,provide:zl,inject:_m};function zl(t,e){return e?t?function(){return Ye(ce(t)?t.call(this,this):t,ce(e)?e.call(this,this):e)}:e:t}function _m(t,e){return ti(ua(t),ua(e))}function ua(t){if(ne(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function lt(t,e){return t?[...new Set([].concat(t,e))]:e}function ti(t,e){return t?Ye(Object.create(null),t,e):e}function Hl(t,e){return t?ne(t)&&ne(e)?[...new Set([...t,...e])]:Ye(Object.create(null),Bl(t),Bl(e??{})):e}function vm(t,e){if(!t)return e;if(!e)return t;const s=Ye(Object.create(null),t);for(const n in e)s[n]=lt(t[n],e[n]);return s}function Xu(){return{app:null,config:{isNativeTag:cp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let wm=0;function km(t,e){return function(n,i=null){ce(n)||(n=Ye({},n)),i!=null&&!Re(i)&&(i=null);const o=Xu(),r=new WeakSet,a=[];let l=!1;const c=o.app={_uid:wm++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:ng,get config(){return o.config},set config(d){},use(d,...h){return r.has(d)||(d&&ce(d.install)?(r.add(d),d.install(c,...h)):ce(d)&&(r.add(d),d(c,...h))),c},mixin(d){return o.mixins.includes(d)||o.mixins.push(d),c},component(d,h){return h?(o.components[d]=h,c):o.components[d]},directive(d,h){return h?(o.directives[d]=h,c):o.directives[d]},mount(d,h,f){if(!l){const p=c._ceVNode||D(n,i);return p.appContext=o,f===!0?f="svg":f===!1&&(f=void 0),h&&e?e(p,d):t(p,d,f),l=!0,c._container=d,d.__vue_app__=c,ur(p.component)}},onUnmount(d){a.push(d)},unmount(){l&&(ts(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(d,h){return o.provides[d]=h,c},runWithContext(d){const h=Tn;Tn=c;try{return d()}finally{Tn=h}}};return c}}let Tn=null;function wo(t,e){if(tt){let s=tt.provides;const n=tt.parent&&tt.parent.provides;n===s&&(s=tt.provides=Object.create(n)),s[t]=e}}function bs(t,e,s=!1){const n=tt||Xe;if(n||Tn){const i=Tn?Tn._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return s&&ce(e)?e.call(n&&n.proxy):e}}const Qu={},Zu=()=>Object.create(Qu),eh=t=>Object.getPrototypeOf(t)===Qu;function Sm(t,e,s,n=!1){const i={},o=Zu();t.propsDefaults=Object.create(null),th(t,e,i,o);for(const r in t.propsOptions[0])r in i||(i[r]=void 0);s?t.props=n?i:Ru(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function Cm(t,e,s,n){const{props:i,attrs:o,vnode:{patchFlag:r}}=t,a=ke(i),[l]=t.propsOptions;let c=!1;if((n||r>0)&&!(r&16)){if(r&8){const d=t.vnode.dynamicProps;for(let h=0;h<d.length;h++){let f=d[h];if(cr(t.emitsOptions,f))continue;const p=e[f];if(l)if(Se(o,f))p!==o[f]&&(o[f]=p,c=!0);else{const m=Dt(f);i[m]=ha(l,a,m,p,t,!1)}else p!==o[f]&&(o[f]=p,c=!0)}}}else{th(t,e,i,o)&&(c=!0);let d;for(const h in a)(!e||!Se(e,h)&&((d=un(h))===h||!Se(e,d)))&&(l?s&&(s[h]!==void 0||s[d]!==void 0)&&(i[h]=ha(l,a,h,void 0,t,!0)):delete i[h]);if(o!==a)for(const h in o)(!e||!Se(e,h))&&(delete o[h],c=!0)}c&&hs(t.attrs,"set","")}function th(t,e,s,n){const[i,o]=t.propsOptions;let r=!1,a;if(e)for(let l in e){if(ci(l))continue;const c=e[l];let d;i&&Se(i,d=Dt(l))?!o||!o.includes(d)?s[d]=c:(a||(a={}))[d]=c:cr(t.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,r=!0)}if(o){const l=ke(s),c=a||Pe;for(let d=0;d<o.length;d++){const h=o[d];s[h]=ha(i,l,h,c[h],t,!Se(c,h))}}return r}function ha(t,e,s,n,i,o){const r=t[s];if(r!=null){const a=Se(r,"default");if(a&&n===void 0){const l=r.default;if(r.type!==Function&&!r.skipFactory&&ce(l)){const{propsDefaults:c}=i;if(s in c)n=c[s];else{const d=qi(i);n=c[s]=l.call(null,e),d()}}else n=l;i.ce&&i.ce._setProp(s,n)}r[0]&&(o&&!a?n=!1:r[1]&&(n===""||n===un(s))&&(n=!0))}return n}const Mm=new WeakMap;function sh(t,e,s=!1){const n=s?Mm:e.propsCache,i=n.get(t);if(i)return i;const o=t.props,r={},a=[];let l=!1;if(!ce(t)){const d=h=>{l=!0;const[f,p]=sh(h,e,!0);Ye(r,f),p&&a.push(...p)};!s&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!o&&!l)return Re(t)&&n.set(t,kn),kn;if(ne(o))for(let d=0;d<o.length;d++){const h=Dt(o[d]);Wl(h)&&(r[h]=Pe)}else if(o)for(const d in o){const h=Dt(d);if(Wl(h)){const f=o[d],p=r[h]=ne(f)||ce(f)?{type:f}:Ye({},f),m=p.type;let g=!1,b=!0;if(ne(m))for(let _=0;_<m.length;++_){const w=m[_],C=ce(w)&&w.name;if(C==="Boolean"){g=!0;break}else C==="String"&&(b=!1)}else g=ce(m)&&m.name==="Boolean";p[0]=g,p[1]=b,(g||Se(p,"default"))&&a.push(h)}}const c=[r,a];return Re(t)&&n.set(t,c),c}function Wl(t){return t[0]!=="$"&&!ci(t)}const ol=t=>t[0]==="_"||t==="$stable",rl=t=>ne(t)?t.map(Qt):[Qt(t)],Am=(t,e,s)=>{if(e._n)return e;const n=se((...i)=>rl(e(...i)),s);return n._c=!1,n},nh=(t,e,s)=>{const n=t._ctx;for(const i in t){if(ol(i))continue;const o=t[i];if(ce(o))e[i]=Am(i,o,n);else if(o!=null){const r=rl(o);e[i]=()=>r}}},ih=(t,e)=>{const s=rl(e);t.slots.default=()=>s},oh=(t,e,s)=>{for(const n in e)(s||!ol(n))&&(t[n]=e[n])},Pm=(t,e,s)=>{const n=t.slots=Zu();if(t.vnode.shapeFlag&32){const i=e._;i?(oh(n,e,s),s&&gu(n,"_",i,!0)):nh(e,n)}else e&&ih(t,e)},Tm=(t,e,s)=>{const{vnode:n,slots:i}=t;let o=!0,r=Pe;if(n.shapeFlag&32){const a=e._;a?s&&a===1?o=!1:oh(i,e,s):(o=!e.$stable,nh(e,i)),r=e}else e&&(ih(t,e),r={default:1});if(o)for(const a in i)!ol(a)&&r[a]==null&&delete i[a]},vt=zm;function Om(t){return Em(t)}function Em(t,e){const s=nr();s.__VUE__=!0;const{insert:n,remove:i,patchProp:o,createElement:r,createText:a,createComment:l,setText:c,setElementText:d,parentNode:h,nextSibling:f,setScopeId:p=Ut,insertStaticContent:m}=t,g=(y,x,A,R=null,T=null,F=null,q=void 0,z=null,V=!!x.dynamicChildren)=>{if(y===x)return;y&&!qn(y,x)&&(R=E(y),Be(y,T,F,!0),y=null),x.patchFlag===-2&&(V=!1,x.dynamicChildren=null);const{type:U,ref:te,shapeFlag:G}=x;switch(U){case dr:b(y,x,A,R);break;case vs:_(y,x,A,R);break;case So:y==null&&w(x,A,R,q);break;case J:de(y,x,A,R,T,F,q,z,V);break;default:G&1?M(y,x,A,R,T,F,q,z,V):G&6?Ae(y,x,A,R,T,F,q,z,V):(G&64||G&128)&&U.process(y,x,A,R,T,F,q,z,V,Q)}te!=null&&T&&Bo(te,y&&y.ref,F,x||y,!x)},b=(y,x,A,R)=>{if(y==null)n(x.el=a(x.children),A,R);else{const T=x.el=y.el;x.children!==y.children&&c(T,x.children)}},_=(y,x,A,R)=>{y==null?n(x.el=l(x.children||""),A,R):x.el=y.el},w=(y,x,A,R)=>{[y.el,y.anchor]=m(y.children,x,A,R,y.el,y.anchor)},C=({el:y,anchor:x},A,R)=>{let T;for(;y&&y!==x;)T=f(y),n(y,A,R),y=T;n(x,A,R)},S=({el:y,anchor:x})=>{let A;for(;y&&y!==x;)A=f(y),i(y),y=A;i(x)},M=(y,x,A,R,T,F,q,z,V)=>{x.type==="svg"?q="svg":x.type==="math"&&(q="mathml"),y==null?L(x,A,R,T,F,q,z,V):X(y,x,T,F,q,z,V)},L=(y,x,A,R,T,F,q,z)=>{let V,U;const{props:te,shapeFlag:G,transition:Z,dirs:ae}=y;if(V=y.el=r(y.type,F,te&&te.is,te),G&8?d(V,y.children):G&16&&$(y.children,V,null,R,T,Dr(y,F),q,z),ae&&Ws(y,null,R,"created"),I(V,y,y.scopeId,q,R),te){for(const Oe in te)Oe!=="value"&&!ci(Oe)&&o(V,Oe,null,te[Oe],F,R);"value"in te&&o(V,"value",null,te.value,F),(U=te.onVnodeBeforeMount)&&Kt(U,R,y)}ae&&Ws(y,null,R,"beforeMount");const _e=Dm(T,Z);_e&&Z.beforeEnter(V),n(V,x,A),((U=te&&te.onVnodeMounted)||_e||ae)&&vt(()=>{U&&Kt(U,R,y),_e&&Z.enter(V),ae&&Ws(y,null,R,"mounted")},T)},I=(y,x,A,R,T)=>{if(A&&p(y,A),R)for(let F=0;F<R.length;F++)p(y,R[F]);if(T){let F=T.subTree;if(x===F||uh(F.type)&&(F.ssContent===x||F.ssFallback===x)){const q=T.vnode;I(y,q,q.scopeId,q.slotScopeIds,T.parent)}}},$=(y,x,A,R,T,F,q,z,V=0)=>{for(let U=V;U<y.length;U++){const te=y[U]=z?Ps(y[U]):Qt(y[U]);g(null,te,x,A,R,T,F,q,z)}},X=(y,x,A,R,T,F,q)=>{const z=x.el=y.el;let{patchFlag:V,dynamicChildren:U,dirs:te}=x;V|=y.patchFlag&16;const G=y.props||Pe,Z=x.props||Pe;let ae;if(A&&qs(A,!1),(ae=Z.onVnodeBeforeUpdate)&&Kt(ae,A,x,y),te&&Ws(x,y,A,"beforeUpdate"),A&&qs(A,!0),(G.innerHTML&&Z.innerHTML==null||G.textContent&&Z.textContent==null)&&d(z,""),U?ie(y.dynamicChildren,U,z,A,R,Dr(x,T),F):q||ue(y,x,z,null,A,R,Dr(x,T),F,!1),V>0){if(V&16)re(z,G,Z,A,T);else if(V&2&&G.class!==Z.class&&o(z,"class",null,Z.class,T),V&4&&o(z,"style",G.style,Z.style,T),V&8){const _e=x.dynamicProps;for(let Oe=0;Oe<_e.length;Oe++){const Ce=_e[Oe],yt=G[Ce],Qe=Z[Ce];(Qe!==yt||Ce==="value")&&o(z,Ce,yt,Qe,T,A)}}V&1&&y.children!==x.children&&d(z,x.children)}else!q&&U==null&&re(z,G,Z,A,T);((ae=Z.onVnodeUpdated)||te)&&vt(()=>{ae&&Kt(ae,A,x,y),te&&Ws(x,y,A,"updated")},R)},ie=(y,x,A,R,T,F,q)=>{for(let z=0;z<x.length;z++){const V=y[z],U=x[z],te=V.el&&(V.type===J||!qn(V,U)||V.shapeFlag&70)?h(V.el):A;g(V,U,te,null,R,T,F,q,!0)}},re=(y,x,A,R,T)=>{if(x!==A){if(x!==Pe)for(const F in x)!ci(F)&&!(F in A)&&o(y,F,x[F],null,T,R);for(const F in A){if(ci(F))continue;const q=A[F],z=x[F];q!==z&&F!=="value"&&o(y,F,z,q,T,R)}"value"in A&&o(y,"value",x.value,A.value,T)}},de=(y,x,A,R,T,F,q,z,V)=>{const U=x.el=y?y.el:a(""),te=x.anchor=y?y.anchor:a("");let{patchFlag:G,dynamicChildren:Z,slotScopeIds:ae}=x;ae&&(z=z?z.concat(ae):ae),y==null?(n(U,A,R),n(te,A,R),$(x.children||[],A,te,T,F,q,z,V)):G>0&&G&64&&Z&&y.dynamicChildren?(ie(y.dynamicChildren,Z,A,T,F,q,z),(x.key!=null||T&&x===T.subTree)&&rh(y,x,!0)):ue(y,x,A,te,T,F,q,z,V)},Ae=(y,x,A,R,T,F,q,z,V)=>{x.slotScopeIds=z,y==null?x.shapeFlag&512?T.ctx.activate(x,A,R,q,V):We(x,A,R,T,F,q,V):xe(y,x,V)},We=(y,x,A,R,T,F,q)=>{const z=y.component=Jm(y,R,T);if(Wu(y)&&(z.ctx.renderer=Q),Xm(z,!1,q),z.asyncDep){if(T&&T.registerDep(z,le,q),!y.el){const V=z.subTree=D(vs);_(null,V,x,A)}}else le(z,y,x,A,T,F,q)},xe=(y,x,A)=>{const R=x.component=y.component;if(Bm(y,x,A))if(R.asyncDep&&!R.asyncResolved){oe(R,x,A);return}else R.next=x,R.update();else x.el=y.el,R.vnode=x},le=(y,x,A,R,T,F,q)=>{const z=()=>{if(y.isMounted){let{next:G,bu:Z,u:ae,parent:_e,vnode:Oe}=y;{const xt=ah(y);if(xt){G&&(G.el=Oe.el,oe(y,G,q)),xt.asyncDep.then(()=>{y.isUnmounted||z()});return}}let Ce=G,yt;qs(y,!1),G?(G.el=Oe.el,oe(y,G,q)):G=Oe,Z&&vo(Z),(yt=G.props&&G.props.onVnodeBeforeUpdate)&&Kt(yt,_e,G,Oe),qs(y,!0);const Qe=Ir(y),Rt=y.subTree;y.subTree=Qe,g(Rt,Qe,h(Rt.el),E(Rt),y,T,F),G.el=Qe.el,Ce===null&&Vm(y,Qe.el),ae&&vt(ae,T),(yt=G.props&&G.props.onVnodeUpdated)&&vt(()=>Kt(yt,_e,G,Oe),T)}else{let G;const{el:Z,props:ae}=x,{bm:_e,m:Oe,parent:Ce,root:yt,type:Qe}=y,Rt=Pn(x);if(qs(y,!1),_e&&vo(_e),!Rt&&(G=ae&&ae.onVnodeBeforeMount)&&Kt(G,Ce,x),qs(y,!0),Z&&Ue){const xt=()=>{y.subTree=Ir(y),Ue(Z,y.subTree,y,T,null)};Rt&&Qe.__asyncHydrate?Qe.__asyncHydrate(Z,y,xt):xt()}else{yt.ce&&yt.ce._injectChildStyle(Qe);const xt=y.subTree=Ir(y);g(null,xt,A,R,y,T,F),x.el=xt.el}if(Oe&&vt(Oe,T),!Rt&&(G=ae&&ae.onVnodeMounted)){const xt=x;vt(()=>Kt(G,Ce,xt),T)}(x.shapeFlag&256||Ce&&Pn(Ce.vnode)&&Ce.vnode.shapeFlag&256)&&y.a&&vt(y.a,T),y.isMounted=!0,x=A=R=null}};y.scope.on();const V=y.effect=new _u(z);y.scope.off();const U=y.update=V.run.bind(V),te=y.job=V.runIfDirty.bind(V);te.i=y,te.id=y.uid,V.scheduler=()=>sl(te),qs(y,!0),U()},oe=(y,x,A)=>{x.component=y;const R=y.vnode.props;y.vnode=x,y.next=null,Cm(y,x.props,R,A),Tm(y,x.children,A),xs(),Nl(y),_s()},ue=(y,x,A,R,T,F,q,z,V=!1)=>{const U=y&&y.children,te=y?y.shapeFlag:0,G=x.children,{patchFlag:Z,shapeFlag:ae}=x;if(Z>0){if(Z&128){rt(U,G,A,R,T,F,q,z,V);return}else if(Z&256){Te(U,G,A,R,T,F,q,z,V);return}}ae&8?(te&16&&ze(U,T,F),G!==U&&d(A,G)):te&16?ae&16?rt(U,G,A,R,T,F,q,z,V):ze(U,T,F,!0):(te&8&&d(A,""),ae&16&&$(G,A,R,T,F,q,z,V))},Te=(y,x,A,R,T,F,q,z,V)=>{y=y||kn,x=x||kn;const U=y.length,te=x.length,G=Math.min(U,te);let Z;for(Z=0;Z<G;Z++){const ae=x[Z]=V?Ps(x[Z]):Qt(x[Z]);g(y[Z],ae,A,null,T,F,q,z,V)}U>te?ze(y,T,F,!0,!1,G):$(x,A,R,T,F,q,z,V,G)},rt=(y,x,A,R,T,F,q,z,V)=>{let U=0;const te=x.length;let G=y.length-1,Z=te-1;for(;U<=G&&U<=Z;){const ae=y[U],_e=x[U]=V?Ps(x[U]):Qt(x[U]);if(qn(ae,_e))g(ae,_e,A,null,T,F,q,z,V);else break;U++}for(;U<=G&&U<=Z;){const ae=y[G],_e=x[Z]=V?Ps(x[Z]):Qt(x[Z]);if(qn(ae,_e))g(ae,_e,A,null,T,F,q,z,V);else break;G--,Z--}if(U>G){if(U<=Z){const ae=Z+1,_e=ae<te?x[ae].el:R;for(;U<=Z;)g(null,x[U]=V?Ps(x[U]):Qt(x[U]),A,_e,T,F,q,z,V),U++}}else if(U>Z)for(;U<=G;)Be(y[U],T,F,!0),U++;else{const ae=U,_e=U,Oe=new Map;for(U=_e;U<=Z;U++){const _t=x[U]=V?Ps(x[U]):Qt(x[U]);_t.key!=null&&Oe.set(_t.key,U)}let Ce,yt=0;const Qe=Z-_e+1;let Rt=!1,xt=0;const Hn=new Array(Qe);for(U=0;U<Qe;U++)Hn[U]=0;for(U=ae;U<=G;U++){const _t=y[U];if(yt>=Qe){Be(_t,T,F,!0);continue}let qt;if(_t.key!=null)qt=Oe.get(_t.key);else for(Ce=_e;Ce<=Z;Ce++)if(Hn[Ce-_e]===0&&qn(_t,x[Ce])){qt=Ce;break}qt===void 0?Be(_t,T,F,!0):(Hn[qt-_e]=U+1,qt>=xt?xt=qt:Rt=!0,g(_t,x[qt],A,null,T,F,q,z,V),yt++)}const Il=Rt?Im(Hn):kn;for(Ce=Il.length-1,U=Qe-1;U>=0;U--){const _t=_e+U,qt=x[_t],Rl=_t+1<te?x[_t+1].el:R;Hn[U]===0?g(null,qt,A,Rl,T,F,q,z,V):Rt&&(Ce<0||U!==Il[Ce]?at(qt,A,Rl,2):Ce--)}}},at=(y,x,A,R,T=null)=>{const{el:F,type:q,transition:z,children:V,shapeFlag:U}=y;if(U&6){at(y.component.subTree,x,A,R);return}if(U&128){y.suspense.move(x,A,R);return}if(U&64){q.move(y,x,A,Q);return}if(q===J){n(F,x,A);for(let G=0;G<V.length;G++)at(V[G],x,A,R);n(y.anchor,x,A);return}if(q===So){C(y,x,A);return}if(R!==2&&U&1&&z)if(R===0)z.beforeEnter(F),n(F,x,A),vt(()=>z.enter(F),T);else{const{leave:G,delayLeave:Z,afterLeave:ae}=z,_e=()=>{y.ctx.isUnmounted?i(F):n(F,x,A)},Oe=()=>{G(F,()=>{_e(),ae&&ae()})};Z?Z(F,_e,Oe):Oe()}else n(F,x,A)},Be=(y,x,A,R=!1,T=!1)=>{const{type:F,props:q,ref:z,children:V,dynamicChildren:U,shapeFlag:te,patchFlag:G,dirs:Z,cacheIndex:ae}=y;if(G===-2&&(T=!1),z!=null&&(xs(),Bo(z,null,A,y,!0),_s()),ae!=null&&(x.renderCache[ae]=void 0),te&256){x.ctx.deactivate(y);return}const _e=te&1&&Z,Oe=!Pn(y);let Ce;if(Oe&&(Ce=q&&q.onVnodeBeforeUnmount)&&Kt(Ce,x,y),te&6)Wt(y.component,A,R);else{if(te&128){y.suspense.unmount(A,R);return}_e&&Ws(y,null,x,"beforeUnmount"),te&64?y.type.remove(y,x,A,Q,R):U&&!U.hasOnce&&(F!==J||G>0&&G&64)?ze(U,x,A,!1,!0):(F===J&&G&384||!T&&te&16)&&ze(V,x,A),R&&Tt(y)}(Oe&&(Ce=q&&q.onVnodeUnmounted)||_e)&&vt(()=>{Ce&&Kt(Ce,x,y),_e&&Ws(y,null,x,"unmounted")},A)},Tt=y=>{const{type:x,el:A,anchor:R,transition:T}=y;if(x===J){ut(A,R);return}if(x===So){S(y);return}const F=()=>{i(A),T&&!T.persisted&&T.afterLeave&&T.afterLeave()};if(y.shapeFlag&1&&T&&!T.persisted){const{leave:q,delayLeave:z}=T,V=()=>q(A,F);z?z(y.el,F,V):V()}else F()},ut=(y,x)=>{let A;for(;y!==x;)A=f(y),i(y),y=A;i(x)},Wt=(y,x,A)=>{const{bum:R,scope:T,job:F,subTree:q,um:z,m:V,a:U,parent:te,slots:{__:G}}=y;ql(V),ql(U),R&&vo(R),te&&ne(G)&&G.forEach(Z=>{te.renderCache[Z]=void 0}),T.stop(),F&&(F.flags|=8,Be(q,y,x,A)),z&&vt(z,x),vt(()=>{y.isUnmounted=!0},x),x&&x.pendingBranch&&!x.isUnmounted&&y.asyncDep&&!y.asyncResolved&&y.suspenseId===x.pendingId&&(x.deps--,x.deps===0&&x.resolve())},ze=(y,x,A,R=!1,T=!1,F=0)=>{for(let q=F;q<y.length;q++)Be(y[q],x,A,R,T)},E=y=>{if(y.shapeFlag&6)return E(y.component.subTree);if(y.shapeFlag&128)return y.suspense.next();const x=f(y.anchor||y.el),A=x&&x[Zp];return A?f(A):x};let Y=!1;const K=(y,x,A)=>{y==null?x._vnode&&Be(x._vnode,null,null,!0):g(x._vnode||null,y,x,null,null,null,A),x._vnode=y,Y||(Y=!0,Nl(),$u(),Y=!1)},Q={p:g,um:Be,m:at,r:Tt,mt:We,mc:$,pc:ue,pbc:ie,n:E,o:t};let ve,Ue;return e&&([ve,Ue]=e(Q)),{render:K,hydrate:ve,createApp:km(K,ve)}}function Dr({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function qs({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Dm(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function rh(t,e,s=!1){const n=t.children,i=e.children;if(ne(n)&&ne(i))for(let o=0;o<n.length;o++){const r=n[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=Ps(i[o]),a.el=r.el),!s&&a.patchFlag!==-2&&rh(r,a)),a.type===dr&&(a.el=r.el),a.type===vs&&!a.el&&(a.el=r.el)}}function Im(t){const e=t.slice(),s=[0];let n,i,o,r,a;const l=t.length;for(n=0;n<l;n++){const c=t[n];if(c!==0){if(i=s[s.length-1],t[i]<c){e[n]=i,s.push(n);continue}for(o=0,r=s.length-1;o<r;)a=o+r>>1,t[s[a]]<c?o=a+1:r=a;c<t[s[o]]&&(o>0&&(e[n]=s[o-1]),s[o]=n)}}for(o=s.length,r=s[o-1];o-- >0;)s[o]=r,r=e[r];return s}function ah(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:ah(e)}function ql(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Rm=Symbol.for("v-scx"),Lm=()=>bs(Rm);function ko(t,e,s){return lh(t,e,s)}function lh(t,e,s=Pe){const{immediate:n,deep:i,flush:o,once:r}=s,a=Ye({},s),l=e&&n||!e&&o!=="post";let c;if(Ti){if(o==="sync"){const p=Lm();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=Ut,p.resume=Ut,p.pause=Ut,p}}const d=tt;a.call=(p,m,g)=>ts(p,d,m,g);let h=!1;o==="post"?a.scheduler=p=>{vt(p,d&&d.suspense)}:o!=="sync"&&(h=!0,a.scheduler=(p,m)=>{m?p():sl(p)}),a.augmentJob=p=>{e&&(p.flags|=4),h&&(p.flags|=2,d&&(p.id=d.uid,p.i=d))};const f=Yp(t,e,a);return Ti&&(c?c.push(f):l&&f()),f}function Fm(t,e,s){const n=this.proxy,i=He(t)?t.includes(".")?ch(n,t):()=>n[t]:t.bind(n,n);let o;ce(e)?o=e:(o=e.handler,s=e);const r=qi(this),a=lh(i,o.bind(n),s);return r(),a}function ch(t,e){const s=e.split(".");return()=>{let n=t;for(let i=0;i<s.length&&n;i++)n=n[s[i]];return n}}const jm=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Dt(e)}Modifiers`]||t[`${un(e)}Modifiers`];function Um(t,e,...s){if(t.isUnmounted)return;const n=t.vnode.props||Pe;let i=s;const o=e.startsWith("update:"),r=o&&jm(n,e.slice(7));r&&(r.trim&&(i=s.map(d=>He(d)?d.trim():d)),r.number&&(i=s.map(Fo)));let a,l=n[a=Mr(e)]||n[a=Mr(Dt(e))];!l&&o&&(l=n[a=Mr(un(e))]),l&&ts(l,t,6,i);const c=n[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,ts(c,t,6,i)}}function dh(t,e,s=!1){const n=e.emitsCache,i=n.get(t);if(i!==void 0)return i;const o=t.emits;let r={},a=!1;if(!ce(t)){const l=c=>{const d=dh(c,e,!0);d&&(a=!0,Ye(r,d))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!o&&!a?(Re(t)&&n.set(t,null),null):(ne(o)?o.forEach(l=>r[l]=null):Ye(r,o),Re(t)&&n.set(t,r),r)}function cr(t,e){return!t||!er(e)?!1:(e=e.slice(2).replace(/Once$/,""),Se(t,e[0].toLowerCase()+e.slice(1))||Se(t,un(e))||Se(t,e))}function Ir(t){const{type:e,vnode:s,proxy:n,withProxy:i,propsOptions:[o],slots:r,attrs:a,emit:l,render:c,renderCache:d,props:h,data:f,setupState:p,ctx:m,inheritAttrs:g}=t,b=$o(t);let _,w;try{if(s.shapeFlag&4){const S=i||n,M=S;_=Qt(c.call(M,S,d,h,p,f,m)),w=a}else{const S=e;_=Qt(S.length>1?S(h,{attrs:a,slots:r,emit:l}):S(h,null)),w=e.props?a:Nm(a)}}catch(S){fi.length=0,ar(S,t,1),_=D(vs)}let C=_;if(w&&g!==!1){const S=Object.keys(w),{shapeFlag:M}=C;S.length&&M&7&&(o&&S.some(Ha)&&(w=$m(w,o)),C=Dn(C,w,!1,!0))}return s.dirs&&(C=Dn(C,null,!1,!0),C.dirs=C.dirs?C.dirs.concat(s.dirs):s.dirs),s.transition&&nl(C,s.transition),_=C,$o(b),_}const Nm=t=>{let e;for(const s in t)(s==="class"||s==="style"||er(s))&&((e||(e={}))[s]=t[s]);return e},$m=(t,e)=>{const s={};for(const n in t)(!Ha(n)||!(n.slice(9)in e))&&(s[n]=t[n]);return s};function Bm(t,e,s){const{props:n,children:i,component:o}=t,{props:r,children:a,patchFlag:l}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?Kl(n,r,c):!!r;if(l&8){const d=e.dynamicProps;for(let h=0;h<d.length;h++){const f=d[h];if(r[f]!==n[f]&&!cr(c,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===r?!1:n?r?Kl(n,r,c):!0:!!r;return!1}function Kl(t,e,s){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const o=n[i];if(e[o]!==t[o]&&!cr(s,o))return!0}return!1}function Vm({vnode:t,parent:e},s){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=s,e=e.parent;else break}}const uh=t=>t.__isSuspense;function zm(t,e){e&&e.pendingBranch?ne(t)?e.effects.push(...t):e.effects.push(t):Qp(t)}const J=Symbol.for("v-fgt"),dr=Symbol.for("v-txt"),vs=Symbol.for("v-cmt"),So=Symbol.for("v-stc"),fi=[];let Ct=null;function v(t=!1){fi.push(Ct=t?null:[])}function Hm(){fi.pop(),Ct=fi[fi.length-1]||null}let Ai=1;function Gl(t,e=!1){Ai+=t,t<0&&Ct&&e&&(Ct.hasOnce=!0)}function hh(t){return t.dynamicChildren=Ai>0?Ct||kn:null,Hm(),Ai>0&&Ct&&Ct.push(t),t}function k(t,e,s,n,i,o){return hh(u(t,e,s,n,i,o,!0))}function dt(t,e,s,n,i){return hh(D(t,e,s,n,i,!0))}function Pi(t){return t?t.__v_isVNode===!0:!1}function qn(t,e){return t.type===e.type&&t.key===e.key}const fh=({key:t})=>t??null,Co=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?He(t)||nt(t)||ce(t)?{i:Xe,r:t,k:e,f:!!s}:t:null);function u(t,e=null,s=null,n=0,i=null,o=t===J?0:1,r=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&fh(e),ref:e&&Co(e),scopeId:Vu,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Xe};return a?(al(l,s),o&128&&t.normalize(l)):s&&(l.shapeFlag|=He(s)?8:16),Ai>0&&!r&&Ct&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&Ct.push(l),l}const D=Wm;function Wm(t,e=null,s=null,n=0,i=null,o=!1){if((!t||t===fm)&&(t=vs),Pi(t)){const a=Dn(t,e,!0);return s&&al(a,s),Ai>0&&!o&&Ct&&(a.shapeFlag&6?Ct[Ct.indexOf(t)]=a:Ct.push(a)),a.patchFlag=-2,a}if(sg(t)&&(t=t.__vccOpts),e){e=qm(e);let{class:a,style:l}=e;a&&!He(a)&&(e.class=bt(a)),Re(l)&&(el(l)&&!ne(l)&&(l=Ye({},l)),e.style=ir(l))}const r=He(t)?1:uh(t)?128:em(t)?64:Re(t)?4:ce(t)?2:0;return u(t,e,s,n,i,r,o,!0)}function qm(t){return t?el(t)||eh(t)?Ye({},t):t:null}function Dn(t,e,s=!1,n=!1){const{props:i,ref:o,patchFlag:r,children:a,transition:l}=t,c=e?Km(i||{},e):i,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&fh(c),ref:e&&e.ref?s&&o?ne(o)?o.concat(Co(e)):[o,Co(e)]:Co(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==J?r===-1?16:r|16:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Dn(t.ssContent),ssFallback:t.ssFallback&&Dn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&nl(d,l.clone(d)),d}function ee(t=" ",e=0){return D(dr,null,t,e)}function ln(t,e){const s=D(So,null,t);return s.staticCount=e,s}function W(t="",e=!1){return e?(v(),dt(vs,null,t)):D(vs,null,t)}function Qt(t){return t==null||typeof t=="boolean"?D(vs):ne(t)?D(J,null,t.slice()):Pi(t)?Ps(t):D(dr,null,String(t))}function Ps(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Dn(t)}function al(t,e){let s=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(ne(e))s=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),al(t,i()),i._c&&(i._d=!0));return}else{s=32;const i=e._;!i&&!eh(e)?e._ctx=Xe:i===3&&Xe&&(Xe.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ce(e)?(e={default:e,_ctx:Xe},s=32):(e=String(e),n&64?(s=16,e=[ee(e)]):s=8);t.children=e,t.shapeFlag|=s}function Km(...t){const e={};for(let s=0;s<t.length;s++){const n=t[s];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=bt([e.class,n.class]));else if(i==="style")e.style=ir([e.style,n.style]);else if(er(i)){const o=e[i],r=n[i];r&&o!==r&&!(ne(o)&&o.includes(r))&&(e[i]=o?[].concat(o,r):r)}else i!==""&&(e[i]=n[i])}return e}function Kt(t,e,s,n=null){ts(t,e,7,[s,n])}const Gm=Xu();let Ym=0;function Jm(t,e,s){const n=t.type,i=(e?e.appContext:t.appContext)||Gm,o={uid:Ym++,vnode:t,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new vp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:sh(n,i),emitsOptions:dh(n,i),emit:null,emitted:null,propsDefaults:Pe,inheritAttrs:n.inheritAttrs,ctx:Pe,data:Pe,props:Pe,attrs:Pe,slots:Pe,refs:Pe,setupState:Pe,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=Um.bind(null,o),t.ce&&t.ce(o),o}let tt=null,zo,fa;{const t=nr(),e=(s,n)=>{let i;return(i=t[s])||(i=t[s]=[]),i.push(n),o=>{i.length>1?i.forEach(r=>r(o)):i[0](o)}};zo=e("__VUE_INSTANCE_SETTERS__",s=>tt=s),fa=e("__VUE_SSR_SETTERS__",s=>Ti=s)}const qi=t=>{const e=tt;return zo(t),t.scope.on(),()=>{t.scope.off(),zo(e)}},Yl=()=>{tt&&tt.scope.off(),zo(null)};function ph(t){return t.vnode.shapeFlag&4}let Ti=!1;function Xm(t,e=!1,s=!1){e&&fa(e);const{props:n,children:i}=t.vnode,o=ph(t);Sm(t,n,o,e),Pm(t,i,s||e);const r=o?Qm(t,e):void 0;return e&&fa(!1),r}function Qm(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,gm);const{setup:n}=s;if(n){xs();const i=t.setupContext=n.length>1?eg(t):null,o=qi(t),r=Wi(n,t,0,[t.props,i]),a=fu(r);if(_s(),o(),(a||t.sp)&&!Pn(t)&&Hu(t),a){if(r.then(Yl,Yl),e)return r.then(l=>{Jl(t,l,e)}).catch(l=>{ar(l,t,0)});t.asyncDep=r}else Jl(t,r,e)}else mh(t,e)}function Jl(t,e,s){ce(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Re(e)&&(t.setupState=ju(e)),mh(t,s)}let Xl;function mh(t,e,s){const n=t.type;if(!t.render){if(!e&&Xl&&!n.render){const i=n.template||il(t).template;if(i){const{isCustomElement:o,compilerOptions:r}=t.appContext.config,{delimiters:a,compilerOptions:l}=n,c=Ye(Ye({isCustomElement:o,delimiters:a},r),l);n.render=Xl(i,c)}}t.render=n.render||Ut}{const i=qi(t);xs();try{bm(t)}finally{_s(),i()}}}const Zm={get(t,e){return et(t,"get",""),t[e]}};function eg(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,Zm),slots:t.slots,emit:t.emit,expose:e}}function ur(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(ju(Bp(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in hi)return hi[s](t)},has(e,s){return s in e||s in hi}})):t.proxy}function tg(t,e=!0){return ce(t)?t.displayName||t.name:t.name||e&&t.__name}function sg(t){return ce(t)&&"__vccOpts"in t}const Ft=(t,e)=>Kp(t,e,Ti);function gh(t,e,s){const n=arguments.length;return n===2?Re(e)&&!ne(e)?Pi(e)?D(t,null,[e]):D(t,e):D(t,null,e):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&Pi(s)&&(s=[s]),D(t,e,s))}const ng="3.5.14";/**
* @vue/runtime-dom v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let pa;const Ql=typeof window<"u"&&window.trustedTypes;if(Ql)try{pa=Ql.createPolicy("vue",{createHTML:t=>t})}catch{}const bh=pa?t=>pa.createHTML(t):t=>t,ig="http://www.w3.org/2000/svg",og="http://www.w3.org/1998/Math/MathML",cs=typeof document<"u"?document:null,Zl=cs&&cs.createElement("template"),rg={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,n)=>{const i=e==="svg"?cs.createElementNS(ig,t):e==="mathml"?cs.createElementNS(og,t):s?cs.createElement(t,{is:s}):cs.createElement(t);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>cs.createTextNode(t),createComment:t=>cs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>cs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,n,i,o){const r=s?s.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),s),!(i===o||!(i=i.nextSibling)););else{Zl.innerHTML=bh(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=Zl.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[r?r.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},ag=Symbol("_vtc");function lg(t,e,s){const n=t[ag];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const Ho=Symbol("_vod"),yh=Symbol("_vsh"),Rr={beforeMount(t,{value:e},{transition:s}){t[Ho]=t.style.display==="none"?"":t.style.display,s&&e?s.beforeEnter(t):Kn(t,e)},mounted(t,{value:e},{transition:s}){s&&e&&s.enter(t)},updated(t,{value:e,oldValue:s},{transition:n}){!e!=!s&&(n?e?(n.beforeEnter(t),Kn(t,!0),n.enter(t)):n.leave(t,()=>{Kn(t,!1)}):Kn(t,e))},beforeUnmount(t,{value:e}){Kn(t,e)}};function Kn(t,e){t.style.display=e?t[Ho]:"none",t[yh]=!e}const cg=Symbol(""),dg=/(^|;)\s*display\s*:/;function ug(t,e,s){const n=t.style,i=He(s);let o=!1;if(s&&!i){if(e)if(He(e))for(const r of e.split(";")){const a=r.slice(0,r.indexOf(":")).trim();s[a]==null&&Mo(n,a,"")}else for(const r in e)s[r]==null&&Mo(n,r,"");for(const r in s)r==="display"&&(o=!0),Mo(n,r,s[r])}else if(i){if(e!==s){const r=n[cg];r&&(s+=";"+r),n.cssText=s,o=dg.test(s)}}else e&&t.removeAttribute("style");Ho in t&&(t[Ho]=o?n.display:"",t[yh]&&(n.display="none"))}const ec=/\s*!important$/;function Mo(t,e,s){if(ne(s))s.forEach(n=>Mo(t,e,n));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const n=hg(t,e);ec.test(s)?t.setProperty(un(n),s.replace(ec,""),"important"):t[n]=s}}const tc=["Webkit","Moz","ms"],Lr={};function hg(t,e){const s=Lr[e];if(s)return s;let n=Dt(e);if(n!=="filter"&&n in t)return Lr[e]=n;n=sr(n);for(let i=0;i<tc.length;i++){const o=tc[i]+n;if(o in t)return Lr[e]=o}return e}const sc="http://www.w3.org/1999/xlink";function nc(t,e,s,n,i,o=xp(e)){n&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(sc,e.slice(6,e.length)):t.setAttributeNS(sc,e,s):s==null||o&&!bu(s)?t.removeAttribute(e):t.setAttribute(e,o?"":Bt(s)?String(s):s)}function ic(t,e,s,n,i){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?bh(s):s);return}const o=t.tagName;if(e==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let r=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=bu(s):s==null&&a==="string"?(s="",r=!0):a==="number"&&(s=0,r=!0)}try{t[e]=s}catch{}r&&t.removeAttribute(i||e)}function Es(t,e,s,n){t.addEventListener(e,s,n)}function fg(t,e,s,n){t.removeEventListener(e,s,n)}const oc=Symbol("_vei");function pg(t,e,s,n,i=null){const o=t[oc]||(t[oc]={}),r=o[e];if(n&&r)r.value=n;else{const[a,l]=mg(e);if(n){const c=o[e]=yg(n,i);Es(t,a,c,l)}else r&&(fg(t,a,r,l),o[e]=void 0)}}const rc=/(?:Once|Passive|Capture)$/;function mg(t){let e;if(rc.test(t)){e={};let n;for(;n=t.match(rc);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):un(t.slice(2)),e]}let Fr=0;const gg=Promise.resolve(),bg=()=>Fr||(gg.then(()=>Fr=0),Fr=Date.now());function yg(t,e){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;ts(xg(n,s.value),e,5,[n])};return s.value=t,s.attached=bg(),s}function xg(t,e){if(ne(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const ac=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,_g=(t,e,s,n,i,o)=>{const r=i==="svg";e==="class"?lg(t,n,r):e==="style"?ug(t,s,n):er(e)?Ha(e)||pg(t,e,s,n,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):vg(t,e,n,r))?(ic(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&nc(t,e,n,r,o,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!He(n))?ic(t,Dt(e),n,o,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),nc(t,e,n,r))};function vg(t,e,s,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&ac(e)&&ce(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return ac(e)&&He(s)?!1:e in t}const In=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ne(e)?s=>vo(e,s):e};function wg(t){t.target.composing=!0}function lc(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ys=Symbol("_assign"),j={created(t,{modifiers:{lazy:e,trim:s,number:n}},i){t[ys]=In(i);const o=n||i.props&&i.props.type==="number";Es(t,e?"change":"input",r=>{if(r.target.composing)return;let a=t.value;s&&(a=a.trim()),o&&(a=Fo(a)),t[ys](a)}),s&&Es(t,"change",()=>{t.value=t.value.trim()}),e||(Es(t,"compositionstart",wg),Es(t,"compositionend",lc),Es(t,"change",lc))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:n,trim:i,number:o}},r){if(t[ys]=In(r),t.composing)return;const a=(o||t.type==="number")&&!/^0\d/.test(t.value)?Fo(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(n&&e===s||i&&t.value.trim()===l)||(t.value=l))}},ll={deep:!0,created(t,e,s){t[ys]=In(s),Es(t,"change",()=>{const n=t._modelValue,i=Oi(t),o=t.checked,r=t[ys];if(ne(n)){const a=Ka(n,i),l=a!==-1;if(o&&!l)r(n.concat(i));else if(!o&&l){const c=[...n];c.splice(a,1),r(c)}}else if(Bn(n)){const a=new Set(n);o?a.add(i):a.delete(i),r(a)}else r(xh(t,o))})},mounted:cc,beforeUpdate(t,e,s){t[ys]=In(s),cc(t,e,s)}};function cc(t,{value:e,oldValue:s},n){t._modelValue=e;let i;if(ne(e))i=Ka(e,n.props.value)>-1;else if(Bn(e))i=e.has(n.props.value);else{if(e===s)return;i=Hi(e,xh(t,!0))}t.checked!==i&&(t.checked=i)}const Mt={deep:!0,created(t,{value:e,modifiers:{number:s}},n){const i=Bn(e);Es(t,"change",()=>{const o=Array.prototype.filter.call(t.options,r=>r.selected).map(r=>s?Fo(Oi(r)):Oi(r));t[ys](t.multiple?i?new Set(o):o:o[0]),t._assigning=!0,tl(()=>{t._assigning=!1})}),t[ys]=In(n)},mounted(t,{value:e}){dc(t,e)},beforeUpdate(t,e,s){t[ys]=In(s)},updated(t,{value:e}){t._assigning||dc(t,e)}};function dc(t,e){const s=t.multiple,n=ne(e);if(!(s&&!n&&!Bn(e))){for(let i=0,o=t.options.length;i<o;i++){const r=t.options[i],a=Oi(r);if(s)if(n){const l=typeof a;l==="string"||l==="number"?r.selected=e.some(c=>String(c)===String(a)):r.selected=Ka(e,a)>-1}else r.selected=e.has(a);else if(Hi(Oi(r),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Oi(t){return"_value"in t?t._value:t.value}function xh(t,e){const s=e?"_trueValue":"_falseValue";return s in t?t[s]:e}const kg=["ctrl","shift","alt","meta"],Sg={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>kg.some(s=>t[`${s}Key`]&&!e.includes(s))},it=(t,e)=>{const s=t._withMods||(t._withMods={}),n=e.join(".");return s[n]||(s[n]=(i,...o)=>{for(let r=0;r<e.length;r++){const a=Sg[e[r]];if(a&&a(i,e))return}return t(i,...o)})},Cg=Ye({patchProp:_g},rg);let uc;function Mg(){return uc||(uc=Om(Cg))}const Ag=(...t)=>{const e=Mg().createApp(...t),{mount:s}=e;return e.mount=n=>{const i=Tg(n);if(!i)return;const o=e._component;!ce(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const r=s(i,!1,Pg(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),r},e};function Pg(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Tg(t){return He(t)?document.querySelector(t):t}const me=(t,e)=>{const s=t.__vccOpts||t;for(const[n,i]of e)s[n]=i;return s},Og={name:"CookieBanner",data(){return{consentGiven:!1}},mounted(){this.consentGiven=localStorage.getItem("cookieConsent")==="true"},methods:{acceptCookies(){this.consentGiven=!0,localStorage.setItem("cookieConsent","true")}}},Eg={key:0,class:"fixed bottom-0 left-0 right-0 bg-gray-800 text-white p-4 text-center z-50"};function Dg(t,e,s,n,i,o){return i.consentGiven?W("",!0):(v(),k("div",Eg,[e[1]||(e[1]=u("p",{class:"mb-2"},[ee(" Utilizamos cookies para melhorar sua experiência. Ao continuar, você concorda com nossa "),u("a",{href:"#",class:"underline"},"política de privacidade"),ee(". ")],-1)),u("button",{onClick:e[0]||(e[0]=(...r)=>o.acceptCookies&&o.acceptCookies(...r)),class:"btn"}," Aceitar ")]))}const Ig=me(Og,[["render",Dg]]),Rg={name:"App",components:{CookieBanner:Ig}};function Lg(t,e,s,n,i,o){const r=H("router-view"),a=H("CookieBanner");return v(),k(J,null,[D(r),D(a)],64)}const Fg=me(Rg,[["render",Lg]]);/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const vn=typeof document<"u";function _h(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function jg(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&_h(t.default)}const we=Object.assign;function jr(t,e){const s={};for(const n in e){const i=e[n];s[n]=Vt(i)?i.map(t):t(i)}return s}const pi=()=>{},Vt=Array.isArray,vh=/#/g,Ug=/&/g,Ng=/\//g,$g=/=/g,Bg=/\?/g,wh=/\+/g,Vg=/%5B/g,zg=/%5D/g,kh=/%5E/g,Hg=/%60/g,Sh=/%7B/g,Wg=/%7C/g,Ch=/%7D/g,qg=/%20/g;function cl(t){return encodeURI(""+t).replace(Wg,"|").replace(Vg,"[").replace(zg,"]")}function Kg(t){return cl(t).replace(Sh,"{").replace(Ch,"}").replace(kh,"^")}function ma(t){return cl(t).replace(wh,"%2B").replace(qg,"+").replace(vh,"%23").replace(Ug,"%26").replace(Hg,"`").replace(Sh,"{").replace(Ch,"}").replace(kh,"^")}function Gg(t){return ma(t).replace($g,"%3D")}function Yg(t){return cl(t).replace(vh,"%23").replace(Bg,"%3F")}function Jg(t){return t==null?"":Yg(t).replace(Ng,"%2F")}function Ei(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Xg=/\/$/,Qg=t=>t.replace(Xg,"");function Ur(t,e,s="/"){let n,i={},o="",r="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=e.slice(0,l),o=e.slice(l+1,a>-1?a:e.length),i=t(o)),a>-1&&(n=n||e.slice(0,a),r=e.slice(a,e.length)),n=sb(n??e,s),{fullPath:n+(o&&"?")+o+r,path:n,query:i,hash:Ei(r)}}function Zg(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function hc(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function eb(t,e,s){const n=e.matched.length-1,i=s.matched.length-1;return n>-1&&n===i&&Rn(e.matched[n],s.matched[i])&&Mh(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function Rn(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Mh(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!tb(t[s],e[s]))return!1;return!0}function tb(t,e){return Vt(t)?fc(t,e):Vt(e)?fc(e,t):t===e}function fc(t,e){return Vt(e)?t.length===e.length&&t.every((s,n)=>s===e[n]):t.length===1&&t[0]===e}function sb(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),n=t.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let o=s.length-1,r,a;for(r=0;r<n.length;r++)if(a=n[r],a!==".")if(a==="..")o>1&&o--;else break;return s.slice(0,o).join("/")+"/"+n.slice(r).join("/")}const Ss={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Di;(function(t){t.pop="pop",t.push="push"})(Di||(Di={}));var mi;(function(t){t.back="back",t.forward="forward",t.unknown=""})(mi||(mi={}));function nb(t){if(!t)if(vn){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Qg(t)}const ib=/^[^#]+#/;function ob(t,e){return t.replace(ib,"#")+e}function rb(t,e){const s=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-s.left-(e.left||0),top:n.top-s.top-(e.top||0)}}const hr=()=>({left:window.scrollX,top:window.scrollY});function ab(t){let e;if("el"in t){const s=t.el,n=typeof s=="string"&&s.startsWith("#"),i=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!i)return;e=rb(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function pc(t,e){return(history.state?history.state.position-e:-1)+t}const ga=new Map;function lb(t,e){ga.set(t,e)}function cb(t){const e=ga.get(t);return ga.delete(t),e}let db=()=>location.protocol+"//"+location.host;function Ah(t,e){const{pathname:s,search:n,hash:i}=e,o=t.indexOf("#");if(o>-1){let a=i.includes(t.slice(o))?t.slice(o).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),hc(l,"")}return hc(s,t)+n+i}function ub(t,e,s,n){let i=[],o=[],r=null;const a=({state:f})=>{const p=Ah(t,location),m=s.value,g=e.value;let b=0;if(f){if(s.value=p,e.value=f,r&&r===m){r=null;return}b=g?f.position-g.position:0}else n(p);i.forEach(_=>{_(s.value,m,{delta:b,type:Di.pop,direction:b?b>0?mi.forward:mi.back:mi.unknown})})};function l(){r=s.value}function c(f){i.push(f);const p=()=>{const m=i.indexOf(f);m>-1&&i.splice(m,1)};return o.push(p),p}function d(){const{history:f}=window;f.state&&f.replaceState(we({},f.state,{scroll:hr()}),"")}function h(){for(const f of o)f();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function mc(t,e,s,n=!1,i=!1){return{back:t,current:e,forward:s,replaced:n,position:window.history.length,scroll:i?hr():null}}function hb(t){const{history:e,location:s}=window,n={value:Ah(t,s)},i={value:e.state};i.value||o(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(l,c,d){const h=t.indexOf("#"),f=h>-1?(s.host&&document.querySelector("base")?t:t.slice(h))+l:db()+t+l;try{e[d?"replaceState":"pushState"](c,"",f),i.value=c}catch(p){console.error(p),s[d?"replace":"assign"](f)}}function r(l,c){const d=we({},e.state,mc(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});o(l,d,!0),n.value=l}function a(l,c){const d=we({},i.value,e.state,{forward:l,scroll:hr()});o(d.current,d,!0);const h=we({},mc(n.value,l,null),{position:d.position+1},c);o(l,h,!1),n.value=l}return{location:n,state:i,push:a,replace:r}}function fb(t){t=nb(t);const e=hb(t),s=ub(t,e.state,e.location,e.replace);function n(o,r=!0){r||s.pauseListeners(),history.go(o)}const i=we({location:"",base:t,go:n,createHref:ob.bind(null,t)},e,s);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function pb(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),fb(t)}function mb(t){return typeof t=="string"||t&&typeof t=="object"}function Ph(t){return typeof t=="string"||typeof t=="symbol"}const Th=Symbol("");var gc;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(gc||(gc={}));function Ln(t,e){return we(new Error,{type:t,[Th]:!0},e)}function is(t,e){return t instanceof Error&&Th in t&&(e==null||!!(t.type&e))}const bc="[^/]+?",gb={sensitive:!1,strict:!1,start:!0,end:!0},bb=/[.+*?^${}()[\]/\\]/g;function yb(t,e){const s=we({},gb,e),n=[];let i=s.start?"^":"";const o=[];for(const c of t){const d=c.length?[]:[90];s.strict&&!c.length&&(i+="/");for(let h=0;h<c.length;h++){const f=c[h];let p=40+(s.sensitive?.25:0);if(f.type===0)h||(i+="/"),i+=f.value.replace(bb,"\\$&"),p+=40;else if(f.type===1){const{value:m,repeatable:g,optional:b,regexp:_}=f;o.push({name:m,repeatable:g,optional:b});const w=_||bc;if(w!==bc){p+=10;try{new RegExp(`(${w})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${m}" (${w}): `+S.message)}}let C=g?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;h||(C=b&&c.length<2?`(?:/${C})`:"/"+C),b&&(C+="?"),i+=C,p+=20,b&&(p+=-8),g&&(p+=-20),w===".*"&&(p+=-50)}d.push(p)}n.push(d)}if(s.strict&&s.end){const c=n.length-1;n[c][n[c].length-1]+=.7000000000000001}s.strict||(i+="/?"),s.end?i+="$":s.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const r=new RegExp(i,s.sensitive?"":"i");function a(c){const d=c.match(r),h={};if(!d)return null;for(let f=1;f<d.length;f++){const p=d[f]||"",m=o[f-1];h[m.name]=p&&m.repeatable?p.split("/"):p}return h}function l(c){let d="",h=!1;for(const f of t){(!h||!d.endsWith("/"))&&(d+="/"),h=!1;for(const p of f)if(p.type===0)d+=p.value;else if(p.type===1){const{value:m,repeatable:g,optional:b}=p,_=m in c?c[m]:"";if(Vt(_)&&!g)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const w=Vt(_)?_.join("/"):_;if(!w)if(b)f.length<2&&(d.endsWith("/")?d=d.slice(0,-1):h=!0);else throw new Error(`Missing required param "${m}"`);d+=w}}return d||"/"}return{re:r,score:n,keys:o,parse:a,stringify:l}}function xb(t,e){let s=0;for(;s<t.length&&s<e.length;){const n=e[s]-t[s];if(n)return n;s++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function Oh(t,e){let s=0;const n=t.score,i=e.score;for(;s<n.length&&s<i.length;){const o=xb(n[s],i[s]);if(o)return o;s++}if(Math.abs(i.length-n.length)===1){if(yc(n))return 1;if(yc(i))return-1}return i.length-n.length}function yc(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const _b={type:0,value:""},vb=/[a-zA-Z0-9_]/;function wb(t){if(!t)return[[]];if(t==="/")return[[_b]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(p){throw new Error(`ERR (${s})/"${c}": ${p}`)}let s=0,n=s;const i=[];let o;function r(){o&&i.push(o),o=[]}let a=0,l,c="",d="";function h(){c&&(s===0?o.push({type:0,value:c}):s===1||s===2||s===3?(o.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&s!==2){n=s,s=4;continue}switch(s){case 0:l==="/"?(c&&h(),r()):l===":"?(h(),s=1):f();break;case 4:f(),s=n;break;case 1:l==="("?s=2:vb.test(l)?f():(h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:s=3:d+=l;break;case 3:h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,d="";break;default:e("Unknown state");break}}return s===2&&e(`Unfinished custom RegExp for param "${c}"`),h(),r(),i}function kb(t,e,s){const n=yb(wb(t.path),s),i=we(n,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function Sb(t,e){const s=[],n=new Map;e=wc({strict:!1,end:!0,sensitive:!1},e);function i(h){return n.get(h)}function o(h,f,p){const m=!p,g=_c(h);g.aliasOf=p&&p.record;const b=wc(e,h),_=[g];if("alias"in h){const S=typeof h.alias=="string"?[h.alias]:h.alias;for(const M of S)_.push(_c(we({},g,{components:p?p.record.components:g.components,path:M,aliasOf:p?p.record:g})))}let w,C;for(const S of _){const{path:M}=S;if(f&&M[0]!=="/"){const L=f.record.path,I=L[L.length-1]==="/"?"":"/";S.path=f.record.path+(M&&I+M)}if(w=kb(S,f,b),p?p.alias.push(w):(C=C||w,C!==w&&C.alias.push(w),m&&h.name&&!vc(w)&&r(h.name)),Eh(w)&&l(w),g.children){const L=g.children;for(let I=0;I<L.length;I++)o(L[I],w,p&&p.children[I])}p=p||w}return C?()=>{r(C)}:pi}function r(h){if(Ph(h)){const f=n.get(h);f&&(n.delete(h),s.splice(s.indexOf(f),1),f.children.forEach(r),f.alias.forEach(r))}else{const f=s.indexOf(h);f>-1&&(s.splice(f,1),h.record.name&&n.delete(h.record.name),h.children.forEach(r),h.alias.forEach(r))}}function a(){return s}function l(h){const f=Ab(h,s);s.splice(f,0,h),h.record.name&&!vc(h)&&n.set(h.record.name,h)}function c(h,f){let p,m={},g,b;if("name"in h&&h.name){if(p=n.get(h.name),!p)throw Ln(1,{location:h});b=p.record.name,m=we(xc(f.params,p.keys.filter(C=>!C.optional).concat(p.parent?p.parent.keys.filter(C=>C.optional):[]).map(C=>C.name)),h.params&&xc(h.params,p.keys.map(C=>C.name))),g=p.stringify(m)}else if(h.path!=null)g=h.path,p=s.find(C=>C.re.test(g)),p&&(m=p.parse(g),b=p.record.name);else{if(p=f.name?n.get(f.name):s.find(C=>C.re.test(f.path)),!p)throw Ln(1,{location:h,currentLocation:f});b=p.record.name,m=we({},f.params,h.params),g=p.stringify(m)}const _=[];let w=p;for(;w;)_.unshift(w.record),w=w.parent;return{name:b,path:g,params:m,matched:_,meta:Mb(_)}}t.forEach(h=>o(h));function d(){s.length=0,n.clear()}return{addRoute:o,resolve:c,removeRoute:r,clearRoutes:d,getRoutes:a,getRecordMatcher:i}}function xc(t,e){const s={};for(const n of e)n in t&&(s[n]=t[n]);return s}function _c(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Cb(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Cb(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const n in t.components)e[n]=typeof s=="object"?s[n]:s;return e}function vc(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Mb(t){return t.reduce((e,s)=>we(e,s.meta),{})}function wc(t,e){const s={};for(const n in t)s[n]=n in e?e[n]:t[n];return s}function Ab(t,e){let s=0,n=e.length;for(;s!==n;){const o=s+n>>1;Oh(t,e[o])<0?n=o:s=o+1}const i=Pb(t);return i&&(n=e.lastIndexOf(i,n-1)),n}function Pb(t){let e=t;for(;e=e.parent;)if(Eh(e)&&Oh(t,e)===0)return e}function Eh({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Tb(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<n.length;++i){const o=n[i].replace(wh," "),r=o.indexOf("="),a=Ei(r<0?o:o.slice(0,r)),l=r<0?null:Ei(o.slice(r+1));if(a in e){let c=e[a];Vt(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function kc(t){let e="";for(let s in t){const n=t[s];if(s=Gg(s),n==null){n!==void 0&&(e+=(e.length?"&":"")+s);continue}(Vt(n)?n.map(o=>o&&ma(o)):[n&&ma(n)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+s,o!=null&&(e+="="+o))})}return e}function Ob(t){const e={};for(const s in t){const n=t[s];n!==void 0&&(e[s]=Vt(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return e}const Eb=Symbol(""),Sc=Symbol(""),dl=Symbol(""),Dh=Symbol(""),ba=Symbol("");function Gn(){let t=[];function e(n){return t.push(n),()=>{const i=t.indexOf(n);i>-1&&t.splice(i,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function Ts(t,e,s,n,i,o=r=>r()){const r=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(Ln(4,{from:s,to:e})):f instanceof Error?l(f):mb(f)?l(Ln(2,{from:e,to:f})):(r&&n.enterCallbacks[i]===r&&typeof f=="function"&&r.push(f),a())},d=o(()=>t.call(n&&n.instances[i],e,s,c));let h=Promise.resolve(d);t.length<3&&(h=h.then(c)),h.catch(f=>l(f))})}function Nr(t,e,s,n,i=o=>o()){const o=[];for(const r of t)for(const a in r.components){let l=r.components[a];if(!(e!=="beforeRouteEnter"&&!r.instances[a]))if(_h(l)){const d=(l.__vccOpts||l)[e];d&&o.push(Ts(d,s,n,r,a,i))}else{let c=l();o.push(()=>c.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${a}" at "${r.path}"`);const h=jg(d)?d.default:d;r.mods[a]=d,r.components[a]=h;const p=(h.__vccOpts||h)[e];return p&&Ts(p,s,n,r,a,i)()}))}}return o}function Cc(t){const e=bs(dl),s=bs(Dh),n=Ft(()=>{const l=Mn(t.to);return e.resolve(l)}),i=Ft(()=>{const{matched:l}=n.value,{length:c}=l,d=l[c-1],h=s.matched;if(!d||!h.length)return-1;const f=h.findIndex(Rn.bind(null,d));if(f>-1)return f;const p=Mc(l[c-2]);return c>1&&Mc(d)===p&&h[h.length-1].path!==p?h.findIndex(Rn.bind(null,l[c-2])):f}),o=Ft(()=>i.value>-1&&Fb(s.params,n.value.params)),r=Ft(()=>i.value>-1&&i.value===s.matched.length-1&&Mh(s.params,n.value.params));function a(l={}){if(Lb(l)){const c=e[Mn(t.replace)?"replace":"push"](Mn(t.to)).catch(pi);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:n,href:Ft(()=>n.value.href),isActive:o,isExactActive:r,navigate:a}}function Db(t){return t.length===1?t[0]:t}const Ib=zu({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Cc,setup(t,{slots:e}){const s=rr(Cc(t)),{options:n}=bs(dl),i=Ft(()=>({[Ac(t.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[Ac(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const o=e.default&&Db(e.default(s));return t.custom?o:gh("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:i.value},o)}}}),Rb=Ib;function Lb(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Fb(t,e){for(const s in e){const n=e[s],i=t[s];if(typeof n=="string"){if(n!==i)return!1}else if(!Vt(i)||i.length!==n.length||n.some((o,r)=>o!==i[r]))return!1}return!0}function Mc(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Ac=(t,e,s)=>t??e??s,jb=zu({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const n=bs(ba),i=Ft(()=>t.route||n.value),o=bs(Sc,0),r=Ft(()=>{let c=Mn(o);const{matched:d}=i.value;let h;for(;(h=d[c])&&!h.components;)c++;return c}),a=Ft(()=>i.value.matched[r.value]);wo(Sc,Ft(()=>r.value+1)),wo(Eb,a),wo(ba,i);const l=Vp();return ko(()=>[l.value,a.value,t.name],([c,d,h],[f,p,m])=>{d&&(d.instances[h]=c,p&&p!==d&&c&&c===f&&(d.leaveGuards.size||(d.leaveGuards=p.leaveGuards),d.updateGuards.size||(d.updateGuards=p.updateGuards))),c&&d&&(!p||!Rn(d,p)||!f)&&(d.enterCallbacks[h]||[]).forEach(g=>g(c))},{flush:"post"}),()=>{const c=i.value,d=t.name,h=a.value,f=h&&h.components[d];if(!f)return Pc(s.default,{Component:f,route:c});const p=h.props[d],m=p?p===!0?c.params:typeof p=="function"?p(c):p:null,b=gh(f,we({},m,e,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(h.instances[d]=null)},ref:l}));return Pc(s.default,{Component:b,route:c})||b}}});function Pc(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const Ub=jb;function Nb(t){const e=Sb(t.routes,t),s=t.parseQuery||Tb,n=t.stringifyQuery||kc,i=t.history,o=Gn(),r=Gn(),a=Gn(),l=zp(Ss);let c=Ss;vn&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=jr.bind(null,E=>""+E),h=jr.bind(null,Jg),f=jr.bind(null,Ei);function p(E,Y){let K,Q;return Ph(E)?(K=e.getRecordMatcher(E),Q=Y):Q=E,e.addRoute(Q,K)}function m(E){const Y=e.getRecordMatcher(E);Y&&e.removeRoute(Y)}function g(){return e.getRoutes().map(E=>E.record)}function b(E){return!!e.getRecordMatcher(E)}function _(E,Y){if(Y=we({},Y||l.value),typeof E=="string"){const x=Ur(s,E,Y.path),A=e.resolve({path:x.path},Y),R=i.createHref(x.fullPath);return we(x,A,{params:f(A.params),hash:Ei(x.hash),redirectedFrom:void 0,href:R})}let K;if(E.path!=null)K=we({},E,{path:Ur(s,E.path,Y.path).path});else{const x=we({},E.params);for(const A in x)x[A]==null&&delete x[A];K=we({},E,{params:h(x)}),Y.params=h(Y.params)}const Q=e.resolve(K,Y),ve=E.hash||"";Q.params=d(f(Q.params));const Ue=Zg(n,we({},E,{hash:Kg(ve),path:Q.path})),y=i.createHref(Ue);return we({fullPath:Ue,hash:ve,query:n===kc?Ob(E.query):E.query||{}},Q,{redirectedFrom:void 0,href:y})}function w(E){return typeof E=="string"?Ur(s,E,l.value.path):we({},E)}function C(E,Y){if(c!==E)return Ln(8,{from:Y,to:E})}function S(E){return I(E)}function M(E){return S(we(w(E),{replace:!0}))}function L(E){const Y=E.matched[E.matched.length-1];if(Y&&Y.redirect){const{redirect:K}=Y;let Q=typeof K=="function"?K(E):K;return typeof Q=="string"&&(Q=Q.includes("?")||Q.includes("#")?Q=w(Q):{path:Q},Q.params={}),we({query:E.query,hash:E.hash,params:Q.path!=null?{}:E.params},Q)}}function I(E,Y){const K=c=_(E),Q=l.value,ve=E.state,Ue=E.force,y=E.replace===!0,x=L(K);if(x)return I(we(w(x),{state:typeof x=="object"?we({},ve,x.state):ve,force:Ue,replace:y}),Y||K);const A=K;A.redirectedFrom=Y;let R;return!Ue&&eb(n,Q,K)&&(R=Ln(16,{to:A,from:Q}),at(Q,Q,!0,!1)),(R?Promise.resolve(R):ie(A,Q)).catch(T=>is(T)?is(T,2)?T:rt(T):ue(T,A,Q)).then(T=>{if(T){if(is(T,2))return I(we({replace:y},w(T.to),{state:typeof T.to=="object"?we({},ve,T.to.state):ve,force:Ue}),Y||A)}else T=de(A,Q,!0,y,ve);return re(A,Q,T),T})}function $(E,Y){const K=C(E,Y);return K?Promise.reject(K):Promise.resolve()}function X(E){const Y=ut.values().next().value;return Y&&typeof Y.runWithContext=="function"?Y.runWithContext(E):E()}function ie(E,Y){let K;const[Q,ve,Ue]=$b(E,Y);K=Nr(Q.reverse(),"beforeRouteLeave",E,Y);for(const x of Q)x.leaveGuards.forEach(A=>{K.push(Ts(A,E,Y))});const y=$.bind(null,E,Y);return K.push(y),ze(K).then(()=>{K=[];for(const x of o.list())K.push(Ts(x,E,Y));return K.push(y),ze(K)}).then(()=>{K=Nr(ve,"beforeRouteUpdate",E,Y);for(const x of ve)x.updateGuards.forEach(A=>{K.push(Ts(A,E,Y))});return K.push(y),ze(K)}).then(()=>{K=[];for(const x of Ue)if(x.beforeEnter)if(Vt(x.beforeEnter))for(const A of x.beforeEnter)K.push(Ts(A,E,Y));else K.push(Ts(x.beforeEnter,E,Y));return K.push(y),ze(K)}).then(()=>(E.matched.forEach(x=>x.enterCallbacks={}),K=Nr(Ue,"beforeRouteEnter",E,Y,X),K.push(y),ze(K))).then(()=>{K=[];for(const x of r.list())K.push(Ts(x,E,Y));return K.push(y),ze(K)}).catch(x=>is(x,8)?x:Promise.reject(x))}function re(E,Y,K){a.list().forEach(Q=>X(()=>Q(E,Y,K)))}function de(E,Y,K,Q,ve){const Ue=C(E,Y);if(Ue)return Ue;const y=Y===Ss,x=vn?history.state:{};K&&(Q||y?i.replace(E.fullPath,we({scroll:y&&x&&x.scroll},ve)):i.push(E.fullPath,ve)),l.value=E,at(E,Y,K,y),rt()}let Ae;function We(){Ae||(Ae=i.listen((E,Y,K)=>{if(!Wt.listening)return;const Q=_(E),ve=L(Q);if(ve){I(we(ve,{replace:!0,force:!0}),Q).catch(pi);return}c=Q;const Ue=l.value;vn&&lb(pc(Ue.fullPath,K.delta),hr()),ie(Q,Ue).catch(y=>is(y,12)?y:is(y,2)?(I(we(w(y.to),{force:!0}),Q).then(x=>{is(x,20)&&!K.delta&&K.type===Di.pop&&i.go(-1,!1)}).catch(pi),Promise.reject()):(K.delta&&i.go(-K.delta,!1),ue(y,Q,Ue))).then(y=>{y=y||de(Q,Ue,!1),y&&(K.delta&&!is(y,8)?i.go(-K.delta,!1):K.type===Di.pop&&is(y,20)&&i.go(-1,!1)),re(Q,Ue,y)}).catch(pi)}))}let xe=Gn(),le=Gn(),oe;function ue(E,Y,K){rt(E);const Q=le.list();return Q.length?Q.forEach(ve=>ve(E,Y,K)):console.error(E),Promise.reject(E)}function Te(){return oe&&l.value!==Ss?Promise.resolve():new Promise((E,Y)=>{xe.add([E,Y])})}function rt(E){return oe||(oe=!E,We(),xe.list().forEach(([Y,K])=>E?K(E):Y()),xe.reset()),E}function at(E,Y,K,Q){const{scrollBehavior:ve}=t;if(!vn||!ve)return Promise.resolve();const Ue=!K&&cb(pc(E.fullPath,0))||(Q||!K)&&history.state&&history.state.scroll||null;return tl().then(()=>ve(E,Y,Ue)).then(y=>y&&ab(y)).catch(y=>ue(y,E,Y))}const Be=E=>i.go(E);let Tt;const ut=new Set,Wt={currentRoute:l,listening:!0,addRoute:p,removeRoute:m,clearRoutes:e.clearRoutes,hasRoute:b,getRoutes:g,resolve:_,options:t,push:S,replace:M,go:Be,back:()=>Be(-1),forward:()=>Be(1),beforeEach:o.add,beforeResolve:r.add,afterEach:a.add,onError:le.add,isReady:Te,install(E){const Y=this;E.component("RouterLink",Rb),E.component("RouterView",Ub),E.config.globalProperties.$router=Y,Object.defineProperty(E.config.globalProperties,"$route",{enumerable:!0,get:()=>Mn(l)}),vn&&!Tt&&l.value===Ss&&(Tt=!0,S(i.location).catch(ve=>{}));const K={};for(const ve in Ss)Object.defineProperty(K,ve,{get:()=>l.value[ve],enumerable:!0});E.provide(dl,Y),E.provide(Dh,Ru(K)),E.provide(ba,l);const Q=E.unmount;ut.add(E),E.unmount=function(){ut.delete(E),ut.size<1&&(c=Ss,Ae&&Ae(),Ae=null,l.value=Ss,Tt=!1,oe=!1),Q()}}};function ze(E){return E.reduce((Y,K)=>Y.then(()=>X(K)),Promise.resolve())}return Wt}function $b(t,e){const s=[],n=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let r=0;r<o;r++){const a=e.matched[r];a&&(t.matched.find(c=>Rn(c,a))?n.push(a):s.push(a));const l=t.matched[r];l&&(e.matched.find(c=>Rn(c,l))||i.push(l))}return[s,n,i]}const Bb={name:"Navbar",data(){return{open:!1}},mounted(){window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},watch:{$route(){this.open=!1}},methods:{toggleMenu(){this.open=!this.open},handleScroll(){this.open&&(this.open=!1)}}},Vb={class:"flex items-center justify-between px-8 py-4 bg-white shadow relative"},zb={class:"hidden md:flex items-center space-x-4"},Hb={key:0,class:"absolute top-full left-0 w-full bg-white shadow-md md:hidden flex flex-col items-start space-y-2 py-4 px-8"};function Wb(t,e,s,n,i,o){const r=H("router-link");return v(),k("nav",Vb,[D(r,{to:"/",class:"text-xl font-bold text-blue-600"},{default:se(()=>e[5]||(e[5]=[ee("Agenda Zen")])),_:1,__:[5]}),u("button",{onClick:e[0]||(e[0]=(...a)=>o.toggleMenu&&o.toggleMenu(...a)),class:"md:hidden focus:outline-none"},e[6]||(e[6]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])),u("div",zb,[D(r,{to:"/buscar",class:"text-blue-600 hover:underline"},{default:se(()=>e[7]||(e[7]=[ee("Buscar")])),_:1,__:[7]}),D(r,{to:"/planos",class:"text-blue-600 hover:underline"},{default:se(()=>e[8]||(e[8]=[ee("Planos")])),_:1,__:[8]}),D(r,{to:"/contato",class:"text-blue-600 hover:underline"},{default:se(()=>e[9]||(e[9]=[ee("Contato")])),_:1,__:[9]}),D(r,{to:"/login",class:"btn"},{default:se(()=>e[10]||(e[10]=[ee("Login")])),_:1,__:[10]})]),i.open?(v(),k("div",Hb,[D(r,{onClick:e[1]||(e[1]=a=>i.open=!1),to:"/buscar",class:"text-blue-600 hover:underline"},{default:se(()=>e[11]||(e[11]=[ee("Buscar")])),_:1,__:[11]}),D(r,{onClick:e[2]||(e[2]=a=>i.open=!1),to:"/planos",class:"text-blue-600 hover:underline"},{default:se(()=>e[12]||(e[12]=[ee("Planos")])),_:1,__:[12]}),D(r,{onClick:e[3]||(e[3]=a=>i.open=!1),to:"/contato",class:"text-blue-600 hover:underline"},{default:se(()=>e[13]||(e[13]=[ee("Contato")])),_:1,__:[13]}),D(r,{onClick:e[4]||(e[4]=a=>i.open=!1),to:"/login",class:"btn"},{default:se(()=>e[14]||(e[14]=[ee("Login")])),_:1,__:[14]})])):W("",!0)])}const zt=me(Bb,[["render",Wb]]),qb="/hero-illustration.png",Kb={name:"HeroBanner",data(){return{timeLeft:300,intervalId:null}},computed:{formattedTime(){const t=Math.floor(this.timeLeft/60).toString().padStart(2,"0"),e=(this.timeLeft%60).toString().padStart(2,"0");return`${t}:${e}`}},mounted(){this.intervalId=setInterval(()=>{this.timeLeft>0?this.timeLeft--:clearInterval(this.intervalId)},1e3)},beforeUnmount(){clearInterval(this.intervalId)}},Gb={class:"text-center py-20"},Yb={class:"max-w-4xl mx-auto px-4"},Jb={class:"grid grid-cols-1 md:grid-cols-2 items-center gap-8"},Xb={class:"space-x-4"},Qb={class:"mt-6 text-2xl text-blue-600 font-semibold"};function Zb(t,e,s,n,i,o){const r=H("router-link");return v(),k("section",Gb,[u("div",Yb,[u("div",Jb,[u("div",null,[e[2]||(e[2]=u("h1",{class:"text-4xl font-bold text-blue-800 mb-4"},"Sua agenda digital simples e profissional",-1)),e[3]||(e[3]=u("p",{class:"text-gray-600 text-lg mb-6"},"Perfeita para psicólogos, terapeutas, dentistas, cabeleireiros e mais",-1)),u("div",Xb,[D(r,{to:"/login",class:"bg-white border border-blue-600 text-blue-600 px-6 py-2 rounded hover:bg-blue-100"},{default:se(()=>e[0]||(e[0]=[ee("Entrar")])),_:1,__:[0]}),D(r,{to:"/cadastro",class:"btn"},{default:se(()=>e[1]||(e[1]=[ee("Criar conta")])),_:1,__:[1]})]),u("div",Qb," Tempo restante: "+P(o.formattedTime),1)]),e[4]||(e[4]=u("div",null,[u("img",{src:qb,alt:"Ilustração profissional usando a plataforma",class:"w-full h-auto mx-auto"})],-1))])])])}const e0=me(Kb,[["render",Zb]]),rs="/icons/check.svg",t0={name:"FeaturesSection"},s0={class:"py-16 px-8"};function n0(t,e,s,n,i,o){return v(),k("section",s0,e[0]||(e[0]=[ln('<h2 class="text-2xl font-bold text-center mb-8">Funcionalidades</h2><ul class="max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-4 text-gray-700 text-lg"><li class="flex items-start"><img src="'+rs+'" alt="" class="w-6 h-6 mt-1 mr-2"><span>Cadastro e autenticação de usuários</span></li><li class="flex items-start"><img src="'+rs+'" alt="" class="w-6 h-6 mt-1 mr-2"><span>Gestão de clientes, serviços e salas</span></li><li class="flex items-start"><img src="'+rs+'" alt="" class="w-6 h-6 mt-1 mr-2"><span>Controle de agendamentos em lista, calendário ou semana</span></li><li class="flex items-start"><img src="'+rs+'" alt="" class="w-6 h-6 mt-1 mr-2"><span>Dashboard com estatísticas e gráficos</span></li><li class="flex items-start"><img src="'+rs+'" alt="" class="w-6 h-6 mt-1 mr-2"><span>Configuração de perfil público com link personalizado</span></li><li class="flex items-start"><img src="'+rs+'" alt="" class="w-6 h-6 mt-1 mr-2"><span>Geração de comprovantes de atendimento</span></li><li class="flex items-start"><img src="'+rs+'" alt="" class="w-6 h-6 mt-1 mr-2"><span>Lembretes automáticos para seus clientes</span></li><li class="flex items-start"><img src="'+rs+'" alt="" class="w-6 h-6 mt-1 mr-2"><span>Pagamentos via Pix de forma prática e segura</span></li></ul>',2)]))}const i0=me(t0,[["render",n0]]),o0="/about-illustration.png",r0={name:"AboutSection"},a0={class:"px-8 py-16"};function l0(t,e,s,n,i,o){return v(),k("section",a0,e[0]||(e[0]=[u("div",{class:"max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 items-center"},[u("div",null,[u("img",{src:o0,alt:"Ilustração sobre agendamento",class:"w-full h-auto mx-auto"})]),u("div",null,[u("h2",{class:"text-2xl font-bold mb-4"},"O que é o Agenda Zen?"),u("p",{class:"text-gray-700 text-lg"}," O Agenda Zen é uma plataforma pensada para profissionais que trabalham com agendamentos. Criamos uma solução simples, bonita e eficiente para divulgar seus serviços, aceitar agendamentos online, enviar lembretes automáticos e receber pagamentos por Pix — tudo sem complicação. ")])],-1)]))}const c0=me(r0,[["render",l0]]),d0={name:"Footer"},u0={class:"bg-gray-100 text-center text-sm text-gray-500 py-6 space-y-2"},h0={class:"flex flex-wrap justify-center space-x-2"};function f0(t,e,s,n,i,o){const r=H("router-link");return v(),k("footer",u0,[e[9]||(e[9]=u("div",{class:"space-x-4 text-blue-600"},[u("a",{href:"https://www.instagram.com/agendazen_",target:"_blank",class:"hover:underline"},"Instagram"),u("a",{href:"https://www.facebook.com/agenda.zen",target:"_blank",class:"hover:underline"},"Facebook"),u("a",{href:"https://x.com/agenda_zen",target:"_blank",class:"hover:underline"},"X")],-1)),u("div",h0,[D(r,{to:"/termos-de-uso",class:"hover:underline"},{default:se(()=>e[0]||(e[0]=[ee("Termos de uso")])),_:1,__:[0]}),e[5]||(e[5]=u("span",null,"|",-1)),D(r,{to:"/planos",class:"hover:underline"},{default:se(()=>e[1]||(e[1]=[ee("Planos")])),_:1,__:[1]}),e[6]||(e[6]=u("span",null,"|",-1)),D(r,{to:"/contato",class:"hover:underline"},{default:se(()=>e[2]||(e[2]=[ee("Contato")])),_:1,__:[2]}),e[7]||(e[7]=u("span",null,"|",-1)),D(r,{to:"/faq",class:"hover:underline"},{default:se(()=>e[3]||(e[3]=[ee("FAQ")])),_:1,__:[3]}),e[8]||(e[8]=u("span",null,"|",-1)),D(r,{to:"/politica-de-privacidade",class:"hover:underline"},{default:se(()=>e[4]||(e[4]=[ee("Política de privacidade")])),_:1,__:[4]})]),e[10]||(e[10]=u("p",null,"© 2025 Agenda Zen — Todos os direitos reservados",-1))])}const Ht=me(d0,[["render",f0]]),p0={name:"Home",components:{Navbar:zt,HeroBanner:e0,FeaturesSection:i0,AboutSection:c0,Footer:Ht}};function m0(t,e,s,n,i,o){const r=H("Navbar"),a=H("HeroBanner"),l=H("FeaturesSection"),c=H("AboutSection"),d=H("Footer");return v(),k(J,null,[D(r),D(a),D(l),D(c),D(d)],64)}const g0=me(p0,[["render",m0]]),b0="modulepreload",y0=function(t){return"/"+t},Tc={},Fn=function(e,s,n){if(!s||s.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(s.map(o=>{if(o=y0(o),o in Tc)return;Tc[o]=!0;const r=o.endsWith(".css"),a=r?'[rel="stylesheet"]':"";if(!!n)for(let d=i.length-1;d>=0;d--){const h=i[d];if(h.href===o&&(!r||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const c=document.createElement("link");if(c.rel=r?"stylesheet":b0,r||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),r)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>e()).catch(o=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=o,window.dispatchEvent(r),!r.defaultPrevented)throw o})},x0=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Fn(()=>Promise.resolve().then(()=>Vn),void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)};class ul extends Error{constructor(e,s="FunctionsError",n){super(e),this.name=s,this.context=n}}class _0 extends ul{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class v0 extends ul{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class w0 extends ul{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ya;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ya||(ya={}));var k0=globalThis&&globalThis.__awaiter||function(t,e,s,n){function i(o){return o instanceof s?o:new s(function(r){r(o)})}return new(s||(s=Promise))(function(o,r){function a(d){try{c(n.next(d))}catch(h){r(h)}}function l(d){try{c(n.throw(d))}catch(h){r(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class S0{constructor(e,{headers:s={},customFetch:n,region:i=ya.Any}={}){this.url=e,this.headers=s,this.region=i,this.fetch=x0(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var n;return k0(this,void 0,void 0,function*(){try{const{headers:i,method:o,body:r}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;r&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&r instanceof Blob||r instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=r):typeof r=="string"?(a["Content-Type"]="text/plain",c=r):typeof FormData<"u"&&r instanceof FormData?c=r:(a["Content-Type"]="application/json",c=JSON.stringify(r)));const d=yield this.fetch(`${this.url}/${e}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(m=>{throw new _0(m)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new v0(d);if(!d.ok)throw new w0(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield d.json():f==="application/octet-stream"?p=yield d.blob():f==="text/event-stream"?p=d:f==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(i){return{data:null,error:i}}})}}var It=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function C0(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(s,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),s}var mt={},hl={},fr={},Ki={},pr={},mr={},M0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},jn=M0();const A0=jn.fetch,Ih=jn.fetch.bind(jn),Rh=jn.Headers,P0=jn.Request,T0=jn.Response,Vn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Rh,Request:P0,Response:T0,default:Ih,fetch:A0},Symbol.toStringTag,{value:"Module"})),O0=C0(Vn);var gr={};Object.defineProperty(gr,"__esModule",{value:!0});let E0=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};gr.default=E0;var Lh=It&&It.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mr,"__esModule",{value:!0});const D0=Lh(O0),I0=Lh(gr);let R0=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=D0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=Object.assign({},this.headers),this.headers[e]=s,this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var r,a,l;let c=null,d=null,h=null,f=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){const _=await o.text();_===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=_:d=JSON.parse(_))}const g=(r=this.headers.Prefer)===null||r===void 0?void 0:r.match(/count=(exact|planned|estimated)/),b=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await o.text();try{c=JSON.parse(g),Array.isArray(c)&&o.status===404&&(d=[],c=null,f=200,p="OK")}catch{o.status===404&&g===""?(f=204,p="No Content"):c={message:g}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,p="OK"),c&&this.shouldThrowOnError)throw new I0.default(c)}return{error:c,data:d,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(i=i.catch(o=>{var r,a,l;return{error:{message:`${(r=o==null?void 0:o.name)!==null&&r!==void 0?r:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o==null?void 0:o.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,s)}returns(){return this}overrideTypes(){return this}};mr.default=R0;var L0=It&&It.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(pr,"__esModule",{value:!0});const F0=L0(mr);let j0=class extends F0.default{select(e){let s=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!s?"":(i==='"'&&(s=!s),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:s=!0,nullsFirst:n,foreignTable:i,referencedTable:o=i}={}){const r=o?`${o}.order`:"order",a=this.url.searchParams.get(r);return this.url.searchParams.set(r,`${a?`${a},`:""}${e}.${s?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:n=s}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,s,{foreignTable:n,referencedTable:i=n}={}){const o=typeof i>"u"?"offset":`${i}.offset`,r=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(r,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:s=!1,settings:n=!1,buffers:i=!1,wal:o=!1,format:r="text"}={}){var a;const l=[e?"analyze":null,s?"verbose":null,n?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${r}; for="${c}"; options=${l};`,r==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};pr.default=j0;var U0=It&&It.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ki,"__esModule",{value:!0});const N0=U0(pr);let $0=class extends N0.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const n=Array.from(new Set(s)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:n,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const r=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${o}fts${r}.${s}`),this}match(e){return Object.entries(e).forEach(([s,n])=>{this.url.searchParams.append(s,`eq.${n}`)}),this}not(e,s,n){return this.url.searchParams.append(e,`not.${s}.${n}`),this}or(e,{foreignTable:s,referencedTable:n=s}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,s,n){return this.url.searchParams.append(e,`${s}.${n}`),this}};Ki.default=$0;var B0=It&&It.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(fr,"__esModule",{value:!0});const Yn=B0(Ki);let V0=class{constructor(e,{headers:s={},schema:n,fetch:i}){this.url=e,this.headers=s,this.schema=n,this.fetch=i}select(e,{head:s=!1,count:n}={}){const i=s?"HEAD":"GET";let o=!1;const r=(e??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",r),n&&(this.headers.Prefer=`count=${n}`),new Yn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:s,defaultToNull:n=!0}={}){const i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const r=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(r.length>0){const a=[...new Set(r)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Yn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:s,ignoreDuplicates:n=!1,count:i,defaultToNull:o=!0}={}){const r="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Yn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:s}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),this.headers.Prefer=i.join(","),new Yn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const s="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Yn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};fr.default=V0;var br={},yr={};Object.defineProperty(yr,"__esModule",{value:!0});yr.version=void 0;yr.version="0.0.0-automated";Object.defineProperty(br,"__esModule",{value:!0});br.DEFAULT_HEADERS=void 0;const z0=yr;br.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${z0.version}`};var Fh=It&&It.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hl,"__esModule",{value:!0});const H0=Fh(fr),W0=Fh(Ki),q0=br;let K0=class jh{constructor(e,{headers:s={},schema:n,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},q0.DEFAULT_HEADERS),s),this.schemaName=n,this.fetch=i}from(e){const s=new URL(`${this.url}/${e}`);return new H0.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new jh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:n=!1,get:i=!1,count:o}={}){let r;const a=new URL(`${this.url}/rpc/${e}`);let l;n||i?(r=n?"HEAD":"GET",Object.entries(s).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(r="POST",l=s);const c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new W0.default({method:r,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};hl.default=K0;var zn=It&&It.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mt,"__esModule",{value:!0});mt.PostgrestError=mt.PostgrestBuilder=mt.PostgrestTransformBuilder=mt.PostgrestFilterBuilder=mt.PostgrestQueryBuilder=mt.PostgrestClient=void 0;const Uh=zn(hl);mt.PostgrestClient=Uh.default;const Nh=zn(fr);mt.PostgrestQueryBuilder=Nh.default;const $h=zn(Ki);mt.PostgrestFilterBuilder=$h.default;const Bh=zn(pr);mt.PostgrestTransformBuilder=Bh.default;const Vh=zn(mr);mt.PostgrestBuilder=Vh.default;const zh=zn(gr);mt.PostgrestError=zh.default;var G0=mt.default={PostgrestClient:Uh.default,PostgrestQueryBuilder:Nh.default,PostgrestFilterBuilder:$h.default,PostgrestTransformBuilder:Bh.default,PostgrestBuilder:Vh.default,PostgrestError:zh.default};const{PostgrestClient:Y0,PostgrestQueryBuilder:yE,PostgrestFilterBuilder:xE,PostgrestTransformBuilder:_E,PostgrestBuilder:vE,PostgrestError:wE}=G0,J0="2.11.2",X0={"X-Client-Info":`realtime-js/${J0}`},Q0="1.0.0",Hh=1e4,Z0=1e3;var On;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(On||(On={}));var wt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(wt||(wt={}));var Lt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Lt||(Lt={}));var xa;(function(t){t.websocket="websocket"})(xa||(xa={}));var sn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(sn||(sn={}));class ey{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,s,n)}_decodeBroadcast(e,s,n){const i=s.getUint8(1),o=s.getUint8(2);let r=this.HEADER_LENGTH+2;const a=n.decode(e.slice(r,r+i));r=r+i;const l=n.decode(e.slice(r,r+o));r=r+o;const c=JSON.parse(n.decode(e.slice(r,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Wh{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ee;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ee||(Ee={}));const Oc=(t,e,s={})=>{var n;const i=(n=s.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((o,r)=>(o[r]=ty(r,t,e,i),o),{})},ty=(t,e,s,n)=>{const i=e.find(a=>a.name===t),o=i==null?void 0:i.type,r=s[t];return o&&!n.includes(o)?qh(o,r):_a(r)},qh=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return oy(e,s)}switch(t){case Ee.bool:return sy(e);case Ee.float4:case Ee.float8:case Ee.int2:case Ee.int4:case Ee.int8:case Ee.numeric:case Ee.oid:return ny(e);case Ee.json:case Ee.jsonb:return iy(e);case Ee.timestamp:return ry(e);case Ee.abstime:case Ee.date:case Ee.daterange:case Ee.int4range:case Ee.int8range:case Ee.money:case Ee.reltime:case Ee.text:case Ee.time:case Ee.timestamptz:case Ee.timetz:case Ee.tsrange:case Ee.tstzrange:return _a(e);default:return _a(e)}},_a=t=>t,sy=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},ny=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},iy=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},oy=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,n=t[s];if(t[0]==="{"&&n==="}"){let o;const r=t.slice(1,s);try{o=JSON.parse("["+r+"]")}catch{o=r?r.split(","):[]}return o.map(a=>qh(e,a))}return t},ry=t=>typeof t=="string"?t.replace(" ","T"):t,Kh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class $r{constructor(e,s,n={},i=Hh){this.channel=e,this.event=s,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var n;return this._hasReceived(e)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ec;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ec||(Ec={}));class gi{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:o,onLeave:r,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gi.syncState(this.state,i,o,r),this.pendingDiffs.forEach(l=>{this.state=gi.syncDiff(this.state,l,o,r)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{const{onJoin:o,onLeave:r,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=gi.syncDiff(this.state,i,o,r),a())}),this.onJoin((i,o,r)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:r})}),this.onLeave((i,o,r)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,n,i){const o=this.cloneDeep(e),r=this.transformState(s),a={},l={};return this.map(o,(c,d)=>{r[c]||(l[c]=d)}),this.map(r,(c,d)=>{const h=o[c];if(h){const f=d.map(b=>b.presence_ref),p=h.map(b=>b.presence_ref),m=d.filter(b=>p.indexOf(b.presence_ref)<0),g=h.filter(b=>f.indexOf(b.presence_ref)<0);m.length>0&&(a[c]=m),g.length>0&&(l[c]=g)}else a[c]=d}),this.syncDiff(o,{joins:a,leaves:l},n,i)}static syncDiff(e,s,n,i){const{joins:o,leaves:r}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){const h=e[a].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);e[a].unshift(...f)}n(a,d,l)}),this.map(r,(a,l)=>{let c=e[a];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=c,i(a,c,l),c.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(n=>s(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,n)=>{const i=e[n];return"metas"in i?s[n]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):s[n]=i,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Dc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Dc||(Dc={}));var Ic;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ic||(Ic={}));var ds;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ds||(ds={}));class fl{constructor(e,s={config:{}},n){this.topic=e,this.params=s,this.socket=n,this.bindings={},this.state=wt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new $r(this,Lt.join,this.params,this.timeout),this.rejoinTimer=new Wh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=wt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=wt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=wt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=wt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Lt.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new gi(this),this.broadcastEndpointURL=Kh(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:r,private:a}}=this.params;this._onError(d=>e==null?void 0:e(ds.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(ds.CLOSED));const l={},c={broadcast:o,presence:r,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){e==null||e(ds.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,m=[];for(let g=0;g<p;g++){const b=f[g],{filter:{event:_,schema:w,table:C,filter:S}}=b,M=d&&d[g];if(M&&M.event===_&&M.schema===w&&M.table===C&&M.filter===S)m.push(Object.assign(Object.assign({},b),{id:M.id}));else{this.unsubscribe(),e==null||e(ds.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(ds.SUBSCRIBED);return}}).receive("error",d=>{e==null||e(ds.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ds.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,n){return this._on(e,s,n)}async send(e,s={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:r}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:r,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var r,a,l;const c=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(r=this.params)===null||r===void 0?void 0:r.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=wt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Lt.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const i=new $r(this,Lt.leave,{},e);i.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(e,s,n){const i=new AbortController,o=setTimeout(()=>i.abort(),n),r=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:i.signal}));return clearTimeout(o),r}_push(e,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new $r(this,e,s,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,s,n){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,n){var i,o;const r=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=Lt;if(n&&[a,l,c,d].indexOf(r)>=0&&n!==this._joinRef())return;let f=this._onMessage(r,s,n);if(s&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(r)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var m,g,b;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((b=(g=p.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===r}).map(p=>p.callback(f,n)):(o=this.bindings[r])===null||o===void 0||o.filter(p=>{var m,g,b,_,w,C;if(["broadcast","presence","postgres_changes"].includes(r))if("id"in p){const S=p.id,M=(m=p.filter)===null||m===void 0?void 0:m.event;return S&&((g=s.ids)===null||g===void 0?void 0:g.includes(S))&&(M==="*"||(M==null?void 0:M.toLocaleLowerCase())===((b=s.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const S=(w=(_=p==null?void 0:p.filter)===null||_===void 0?void 0:_.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return S==="*"||S===((C=s==null?void 0:s.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===r}).map(p=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:g,table:b,commit_timestamp:_,type:w,errors:C}=m;f=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:_,eventType:w,new:{},old:{},errors:C}),this._getPayloadRecords(m))}p.callback(f,n)})}_isClosed(){return this.state===wt.closed}_isJoined(){return this.state===wt.joined}_isJoining(){return this.state===wt.joining}_isLeaving(){return this.state===wt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,n){const i=e.toLocaleLowerCase(),o={type:i,filter:s,callback:n};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(e,s){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&fl.isEqual(i.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const n in e)if(e[n]!==s[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Lt.close,{},e)}_onError(e){this._on(Lt.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=wt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Oc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Oc(e.columns,e.old_record)),s}}const ay=()=>{},ly=typeof WebSocket<"u",cy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class dy{constructor(e,s){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=X0,this.params={},this.timeout=Hh,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ay,this.conn=null,this.sendBuffer=[],this.serializer=new ey,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let r;return o?r=o:typeof fetch>"u"?r=(...a)=>Fn(()=>Promise.resolve().then(()=>Vn),void 0).then(({default:l})=>l(...a)):r=fetch,(...a)=>r(...a)},this.endPoint=`${e}/${xa.websocket}`,this.httpEndpoint=Kh(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const i=(n=s==null?void 0:s.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(o,r)=>r(JSON.stringify(o)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Wh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(ly){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new uy(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Fn(()=>import("./browser-96641617.js").then(e=>e.b),[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Q0}))}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),e}log(e,s,n){this.logger(e,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case On.connecting:return sn.Connecting;case On.open:return sn.Open;case On.closing:return sn.Closing;default:return sn.Closed}}isConnected(){return this.connectionState()===sn.Open}channel(e,s={config:{}}){const n=new fl(`realtime:${e}`,s,this);return this.channels.push(n),n}push(e){const{topic:s,event:n,payload:i,ref:o}=e,r=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${n} (${o})`,i),this.isConnected()?r():this.sendBuffer.push(r)}async setAuth(e=null){let s=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let n=null;try{n=JSON.parse(atob(s.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=s,this.channels.forEach(i=>{s&&i.updateJoinPayload({access_token:s}),i.joinedOnce&&i._isJoined()&&i._push(Lt.access_token,{access_token:s})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Z0,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:n,event:i,payload:o,ref:r}=s;r&&r===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${i} ${r&&"("+r+")"||""}`,o),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(i,o,r)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Lt.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(s);return`${e}${n}${i}`}_workerObjectUrl(e){let s;if(e)s=e;else{const n=new Blob([cy],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}}class uy{constructor(e,s,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=On.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class pl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ke(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class hy extends pl{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class va extends pl{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var fy=globalThis&&globalThis.__awaiter||function(t,e,s,n){function i(o){return o instanceof s?o:new s(function(r){r(o)})}return new(s||(s=Promise))(function(o,r){function a(d){try{c(n.next(d))}catch(h){r(h)}}function l(d){try{c(n.throw(d))}catch(h){r(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Gh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Fn(()=>Promise.resolve().then(()=>Vn),void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},py=()=>fy(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Fn(()=>Promise.resolve().then(()=>Vn),void 0)).Response:Response}),wa=t=>{if(Array.isArray(t))return t.map(s=>wa(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,n])=>{const i=s.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[i]=wa(n)}),e};var hn=globalThis&&globalThis.__awaiter||function(t,e,s,n){function i(o){return o instanceof s?o:new s(function(r){r(o)})}return new(s||(s=Promise))(function(o,r){function a(d){try{c(n.next(d))}catch(h){r(h)}}function l(d){try{c(n.throw(d))}catch(h){r(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Br=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),my=(t,e,s)=>hn(void 0,void 0,void 0,function*(){const n=yield py();t instanceof n&&!(s!=null&&s.noResolveJson)?t.json().then(i=>{e(new hy(Br(i),t.status||500))}).catch(i=>{e(new va(Br(i),i))}):e(new va(Br(t),t))}),gy=(t,e,s,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),s))};function Gi(t,e,s,n,i,o){return hn(this,void 0,void 0,function*(){return new Promise((r,a)=>{t(s,gy(e,n,i,o)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>r(l)).catch(l=>my(l,a,n))})})}function Wo(t,e,s,n){return hn(this,void 0,void 0,function*(){return Gi(t,"GET",e,s,n)})}function Os(t,e,s,n,i){return hn(this,void 0,void 0,function*(){return Gi(t,"POST",e,n,i,s)})}function by(t,e,s,n,i){return hn(this,void 0,void 0,function*(){return Gi(t,"PUT",e,n,i,s)})}function yy(t,e,s,n){return hn(this,void 0,void 0,function*(){return Gi(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),n)})}function Yh(t,e,s,n,i){return hn(this,void 0,void 0,function*(){return Gi(t,"DELETE",e,n,i,s)})}var ht=globalThis&&globalThis.__awaiter||function(t,e,s,n){function i(o){return o instanceof s?o:new s(function(r){r(o)})}return new(s||(s=Promise))(function(o,r){function a(d){try{c(n.next(d))}catch(h){r(h)}}function l(d){try{c(n.throw(d))}catch(h){r(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const xy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Rc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _y{constructor(e,s={},n,i){this.url=e,this.headers=s,this.bucketId=n,this.fetch=Gh(i)}uploadOrUpdate(e,s,n,i){return ht(this,void 0,void 0,function*(){try{let o;const r=Object.assign(Object.assign({},Rc),i);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(r.upsert)});const l=r.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",r.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",r.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=n,a["cache-control"]=`max-age=${r.cacheControl}`,a["content-type"]=r.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(s),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:o,headers:a},r!=null&&r.duplex?{duplex:r.duplex}:{})),f=yield h.json();return h.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(o){if(Ke(o))return{data:null,error:o};throw o}})}upload(e,s,n){return ht(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,n)})}uploadToSignedUrl(e,s,n,i){return ht(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),r=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${r}`);a.searchParams.set("token",s);try{let l;const c=Object.assign({upsert:Rc.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),f=yield h.json();return h.ok?{data:{path:o,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(Ke(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return ht(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);s!=null&&s.upsert&&(i["x-upsert"]="true");const o=yield Os(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),r=new URL(this.url+o.url),a=r.searchParams.get("token");if(!a)throw new pl("No token returned by API");return{data:{signedUrl:r.toString(),path:e,token:a},error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}update(e,s,n){return ht(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,n)})}move(e,s,n){return ht(this,void 0,void 0,function*(){try{return{data:yield Os(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Ke(i))return{data:null,error:i};throw i}})}copy(e,s,n){return ht(this,void 0,void 0,function*(){try{return{data:{path:(yield Os(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Ke(i))return{data:null,error:i};throw i}})}createSignedUrl(e,s,n){return ht(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),o=yield Os(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:s},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const r=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${r}`)},{data:o,error:null}}catch(i){if(Ke(i))return{data:null,error:i};throw i}})}createSignedUrls(e,s,n){return ht(this,void 0,void 0,function*(){try{const i=yield Os(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(r=>Object.assign(Object.assign({},r),{signedUrl:r.signedURL?encodeURI(`${this.url}${r.signedURL}${o}`):null})),error:null}}catch(i){if(Ke(i))return{data:null,error:i};throw i}})}download(e,s){return ht(this,void 0,void 0,function*(){const i=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),r=o?`?${o}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Wo(this.fetch,`${this.url}/${i}/${a}${r}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ke(a))return{data:null,error:a};throw a}})}info(e){return ht(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const n=yield Wo(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:wa(n),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}exists(e){return ht(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield yy(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ke(n)&&n instanceof va){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,s){const n=this._getFinalPath(e),i=[],o=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";o!==""&&i.push(o);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return ht(this,void 0,void 0,function*(){try{return{data:yield Yh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(Ke(s))return{data:null,error:s};throw s}})}list(e,s,n){return ht(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},xy),s),{prefix:e||""});return{data:yield Os(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Ke(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const vy="2.7.1",wy={"X-Client-Info":`storage-js/${vy}`};var mn=globalThis&&globalThis.__awaiter||function(t,e,s,n){function i(o){return o instanceof s?o:new s(function(r){r(o)})}return new(s||(s=Promise))(function(o,r){function a(d){try{c(n.next(d))}catch(h){r(h)}}function l(d){try{c(n.throw(d))}catch(h){r(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class ky{constructor(e,s={},n){this.url=e,this.headers=Object.assign(Object.assign({},wy),s),this.fetch=Gh(n)}listBuckets(){return mn(this,void 0,void 0,function*(){try{return{data:yield Wo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ke(e))return{data:null,error:e};throw e}})}getBucket(e){return mn(this,void 0,void 0,function*(){try{return{data:yield Wo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(Ke(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return mn(this,void 0,void 0,function*(){try{return{data:yield Os(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}updateBucket(e,s){return mn(this,void 0,void 0,function*(){try{return{data:yield by(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ke(n))return{data:null,error:n};throw n}})}emptyBucket(e){return mn(this,void 0,void 0,function*(){try{return{data:yield Os(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Ke(s))return{data:null,error:s};throw s}})}deleteBucket(e){return mn(this,void 0,void 0,function*(){try{return{data:yield Yh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(Ke(s))return{data:null,error:s};throw s}})}}class Sy extends ky{constructor(e,s={},n){super(e,s,n)}from(e){return new _y(this.url,this.headers,e,this.fetch)}}const Cy="2.49.8";let si="";typeof Deno<"u"?si="deno":typeof document<"u"?si="web":typeof navigator<"u"&&navigator.product==="ReactNative"?si="react-native":si="node";const My={"X-Client-Info":`supabase-js-${si}/${Cy}`},Ay={headers:My},Py={schema:"public"},Ty={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Oy={};var Ey=globalThis&&globalThis.__awaiter||function(t,e,s,n){function i(o){return o instanceof s?o:new s(function(r){r(o)})}return new(s||(s=Promise))(function(o,r){function a(d){try{c(n.next(d))}catch(h){r(h)}}function l(d){try{c(n.throw(d))}catch(h){r(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Dy=t=>{let e;return t?e=t:typeof fetch>"u"?e=Ih:e=fetch,(...s)=>e(...s)},Iy=()=>typeof Headers>"u"?Rh:Headers,Ry=(t,e,s)=>{const n=Dy(s),i=Iy();return(o,r)=>Ey(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new i(r==null?void 0:r.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(o,Object.assign(Object.assign({},r),{headers:c}))})};var Ly=globalThis&&globalThis.__awaiter||function(t,e,s,n){function i(o){return o instanceof s?o:new s(function(r){r(o)})}return new(s||(s=Promise))(function(o,r){function a(d){try{c(n.next(d))}catch(h){r(h)}}function l(d){try{c(n.throw(d))}catch(h){r(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};function Fy(t){return t.endsWith("/")?t:t+"/"}function jy(t,e){var s,n;const{db:i,auth:o,realtime:r,global:a}=t,{db:l,auth:c,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},d),r),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Ly(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const Jh="2.69.1",wn=30*1e3,ka=3,Vr=ka*wn,Uy="http://localhost:9999",Ny="supabase.auth.token",$y={"X-Client-Info":`gotrue-js/${Jh}`},Sa="X-Supabase-Api-Version",Xh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},By=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Vy=6e5;class ml extends Error{constructor(e,s,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function fe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class zy extends ml{constructor(e,s,n){super(e,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function Hy(t){return fe(t)&&t.name==="AuthApiError"}class Qh extends ml{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class Vs extends ml{constructor(e,s,n,i){super(e,n,i),this.name=s,this.status=n}}class Cs extends Vs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Wy(t){return fe(t)&&t.name==="AuthSessionMissingError"}class zr extends Vs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class to extends Vs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class so extends Vs{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function qy(t){return fe(t)&&t.name==="AuthImplicitGrantRedirectError"}class Lc extends Vs{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ca extends Vs{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Hr(t){return fe(t)&&t.name==="AuthRetryableFetchError"}class Fc extends Vs{constructor(e,s,n){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}class bi extends Vs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const jc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Uc=` 	
\r=`.split(""),Ky=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Uc.length;e+=1)t[Uc[e].charCodeAt(0)]=-2;for(let e=0;e<jc.length;e+=1)t[jc[e].charCodeAt(0)]=e;return t})();function Zh(t,e,s){const n=Ky[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Nc(t){const e=[],s=r=>{e.push(String.fromCodePoint(r))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=r=>{Jy(r,n,s)};for(let r=0;r<t.length;r+=1)Zh(t.charCodeAt(r),i,o);return e.join("")}function Gy(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Yy(t,e){for(let s=0;s<t.length;s+=1){let n=t.charCodeAt(s);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(s+1)-56320&65535|i)+65536,s+=1}Gy(n,e)}}function Jy(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function Xy(t){const e=[],s={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Zh(t.charCodeAt(i),s,n);return new Uint8Array(e)}function Qy(t){const e=[];return Yy(t,s=>e.push(s)),new Uint8Array(e)}function Zy(t){return Math.round(Date.now()/1e3)+t}function ex(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Gt=()=>typeof window<"u"&&typeof document<"u",Ks={tested:!1,writable:!1},yi=()=>{if(!Gt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ks.tested)return Ks.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Ks.tested=!0,Ks.writable=!0}catch{Ks.tested=!0,Ks.writable=!1}return Ks.writable};function tx(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((i,o)=>{e[o]=i})}catch{}return s.searchParams.forEach((n,i)=>{e[i]=n}),e}const ef=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Fn(()=>Promise.resolve().then(()=>Vn),void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},sx=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",tf=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},no=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},io=async(t,e)=>{await t.removeItem(e)};class xr{constructor(){this.promise=new xr.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}xr.promiseConstructor=Promise;function Wr(t){const e=t.split(".");if(e.length!==3)throw new bi("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!By.test(e[n]))throw new bi("JWT not in base64url format");return{header:JSON.parse(Nc(e[0])),payload:JSON.parse(Nc(e[1])),signature:Xy(e[2]),raw:{header:e[0],payload:e[1]}}}async function nx(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ix(t,e){return new Promise((n,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const r=await t(o);if(!e(o,null,r)){n(r);return}}catch(r){if(!e(o,r)){i(r);return}}})()})}function ox(t){return("0"+t.toString(16)).substr(-2)}function rx(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let i="";for(let o=0;o<56;o++)i+=s.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,ox).join("")}async function ax(t){const s=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",s),i=new Uint8Array(n);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function lx(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await ax(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gn(t,e,s=!1){const n=rx();let i=n;s&&(i+="/PASSWORD_RECOVERY"),await tf(t,`${e}-code-verifier`,i);const o=await lx(n);return[o,n===o?"plain":"s256"]}const cx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function dx(t){const e=t.headers.get(Sa);if(!e||!e.match(cx))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ux(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function hx(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var fx=globalThis&&globalThis.__rest||function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(s[n[i]]=t[n[i]]);return s};const Zs=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),px=[502,503,504];async function $c(t){var e;if(!sx(t))throw new Ca(Zs(t),0);if(px.includes(t.status))throw new Ca(Zs(t),t.status);let s;try{s=await t.json()}catch(o){throw new Qh(Zs(o),o)}let n;const i=dx(t);if(i&&i.getTime()>=Xh["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new Fc(Zs(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Cs}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((o,r)=>o&&typeof r=="string",!0))throw new Fc(Zs(s),t.status,s.weak_password.reasons);throw new zy(Zs(s),t.status||500,n)}const mx=(t,e,s,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),s))};async function be(t,e,s,n){var i;const o=Object.assign({},n==null?void 0:n.headers);o[Sa]||(o[Sa]=Xh["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const r=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(r.redirect_to=n.redirectTo);const a=Object.keys(r).length?"?"+new URLSearchParams(r).toString():"",l=await gx(t,e,s+a,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function gx(t,e,s,n,i,o){const r=mx(e,n,i,o);let a;try{a=await t(s,Object.assign({},r))}catch(l){throw console.error(l),new Ca(Zs(l),0)}if(a.ok||await $c(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await $c(l)}}function Ms(t){var e;let s=null;_x(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=Zy(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:n},error:null}}function Bc(t){const e=Ms(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ds(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function bx(t){return{data:t,error:null}}function yx(t){const{action_link:e,email_otp:s,hashed_token:n,redirect_to:i,verification_type:o}=t,r=fx(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:n,redirect_to:i,verification_type:o},l=Object.assign({},r);return{data:{properties:a,user:l},error:null}}function xx(t){return t}function _x(t){return t.access_token&&t.refresh_token&&t.expires_in}var vx=globalThis&&globalThis.__rest||function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(s[n[i]]=t[n[i]]);return s};class wx{constructor({url:e="",headers:s={},fetch:n}){this.url=e,this.headers=s,this.fetch=ef(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s="global"){try{return await be(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,s={}){try{return await be(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Ds})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:s}=e,n=vx(e,["options"]),i=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:yx,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(fe(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await be(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ds})}catch(s){if(fe(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,n,i,o,r,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(o=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:xx});if(d.error)throw d.error;const h=await d.json(),f=(r=d.headers.get("x-total-count"))!==null&&r!==void 0?r:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(m.split(";")[1].split("=")[1]);c[`${b}Page`]=g}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(fe(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await be(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ds})}catch(s){if(fe(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){try{return await be(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Ds})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,s=!1){try{return await be(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Ds})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:s,error:n}=await be(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:s,error:n}}catch(s){if(fe(s))return{data:null,error:s};throw s}}async _deleteFactor(e){try{return{data:await be(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(fe(s))return{data:null,error:s};throw s}}}const kx={getItem:t=>yi()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{yi()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{yi()&&globalThis.localStorage.removeItem(t)}};function Vc(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function Sx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const bn={debug:!!(globalThis&&yi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class sf extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Cx extends sf{}async function Mx(t,e,s){bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),bn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await s()}finally{bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Cx(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(bn.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Sx();const Ax={url:Uy,storageKey:Ny,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$y,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function zc(t,e,s){return await s()}class Ii{constructor(e){var s,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ii.nextInstanceID,Ii.nextInstanceID+=1,this.instanceID>0&&Gt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Ax),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new wx({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=ef(i.fetch),this.lock=i.lock||zc,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Gt()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Mx:this.lock=zc,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:yi()?this.storage=kx:(this.memoryStorage={},this.storage=Vc(this.memoryStorage)):(this.memoryStorage={},this.storage=Vc(this.memoryStorage)),Gt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Jh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=tx(window.location.href);let n="none";if(this._isImplicitGrantCallback(s)?n="implicit":await this._isPKCECallback(s)&&(n="pkce"),Gt()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:o}=await this._getSessionFromURL(s,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),qy(o)){const l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:r,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",r,"redirect type",a),await this._saveSession(r),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return fe(s)?{error:s}:{error:new Qh("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,n,i;try{const o=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ms}),{data:r,error:a}=o;if(a||!r)return{data:{user:null,session:null},error:a};const l=r.session,c=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(fe(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var s,n,i;try{let o;if("email"in e){const{email:d,password:h,options:f}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await gn(this.storage,this.storageKey)),o=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:m},xform:Ms})}else if("phone"in e){const{phone:d,password:h,options:f}=e;o=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ms})}else throw new to("You must provide either an email or phone number and a password");const{data:r,error:a}=o;if(a||!r)return{data:{user:null,session:null},error:a};const l=r.session,c=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(fe(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let s;if("email"in e){const{email:o,password:r,options:a}=e;s=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:r,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Bc})}else if("phone"in e){const{phone:o,password:r,options:a}=e;s=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:r,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Bc})}else throw new to("You must provide either an email or phone number and a password");const{data:n,error:i}=s;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new zr}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(s){if(fe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,n,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const s=await no(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(s??"").split("/");try{const{data:o,error:r}=await be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ms});if(await io(this.storage,`${this.storageKey}-code-verifier`),r)throw r;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new zr}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:r})}catch(o){if(fe(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:s,provider:n,token:i,access_token:o,nonce:r}=e,a=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:o,nonce:r,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ms}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new zr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(s){if(fe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,n,i,o,r;try{if("email"in e){const{email:a,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await gn(this.storage,this.storageKey));const{error:h}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:d}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(r=l==null?void 0:l.channel)!==null&&r!==void 0?r:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new to("You must provide either an email or phone number.")}catch(a){if(fe(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,n;try{let i,o;"options"in e&&(i=(s=e.options)===null||s===void 0?void 0:s.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:r,error:a}=await be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Ms});if(a)throw a;if(!r)throw new Error("An error occurred on token verification.");const l=r.session,c=r.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(fe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var s,n,i;try{let o=null,r=null;return this.flowType==="pkce"&&([o,r]=await gn(this.storage,this.storageKey)),await be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:r}),headers:this.headers,xform:bx})}catch(o){if(fe(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:n}=e;if(n)throw n;if(!s)throw new Cs;const{error:i}=await be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(fe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:o}=e,{error:r}=await be(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:r}}else if("phone"in e){const{phone:n,type:i,options:o}=e,{data:r,error:a}=await be(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:r==null?void 0:r.message_id},error:a}}throw new to("You must provide either an email or phone number and a type")}catch(s){if(fe(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await no(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Vr:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let r=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!r&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{session:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ds}):await this._useSession(async s=>{var n,i,o;const{data:r,error:a}=s;if(a)throw a;return!(!((n=r.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Cs}:await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=r.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Ds})})}catch(s){if(fe(s))return Wy(s)&&(await this._removeSession(),await io(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async n=>{const{data:i,error:o}=n;if(o)throw o;if(!i.session)throw new Cs;const r=i.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await gn(this.storage,this.storageKey));const{data:c,error:d}=await be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:r.access_token,xform:Ds});if(d)throw d;return r.user=c.user,await this._saveSession(r),await this._notifyAllSubscribers("USER_UPDATED",r),{data:{user:r.user},error:null}})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Cs;const s=Date.now()/1e3;let n=s,i=!0,o=null;const{payload:r}=Wr(e.access_token);if(r.exp&&(n=r.exp,i=n<=s),i){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(s){if(fe(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var n;if(!e){const{data:r,error:a}=s;if(a)throw a;e=(n=r.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Cs;const{session:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(fe(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!Gt())throw new so("No browser detected.");if(e.error||e.error_description||e.error_code)throw new so(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Lc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new so("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Lc("No code detected.");const{data:w,error:C}=await this._exchangeCodeForSession(e.code);if(C)throw C;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:o,refresh_token:r,expires_in:a,expires_at:l,token_type:c}=e;if(!o||!a||!r||!c)throw new so("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const p=f-d;p*1e3<=wn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const m=f-h;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,d);const{data:g,error:b}=await this._getUser(o);if(b)throw b;const _={provider_token:n,provider_refresh_token:i,access_token:o,expires_in:h,expires_at:f,refresh_token:r,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:e.type},error:null}}catch(n){if(fe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await no(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:i,error:o}=s;if(o)return{error:o};const r=(n=i.session)===null||n===void 0?void 0:n.access_token;if(r){const{error:a}=await this.admin.signOut(r,e);if(a&&!(Hy(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await io(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=ex(),n={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async s=>{var n,i;try{const{data:{session:o},error:r}=s;if(r)throw r;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,s={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await gn(this.storage,this.storageKey,!0));try{return await be(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(o){if(fe(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(fe(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:n,error:i}=await this._useSession(async o=>{var r,a,l,c,d;const{data:h,error:f}=o;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await be(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Gt()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(fe(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var n,i;const{data:o,error:r}=s;if(r)throw r;return await be(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(s){if(fe(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await ix(async i=>(i>0&&await nx(200*Math.pow(2,i-1)),this._debug(s,"refreshing attempt",i),await be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ms})),(i,o)=>{const r=200*Math.pow(2,i);return o&&Hr(o)&&Date.now()+r-n<wn})}catch(n){if(this._debug(s,"error",n),fe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",n),Gt()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await no(this.storage,this.storageKey);if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const i=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Vr;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${Vr}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),Hr(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,n;if(!e)throw new Cs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new xr;const{data:o,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!o.session)throw new Cs;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(i,"error",o),fe(o)){const r={session:null,error:o};return Hr(o)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(r),r}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,s,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:s});const o=[],r=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){o.push(l)}});if(await Promise.all(r),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await tf(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await io(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Gt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),wn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/wn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${wn}ms, refresh threshold is ${ka} ticks`),i<=ka&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof sf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Gt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,n){const i=[`provider=${encodeURIComponent(s)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,r]=await gn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(r)}`});i.push(a.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);i.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var n;const{data:i,error:o}=s;return o?{data:null,error:o}:await be(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(fe(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var n,i;const{data:o,error:r}=s;if(r)return{data:null,error:r};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await be(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(fe(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const{data:r,error:a}=await be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+r.expires_in},r)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",r),{data:r,error:a})})}catch(s){if(fe(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:i,error:o}=s;return o?{data:null,error:o}:await be(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(fe(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const n=(e==null?void 0:e.factors)||[],i=n.filter(r=>r.factor_type==="totp"&&r.status==="verified"),o=n.filter(r=>r.factor_type==="phone"&&r.status==="verified");return{data:{all:n,totp:i,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,n;const{data:{session:i},error:o}=e;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:r}=Wr(i.access_token);let a=null;r.aal&&(a=r.aal);let l=a;((n=(s=i.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=r.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,s={keys:[]}){let n=s.keys.find(r=>r.kid===e);if(n||(n=this.jwks.keys.find(r=>r.kid===e),n&&this.jwks_cached_at+Vy>Date.now()))return n;const{data:i,error:o}=await be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!i.keys||i.keys.length===0)throw new bi("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),n=i.keys.find(r=>r.kid===e),!n)throw new bi("No matching signing key found in JWKS");return n}async getClaims(e,s={keys:[]}){try{let n=e;if(!n){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};n=p.session.access_token}const{header:i,payload:o,signature:r,raw:{header:a,payload:l}}=Wr(n);if(ux(o.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:o,header:i,signature:r},error:null}}const c=hx(i.alg),d=await this.fetchJwk(i.kid,s),h=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,r,Qy(`${a}.${l}`)))throw new bi("Invalid JWT signature");return{data:{claims:o,header:i,signature:r},error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}}}Ii.nextInstanceID=0;const Px=Ii;class Tx extends Px{constructor(e){super(e)}}var Ox=globalThis&&globalThis.__awaiter||function(t,e,s,n){function i(o){return o instanceof s?o:new s(function(r){r(o)})}return new(s||(s=Promise))(function(o,r){function a(d){try{c(n.next(d))}catch(h){r(h)}}function l(d){try{c(n.throw(d))}catch(h){r(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class Ex{constructor(e,s,n){var i,o,r;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=Fy(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:Py,realtime:Oy,auth:Object.assign(Object.assign({},Ty),{storageKey:c}),global:Ay},h=jy(n??{},d);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((r=h.auth)!==null&&r!==void 0?r:{},this.headers,h.global.fetch),this.fetch=Ry(s,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Y0(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new S0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Sy(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},n={}){return this.rest.rpc(e,s,n)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return Ox(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(s=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:i,storageKey:o,flowType:r,lock:a,debug:l},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Tx({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:o,autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:i,flowType:r,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new dy(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,s,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Dx=(t,e,s)=>new Ex(t,e,s),Ix="https://nivvbndswqkjnifvkauf.supabase.co",Rx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5pdnZibmRzd3Fram5pZnZrYXVmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc4NTAzMzEsImV4cCI6MjA2MzQyNjMzMX0.UocPLAEg1htKV7ZivlqRR3GZhDDCNi1jSseGikVpYv4",N=Dx(Ix,Rx);function nf(t){const e=t.replace(/\D/g,"").slice(0,11),s=e.slice(0,3),n=e.slice(3,6),i=e.slice(6,9),o=e.slice(9,11);return e.length<=3?e:e.length<=6?`${s}.${e.slice(3)}`:e.length<=9?`${s}.${n}.${e.slice(6)}`:`${s}.${n}.${i}-${o}`}function of(t){const e=t.replace(/\D/g,"").slice(0,8),s=e.slice(0,5),n=e.slice(5);return e.length<=5?e:`${s}-${n}`}function ss(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}const Lx={name:"Signup",components:{Navbar:zt,Footer:Ht},data(){return{name:"",email:"",password:""}},methods:{async handleSignup(){if(!this.name){alert("Informe o nome");return}if(this.email&&!ss(this.email)){alert("E-mail inválido");return}const{data:t,error:e}=await N.auth.signUp({email:this.email,password:this.password,options:{data:{name:this.name,display_name:this.name}}});alert(e?"Erro ao cadastrar: "+e.message:"Cadastro realizado! Verifique seu e-mail para ativar a conta.")}}},Fx={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 px-4"},jx={class:"bg-white p-10 rounded-2xl shadow-xl w-full max-w-lg"},Ux={class:"mt-6 text-center text-sm text-gray-500"};function Nx(t,e,s,n,i,o){const r=H("Navbar"),a=H("router-link"),l=H("Footer");return v(),k(J,null,[D(r),u("section",Fx,[u("div",jx,[e[10]||(e[10]=u("div",{class:"mb-8 text-center"},[u("h2",{class:"text-3xl font-extrabold text-blue-700"},"Crie sua conta"),u("p",{class:"text-gray-500"},"Comece agora a organizar seus atendimentos com praticidade")],-1)),u("form",{onSubmit:e[3]||(e[3]=it((...c)=>o.handleSignup&&o.handleSignup(...c),["prevent"])),class:"space-y-5"},[u("div",null,[e[4]||(e[4]=u("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"name"},"Nome",-1)),O(u("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>i.name=c),type:"text",id:"name",placeholder:"Seu nome",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[j,i.name]])]),u("div",null,[e[5]||(e[5]=u("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"email"},"E-mail",-1)),O(u("input",{"onUpdate:modelValue":e[1]||(e[1]=c=>i.email=c),type:"email",id:"email",placeholder:"seu@email.com",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[j,i.email]])]),u("div",null,[e[6]||(e[6]=u("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"password"},"Senha",-1)),O(u("input",{"onUpdate:modelValue":e[2]||(e[2]=c=>i.password=c),type:"password",id:"password",placeholder:"********",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[j,i.password]])]),e[7]||(e[7]=u("button",{type:"submit",class:"btn w-full"},"Cadastrar",-1))],32),u("p",Ux,[e[9]||(e[9]=ee(" Já tem uma conta? ")),D(a,{to:"/login",class:"text-blue-600 hover:underline"},{default:se(()=>e[8]||(e[8]=[ee("Entrar")])),_:1,__:[8]})])])]),D(l)],64)}const $x=me(Lx,[["render",Nx]]),Bx={name:"Login",components:{Navbar:zt,Footer:Ht},data(){return{email:"",password:"",loginError:""}},methods:{async handleLogin(){if(this.loginError="",this.email&&!ss(this.email)){this.loginError="E-mail inválido";return}const{error:t}=await N.auth.signInWithPassword({email:this.email,password:this.password});t?t.message&&t.message.toLowerCase().includes("confirm")?alert("Você precisa confirmar o e-mail antes de acessar o sistema."):this.loginError="E-mail ou senha inválidos":this.$router.push("/dashboard")},async handleGoogleLogin(){const{error:t}=await N.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/#/dashboard"}});t&&alert("Erro ao entrar com Google: "+t.message)},clearError(){this.loginError=""}}},Vx={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-100 to-blue-100 px-4"},zx={class:"bg-white p-10 rounded-2xl shadow-xl w-full max-w-lg"},Hx={key:0,class:"text-red-600 text-center text-sm"},Wx={class:"mt-6 text-center text-sm text-gray-500"};function qx(t,e,s,n,i,o){const r=H("Navbar"),a=H("router-link"),l=H("Footer");return v(),k(J,null,[D(r),u("section",Vx,[u("div",zx,[e[11]||(e[11]=u("div",{class:"mb-8 text-center"},[u("h2",{class:"text-3xl font-extrabold text-blue-700"},"Entrar"),u("p",{class:"text-gray-500"},"Acesse sua conta do Agenda Zen")],-1)),u("form",{onSubmit:e[5]||(e[5]=it((...c)=>o.handleLogin&&o.handleLogin(...c),["prevent"])),class:"space-y-5"},[u("div",null,[e[6]||(e[6]=u("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"email"},"E-mail",-1)),O(u("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>i.email=c),onInput:e[1]||(e[1]=(...c)=>o.clearError&&o.clearError(...c)),type:"email",id:"email",placeholder:"seu@email.com",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,544),[[j,i.email]])]),u("div",null,[e[7]||(e[7]=u("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"password"},"Senha",-1)),O(u("input",{"onUpdate:modelValue":e[2]||(e[2]=c=>i.password=c),onInput:e[3]||(e[3]=(...c)=>o.clearError&&o.clearError(...c)),type:"password",id:"password",placeholder:"********",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,544),[[j,i.password]])]),i.loginError?(v(),k("p",Hx,P(i.loginError),1)):W("",!0),e[8]||(e[8]=u("button",{type:"submit",class:"btn w-full"},"Entrar",-1)),u("button",{type:"button",onClick:e[4]||(e[4]=(...c)=>o.handleGoogleLogin&&o.handleGoogleLogin(...c)),class:"w-full bg-red-500 text-white font-semibold py-3 rounded-lg hover:bg-red-600 transition duration-200"},"Entrar com Google")],32),u("p",Wx,[e[10]||(e[10]=ee(" Ainda não tem conta? ")),D(a,{to:"/cadastro",class:"text-blue-600 hover:underline"},{default:se(()=>e[9]||(e[9]=[ee("Criar agora")])),_:1,__:[9]})])])]),D(l)],64)}const Kx=me(Bx,[["render",qx]]);function _r(t){const e=t.replace(/\D/g,"").slice(0,11),s=e.slice(0,2);if(e.length<=2)return e?`(${s}`:"";if(e.length<=6){const o=e.slice(2);return`(${s}) ${o}`}if(e.length<=10){const o=e.slice(2,6),r=e.slice(6);return`(${s}) ${o}${r?`-${r}`:""}`}const n=e.slice(2,7),i=e.slice(7);return`(${s}) ${n}-${i}`}function Ma(t){return t.replace(/\D/g,"")}const Gx={name:"Onboarding",data(){return{userId:null,step:1,form:{businessName:"",phone:"",email:""},agenda:{startTime:"",endTime:"",daysOfWeek:[]},serviceForm:{name:"",duration:"",price:""},services:[],daysOfWeekOptions:[{value:"0",label:"Domingo"},{value:"1",label:"Segunda"},{value:"2",label:"Terça"},{value:"3",label:"Quarta"},{value:"4",label:"Quinta"},{value:"5",label:"Sexta"},{value:"6",label:"Sábado"}]}},methods:{phoneMask:_r,generateSlug(t){return t?t.toLowerCase().normalize("NFD").replace(/\p{Diacritic}/gu,"").replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""):""},async next(){this.step===1?(await this.saveProfile(),this.step++):this.step===2?(await this.saveAgenda(),this.step++):this.step===3&&(await this.saveServices(),this.step++)},prev(){this.step>1&&this.step--},async saveProfile(){if(this.form.email&&!ss(this.form.email)){alert("E-mail inválido");return}const t={id:this.userId,business_name:this.form.businessName,slug:this.generateSlug(this.form.businessName),phone:this.form.phone,email:this.form.email};await N.from("profiles").upsert(t,{onConflict:["id"]})},async saveAgenda(){const t={id:this.userId,start_time:this.agenda.startTime,end_time:this.agenda.endTime,week_days:this.agenda.daysOfWeek.join(",")};await N.from("profiles").upsert(t,{onConflict:["id"]})},async saveServices(){for(const t of this.services)await N.from("services").insert({name:t.name,duration:t.duration,price:parseFloat(t.price),user_id:this.userId})},addService(){this.serviceForm.name&&(this.services.push({name:this.serviceForm.name,duration:this.serviceForm.duration,price:this.serviceForm.price}),this.serviceForm={name:"",duration:"",price:""})},removeService(t){this.services.splice(t,1)},formatPrice(t){return t==null||t===""?"":Number(t).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}},async mounted(){const{data:{user:t}}=await N.auth.getUser();if(!t){this.$router.push("/login");return}this.userId=t.id}},Yx={class:"min-h-screen flex bg-gray-100 items-center justify-center p-4"},Jx={class:"bg-white p-6 rounded-lg shadow w-full max-w-2xl"},Xx={key:0,class:"space-y-4"},Qx={key:1,class:"space-y-4"},Zx={class:"mt-1 space-y-1"},e_=["value"],t_={key:2,class:"space-y-4"},s_={class:"flex justify-end"},n_={class:"mt-4 space-y-1"},i_=["onClick"],o_={key:3,class:"space-y-4 text-center"},r_={key:4,class:"flex justify-between mt-6"},a_={key:5,class:"flex justify-center mt-6"};function l_(t,e,s,n,i,o){return v(),k("div",Yx,[u("div",Jx,[i.step===1?(v(),k("div",Xx,[e[17]||(e[17]=u("h2",{class:"text-xl font-semibold mb-4"},"Bem-vindo! Vamos começar pelo seu perfil.",-1)),u("div",null,[e[14]||(e[14]=u("label",{class:"block text-sm font-medium text-gray-700"},"Nome Comercial",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=r=>i.form.businessName=r),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.form.businessName]])]),u("div",null,[e[15]||(e[15]=u("label",{class:"block text-sm font-medium text-gray-700"},"Telefone",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=r=>i.form.phone=r),onInput:e[2]||(e[2]=r=>i.form.phone=o.phoneMask(i.form.phone)),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,544),[[j,i.form.phone]])]),u("div",null,[e[16]||(e[16]=u("label",{class:"block text-sm font-medium text-gray-700"},"E-mail",-1)),O(u("input",{type:"email","onUpdate:modelValue":e[3]||(e[3]=r=>i.form.email=r),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.form.email]])])])):i.step===2?(v(),k("div",Qx,[e[21]||(e[21]=u("h2",{class:"text-xl font-semibold mb-4"},"Horários de atendimento",-1)),u("div",null,[e[18]||(e[18]=u("label",{class:"block text-sm font-medium text-gray-700"},"Início",-1)),O(u("input",{type:"time","onUpdate:modelValue":e[4]||(e[4]=r=>i.agenda.startTime=r),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.agenda.startTime]])]),u("div",null,[e[19]||(e[19]=u("label",{class:"block text-sm font-medium text-gray-700"},"Fim",-1)),O(u("input",{type:"time","onUpdate:modelValue":e[5]||(e[5]=r=>i.agenda.endTime=r),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.agenda.endTime]])]),u("div",null,[e[20]||(e[20]=u("label",{class:"block text-sm font-medium text-gray-700"},"Dias da semana",-1)),u("div",Zx,[(v(!0),k(J,null,pe(i.daysOfWeekOptions,r=>(v(),k("label",{key:r.value,class:"flex items-center space-x-2"},[O(u("input",{type:"checkbox",value:r.value,"onUpdate:modelValue":e[6]||(e[6]=a=>i.agenda.daysOfWeek=a)},null,8,e_),[[ll,i.agenda.daysOfWeek]]),u("span",null,P(r.label),1)]))),128))])])])):i.step===3?(v(),k("div",t_,[e[25]||(e[25]=u("h2",{class:"text-xl font-semibold mb-4"},"Cadastre seus serviços",-1)),u("div",null,[e[22]||(e[22]=u("label",{class:"block text-sm font-medium text-gray-700"},"Nome",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=r=>i.serviceForm.name=r),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.serviceForm.name]])]),u("div",null,[e[23]||(e[23]=u("label",{class:"block text-sm font-medium text-gray-700"},"Duração",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=r=>i.serviceForm.duration=r),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.serviceForm.duration]])]),u("div",null,[e[24]||(e[24]=u("label",{class:"block text-sm font-medium text-gray-700"},"Valor",-1)),O(u("input",{type:"number",step:"0.01","onUpdate:modelValue":e[9]||(e[9]=r=>i.serviceForm.price=r),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.serviceForm.price]])]),u("div",s_,[u("button",{onClick:e[10]||(e[10]=(...r)=>o.addService&&o.addService(...r)),class:"btn"},"Adicionar")]),u("ul",n_,[(v(!0),k(J,null,pe(i.services,(r,a)=>(v(),k("li",{key:a,class:"flex justify-between"},[u("span",null,P(r.name)+" - "+P(r.duration)+"min - "+P(o.formatPrice(r.price)),1),u("button",{onClick:l=>o.removeService(a),class:"text-red-600 hover:underline"},"Remover",8,i_)]))),128))])])):i.step===4?(v(),k("div",o_,e[26]||(e[26]=[u("h2",{class:"text-2xl font-semibold"},"Pronto!",-1),u("p",null,"Seu cadastro inicial está concluído.",-1),u("p",{class:"text-lg"},"Bem-vindo ao Agenda Zen!",-1)]))):W("",!0),i.step<4?(v(),k("div",r_,[i.step>1?(v(),k("button",{key:0,onClick:e[11]||(e[11]=(...r)=>o.prev&&o.prev(...r)),class:"px-4 py-2 border rounded"},"Voltar")):W("",!0),u("button",{onClick:e[12]||(e[12]=(...r)=>o.next&&o.next(...r)),class:"btn ml-auto"},P(i.step===3?"Finalizar":"Próximo"),1)])):(v(),k("div",a_,[u("button",{onClick:e[13]||(e[13]=r=>t.$router.push("/dashboard")),class:"btn"},"Ir para o Dashboard")]))])])}const c_=me(Gx,[["render",l_]]),d_={name:"Sidebar",props:{isOpen:{type:Boolean,default:!0}}},u_={class:"space-y-6 mt-8"},h_={class:"space-y-2"},f_={class:"space-y-2"},p_={class:"space-y-2"},m_={class:"space-y-2"},g_={class:"space-y-2"};function b_(t,e,s,n,i,o){const r=H("router-link");return v(),k("div",null,[s.isOpen?(v(),k("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:e[0]||(e[0]=a=>t.$emit("close"))})):W("",!0),u("aside",{class:bt(["fixed inset-y-0 left-0 transform bg-white shadow-md transition-all duration-200 z-50 md:relative overflow-hidden flex flex-col min-h-screen",s.isOpen?"w-64 p-6 translate-x-0":"w-0 p-0 -translate-x-full"])},[u("button",{class:"absolute top-4 right-4 text-gray-600 focus:outline-none",onClick:e[1]||(e[1]=a=>t.$emit("close"))},e[2]||(e[2]=[u("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])),e[19]||(e[19]=u("h2",{class:"text-2xl font-bold text-blue-600 mb-6"},"Agenda Zen",-1)),u("nav",u_,[u("div",h_,[e[5]||(e[5]=u("h3",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wide"},"Atendimento",-1)),D(r,{to:"/dashboard",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:se(()=>e[3]||(e[3]=[u("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l9-9 9 9M4 10v10a1 1 0 001 1h3m10-11v10a1 1 0 01-1 1h-3m-6 0h6"})],-1),u("span",null,"Início",-1)])),_:1,__:[3]}),D(r,{to:"/agendamentos",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:se(()=>e[4]||(e[4]=[u("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2","stroke-width":"2"}),u("line",{x1:"16",y1:"2",x2:"16",y2:"6","stroke-width":"2"}),u("line",{x1:"8",y1:"2",x2:"8",y2:"6","stroke-width":"2"}),u("line",{x1:"3",y1:"10",x2:"21",y2:"10","stroke-width":"2"})],-1),u("span",null,"Atendimento",-1)])),_:1,__:[4]})]),u("div",f_,[e[9]||(e[9]=u("h3",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wide"},"Cadastros",-1)),D(r,{to:"/clientes",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:se(()=>e[6]||(e[6]=[u("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("circle",{cx:"12",cy:"7",r:"4","stroke-width":"2"}),u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 21v-2a6 6 0 0112 0v2"})],-1),u("span",null,"Clientes",-1)])),_:1,__:[6]}),D(r,{to:"/servicos",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:se(()=>e[7]||(e[7]=[u("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2","stroke-width":"2"}),u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V5a4 4 0 018 0v2"})],-1),u("span",null,"Serviços",-1)])),_:1,__:[7]}),D(r,{to:"/salas",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:se(()=>e[8]||(e[8]=[u("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2","stroke-width":"2"}),u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 3v18M15 3v18M3 9h18M3 15h18"})],-1),u("span",null,"Salas",-1)])),_:1,__:[8]})]),u("div",p_,[e[11]||(e[11]=u("h3",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wide"},"Relatórios",-1)),D(r,{to:"/faturamento",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:se(()=>e[10]||(e[10]=[u("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3v18h18M9 17v-4M13 17v-8M17 17V7"})],-1),u("span",null,"Faturamento",-1)])),_:1,__:[10]})]),u("div",m_,[e[14]||(e[14]=u("h3",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wide"},"Pagamentos",-1)),D(r,{to:"/comprovantes",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:se(()=>e[12]||(e[12]=[u("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01"})],-1),u("span",null,"Comprovantes",-1)])),_:1,__:[12]}),D(r,{to:"/templates",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:se(()=>e[13]||(e[13]=[u("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4h16v4H4V4zm0 6h16v10H4V10z"})],-1),u("span",null,"Templates",-1)])),_:1,__:[13]})]),u("div",g_,[e[18]||(e[18]=u("h3",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wide"},"Conta",-1)),D(r,{to:"/configuracao",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:se(()=>e[15]||(e[15]=[u("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("circle",{cx:"12",cy:"8",r:"4","stroke-width":"2"}),u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 21v-2a6 6 0 0112 0v2"})],-1),u("span",null,"Perfil",-1)])),_:1,__:[15]}),D(r,{to:"/usuarios",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:se(()=>e[16]||(e[16]=[u("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("circle",{cx:"12",cy:"8",r:"4","stroke-width":"2"}),u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 21v-2a6 6 0 0112 0v2"})],-1),u("span",null,"Usuários",-1)])),_:1,__:[16]}),D(r,{to:"/minha-assinatura",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:se(()=>e[17]||(e[17]=[u("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2",ry:"2","stroke-width":"2"}),u("line",{x1:"3",y1:"9",x2:"21",y2:"9","stroke-width":"2"})],-1),u("span",null,"Minha Assinatura",-1)])),_:1,__:[17]})])])],2)])}const At=me(d_,[["render",b_]]),y_={name:"HeaderUser",props:{title:{type:String,default:"Agenda Zen"}},data(){return{userName:null,showMenu:!1}},async mounted(){var e,s;const{data:{user:t}}=await N.auth.getUser();if(!t)this.$router.push("/login");else{const n=((e=t.user_metadata)==null?void 0:e.display_name)||((s=t.user_metadata)==null?void 0:s.name);this.userName=n&&n.trim()!==""?n:t.email}},methods:{toggleMenu(){this.showMenu=!this.showMenu},async handleLogout(){this.showMenu=!1,await N.auth.signOut(),this.$router.push("/")}}},x_={class:"flex justify-between items-center mb-8"},__={class:"text-2xl font-semibold text-gray-800"},v_={key:0,class:"relative"},w_={class:"text-gray-600"},k_={key:0,class:"absolute right-0 mt-2 w-48 bg-white border rounded shadow-md"};function S_(t,e,s,n,i,o){const r=H("router-link");return v(),k("header",x_,[u("h1",__,P(s.title),1),i.userName?(v(),k("div",v_,[u("button",{onClick:e[0]||(e[0]=(...a)=>o.toggleMenu&&o.toggleMenu(...a)),class:"flex items-center space-x-2 focus:outline-none"},[e[3]||(e[3]=u("svg",{class:"w-5 h-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("circle",{cx:"12",cy:"8",r:"4","stroke-width":"2"}),u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 21v-2a6 6 0 0112 0v2"})],-1)),u("span",w_,P(i.userName),1),(v(),k("svg",{class:bt(["w-4 h-4 text-gray-600 transition-transform",{"rotate-180":i.showMenu}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},e[2]||(e[2]=[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),i.showMenu?(v(),k("div",k_,[D(r,{to:"/",class:"block px-4 py-2 hover:bg-gray-100"},{default:se(()=>e[4]||(e[4]=[ee("Início")])),_:1,__:[4]}),D(r,{to:"/configuracao",class:"block px-4 py-2 hover:bg-gray-100"},{default:se(()=>e[5]||(e[5]=[ee("Perfil")])),_:1,__:[5]}),D(r,{to:"/usuarios",class:"block px-4 py-2 hover:bg-gray-100"},{default:se(()=>e[6]||(e[6]=[ee("Usuários")])),_:1,__:[6]}),D(r,{to:"/minha-assinatura",class:"block px-4 py-2 hover:bg-gray-100"},{default:se(()=>e[7]||(e[7]=[ee("Assinatura")])),_:1,__:[7]}),u("button",{onClick:e[1]||(e[1]=(...a)=>o.handleLogout&&o.handleLogout(...a)),class:"w-full text-left px-4 py-2 hover:bg-gray-100"},"Sair")])):W("",!0)])):W("",!0)])}const Pt=me(y_,[["render",S_]]),C_={name:"Modal"},M_={class:"bg-white p-6 rounded-lg shadow-lg w-full max-w-lg md:max-w-2xl max-h-[90vh] overflow-y-auto"};function A_(t,e,s,n,i,o){return v(),k("div",{class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e[0]||(e[0]=it(r=>t.$emit("close"),["self"]))},[u("div",M_,[mm(t.$slots,"default")])])}const zs=me(C_,[["render",A_]]),P_={name:"WeekView",props:{appointments:{type:Array,required:!0},getClientName:{type:Function,required:!0}},data(){const t=new Date,e=new Date(t);return e.setDate(t.getDate()-(t.getDay()+6)%7),{weekStart:e,daysOfWeek:["Seg","Ter","Qua","Qui","Sex","Sáb","Dom"],startTime:"00:00",endTime:"23:00",dailySchedule:null,timeSlots:[],currentLineTop:0,lineInterval:null}},computed:{weekEnd(){const t=new Date(this.weekStart);return t.setDate(t.getDate()+6),t},showCurrentLine(){const t=this.timeSlots.length*64,e=new Date,s=e.getHours()*60+e.getMinutes(),[n,i]=this.startTime.split(":").map(Number),[o,r]=this.endTime.split(":").map(Number),a=n*60+i,l=o*60+r,c=s>=a&&s<=l,d=this.currentLineTop>=0&&this.currentLineTop<=t;return c&&d}},methods:{generateTimeSlots(){const t=Math.max(0,parseInt(this.startTime.split(":")[0])-1),e=Math.min(23,parseInt(this.endTime.split(":")[0])+1);this.timeSlots=[];for(let s=t;s<=e;s++)this.timeSlots.push(`${String(s).padStart(2,"0")}:00`)},formatDate(t){const e=String(t.getMonth()+1).padStart(2,"0");return`${String(t.getDate()).padStart(2,"0")}/${e}`},formatISO(t){const e=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${t.getFullYear()}-${e}-${s}`},getDateOfDay(t){const e=new Date(this.weekStart);return e.setDate(e.getDate()+t),e},getAppointmentsForSlot(t,e){const s=this.formatISO(this.getDateOfDay(t)),n=parseInt(e.split(":")[0]);return this.appointments.filter(i=>i.date===s&&parseInt(i.time.substring(0,2))===n).sort((i,o)=>i.time.localeCompare(o.time))},updateCurrentLine(){if(this.timeSlots.length===0)return;const t=parseInt(this.timeSlots[0].split(":")[0]),e=new Date,n=(e.getHours()+e.getMinutes()/60-t)*64;this.currentLineTop=n},prevWeek(){const t=new Date(this.weekStart);t.setDate(t.getDate()-7),this.weekStart=t},nextWeek(){const t=new Date(this.weekStart);t.setDate(t.getDate()+7),this.weekStart=t},isToday(t){const e=new Date;return this.getDateOfDay(t).toDateString()===e.toDateString()}},watch:{startTime(){this.generateTimeSlots(),this.$nextTick(this.updateCurrentLine)},endTime(){this.generateTimeSlots(),this.$nextTick(this.updateCurrentLine)}},async mounted(){const{data:{user:t}}=await N.auth.getUser();if(t){const{data:e}=await N.from("profiles").select("start_time, end_time, daily_schedule").eq("id",t.id).single();if(e)if(e.daily_schedule){this.dailySchedule=typeof e.daily_schedule=="string"?JSON.parse(e.daily_schedule):e.daily_schedule;const s=Object.values(this.dailySchedule).filter(n=>n&&n.enabled&&n.start&&n.end);s.length&&(this.startTime=s.reduce((n,i)=>!n||i.start<n?i.start:n,null),this.endTime=s.reduce((n,i)=>!n||i.end>n?i.end:n,null))}else e.start_time&&(this.startTime=e.start_time),e.end_time&&(this.endTime=e.end_time)}this.generateTimeSlots(),this.updateCurrentLine(),this.lineInterval=setInterval(this.updateCurrentLine,6e4)},beforeUnmount(){this.lineInterval&&clearInterval(this.lineInterval)}},T_={class:"bg-white rounded-lg shadow overflow-hidden"},O_={class:"flex justify-between items-center px-4 py-2 border-b bg-gray-50"},E_={class:"font-semibold"},D_={class:"relative overflow-x-auto"},I_={ref:"grid",class:"grid gap-px text-sm bg-gray-100",style:{gridTemplateColumns:"64px repeat(7, 1fr)"}},R_={class:"font-semibold text-right pr-1 border bg-gray-50"},L_=["onClick"];function F_(t,e,s,n,i,o){return v(),k("div",T_,[u("div",O_,[u("button",{onClick:e[0]||(e[0]=(...r)=>o.prevWeek&&o.prevWeek(...r)),class:"p-1 rounded hover:bg-gray-200"},e[2]||(e[2]=[u("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),u("div",E_,P(o.formatDate(i.weekStart))+" - "+P(o.formatDate(o.weekEnd)),1),u("button",{onClick:e[1]||(e[1]=(...r)=>o.nextWeek&&o.nextWeek(...r)),class:"p-1 rounded hover:bg-gray-200"},e[3]||(e[3]=[u("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))]),u("div",D_,[o.showCurrentLine?(v(),k("div",{key:0,class:"absolute left-0 right-0 border-t-2 border-blue-500 pointer-events-none",style:ir({top:i.currentLineTop+"px"})},null,4)):W("",!0),u("div",I_,[e[4]||(e[4]=u("div",{class:"bg-gray-50"},null,-1)),(v(!0),k(J,null,pe(i.daysOfWeek,(r,a)=>(v(),k("div",{key:r,class:bt(["font-semibold text-center border px-1 bg-gray-50",{"bg-blue-50 border-l-4 border-blue-500":o.isToday(a)}])},P(r),3))),128)),(v(!0),k(J,null,pe(i.timeSlots,r=>(v(),k(J,{key:r},[u("div",R_,P(r),1),(v(),k(J,null,pe(7,a=>u("div",{key:r+"-"+a,class:bt(["border h-16 p-1 overflow-auto bg-white",{"bg-blue-50":o.isToday(a-1)}])},[u("ul",null,[(v(!0),k(J,null,pe(o.getAppointmentsForSlot(a-1,r),l=>(v(),k("li",{key:l.id,class:"text-xs truncate cursor-pointer",onClick:c=>t.$emit("select",l)},P(l.time)+" - "+P(s.getClientName(l.client_id)),9,L_))),128))])],2)),64))],64))),128))],512)])])}const rf=me(P_,[["render",F_]]);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Yi(t){return t+.5|0}const Is=(t,e,s)=>Math.max(Math.min(t,s),e);function ni(t){return Is(Yi(t*2.55),0,255)}function Us(t){return Is(Yi(t*255),0,255)}function us(t){return Is(Yi(t/2.55)/100,0,1)}function Hc(t){return Is(Yi(t*100),0,100)}const Ot={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Aa=[..."0123456789ABCDEF"],j_=t=>Aa[t&15],U_=t=>Aa[(t&240)>>4]+Aa[t&15],oo=t=>(t&240)>>4===(t&15),N_=t=>oo(t.r)&&oo(t.g)&&oo(t.b)&&oo(t.a);function $_(t){var e=t.length,s;return t[0]==="#"&&(e===4||e===5?s={r:255&Ot[t[1]]*17,g:255&Ot[t[2]]*17,b:255&Ot[t[3]]*17,a:e===5?Ot[t[4]]*17:255}:(e===7||e===9)&&(s={r:Ot[t[1]]<<4|Ot[t[2]],g:Ot[t[3]]<<4|Ot[t[4]],b:Ot[t[5]]<<4|Ot[t[6]],a:e===9?Ot[t[7]]<<4|Ot[t[8]]:255})),s}const B_=(t,e)=>t<255?e(t):"";function V_(t){var e=N_(t)?j_:U_;return t?"#"+e(t.r)+e(t.g)+e(t.b)+B_(t.a,e):void 0}const z_=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function af(t,e,s){const n=e*Math.min(s,1-s),i=(o,r=(o+t/30)%12)=>s-n*Math.max(Math.min(r-3,9-r,1),-1);return[i(0),i(8),i(4)]}function H_(t,e,s){const n=(i,o=(i+t/60)%6)=>s-s*e*Math.max(Math.min(o,4-o,1),0);return[n(5),n(3),n(1)]}function W_(t,e,s){const n=af(t,1,.5);let i;for(e+s>1&&(i=1/(e+s),e*=i,s*=i),i=0;i<3;i++)n[i]*=1-e-s,n[i]+=e;return n}function q_(t,e,s,n,i){return t===i?(e-s)/n+(e<s?6:0):e===i?(s-t)/n+2:(t-e)/n+4}function gl(t){const s=t.r/255,n=t.g/255,i=t.b/255,o=Math.max(s,n,i),r=Math.min(s,n,i),a=(o+r)/2;let l,c,d;return o!==r&&(d=o-r,c=a>.5?d/(2-o-r):d/(o+r),l=q_(s,n,i,d,o),l=l*60+.5),[l|0,c||0,a]}function bl(t,e,s,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,s,n)).map(Us)}function yl(t,e,s){return bl(af,t,e,s)}function K_(t,e,s){return bl(W_,t,e,s)}function G_(t,e,s){return bl(H_,t,e,s)}function lf(t){return(t%360+360)%360}function Y_(t){const e=z_.exec(t);let s=255,n;if(!e)return;e[5]!==n&&(s=e[6]?ni(+e[5]):Us(+e[5]));const i=lf(+e[2]),o=+e[3]/100,r=+e[4]/100;return e[1]==="hwb"?n=K_(i,o,r):e[1]==="hsv"?n=G_(i,o,r):n=yl(i,o,r),{r:n[0],g:n[1],b:n[2],a:s}}function J_(t,e){var s=gl(t);s[0]=lf(s[0]+e),s=yl(s),t.r=s[0],t.g=s[1],t.b=s[2]}function X_(t){if(!t)return;const e=gl(t),s=e[0],n=Hc(e[1]),i=Hc(e[2]);return t.a<255?`hsla(${s}, ${n}%, ${i}%, ${us(t.a)})`:`hsl(${s}, ${n}%, ${i}%)`}const Wc={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},qc={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Q_(){const t={},e=Object.keys(qc),s=Object.keys(Wc);let n,i,o,r,a;for(n=0;n<e.length;n++){for(r=a=e[n],i=0;i<s.length;i++)o=s[i],a=a.replace(o,Wc[o]);o=parseInt(qc[r],16),t[a]=[o>>16&255,o>>8&255,o&255]}return t}let ro;function Z_(t){ro||(ro=Q_(),ro.transparent=[0,0,0,0]);const e=ro[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const ev=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function tv(t){const e=ev.exec(t);let s=255,n,i,o;if(e){if(e[7]!==n){const r=+e[7];s=e[8]?ni(r):Is(r*255,0,255)}return n=+e[1],i=+e[3],o=+e[5],n=255&(e[2]?ni(n):Is(n,0,255)),i=255&(e[4]?ni(i):Is(i,0,255)),o=255&(e[6]?ni(o):Is(o,0,255)),{r:n,g:i,b:o,a:s}}}function sv(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${us(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const qr=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,yn=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function nv(t,e,s){const n=yn(us(t.r)),i=yn(us(t.g)),o=yn(us(t.b));return{r:Us(qr(n+s*(yn(us(e.r))-n))),g:Us(qr(i+s*(yn(us(e.g))-i))),b:Us(qr(o+s*(yn(us(e.b))-o))),a:t.a+s*(e.a-t.a)}}function ao(t,e,s){if(t){let n=gl(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*s,e===0?360:1)),n=yl(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function cf(t,e){return t&&Object.assign(e||{},t)}function Kc(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Us(t[3]))):(e=cf(t,{r:0,g:0,b:0,a:1}),e.a=Us(e.a)),e}function iv(t){return t.charAt(0)==="r"?tv(t):Y_(t)}class Ri{constructor(e){if(e instanceof Ri)return e;const s=typeof e;let n;s==="object"?n=Kc(e):s==="string"&&(n=$_(e)||Z_(e)||iv(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=cf(this._rgb);return e&&(e.a=us(e.a)),e}set rgb(e){this._rgb=Kc(e)}rgbString(){return this._valid?sv(this._rgb):void 0}hexString(){return this._valid?V_(this._rgb):void 0}hslString(){return this._valid?X_(this._rgb):void 0}mix(e,s){if(e){const n=this.rgb,i=e.rgb;let o;const r=s===o?.5:s,a=2*r-1,l=n.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;o=1-c,n.r=255&c*n.r+o*i.r+.5,n.g=255&c*n.g+o*i.g+.5,n.b=255&c*n.b+o*i.b+.5,n.a=r*n.a+(1-r)*i.a,this.rgb=n}return this}interpolate(e,s){return e&&(this._rgb=nv(this._rgb,e._rgb,s)),this}clone(){return new Ri(this.rgb)}alpha(e){return this._rgb.a=Us(e),this}clearer(e){const s=this._rgb;return s.a*=1-e,this}greyscale(){const e=this._rgb,s=Yi(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=s,this}opaquer(e){const s=this._rgb;return s.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ao(this._rgb,2,e),this}darken(e){return ao(this._rgb,2,-e),this}saturate(e){return ao(this._rgb,1,e),this}desaturate(e){return ao(this._rgb,1,-e),this}rotate(e){return J_(this._rgb,e),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function os(){}const ov=(()=>{let t=0;return()=>t++})();function ge(t){return t==null}function Le(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ye(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function $e(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function kt(t,e){return $e(t)?t:e}function he(t,e){return typeof t>"u"?e:t}const rv=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,df=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ie(t,e,s){if(t&&typeof t.call=="function")return t.apply(s,e)}function Me(t,e,s,n){let i,o,r;if(Le(t))if(o=t.length,n)for(i=o-1;i>=0;i--)e.call(s,t[i],i);else for(i=0;i<o;i++)e.call(s,t[i],i);else if(ye(t))for(r=Object.keys(t),o=r.length,i=0;i<o;i++)e.call(s,t[r[i]],r[i])}function qo(t,e){let s,n,i,o;if(!t||!e||t.length!==e.length)return!1;for(s=0,n=t.length;s<n;++s)if(i=t[s],o=e[s],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function Ko(t){if(Le(t))return t.map(Ko);if(ye(t)){const e=Object.create(null),s=Object.keys(t),n=s.length;let i=0;for(;i<n;++i)e[s[i]]=Ko(t[s[i]]);return e}return t}function uf(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function av(t,e,s,n){if(!uf(t))return;const i=e[t],o=s[t];ye(i)&&ye(o)?Li(i,o,n):e[t]=Ko(o)}function Li(t,e,s){const n=Le(e)?e:[e],i=n.length;if(!ye(t))return t;s=s||{};const o=s.merger||av;let r;for(let a=0;a<i;++a){if(r=n[a],!ye(r))continue;const l=Object.keys(r);for(let c=0,d=l.length;c<d;++c)o(l[c],t,r,s)}return t}function xi(t,e){return Li(t,e,{merger:lv})}function lv(t,e,s){if(!uf(t))return;const n=e[t],i=s[t];ye(n)&&ye(i)?xi(n,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Ko(i))}const Gc={"":t=>t,x:t=>t.x,y:t=>t.y};function cv(t){const e=t.split("."),s=[];let n="";for(const i of e)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}function dv(t){const e=cv(t);return s=>{for(const n of e){if(n==="")break;s=s&&s[n]}return s}}function $s(t,e){return(Gc[e]||(Gc[e]=dv(e)))(t)}function xl(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Fi=t=>typeof t<"u",Bs=t=>typeof t=="function",Yc=(t,e)=>{if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0};function uv(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const je=Math.PI,Fe=2*je,hv=Fe+je,Go=Number.POSITIVE_INFINITY,fv=je/180,Ve=je/2,Gs=je/4,Jc=je*2/3,Rs=Math.log10,es=Math.sign;function _i(t,e,s){return Math.abs(t-e)<s}function Xc(t){const e=Math.round(t);t=_i(t,e,t/1e3)?e:t;const s=Math.pow(10,Math.floor(Rs(t))),n=t/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function pv(t){const e=[],s=Math.sqrt(t);let n;for(n=1;n<s;n++)t%n===0&&(e.push(n),e.push(t/n));return s===(s|0)&&e.push(s),e.sort((i,o)=>i-o).pop(),e}function mv(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function Un(t){return!mv(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function gv(t,e){const s=Math.round(t);return s-e<=t&&s+e>=t}function hf(t,e,s){let n,i,o;for(n=0,i=t.length;n<i;n++)o=t[n][s],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function jt(t){return t*(je/180)}function _l(t){return t*(180/je)}function Qc(t){if(!$e(t))return;let e=1,s=0;for(;Math.round(t*e)/e!==t;)e*=10,s++;return s}function ff(t,e){const s=e.x-t.x,n=e.y-t.y,i=Math.sqrt(s*s+n*n);let o=Math.atan2(n,s);return o<-.5*je&&(o+=Fe),{angle:o,distance:i}}function Pa(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function bv(t,e){return(t-e+hv)%Fe-je}function St(t){return(t%Fe+Fe)%Fe}function ji(t,e,s,n){const i=St(t),o=St(e),r=St(s),a=St(o-i),l=St(r-i),c=St(i-o),d=St(i-r);return i===o||i===r||n&&o===r||a>l&&c<d}function Ge(t,e,s){return Math.max(e,Math.min(s,t))}function yv(t){return Ge(t,-32768,32767)}function ps(t,e,s,n=1e-6){return t>=Math.min(e,s)-n&&t<=Math.max(e,s)+n}function vl(t,e,s){s=s||(r=>t[r]<e);let n=t.length-1,i=0,o;for(;n-i>1;)o=i+n>>1,s(o)?i=o:n=o;return{lo:i,hi:n}}const ms=(t,e,s,n)=>vl(t,s,n?i=>{const o=t[i][e];return o<s||o===s&&t[i+1][e]===s}:i=>t[i][e]<s),xv=(t,e,s)=>vl(t,s,n=>t[n][e]>=s);function _v(t,e,s){let n=0,i=t.length;for(;n<i&&t[n]<e;)n++;for(;i>n&&t[i-1]>s;)i--;return n>0||i<t.length?t.slice(n,i):t}const pf=["push","pop","shift","splice","unshift"];function vv(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),pf.forEach(s=>{const n="_onData"+xl(s),i=t[s];Object.defineProperty(t,s,{configurable:!0,enumerable:!1,value(...o){const r=i.apply(this,o);return t._chartjs.listeners.forEach(a=>{typeof a[n]=="function"&&a[n](...o)}),r}})})}function Zc(t,e){const s=t._chartjs;if(!s)return;const n=s.listeners,i=n.indexOf(e);i!==-1&&n.splice(i,1),!(n.length>0)&&(pf.forEach(o=>{delete t[o]}),delete t._chartjs)}function mf(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const gf=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function bf(t,e){let s=[],n=!1;return function(...i){s=i,n||(n=!0,gf.call(window,()=>{n=!1,t.apply(e,s)}))}}function wv(t,e){let s;return function(...n){return e?(clearTimeout(s),s=setTimeout(t,e,n)):t.apply(this,n),e}}const wl=t=>t==="start"?"left":t==="end"?"right":"center",Ze=(t,e,s)=>t==="start"?e:t==="end"?s:(e+s)/2,kv=(t,e,s,n)=>t===(n?"left":"right")?s:t==="center"?(e+s)/2:e;function yf(t,e,s){const n=e.length;let i=0,o=n;if(t._sorted){const{iScale:r,vScale:a,_parsed:l}=t,c=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,d=r.axis,{min:h,max:f,minDefined:p,maxDefined:m}=r.getUserBounds();if(p){if(i=Math.min(ms(l,d,h).lo,s?n:ms(e,d,r.getPixelForValue(h)).lo),c){const g=l.slice(0,i+1).reverse().findIndex(b=>!ge(b[a.axis]));i-=Math.max(0,g)}i=Ge(i,0,n-1)}if(m){let g=Math.max(ms(l,r.axis,f,!0).hi+1,s?0:ms(e,d,r.getPixelForValue(f),!0).hi+1);if(c){const b=l.slice(g-1).findIndex(_=>!ge(_[a.axis]));g+=Math.max(0,b)}o=Ge(g,i,n)-i}else o=n-i}return{start:i,count:o}}function xf(t){const{xScale:e,yScale:s,_scaleRanges:n}=t,i={xmin:e.min,xmax:e.max,ymin:s.min,ymax:s.max};if(!n)return t._scaleRanges=i,!0;const o=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==s.min||n.ymax!==s.max;return Object.assign(n,i),o}const lo=t=>t===0||t===1,ed=(t,e,s)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Fe/s)),td=(t,e,s)=>Math.pow(2,-10*t)*Math.sin((t-e)*Fe/s)+1,vi={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ve)+1,easeOutSine:t=>Math.sin(t*Ve),easeInOutSine:t=>-.5*(Math.cos(je*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>lo(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>lo(t)?t:ed(t,.075,.3),easeOutElastic:t=>lo(t)?t:td(t,.075,.3),easeInOutElastic(t){return lo(t)?t:t<.5?.5*ed(t*2,.1125,.45):.5+.5*td(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-vi.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?vi.easeInBounce(t*2)*.5:vi.easeOutBounce(t*2-1)*.5+.5};function kl(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function sd(t){return kl(t)?t:new Ri(t)}function Kr(t){return kl(t)?t:new Ri(t).saturate(.5).darken(.1).hexString()}const Sv=["x","y","borderWidth","radius","tension"],Cv=["color","borderColor","backgroundColor"];function Mv(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Cv},numbers:{type:"number",properties:Sv}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Av(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const nd=new Map;function Pv(t,e){e=e||{};const s=t+JSON.stringify(e);let n=nd.get(s);return n||(n=new Intl.NumberFormat(t,e),nd.set(s,n)),n}function Ji(t,e,s){return Pv(e,s).format(t)}const _f={values(t){return Le(t)?t:""+t},numeric(t,e,s){if(t===0)return"0";const n=this.chart.options.locale;let i,o=t;if(s.length>1){const c=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),o=Tv(t,s)}const r=Rs(Math.abs(o)),a=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Ji(t,n,l)},logarithmic(t,e,s){if(t===0)return"0";const n=s[e].significand||t/Math.pow(10,Math.floor(Rs(t)));return[1,2,3,5,10,15].includes(n)||e>.8*s.length?_f.numeric.call(this,t,e,s):""}};function Tv(t,e){let s=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(s)>=1&&t!==Math.floor(t)&&(s=t-Math.floor(t)),s}var vr={formatters:_f};function Ov(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,s)=>s.lineWidth,tickColor:(e,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:vr.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const cn=Object.create(null),Ta=Object.create(null);function wi(t,e){if(!e)return t;const s=e.split(".");for(let n=0,i=s.length;n<i;++n){const o=s[n];t=t[o]||(t[o]=Object.create(null))}return t}function Gr(t,e,s){return typeof e=="string"?Li(wi(t,e),s):Li(wi(t,""),e)}class Ev{constructor(e,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>Kr(i.backgroundColor),this.hoverBorderColor=(n,i)=>Kr(i.borderColor),this.hoverColor=(n,i)=>Kr(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(s)}set(e,s){return Gr(this,e,s)}get(e){return wi(this,e)}describe(e,s){return Gr(Ta,e,s)}override(e,s){return Gr(cn,e,s)}route(e,s,n,i){const o=wi(this,e),r=wi(this,n),a="_"+s;Object.defineProperties(o,{[a]:{value:o[s],writable:!0},[s]:{enumerable:!0,get(){const l=this[a],c=r[i];return ye(l)?Object.assign({},c,l):he(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(s=>s(this))}}var Ne=new Ev({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Mv,Av,Ov]);function Dv(t){return!t||ge(t.size)||ge(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Yo(t,e,s,n,i){let o=e[i];return o||(o=e[i]=t.measureText(i).width,s.push(i)),o>n&&(n=o),n}function Iv(t,e,s,n){n=n||{};let i=n.data=n.data||{},o=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(i=n.data={},o=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let r=0;const a=s.length;let l,c,d,h,f;for(l=0;l<a;l++)if(h=s[l],h!=null&&!Le(h))r=Yo(t,i,o,r,h);else if(Le(h))for(c=0,d=h.length;c<d;c++)f=h[c],f!=null&&!Le(f)&&(r=Yo(t,i,o,r,f));t.restore();const p=o.length/2;if(p>s.length){for(l=0;l<p;l++)delete i[o[l]];o.splice(0,p)}return r}function Ys(t,e,s){const n=t.currentDevicePixelRatio,i=s!==0?Math.max(s/2,.5):0;return Math.round((e-i)*n)/n+i}function id(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Oa(t,e,s,n){vf(t,e,s,n,null)}function vf(t,e,s,n,i){let o,r,a,l,c,d,h,f;const p=e.pointStyle,m=e.rotation,g=e.radius;let b=(m||0)*fv;if(p&&typeof p=="object"&&(o=p.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(s,n),t.rotate(b),t.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),t.restore();return}if(!(isNaN(g)||g<=0)){switch(t.beginPath(),p){default:i?t.ellipse(s,n,i/2,g,0,0,Fe):t.arc(s,n,g,0,Fe),t.closePath();break;case"triangle":d=i?i/2:g,t.moveTo(s+Math.sin(b)*d,n-Math.cos(b)*g),b+=Jc,t.lineTo(s+Math.sin(b)*d,n-Math.cos(b)*g),b+=Jc,t.lineTo(s+Math.sin(b)*d,n-Math.cos(b)*g),t.closePath();break;case"rectRounded":c=g*.516,l=g-c,r=Math.cos(b+Gs)*l,h=Math.cos(b+Gs)*(i?i/2-c:l),a=Math.sin(b+Gs)*l,f=Math.sin(b+Gs)*(i?i/2-c:l),t.arc(s-h,n-a,c,b-je,b-Ve),t.arc(s+f,n-r,c,b-Ve,b),t.arc(s+h,n+a,c,b,b+Ve),t.arc(s-f,n+r,c,b+Ve,b+je),t.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*g,d=i?i/2:l,t.rect(s-d,n-l,2*d,2*l);break}b+=Gs;case"rectRot":h=Math.cos(b)*(i?i/2:g),r=Math.cos(b)*g,a=Math.sin(b)*g,f=Math.sin(b)*(i?i/2:g),t.moveTo(s-h,n-a),t.lineTo(s+f,n-r),t.lineTo(s+h,n+a),t.lineTo(s-f,n+r),t.closePath();break;case"crossRot":b+=Gs;case"cross":h=Math.cos(b)*(i?i/2:g),r=Math.cos(b)*g,a=Math.sin(b)*g,f=Math.sin(b)*(i?i/2:g),t.moveTo(s-h,n-a),t.lineTo(s+h,n+a),t.moveTo(s+f,n-r),t.lineTo(s-f,n+r);break;case"star":h=Math.cos(b)*(i?i/2:g),r=Math.cos(b)*g,a=Math.sin(b)*g,f=Math.sin(b)*(i?i/2:g),t.moveTo(s-h,n-a),t.lineTo(s+h,n+a),t.moveTo(s+f,n-r),t.lineTo(s-f,n+r),b+=Gs,h=Math.cos(b)*(i?i/2:g),r=Math.cos(b)*g,a=Math.sin(b)*g,f=Math.sin(b)*(i?i/2:g),t.moveTo(s-h,n-a),t.lineTo(s+h,n+a),t.moveTo(s+f,n-r),t.lineTo(s-f,n+r);break;case"line":r=i?i/2:Math.cos(b)*g,a=Math.sin(b)*g,t.moveTo(s-r,n-a),t.lineTo(s+r,n+a);break;case"dash":t.moveTo(s,n),t.lineTo(s+Math.cos(b)*(i?i/2:g),n+Math.sin(b)*g);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function gs(t,e,s){return s=s||.5,!e||t&&t.x>e.left-s&&t.x<e.right+s&&t.y>e.top-s&&t.y<e.bottom+s}function wr(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function kr(t){t.restore()}function Rv(t,e,s,n,i){if(!e)return t.lineTo(s.x,s.y);if(i==="middle"){const o=(e.x+s.x)/2;t.lineTo(o,e.y),t.lineTo(o,s.y)}else i==="after"!=!!n?t.lineTo(e.x,s.y):t.lineTo(s.x,e.y);t.lineTo(s.x,s.y)}function Lv(t,e,s,n){if(!e)return t.lineTo(s.x,s.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?s.cp2x:s.cp1x,n?s.cp2y:s.cp1y,s.x,s.y)}function Fv(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ge(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function jv(t,e,s,n,i){if(i.strikethrough||i.underline){const o=t.measureText(n),r=e-o.actualBoundingBoxLeft,a=e+o.actualBoundingBoxRight,l=s-o.actualBoundingBoxAscent,c=s+o.actualBoundingBoxDescent,d=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(r,d),t.lineTo(a,d),t.stroke()}}function Uv(t,e){const s=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=s}function dn(t,e,s,n,i,o={}){const r=Le(e)?e:[e],a=o.strokeWidth>0&&o.strokeColor!=="";let l,c;for(t.save(),t.font=i.string,Fv(t,o),l=0;l<r.length;++l)c=r[l],o.backdrop&&Uv(t,o.backdrop),a&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),ge(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(c,s,n,o.maxWidth)),t.fillText(c,s,n,o.maxWidth),jv(t,s,n,c,o),n+=Number(i.lineHeight);t.restore()}function Ui(t,e){const{x:s,y:n,w:i,h:o,radius:r}=e;t.arc(s+r.topLeft,n+r.topLeft,r.topLeft,1.5*je,je,!0),t.lineTo(s,n+o-r.bottomLeft),t.arc(s+r.bottomLeft,n+o-r.bottomLeft,r.bottomLeft,je,Ve,!0),t.lineTo(s+i-r.bottomRight,n+o),t.arc(s+i-r.bottomRight,n+o-r.bottomRight,r.bottomRight,Ve,0,!0),t.lineTo(s+i,n+r.topRight),t.arc(s+i-r.topRight,n+r.topRight,r.topRight,0,-Ve,!0),t.lineTo(s+r.topLeft,n)}const Nv=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,$v=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Bv(t,e){const s=(""+t).match(Nv);if(!s||s[1]==="normal")return e*1.2;switch(t=+s[2],s[3]){case"px":return t;case"%":t/=100;break}return e*t}const Vv=t=>+t||0;function Sl(t,e){const s={},n=ye(e),i=n?Object.keys(e):e,o=ye(t)?n?r=>he(t[r],t[e[r]]):r=>t[r]:()=>t;for(const r of i)s[r]=Vv(o(r));return s}function wf(t){return Sl(t,{top:"y",right:"x",bottom:"y",left:"x"})}function rn(t){return Sl(t,["topLeft","topRight","bottomLeft","bottomRight"])}function ot(t){const e=wf(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function qe(t,e){t=t||{},e=e||Ne.font;let s=he(t.size,e.size);typeof s=="string"&&(s=parseInt(s,10));let n=he(t.style,e.style);n&&!(""+n).match($v)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:he(t.family,e.family),lineHeight:Bv(he(t.lineHeight,e.lineHeight),s),size:s,style:n,weight:he(t.weight,e.weight),string:""};return i.string=Dv(i),i}function ii(t,e,s,n){let i=!0,o,r,a;for(o=0,r=t.length;o<r;++o)if(a=t[o],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),i=!1),s!==void 0&&Le(a)&&(a=a[s%a.length],i=!1),a!==void 0))return n&&!i&&(n.cacheable=!1),a}function zv(t,e,s){const{min:n,max:i}=t,o=df(e,(i-n)/2),r=(a,l)=>s&&a===0?0:a+l;return{min:r(n,-Math.abs(o)),max:r(i,o)}}function Hs(t,e){return Object.assign(Object.create(t),e)}function Cl(t,e=[""],s,n,i=()=>t[0]){const o=s||t;typeof n>"u"&&(n=Mf("_fallback",t));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:n,_getTarget:i,override:a=>Cl([a,...t],e,o,n)};return new Proxy(r,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return Sf(a,l,()=>Xv(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return rd(a).includes(l)},ownKeys(a){return rd(a)},set(a,l,c){const d=a._storage||(a._storage=i());return a[l]=d[l]=c,delete a._keys,!0}})}function Nn(t,e,s,n){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:s,_stack:new Set,_descriptors:kf(t,n),setContext:o=>Nn(t,o,s,n),override:o=>Nn(t.override(o),e,s,n)};return new Proxy(i,{deleteProperty(o,r){return delete o[r],delete t[r],!0},get(o,r,a){return Sf(o,r,()=>Wv(o,r,a))},getOwnPropertyDescriptor(o,r){return o._descriptors.allKeys?Reflect.has(t,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,r)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,r){return Reflect.has(t,r)},ownKeys(){return Reflect.ownKeys(t)},set(o,r,a){return t[r]=a,delete o[r],!0}})}function kf(t,e={scriptable:!0,indexable:!0}){const{_scriptable:s=e.scriptable,_indexable:n=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:s,indexable:n,isScriptable:Bs(s)?s:()=>s,isIndexable:Bs(n)?n:()=>n}}const Hv=(t,e)=>t?t+xl(e):e,Ml=(t,e)=>ye(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Sf(t,e,s){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=s();return t[e]=n,n}function Wv(t,e,s){const{_proxy:n,_context:i,_subProxy:o,_descriptors:r}=t;let a=n[e];return Bs(a)&&r.isScriptable(e)&&(a=qv(e,a,t,s)),Le(a)&&a.length&&(a=Kv(e,a,t,r.isIndexable)),Ml(e,a)&&(a=Nn(a,i,o&&o[e],r)),a}function qv(t,e,s,n){const{_proxy:i,_context:o,_subProxy:r,_stack:a}=s;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(o,r||n);return a.delete(t),Ml(t,l)&&(l=Al(i._scopes,i,t,l)),l}function Kv(t,e,s,n){const{_proxy:i,_context:o,_subProxy:r,_descriptors:a}=s;if(typeof o.index<"u"&&n(t))return e[o.index%e.length];if(ye(e[0])){const l=e,c=i._scopes.filter(d=>d!==l);e=[];for(const d of l){const h=Al(c,i,t,d);e.push(Nn(h,o,r&&r[t],a))}}return e}function Cf(t,e,s){return Bs(t)?t(e,s):t}const Gv=(t,e)=>t===!0?e:typeof t=="string"?$s(e,t):void 0;function Yv(t,e,s,n,i){for(const o of e){const r=Gv(s,o);if(r){t.add(r);const a=Cf(r._fallback,s,i);if(typeof a<"u"&&a!==s&&a!==n)return a}else if(r===!1&&typeof n<"u"&&s!==n)return null}return!1}function Al(t,e,s,n){const i=e._rootScopes,o=Cf(e._fallback,s,n),r=[...t,...i],a=new Set;a.add(n);let l=od(a,r,s,o||s,n);return l===null||typeof o<"u"&&o!==s&&(l=od(a,r,o,l,n),l===null)?!1:Cl(Array.from(a),[""],i,o,()=>Jv(e,s,n))}function od(t,e,s,n,i){for(;s;)s=Yv(t,e,s,n,i);return s}function Jv(t,e,s){const n=t._getTarget();e in n||(n[e]={});const i=n[e];return Le(i)&&ye(s)?s:i||{}}function Xv(t,e,s,n){let i;for(const o of e)if(i=Mf(Hv(o,t),s),typeof i<"u")return Ml(t,i)?Al(s,n,t,i):i}function Mf(t,e){for(const s of e){if(!s)continue;const n=s[t];if(typeof n<"u")return n}}function rd(t){let e=t._keys;return e||(e=t._keys=Qv(t._scopes)),e}function Qv(t){const e=new Set;for(const s of t)for(const n of Object.keys(s).filter(i=>!i.startsWith("_")))e.add(n);return Array.from(e)}function Af(t,e,s,n){const{iScale:i}=t,{key:o="r"}=this._parsing,r=new Array(n);let a,l,c,d;for(a=0,l=n;a<l;++a)c=a+s,d=e[c],r[a]={r:i.parse($s(d,o),c)};return r}const Zv=Number.EPSILON||1e-14,$n=(t,e)=>e<t.length&&!t[e].skip&&t[e],Pf=t=>t==="x"?"y":"x";function ew(t,e,s,n){const i=t.skip?e:t,o=e,r=s.skip?e:s,a=Pa(o,i),l=Pa(r,o);let c=a/(a+l),d=l/(a+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const h=n*c,f=n*d;return{previous:{x:o.x-h*(r.x-i.x),y:o.y-h*(r.y-i.y)},next:{x:o.x+f*(r.x-i.x),y:o.y+f*(r.y-i.y)}}}function tw(t,e,s){const n=t.length;let i,o,r,a,l,c=$n(t,0);for(let d=0;d<n-1;++d)if(l=c,c=$n(t,d+1),!(!l||!c)){if(_i(e[d],0,Zv)){s[d]=s[d+1]=0;continue}i=s[d]/e[d],o=s[d+1]/e[d],a=Math.pow(i,2)+Math.pow(o,2),!(a<=9)&&(r=3/Math.sqrt(a),s[d]=i*r*e[d],s[d+1]=o*r*e[d])}}function sw(t,e,s="x"){const n=Pf(s),i=t.length;let o,r,a,l=$n(t,0);for(let c=0;c<i;++c){if(r=a,a=l,l=$n(t,c+1),!a)continue;const d=a[s],h=a[n];r&&(o=(d-r[s])/3,a[`cp1${s}`]=d-o,a[`cp1${n}`]=h-o*e[c]),l&&(o=(l[s]-d)/3,a[`cp2${s}`]=d+o,a[`cp2${n}`]=h+o*e[c])}}function nw(t,e="x"){const s=Pf(e),n=t.length,i=Array(n).fill(0),o=Array(n);let r,a,l,c=$n(t,0);for(r=0;r<n;++r)if(a=l,l=c,c=$n(t,r+1),!!l){if(c){const d=c[e]-l[e];i[r]=d!==0?(c[s]-l[s])/d:0}o[r]=a?c?es(i[r-1])!==es(i[r])?0:(i[r-1]+i[r])/2:i[r-1]:i[r]}tw(t,i,o),sw(t,o,e)}function co(t,e,s){return Math.max(Math.min(t,s),e)}function iw(t,e){let s,n,i,o,r,a=gs(t[0],e);for(s=0,n=t.length;s<n;++s)r=o,o=a,a=s<n-1&&gs(t[s+1],e),o&&(i=t[s],r&&(i.cp1x=co(i.cp1x,e.left,e.right),i.cp1y=co(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=co(i.cp2x,e.left,e.right),i.cp2y=co(i.cp2y,e.top,e.bottom)))}function ow(t,e,s,n,i){let o,r,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")nw(t,i);else{let c=n?t[t.length-1]:t[0];for(o=0,r=t.length;o<r;++o)a=t[o],l=ew(c,a,t[Math.min(o+1,r-(n?0:1))%r],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&iw(t,s)}function Pl(){return typeof window<"u"&&typeof document<"u"}function Tl(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Jo(t,e,s){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[s])):n=t,n}const Sr=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function rw(t,e){return Sr(t).getPropertyValue(e)}const aw=["top","right","bottom","left"];function an(t,e,s){const n={};s=s?"-"+s:"";for(let i=0;i<4;i++){const o=aw[i];n[o]=parseFloat(t[e+"-"+o+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const lw=(t,e,s)=>(t>0||e>0)&&(!s||!s.shadowRoot);function cw(t,e){const s=t.touches,n=s&&s.length?s[0]:t,{offsetX:i,offsetY:o}=n;let r=!1,a,l;if(lw(i,o,t.target))a=i,l=o;else{const c=e.getBoundingClientRect();a=n.clientX-c.left,l=n.clientY-c.top,r=!0}return{x:a,y:l,box:r}}function en(t,e){if("native"in t)return t;const{canvas:s,currentDevicePixelRatio:n}=e,i=Sr(s),o=i.boxSizing==="border-box",r=an(i,"padding"),a=an(i,"border","width"),{x:l,y:c,box:d}=cw(t,s),h=r.left+(d&&a.left),f=r.top+(d&&a.top);let{width:p,height:m}=e;return o&&(p-=r.width+a.width,m-=r.height+a.height),{x:Math.round((l-h)/p*s.width/n),y:Math.round((c-f)/m*s.height/n)}}function dw(t,e,s){let n,i;if(e===void 0||s===void 0){const o=t&&Tl(t);if(!o)e=t.clientWidth,s=t.clientHeight;else{const r=o.getBoundingClientRect(),a=Sr(o),l=an(a,"border","width"),c=an(a,"padding");e=r.width-c.width-l.width,s=r.height-c.height-l.height,n=Jo(a.maxWidth,o,"clientWidth"),i=Jo(a.maxHeight,o,"clientHeight")}}return{width:e,height:s,maxWidth:n||Go,maxHeight:i||Go}}const uo=t=>Math.round(t*10)/10;function uw(t,e,s,n){const i=Sr(t),o=an(i,"margin"),r=Jo(i.maxWidth,t,"clientWidth")||Go,a=Jo(i.maxHeight,t,"clientHeight")||Go,l=dw(t,e,s);let{width:c,height:d}=l;if(i.boxSizing==="content-box"){const f=an(i,"border","width"),p=an(i,"padding");c-=p.width+f.width,d-=p.height+f.height}return c=Math.max(0,c-o.width),d=Math.max(0,n?c/n:d-o.height),c=uo(Math.min(c,r,l.maxWidth)),d=uo(Math.min(d,a,l.maxHeight)),c&&!d&&(d=uo(c/2)),(e!==void 0||s!==void 0)&&n&&l.height&&d>l.height&&(d=l.height,c=uo(Math.floor(d*n))),{width:c,height:d}}function ad(t,e,s){const n=e||1,i=Math.floor(t.height*n),o=Math.floor(t.width*n);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const r=t.canvas;return r.style&&(s||!r.style.height&&!r.style.width)&&(r.style.height=`${t.height}px`,r.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||r.height!==i||r.width!==o?(t.currentDevicePixelRatio=n,r.height=i,r.width=o,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const hw=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};Pl()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function ld(t,e){const s=rw(t,e),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function tn(t,e,s,n){return{x:t.x+s*(e.x-t.x),y:t.y+s*(e.y-t.y)}}function fw(t,e,s,n){return{x:t.x+s*(e.x-t.x),y:n==="middle"?s<.5?t.y:e.y:n==="after"?s<1?t.y:e.y:s>0?e.y:t.y}}function pw(t,e,s,n){const i={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},r=tn(t,i,s),a=tn(i,o,s),l=tn(o,e,s),c=tn(r,a,s),d=tn(a,l,s);return tn(c,d,s)}const mw=function(t,e){return{x(s){return t+t+e-s},setWidth(s){e=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,n){return s-n},leftForLtr(s,n){return s-n}}},gw=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function En(t,e,s){return t?mw(e,s):gw()}function Tf(t,e){let s,n;(e==="ltr"||e==="rtl")&&(s=t.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",e,"important"),t.prevTextDirection=n)}function Of(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Ef(t){return t==="angle"?{between:ji,compare:bv,normalize:St}:{between:ps,compare:(e,s)=>e-s,normalize:e=>e}}function cd({start:t,end:e,count:s,loop:n,style:i}){return{start:t%s,end:e%s,loop:n&&(e-t+1)%s===0,style:i}}function bw(t,e,s){const{property:n,start:i,end:o}=s,{between:r,normalize:a}=Ef(n),l=e.length;let{start:c,end:d,loop:h}=t,f,p;if(h){for(c+=l,d+=l,f=0,p=l;f<p&&r(a(e[c%l][n]),i,o);++f)c--,d--;c%=l,d%=l}return d<c&&(d+=l),{start:c,end:d,loop:h,style:t.style}}function Df(t,e,s){if(!s)return[t];const{property:n,start:i,end:o}=s,r=e.length,{compare:a,between:l,normalize:c}=Ef(n),{start:d,end:h,loop:f,style:p}=bw(t,e,s),m=[];let g=!1,b=null,_,w,C;const S=()=>l(i,C,_)&&a(i,C)!==0,M=()=>a(o,_)===0||l(o,C,_),L=()=>g||S(),I=()=>!g||M();for(let $=d,X=d;$<=h;++$)w=e[$%r],!w.skip&&(_=c(w[n]),_!==C&&(g=l(_,i,o),b===null&&L()&&(b=a(_,i)===0?$:X),b!==null&&I()&&(m.push(cd({start:b,end:$,loop:f,count:r,style:p})),b=null),X=$,C=_));return b!==null&&m.push(cd({start:b,end:h,loop:f,count:r,style:p})),m}function If(t,e){const s=[],n=t.segments;for(let i=0;i<n.length;i++){const o=Df(n[i],t.points,e);o.length&&s.push(...o)}return s}function yw(t,e,s,n){let i=0,o=e-1;if(s&&!n)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,s&&(o+=i);o>i&&t[o%e].skip;)o--;return o%=e,{start:i,end:o}}function xw(t,e,s,n){const i=t.length,o=[];let r=e,a=t[e],l;for(l=e+1;l<=s;++l){const c=t[l%i];c.skip||c.stop?a.skip||(n=!1,o.push({start:e%i,end:(l-1)%i,loop:n}),e=r=c.stop?l:null):(r=l,a.skip&&(e=l)),a=c}return r!==null&&o.push({start:e%i,end:r%i,loop:n}),o}function _w(t,e){const s=t.points,n=t.options.spanGaps,i=s.length;if(!i)return[];const o=!!t._loop,{start:r,end:a}=yw(s,i,o,n);if(n===!0)return dd(t,[{start:r,end:a,loop:o}],s,e);const l=a<r?a+i:a,c=!!t._fullLoop&&r===0&&a===i-1;return dd(t,xw(s,r,l,c),s,e)}function dd(t,e,s,n){return!n||!n.setContext||!s?e:vw(t,e,s,n)}function vw(t,e,s,n){const i=t._chart.getContext(),o=ud(t.options),{_datasetIndex:r,options:{spanGaps:a}}=t,l=s.length,c=[];let d=o,h=e[0].start,f=h;function p(m,g,b,_){const w=a?-1:1;if(m!==g){for(m+=l;s[m%l].skip;)m-=w;for(;s[g%l].skip;)g+=w;m%l!==g%l&&(c.push({start:m%l,end:g%l,loop:b,style:_}),d=_,h=g%l)}}for(const m of e){h=a?h:m.start;let g=s[h%l],b;for(f=h+1;f<=m.end;f++){const _=s[f%l];b=ud(n.setContext(Hs(i,{type:"segment",p0:g,p1:_,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:r}))),ww(b,d)&&p(h,f-1,m.loop,d),g=_,d=b}h<f-1&&p(h,f-1,m.loop,d)}return c}function ud(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function ww(t,e){if(!e)return!1;const s=[],n=function(i,o){return kl(o)?(s.includes(o)||s.push(o),s.indexOf(o)):o};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function ho(t,e,s){return t.options.clip?t[s]:e[s]}function kw(t,e){const{xScale:s,yScale:n}=t;return s&&n?{left:ho(s,e,"left"),right:ho(s,e,"right"),top:ho(n,e,"top"),bottom:ho(n,e,"bottom")}:e}function Rf(t,e){const s=e._clip;if(s.disabled)return!1;const n=kw(e,t.chartArea);return{left:s.left===!1?0:n.left-(s.left===!0?0:s.left),right:s.right===!1?t.width:n.right+(s.right===!0?0:s.right),top:s.top===!1?0:n.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?t.height:n.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Sw{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,s,n,i){const o=s.listeners[i],r=s.duration;o.forEach(a=>a({chart:e,initial:s.initial,numSteps:r,currentStep:Math.min(n-s.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=gf.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let s=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const o=n.items;let r=o.length-1,a=!1,l;for(;r>=0;--r)l=o[r],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(e),a=!0):(o[r]=o[o.length-1],o.pop());a&&(i.draw(),this._notify(i,n,e,"progress")),o.length||(n.running=!1,this._notify(i,n,e,"complete"),n.initial=!1),s+=o.length}),this._lastDate=e,s===0&&(this._running=!1)}_getAnims(e){const s=this._charts;let n=s.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(e,n)),n}listen(e,s,n){this._getAnims(e).listeners[s].push(n)}add(e,s){!s||!s.length||this._getAnims(e).items.push(...s)}has(e){return this._getAnims(e).items.length>0}start(e){const s=this._charts.get(e);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const s=this._charts.get(e);return!(!s||!s.running||!s.items.length)}stop(e){const s=this._charts.get(e);if(!s||!s.items.length)return;const n=s.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();s.items=[],this._notify(e,s,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var as=new Sw;const hd="transparent",Cw={boolean(t,e,s){return s>.5?e:t},color(t,e,s){const n=sd(t||hd),i=n.valid&&sd(e||hd);return i&&i.valid?i.mix(n,s).hexString():e},number(t,e,s){return t+(e-t)*s}};class Mw{constructor(e,s,n,i){const o=s[n];i=ii([e.to,i,o,e.from]);const r=ii([e.from,o,i]);this._active=!0,this._fn=e.fn||Cw[e.type||typeof r],this._easing=vi[e.easing]||vi.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=s,this._prop=n,this._from=r,this._to=i,this._promises=void 0}active(){return this._active}update(e,s,n){if(this._active){this._notify(!1);const i=this._target[this._prop],o=n-this._start,r=this._duration-o;this._start=n,this._duration=Math.floor(Math.max(r,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=ii([e.to,s,i,e.from]),this._from=ii([e.from,i,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const s=e-this._start,n=this._duration,i=this._prop,o=this._from,r=this._loop,a=this._to;let l;if(this._active=o!==a&&(r||s<n),!this._active){this._target[i]=a,this._notify(!0);return}if(s<0){this._target[i]=o;return}l=s/n%2,l=r&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(o,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((s,n)=>{e.push({res:s,rej:n})})}_notify(e){const s=e?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][s]()}}class Lf{constructor(e,s){this._chart=e,this._properties=new Map,this.configure(s)}configure(e){if(!ye(e))return;const s=Object.keys(Ne.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const o=e[i];if(!ye(o))return;const r={};for(const a of s)r[a]=o[a];(Le(o.properties)&&o.properties||[i]).forEach(a=>{(a===i||!n.has(a))&&n.set(a,r)})})}_animateOptions(e,s){const n=s.options,i=Pw(e,n);if(!i)return[];const o=this._createAnimations(i,n);return n.$shared&&Aw(e.options.$animations,n).then(()=>{e.options=n},()=>{}),o}_createAnimations(e,s){const n=this._properties,i=[],o=e.$animations||(e.$animations={}),r=Object.keys(s),a=Date.now();let l;for(l=r.length-1;l>=0;--l){const c=r[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(e,s));continue}const d=s[c];let h=o[c];const f=n.get(c);if(h)if(f&&h.active()){h.update(f,d,a);continue}else h.cancel();if(!f||!f.duration){e[c]=d;continue}o[c]=h=new Mw(f,e,c,d),i.push(h)}return i}update(e,s){if(this._properties.size===0){Object.assign(e,s);return}const n=this._createAnimations(e,s);if(n.length)return as.add(this._chart,n),!0}}function Aw(t,e){const s=[],n=Object.keys(e);for(let i=0;i<n.length;i++){const o=t[n[i]];o&&o.active()&&s.push(o.wait())}return Promise.all(s)}function Pw(t,e){if(!e)return;let s=t.options;if(!s){t.options=e;return}return s.$shared&&(t.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function fd(t,e){const s=t&&t.options||{},n=s.reverse,i=s.min===void 0?e:0,o=s.max===void 0?e:0;return{start:n?o:i,end:n?i:o}}function Tw(t,e,s){if(s===!1)return!1;const n=fd(t,s),i=fd(e,s);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function Ow(t){let e,s,n,i;return ye(t)?(e=t.top,s=t.right,n=t.bottom,i=t.left):e=s=n=i=t,{top:e,right:s,bottom:n,left:i,disabled:t===!1}}function Ff(t,e){const s=[],n=t._getSortedDatasetMetas(e);let i,o;for(i=0,o=n.length;i<o;++i)s.push(n[i].index);return s}function pd(t,e,s,n={}){const i=t.keys,o=n.mode==="single";let r,a,l,c;if(e===null)return;let d=!1;for(r=0,a=i.length;r<a;++r){if(l=+i[r],l===s){if(d=!0,n.all)continue;break}c=t.values[l],$e(c)&&(o||e===0||es(e)===es(c))&&(e+=c)}return!d&&!n.all?0:e}function Ew(t,e){const{iScale:s,vScale:n}=e,i=s.axis==="x"?"x":"y",o=n.axis==="x"?"x":"y",r=Object.keys(t),a=new Array(r.length);let l,c,d;for(l=0,c=r.length;l<c;++l)d=r[l],a[l]={[i]:d,[o]:t[d]};return a}function Yr(t,e){const s=t&&t.options.stacked;return s||s===void 0&&e.stack!==void 0}function Dw(t,e,s){return`${t.id}.${e.id}.${s.stack||s.type}`}function Iw(t){const{min:e,max:s,minDefined:n,maxDefined:i}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:i?s:Number.POSITIVE_INFINITY}}function Rw(t,e,s){const n=t[e]||(t[e]={});return n[s]||(n[s]={})}function md(t,e,s,n){for(const i of e.getMatchingVisibleMetas(n).reverse()){const o=t[i.index];if(s&&o>0||!s&&o<0)return i.index}return null}function gd(t,e){const{chart:s,_cachedMeta:n}=t,i=s._stacks||(s._stacks={}),{iScale:o,vScale:r,index:a}=n,l=o.axis,c=r.axis,d=Dw(o,r,n),h=e.length;let f;for(let p=0;p<h;++p){const m=e[p],{[l]:g,[c]:b}=m,_=m._stacks||(m._stacks={});f=_[c]=Rw(i,d,g),f[a]=b,f._top=md(f,r,!0,n.type),f._bottom=md(f,r,!1,n.type);const w=f._visualValues||(f._visualValues={});w[a]=b}}function Jr(t,e){const s=t.scales;return Object.keys(s).filter(n=>s[n].axis===e).shift()}function Lw(t,e){return Hs(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Fw(t,e,s){return Hs(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:s,index:e,mode:"default",type:"data"})}function Jn(t,e){const s=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const i of e){const o=i._stacks;if(!o||o[n]===void 0||o[n][s]===void 0)return;delete o[n][s],o[n]._visualValues!==void 0&&o[n]._visualValues[s]!==void 0&&delete o[n]._visualValues[s]}}}const Xr=t=>t==="reset"||t==="none",bd=(t,e)=>e?t:Object.assign({},t),jw=(t,e,s)=>t&&!e.hidden&&e._stacked&&{keys:Ff(s,!0),values:null};class $t{constructor(e,s){this.chart=e,this._ctx=e.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Yr(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Jn(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,s=this._cachedMeta,n=this.getDataset(),i=(h,f,p,m)=>h==="x"?f:h==="r"?m:p,o=s.xAxisID=he(n.xAxisID,Jr(e,"x")),r=s.yAxisID=he(n.yAxisID,Jr(e,"y")),a=s.rAxisID=he(n.rAxisID,Jr(e,"r")),l=s.indexAxis,c=s.iAxisID=i(l,o,r,a),d=s.vAxisID=i(l,r,o,a);s.xScale=this.getScaleForId(o),s.yScale=this.getScaleForId(r),s.rScale=this.getScaleForId(a),s.iScale=this.getScaleForId(c),s.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const s=this._cachedMeta;return e===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&Zc(this._data,this),e._stacked&&Jn(e)}_dataCheck(){const e=this.getDataset(),s=e.data||(e.data=[]),n=this._data;if(ye(s)){const i=this._cachedMeta;this._data=Ew(s,i)}else if(n!==s){if(n){Zc(n,this);const i=this._cachedMeta;Jn(i),i._parsed=[]}s&&Object.isExtensible(s)&&vv(s,this),this._syncList=[],this._data=s}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const s=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const o=s._stacked;s._stacked=Yr(s.vScale,s),s.stack!==n.stack&&(i=!0,Jn(s),s.stack=n.stack),this._resyncElements(e),(i||o!==s._stacked)&&(gd(this,s._parsed),s._stacked=Yr(s.vScale,s))}configure(){const e=this.chart.config,s=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),s,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,s){const{_cachedMeta:n,_data:i}=this,{iScale:o,_stacked:r}=n,a=o.axis;let l=e===0&&s===i.length?!0:n._sorted,c=e>0&&n._parsed[e-1],d,h,f;if(this._parsing===!1)n._parsed=i,n._sorted=!0,f=i;else{Le(i[e])?f=this.parseArrayData(n,i,e,s):ye(i[e])?f=this.parseObjectData(n,i,e,s):f=this.parsePrimitiveData(n,i,e,s);const p=()=>h[a]===null||c&&h[a]<c[a];for(d=0;d<s;++d)n._parsed[d+e]=h=f[d],l&&(p()&&(l=!1),c=h);n._sorted=l}r&&gd(this,f)}parsePrimitiveData(e,s,n,i){const{iScale:o,vScale:r}=e,a=o.axis,l=r.axis,c=o.getLabels(),d=o===r,h=new Array(i);let f,p,m;for(f=0,p=i;f<p;++f)m=f+n,h[f]={[a]:d||o.parse(c[m],m),[l]:r.parse(s[m],m)};return h}parseArrayData(e,s,n,i){const{xScale:o,yScale:r}=e,a=new Array(i);let l,c,d,h;for(l=0,c=i;l<c;++l)d=l+n,h=s[d],a[l]={x:o.parse(h[0],d),y:r.parse(h[1],d)};return a}parseObjectData(e,s,n,i){const{xScale:o,yScale:r}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let d,h,f,p;for(d=0,h=i;d<h;++d)f=d+n,p=s[f],c[d]={x:o.parse($s(p,a),f),y:r.parse($s(p,l),f)};return c}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,s,n){const i=this.chart,o=this._cachedMeta,r=s[e.axis],a={keys:Ff(i,!0),values:s._stacks[e.axis]._visualValues};return pd(a,r,o.index,{mode:n})}updateRangeFromParsed(e,s,n,i){const o=n[s.axis];let r=o===null?NaN:o;const a=i&&n._stacks[s.axis];i&&a&&(i.values=a,r=pd(i,o,this._cachedMeta.index)),e.min=Math.min(e.min,r),e.max=Math.max(e.max,r)}getMinMax(e,s){const n=this._cachedMeta,i=n._parsed,o=n._sorted&&e===n.iScale,r=i.length,a=this._getOtherScale(e),l=jw(s,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=Iw(a);let f,p;function m(){p=i[f];const g=p[a.axis];return!$e(p[e.axis])||d>g||h<g}for(f=0;f<r&&!(!m()&&(this.updateRangeFromParsed(c,e,p,l),o));++f);if(o){for(f=r-1;f>=0;--f)if(!m()){this.updateRangeFromParsed(c,e,p,l);break}}return c}getAllParsedValues(e){const s=this._cachedMeta._parsed,n=[];let i,o,r;for(i=0,o=s.length;i<o;++i)r=s[i][e.axis],$e(r)&&n.push(r);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const s=this._cachedMeta,n=s.iScale,i=s.vScale,o=this.getParsed(e);return{label:n?""+n.getLabelForValue(o[n.axis]):"",value:i?""+i.getLabelForValue(o[i.axis]):""}}_update(e){const s=this._cachedMeta;this.update(e||"default"),s._clip=Ow(he(this.options.clip,Tw(s.xScale,s.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,s=this.chart,n=this._cachedMeta,i=n.data||[],o=s.chartArea,r=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let d;for(n.dataset&&n.dataset.draw(e,o,a,l),d=a;d<a+l;++d){const h=i[d];h.hidden||(h.active&&c?r.push(h):h.draw(e,o))}for(d=0;d<r.length;++d)r[d].draw(e,o)}getStyle(e,s){const n=s?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,s,n){const i=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const r=this._cachedMeta.data[e];o=r.$context||(r.$context=Fw(this.getContext(),e,r)),o.parsed=this.getParsed(e),o.raw=i.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=Lw(this.chart.getContext(),this.index)),o.dataset=i,o.index=o.datasetIndex=this.index;return o.active=!!s,o.mode=n,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,s){return this._resolveElementOptions(this.dataElementType.id,s,e)}_resolveElementOptions(e,s="default",n){const i=s==="active",o=this._cachedDataOpts,r=e+"-"+s,a=o[r],l=this.enableOptionSharing&&Fi(n);if(a)return bd(a,l);const c=this.chart.config,d=c.datasetElementScopeKeys(this._type,e),h=i?[`${e}Hover`,"hover",e,""]:[e,""],f=c.getOptionScopes(this.getDataset(),d),p=Object.keys(Ne.elements[e]),m=()=>this.getContext(n,i,s),g=c.resolveNamedOptions(f,p,m,h);return g.$shared&&(g.$shared=l,o[r]=Object.freeze(bd(g,l))),g}_resolveAnimations(e,s,n){const i=this.chart,o=this._cachedDataOpts,r=`animation-${s}`,a=o[r];if(a)return a;let l;if(i.options.animation!==!1){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,s),f=d.getOptionScopes(this.getDataset(),h);l=d.createResolver(f,this.getContext(e,n,s))}const c=new Lf(i,l&&l.animations);return l&&l._cacheable&&(o[r]=Object.freeze(c)),c}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,s){return!s||Xr(e)||this.chart._animationsDisabled}_getSharedOptions(e,s){const n=this.resolveDataElementOptions(e,s),i=this._sharedOptions,o=this.getSharedOptions(n),r=this.includeOptions(s,o)||o!==i;return this.updateSharedOptions(o,s,n),{sharedOptions:o,includeOptions:r}}updateElement(e,s,n,i){Xr(i)?Object.assign(e,n):this._resolveAnimations(s,i).update(e,n)}updateSharedOptions(e,s,n){e&&!Xr(s)&&this._resolveAnimations(void 0,s).update(e,n)}_setStyle(e,s,n,i){e.active=i;const o=this.getStyle(s,i);this._resolveAnimations(s,n,i).update(e,{options:!i&&this.getSharedOptions(o)||o})}removeHoverStyle(e,s,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,s,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const s=this._data,n=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=n.length,o=s.length,r=Math.min(o,i);r&&this.parse(0,r),o>i?this._insertElements(i,o-i,e):o<i&&this._removeElements(o,i-o)}_insertElements(e,s,n=!0){const i=this._cachedMeta,o=i.data,r=e+s;let a;const l=c=>{for(c.length+=s,a=c.length-1;a>=r;a--)c[a]=c[a-s]};for(l(o),a=e;a<r;++a)o[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(e,s),n&&this.updateElements(o,e,s,"reset")}updateElements(e,s,n,i){}_removeElements(e,s){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(e,s);n._stacked&&Jn(n,i)}n.data.splice(e,s)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[s,n,i]=e;this[s](n,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,s){s&&this._sync(["_removeElements",e,s]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}B($t,"defaults",{}),B($t,"datasetElementType",null),B($t,"dataElementType",null);function Uw(t,e){if(!t._cache.$bar){const s=t.getMatchingVisibleMetas(e);let n=[];for(let i=0,o=s.length;i<o;i++)n=n.concat(s[i].controller.getAllParsedValues(t));t._cache.$bar=mf(n.sort((i,o)=>i-o))}return t._cache.$bar}function Nw(t){const e=t.iScale,s=Uw(e,t.type);let n=e._length,i,o,r,a;const l=()=>{r===32767||r===-32768||(Fi(a)&&(n=Math.min(n,Math.abs(r-a)||n)),a=r)};for(i=0,o=s.length;i<o;++i)r=e.getPixelForValue(s[i]),l();for(a=void 0,i=0,o=e.ticks.length;i<o;++i)r=e.getPixelForTick(i),l();return n}function $w(t,e,s,n){const i=s.barThickness;let o,r;return ge(i)?(o=e.min*s.categoryPercentage,r=s.barPercentage):(o=i*n,r=1),{chunk:o/n,ratio:r,start:e.pixels[t]-o/2}}function Bw(t,e,s,n){const i=e.pixels,o=i[t];let r=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const l=s.categoryPercentage;r===null&&(r=o-(a===null?e.end-e.start:a-o)),a===null&&(a=o+o-r);const c=o-(o-Math.min(r,a))/2*l;return{chunk:Math.abs(a-r)/2*l/n,ratio:s.barPercentage,start:c}}function Vw(t,e,s,n){const i=s.parse(t[0],n),o=s.parse(t[1],n),r=Math.min(i,o),a=Math.max(i,o);let l=r,c=a;Math.abs(r)>Math.abs(a)&&(l=a,c=r),e[s.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:o,min:r,max:a}}function jf(t,e,s,n){return Le(t)?Vw(t,e,s,n):e[s.axis]=s.parse(t,n),e}function yd(t,e,s,n){const i=t.iScale,o=t.vScale,r=i.getLabels(),a=i===o,l=[];let c,d,h,f;for(c=s,d=s+n;c<d;++c)f=e[c],h={},h[i.axis]=a||i.parse(r[c],c),l.push(jf(f,h,o,c));return l}function Qr(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function zw(t,e,s){return t!==0?es(t):(e.isHorizontal()?1:-1)*(e.min>=s?1:-1)}function Hw(t){let e,s,n,i,o;return t.horizontal?(e=t.base>t.x,s="left",n="right"):(e=t.base<t.y,s="bottom",n="top"),e?(i="end",o="start"):(i="start",o="end"),{start:s,end:n,reverse:e,top:i,bottom:o}}function Ww(t,e,s,n){let i=e.borderSkipped;const o={};if(!i){t.borderSkipped=o;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:r,end:a,reverse:l,top:c,bottom:d}=Hw(t);i==="middle"&&s&&(t.enableBorderRadius=!0,(s._top||0)===n?i=c:(s._bottom||0)===n?i=d:(o[xd(d,r,a,l)]=!0,i=c)),o[xd(i,r,a,l)]=!0,t.borderSkipped=o}function xd(t,e,s,n){return n?(t=qw(t,e,s),t=_d(t,s,e)):t=_d(t,e,s),t}function qw(t,e,s){return t===e?s:t===s?e:t}function _d(t,e,s){return t==="start"?e:t==="end"?s:t}function Kw(t,{inflateAmount:e},s){t.inflateAmount=e==="auto"?s===1?.33:0:e}class Ao extends $t{parsePrimitiveData(e,s,n,i){return yd(e,s,n,i)}parseArrayData(e,s,n,i){return yd(e,s,n,i)}parseObjectData(e,s,n,i){const{iScale:o,vScale:r}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=o.axis==="x"?a:l,d=r.axis==="x"?a:l,h=[];let f,p,m,g;for(f=n,p=n+i;f<p;++f)g=s[f],m={},m[o.axis]=o.parse($s(g,c),f),h.push(jf($s(g,d),m,r,f));return h}updateRangeFromParsed(e,s,n,i){super.updateRangeFromParsed(e,s,n,i);const o=n._custom;o&&s===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const s=this._cachedMeta,{iScale:n,vScale:i}=s,o=this.getParsed(e),r=o._custom,a=Qr(r)?"["+r.start+", "+r.end+"]":""+i.getLabelForValue(o[i.axis]);return{label:""+n.getLabelForValue(o[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,e)}updateElements(e,s,n,i){const o=i==="reset",{index:r,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(s,i);for(let p=s;p<s+n;p++){const m=this.getParsed(p),g=o||ge(m[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),b=this._calculateBarIndexPixels(p,d),_=(m._stacks||{})[a.axis],w={horizontal:c,base:g.base,enableBorderRadius:!_||Qr(m._custom)||r===_._top||r===_._bottom,x:c?g.head:b.center,y:c?b.center:g.head,height:c?b.size:Math.abs(g.size),width:c?Math.abs(g.size):b.size};f&&(w.options=h||this.resolveDataElementOptions(p,e[p].active?"active":i));const C=w.options||e[p].options;Ww(w,C,_,r),Kw(w,C,d.ratio),this.updateElement(e[p],p,w,i)}}_getStacks(e,s){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),o=n.options.stacked,r=[],a=this._cachedMeta.controller.getParsed(s),l=a&&a[n.axis],c=d=>{const h=d._parsed.find(p=>p[n.axis]===l),f=h&&h[d.vScale.axis];if(ge(f)||isNaN(f))return!0};for(const d of i)if(!(s!==void 0&&c(d))&&((o===!1||r.indexOf(d.stack)===-1||o===void 0&&d.stack===void 0)&&r.push(d.stack),d.index===e))break;return r.length||r.push(void 0),r}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,s,n){const i=this._getStacks(e,n),o=s!==void 0?i.indexOf(s):-1;return o===-1?i.length-1:o}_getRuler(){const e=this.options,s=this._cachedMeta,n=s.iScale,i=[];let o,r;for(o=0,r=s.data.length;o<r;++o)i.push(n.getPixelForValue(this.getParsed(o)[n.axis],o));const a=e.barThickness;return{min:a||Nw(s),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:s,_stacked:n,index:i},options:{base:o,minBarLength:r}}=this,a=o||0,l=this.getParsed(e),c=l._custom,d=Qr(c);let h=l[s.axis],f=0,p=n?this.applyStack(s,l,n):h,m,g;p!==h&&(f=p-h,p=h),d&&(h=c.barStart,p=c.barEnd-c.barStart,h!==0&&es(h)!==es(c.barEnd)&&(f=0),f+=h);const b=!ge(o)&&!d?o:f;let _=s.getPixelForValue(b);if(this.chart.getDataVisibility(e)?m=s.getPixelForValue(f+p):m=_,g=m-_,Math.abs(g)<r){g=zw(g,s,a)*r,h===a&&(_-=g/2);const w=s.getPixelForDecimal(0),C=s.getPixelForDecimal(1),S=Math.min(w,C),M=Math.max(w,C);_=Math.max(Math.min(_,M),S),m=_+g,n&&!d&&(l._stacks[s.axis]._visualValues[i]=s.getValueForPixel(m)-s.getValueForPixel(_))}if(_===s.getPixelForValue(a)){const w=es(g)*s.getLineWidthForValue(a)/2;_+=w,g-=w}return{size:g,base:_,head:m,center:m+g/2}}_calculateBarIndexPixels(e,s){const n=s.scale,i=this.options,o=i.skipNull,r=he(i.maxBarThickness,1/0);let a,l;if(s.grouped){const c=o?this._getStackCount(e):s.stackCount,d=i.barThickness==="flex"?Bw(e,s,i,c):$w(e,s,i,c),h=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0);a=d.start+d.chunk*h+d.chunk/2,l=Math.min(r,d.chunk*d.ratio)}else a=n.getPixelForValue(this.getParsed(e)[n.axis],e),l=Math.min(r,s.min*s.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,s=e.vScale,n=e.data,i=n.length;let o=0;for(;o<i;++o)this.getParsed(o)[s.axis]!==null&&!n[o].hidden&&n[o].draw(this._ctx)}}B(Ao,"id","bar"),B(Ao,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),B(Ao,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Po extends $t{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,s,n,i){const o=super.parsePrimitiveData(e,s,n,i);for(let r=0;r<o.length;r++)o[r]._custom=this.resolveDataElementOptions(r+n).radius;return o}parseArrayData(e,s,n,i){const o=super.parseArrayData(e,s,n,i);for(let r=0;r<o.length;r++){const a=s[n+r];o[r]._custom=he(a[2],this.resolveDataElementOptions(r+n).radius)}return o}parseObjectData(e,s,n,i){const o=super.parseObjectData(e,s,n,i);for(let r=0;r<o.length;r++){const a=s[n+r];o[r]._custom=he(a&&a.r&&+a.r,this.resolveDataElementOptions(r+n).radius)}return o}getMaxOverflow(){const e=this._cachedMeta.data;let s=0;for(let n=e.length-1;n>=0;--n)s=Math.max(s,e[n].size(this.resolveDataElementOptions(n))/2);return s>0&&s}getLabelAndValue(e){const s=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:o}=s,r=this.getParsed(e),a=i.getLabelForValue(r.x),l=o.getLabelForValue(r.y),c=r._custom;return{label:n[e]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(e){const s=this._cachedMeta.data;this.updateElements(s,0,s.length,e)}updateElements(e,s,n,i){const o=i==="reset",{iScale:r,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(s,i),d=r.axis,h=a.axis;for(let f=s;f<s+n;f++){const p=e[f],m=!o&&this.getParsed(f),g={},b=g[d]=o?r.getPixelForDecimal(.5):r.getPixelForValue(m[d]),_=g[h]=o?a.getBasePixel():a.getPixelForValue(m[h]);g.skip=isNaN(b)||isNaN(_),c&&(g.options=l||this.resolveDataElementOptions(f,p.active?"active":i),o&&(g.options.radius=0)),this.updateElement(p,f,g,i)}}resolveDataElementOptions(e,s){const n=this.getParsed(e);let i=super.resolveDataElementOptions(e,s);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const o=i.radius;return s!=="active"&&(i.radius=0),i.radius+=he(n&&n._custom,o),i}}B(Po,"id","bubble"),B(Po,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),B(Po,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Gw(t,e,s){let n=1,i=1,o=0,r=0;if(e<Fe){const a=t,l=a+e,c=Math.cos(a),d=Math.sin(a),h=Math.cos(l),f=Math.sin(l),p=(C,S,M)=>ji(C,a,l,!0)?1:Math.max(S,S*s,M,M*s),m=(C,S,M)=>ji(C,a,l,!0)?-1:Math.min(S,S*s,M,M*s),g=p(0,c,h),b=p(Ve,d,f),_=m(je,c,h),w=m(je+Ve,d,f);n=(g-_)/2,i=(b-w)/2,o=-(g+_)/2,r=-(b+w)/2}return{ratioX:n,ratioY:i,offsetX:o,offsetY:r}}class nn extends $t{constructor(e,s){super(e,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,s){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let o=l=>+n[l];if(ye(n[e])){const{key:l="value"}=this._parsing;o=c=>+$s(n[c],l)}let r,a;for(r=e,a=e+s;r<a;++r)i._parsed[r]=o(r)}}_getRotation(){return jt(this.options.rotation-90)}_getCircumference(){return jt(this.options.circumference)}_getRotationExtents(){let e=Fe,s=-Fe;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,o=i._getRotation(),r=i._getCircumference();e=Math.min(e,o),s=Math.max(s,o+r)}return{rotation:e,circumference:s-e}}update(e){const s=this.chart,{chartArea:n}=s,i=this._cachedMeta,o=i.data,r=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-r)/2,0),l=Math.min(rv(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:m,offsetY:g}=Gw(h,d,l),b=(n.width-r)/f,_=(n.height-r)/p,w=Math.max(Math.min(b,_)/2,0),C=df(this.options.radius,w),S=Math.max(C*l,0),M=(C-S)/this._getVisibleDatasetWeightTotal();this.offsetX=m*C,this.offsetY=g*C,i.total=this.calculateTotal(),this.outerRadius=C-M*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-M*c,0),this.updateElements(o,0,o.length,e)}_circumference(e,s){const n=this.options,i=this._cachedMeta,o=this._getCircumference();return s&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*o/Fe)}updateElements(e,s,n,i){const o=i==="reset",r=this.chart,a=r.chartArea,c=r.options.animation,d=(a.left+a.right)/2,h=(a.top+a.bottom)/2,f=o&&c.animateScale,p=f?0:this.innerRadius,m=f?0:this.outerRadius,{sharedOptions:g,includeOptions:b}=this._getSharedOptions(s,i);let _=this._getRotation(),w;for(w=0;w<s;++w)_+=this._circumference(w,o);for(w=s;w<s+n;++w){const C=this._circumference(w,o),S=e[w],M={x:d+this.offsetX,y:h+this.offsetY,startAngle:_,endAngle:_+C,circumference:C,outerRadius:m,innerRadius:p};b&&(M.options=g||this.resolveDataElementOptions(w,S.active?"active":i)),_+=C,this.updateElement(S,w,M,i)}}calculateTotal(){const e=this._cachedMeta,s=e.data;let n=0,i;for(i=0;i<s.length;i++){const o=e._parsed[i];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(i)&&!s[i].hidden&&(n+=Math.abs(o))}return n}calculateCircumference(e){const s=this._cachedMeta.total;return s>0&&!isNaN(e)?Fe*(Math.abs(e)/s):0}getLabelAndValue(e){const s=this._cachedMeta,n=this.chart,i=n.data.labels||[],o=Ji(s._parsed[e],n.options.locale);return{label:i[e]||"",value:o}}getMaxBorderWidth(e){let s=0;const n=this.chart;let i,o,r,a,l;if(!e){for(i=0,o=n.data.datasets.length;i<o;++i)if(n.isDatasetVisible(i)){r=n.getDatasetMeta(i),e=r.data,a=r.controller;break}}if(!e)return 0;for(i=0,o=e.length;i<o;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(s=Math.max(s,l.borderWidth||0,l.hoverBorderWidth||0));return s}getMaxOffset(e){let s=0;for(let n=0,i=e.length;n<i;++n){const o=this.resolveDataElementOptions(n);s=Math.max(s,o.offset||0,o.hoverOffset||0)}return s}_getRingWeightOffset(e){let s=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(s+=this._getRingWeight(n));return s}_getRingWeight(e){return Math.max(he(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}B(nn,"id","doughnut"),B(nn,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),B(nn,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),B(nn,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const s=e.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return s.labels.map((o,r)=>{const l=e.getDatasetMeta(0).controller.getStyle(r);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(r),index:r}})}return[]}},onClick(e,s,n){n.chart.toggleDataVisibility(s.index),n.chart.update()}}}});class To extends $t{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const s=this._cachedMeta,{dataset:n,data:i=[],_dataset:o}=s,r=this.chart._animationsDisabled;let{start:a,count:l}=yf(s,i,r);this._drawStart=a,this._drawCount=l,xf(s)&&(a=0,l=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!o._decimated,n.points=i;const c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!r,options:c},e),this.updateElements(i,a,l,e)}updateElements(e,s,n,i){const o=i==="reset",{iScale:r,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(s,i),f=r.axis,p=a.axis,{spanGaps:m,segment:g}=this.options,b=Un(m)?m:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||o||i==="none",w=s+n,C=e.length;let S=s>0&&this.getParsed(s-1);for(let M=0;M<C;++M){const L=e[M],I=_?L:{};if(M<s||M>=w){I.skip=!0;continue}const $=this.getParsed(M),X=ge($[p]),ie=I[f]=r.getPixelForValue($[f],M),re=I[p]=o||X?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,$,l):$[p],M);I.skip=isNaN(ie)||isNaN(re)||X,I.stop=M>0&&Math.abs($[f]-S[f])>b,g&&(I.parsed=$,I.raw=c.data[M]),h&&(I.options=d||this.resolveDataElementOptions(M,L.active?"active":i)),_||this.updateElement(L,M,I,i),S=$}}getMaxOverflow(){const e=this._cachedMeta,s=e.dataset,n=s.options&&s.options.borderWidth||0,i=e.data||[];if(!i.length)return n;const o=i[0].size(this.resolveDataElementOptions(0)),r=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,o,r)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}B(To,"id","line"),B(To,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),B(To,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class ki extends $t{constructor(e,s){super(e,s),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const s=this._cachedMeta,n=this.chart,i=n.data.labels||[],o=Ji(s._parsed[e].r,n.options.locale);return{label:i[e]||"",value:o}}parseObjectData(e,s,n,i){return Af.bind(this)(e,s,n,i)}update(e){const s=this._cachedMeta.data;this._updateRadius(),this.updateElements(s,0,s.length,e)}getMinMax(){const e=this._cachedMeta,s={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,i)=>{const o=this.getParsed(i).r;!isNaN(o)&&this.chart.getDataVisibility(i)&&(o<s.min&&(s.min=o),o>s.max&&(s.max=o))}),s}_updateRadius(){const e=this.chart,s=e.chartArea,n=e.options,i=Math.min(s.right-s.left,s.bottom-s.top),o=Math.max(i/2,0),r=Math.max(n.cutoutPercentage?o/100*n.cutoutPercentage:1,0),a=(o-r)/e.getVisibleDatasetCount();this.outerRadius=o-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,s,n,i){const o=i==="reset",r=this.chart,l=r.options.animation,c=this._cachedMeta.rScale,d=c.xCenter,h=c.yCenter,f=c.getIndexAngle(0)-.5*je;let p=f,m;const g=360/this.countVisibleElements();for(m=0;m<s;++m)p+=this._computeAngle(m,i,g);for(m=s;m<s+n;m++){const b=e[m];let _=p,w=p+this._computeAngle(m,i,g),C=r.getDataVisibility(m)?c.getDistanceFromCenterForValue(this.getParsed(m).r):0;p=w,o&&(l.animateScale&&(C=0),l.animateRotate&&(_=w=f));const S={x:d,y:h,innerRadius:0,outerRadius:C,startAngle:_,endAngle:w,options:this.resolveDataElementOptions(m,b.active?"active":i)};this.updateElement(b,m,S,i)}}countVisibleElements(){const e=this._cachedMeta;let s=0;return e.data.forEach((n,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&s++}),s}_computeAngle(e,s,n){return this.chart.getDataVisibility(e)?jt(this.resolveDataElementOptions(e,s).angle||n):0}}B(ki,"id","polarArea"),B(ki,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),B(ki,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const s=e.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:n,color:i}}=e.legend.options;return s.labels.map((o,r)=>{const l=e.getDatasetMeta(0).controller.getStyle(r);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(r),index:r}})}return[]}},onClick(e,s,n){n.chart.toggleDataVisibility(s.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Ea extends nn{}B(Ea,"id","pie"),B(Ea,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Oo extends $t{getLabelAndValue(e){const s=this._cachedMeta.vScale,n=this.getParsed(e);return{label:s.getLabels()[e],value:""+s.getLabelForValue(n[s.axis])}}parseObjectData(e,s,n,i){return Af.bind(this)(e,s,n,i)}update(e){const s=this._cachedMeta,n=s.dataset,i=s.data||[],o=s.iScale.getLabels();if(n.points=i,e!=="resize"){const r=this.resolveDatasetElementOptions(e);this.options.showLine||(r.borderWidth=0);const a={_loop:!0,_fullLoop:o.length===i.length,options:r};this.updateElement(n,void 0,a,e)}this.updateElements(i,0,i.length,e)}updateElements(e,s,n,i){const o=this._cachedMeta.rScale,r=i==="reset";for(let a=s;a<s+n;a++){const l=e[a],c=this.resolveDataElementOptions(a,l.active?"active":i),d=o.getPointPositionForValue(a,this.getParsed(a).r),h=r?o.xCenter:d.x,f=r?o.yCenter:d.y,p={x:h,y:f,angle:d.angle,skip:isNaN(h)||isNaN(f),options:c};this.updateElement(l,a,p,i)}}}B(Oo,"id","radar"),B(Oo,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),B(Oo,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Eo extends $t{getLabelAndValue(e){const s=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:o}=s,r=this.getParsed(e),a=i.getLabelForValue(r.x),l=o.getLabelForValue(r.y);return{label:n[e]||"",value:"("+a+", "+l+")"}}update(e){const s=this._cachedMeta,{data:n=[]}=s,i=this.chart._animationsDisabled;let{start:o,count:r}=yf(s,n,i);if(this._drawStart=o,this._drawCount=r,xf(s)&&(o=0,r=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=s;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=n;const c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},e)}else this.datasetElementType&&(delete s.dataset,this.datasetElementType=!1);this.updateElements(n,o,r,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,s,n,i){const o=i==="reset",{iScale:r,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,d=this.resolveDataElementOptions(s,i),h=this.getSharedOptions(d),f=this.includeOptions(i,h),p=r.axis,m=a.axis,{spanGaps:g,segment:b}=this.options,_=Un(g)?g:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||o||i==="none";let C=s>0&&this.getParsed(s-1);for(let S=s;S<s+n;++S){const M=e[S],L=this.getParsed(S),I=w?M:{},$=ge(L[m]),X=I[p]=r.getPixelForValue(L[p],S),ie=I[m]=o||$?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,L,l):L[m],S);I.skip=isNaN(X)||isNaN(ie)||$,I.stop=S>0&&Math.abs(L[p]-C[p])>_,b&&(I.parsed=L,I.raw=c.data[S]),f&&(I.options=h||this.resolveDataElementOptions(S,M.active?"active":i)),w||this.updateElement(M,S,I,i),C=L}this.updateSharedOptions(h,i,d)}getMaxOverflow(){const e=this._cachedMeta,s=e.data||[];if(!this.options.showLine){let a=0;for(let l=s.length-1;l>=0;--l)a=Math.max(a,s[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const n=e.dataset,i=n.options&&n.options.borderWidth||0;if(!s.length)return i;const o=s[0].size(this.resolveDataElementOptions(0)),r=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,o,r)/2}}B(Eo,"id","scatter"),B(Eo,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),B(Eo,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Yw=Object.freeze({__proto__:null,BarController:Ao,BubbleController:Po,DoughnutController:nn,LineController:To,PieController:Ea,PolarAreaController:ki,RadarController:Oo,ScatterController:Eo});function Js(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ol{constructor(e){B(this,"options");this.options=e||{}}static override(e){Object.assign(Ol.prototype,e)}init(){}formats(){return Js()}parse(){return Js()}format(){return Js()}add(){return Js()}diff(){return Js()}startOf(){return Js()}endOf(){return Js()}}var Jw={_date:Ol};function Xw(t,e,s,n){const{controller:i,data:o,_sorted:r}=t,a=i._cachedMeta.iScale,l=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(a&&e===a.axis&&e!=="r"&&r&&o.length){const c=a._reversePixels?xv:ms;if(n){if(i._sharedOptions){const d=o[0],h=typeof d.getRange=="function"&&d.getRange(e);if(h){const f=c(o,e,s-h),p=c(o,e,s+h);return{lo:f.lo,hi:p.hi}}}}else{const d=c(o,e,s);if(l){const{vScale:h}=i._cachedMeta,{_parsed:f}=t,p=f.slice(0,d.lo+1).reverse().findIndex(g=>!ge(g[h.axis]));d.lo-=Math.max(0,p);const m=f.slice(d.hi).findIndex(g=>!ge(g[h.axis]));d.hi+=Math.max(0,m)}return d}}return{lo:0,hi:o.length-1}}function Xi(t,e,s,n,i){const o=t.getSortedVisibleDatasetMetas(),r=s[e];for(let a=0,l=o.length;a<l;++a){const{index:c,data:d}=o[a],{lo:h,hi:f}=Xw(o[a],e,r,i);for(let p=h;p<=f;++p){const m=d[p];m.skip||n(m,c,p)}}}function Qw(t){const e=t.indexOf("x")!==-1,s=t.indexOf("y")!==-1;return function(n,i){const o=e?Math.abs(n.x-i.x):0,r=s?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}}function Zr(t,e,s,n,i){const o=[];return!i&&!t.isPointInArea(e)||Xi(t,s,e,function(a,l,c){!i&&!gs(a,t.chartArea,0)||a.inRange(e.x,e.y,n)&&o.push({element:a,datasetIndex:l,index:c})},!0),o}function Zw(t,e,s,n){let i=[];function o(r,a,l){const{startAngle:c,endAngle:d}=r.getProps(["startAngle","endAngle"],n),{angle:h}=ff(r,{x:e.x,y:e.y});ji(h,c,d)&&i.push({element:r,datasetIndex:a,index:l})}return Xi(t,s,e,o),i}function e1(t,e,s,n,i,o){let r=[];const a=Qw(s);let l=Number.POSITIVE_INFINITY;function c(d,h,f){const p=d.inRange(e.x,e.y,i);if(n&&!p)return;const m=d.getCenterPoint(i);if(!(!!o||t.isPointInArea(m))&&!p)return;const b=a(e,m);b<l?(r=[{element:d,datasetIndex:h,index:f}],l=b):b===l&&r.push({element:d,datasetIndex:h,index:f})}return Xi(t,s,e,c),r}function ea(t,e,s,n,i,o){return!o&&!t.isPointInArea(e)?[]:s==="r"&&!n?Zw(t,e,s,i):e1(t,e,s,n,i,o)}function vd(t,e,s,n,i){const o=[],r=s==="x"?"inXRange":"inYRange";let a=!1;return Xi(t,s,e,(l,c,d)=>{l[r]&&l[r](e[s],i)&&(o.push({element:l,datasetIndex:c,index:d}),a=a||l.inRange(e.x,e.y,i))}),n&&!a?[]:o}var t1={evaluateInteractionItems:Xi,modes:{index(t,e,s,n){const i=en(e,t),o=s.axis||"x",r=s.includeInvisible||!1,a=s.intersect?Zr(t,i,o,n,r):ea(t,i,o,!1,n,r),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{const d=a[0].index,h=c.data[d];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:d})}),l):[]},dataset(t,e,s,n){const i=en(e,t),o=s.axis||"xy",r=s.includeInvisible||!1;let a=s.intersect?Zr(t,i,o,n,r):ea(t,i,o,!1,n,r);if(a.length>0){const l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let d=0;d<c.length;++d)a.push({element:c[d],datasetIndex:l,index:d})}return a},point(t,e,s,n){const i=en(e,t),o=s.axis||"xy",r=s.includeInvisible||!1;return Zr(t,i,o,n,r)},nearest(t,e,s,n){const i=en(e,t),o=s.axis||"xy",r=s.includeInvisible||!1;return ea(t,i,o,s.intersect,n,r)},x(t,e,s,n){const i=en(e,t);return vd(t,i,"x",s.intersect,n)},y(t,e,s,n){const i=en(e,t);return vd(t,i,"y",s.intersect,n)}}};const Uf=["left","top","right","bottom"];function Xn(t,e){return t.filter(s=>s.pos===e)}function wd(t,e){return t.filter(s=>Uf.indexOf(s.pos)===-1&&s.box.axis===e)}function Qn(t,e){return t.sort((s,n)=>{const i=e?n:s,o=e?s:n;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function s1(t){const e=[];let s,n,i,o,r,a;for(s=0,n=(t||[]).length;s<n;++s)i=t[s],{position:o,options:{stack:r,stackWeight:a=1}}=i,e.push({index:s,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:r&&o+r,stackWeight:a});return e}function n1(t){const e={};for(const s of t){const{stack:n,pos:i,stackWeight:o}=s;if(!n||!Uf.includes(i))continue;const r=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=o}return e}function i1(t,e){const s=n1(t),{vBoxMaxWidth:n,hBoxMaxHeight:i}=e;let o,r,a;for(o=0,r=t.length;o<r;++o){a=t[o];const{fullSize:l}=a.box,c=s[a.stack],d=c&&a.stackWeight/c.weight;a.horizontal?(a.width=d?d*n:l&&e.availableWidth,a.height=i):(a.width=n,a.height=d?d*i:l&&e.availableHeight)}return s}function o1(t){const e=s1(t),s=Qn(e.filter(c=>c.box.fullSize),!0),n=Qn(Xn(e,"left"),!0),i=Qn(Xn(e,"right")),o=Qn(Xn(e,"top"),!0),r=Qn(Xn(e,"bottom")),a=wd(e,"x"),l=wd(e,"y");return{fullSize:s,leftAndTop:n.concat(o),rightAndBottom:i.concat(l).concat(r).concat(a),chartArea:Xn(e,"chartArea"),vertical:n.concat(i).concat(l),horizontal:o.concat(r).concat(a)}}function kd(t,e,s,n){return Math.max(t[s],e[s])+Math.max(t[n],e[n])}function Nf(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function r1(t,e,s,n){const{pos:i,box:o}=s,r=t.maxPadding;if(!ye(i)){s.size&&(t[i]-=s.size);const h=n[s.stack]||{size:0,count:1};h.size=Math.max(h.size,s.horizontal?o.height:o.width),s.size=h.size/h.count,t[i]+=s.size}o.getPadding&&Nf(r,o.getPadding());const a=Math.max(0,e.outerWidth-kd(r,t,"left","right")),l=Math.max(0,e.outerHeight-kd(r,t,"top","bottom")),c=a!==t.w,d=l!==t.h;return t.w=a,t.h=l,s.horizontal?{same:c,other:d}:{same:d,other:c}}function a1(t){const e=t.maxPadding;function s(n){const i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=s("top"),t.x+=s("left"),s("right"),s("bottom")}function l1(t,e){const s=e.maxPadding;function n(i){const o={left:0,top:0,right:0,bottom:0};return i.forEach(r=>{o[r]=Math.max(e[r],s[r])}),o}return n(t?["left","right"]:["top","bottom"])}function oi(t,e,s,n){const i=[];let o,r,a,l,c,d;for(o=0,r=t.length,c=0;o<r;++o){a=t[o],l=a.box,l.update(a.width||e.w,a.height||e.h,l1(a.horizontal,e));const{same:h,other:f}=r1(e,s,a,n);c|=h&&i.length,d=d||f,l.fullSize||i.push(a)}return c&&oi(i,e,s,n)||d}function fo(t,e,s,n,i){t.top=s,t.left=e,t.right=e+n,t.bottom=s+i,t.width=n,t.height=i}function Sd(t,e,s,n){const i=s.padding;let{x:o,y:r}=e;for(const a of t){const l=a.box,c=n[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/c.weight||1;if(a.horizontal){const h=e.w*d,f=c.size||l.height;Fi(c.start)&&(r=c.start),l.fullSize?fo(l,i.left,r,s.outerWidth-i.right-i.left,f):fo(l,e.left+c.placed,r,h,f),c.start=r,c.placed+=h,r=l.bottom}else{const h=e.h*d,f=c.size||l.width;Fi(c.start)&&(o=c.start),l.fullSize?fo(l,o,i.top,f,s.outerHeight-i.bottom-i.top):fo(l,o,e.top+c.placed,f,h),c.start=o,c.placed+=h,o=l.right}}e.x=o,e.y=r}var st={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(s){e.draw(s)}}]},t.boxes.push(e)},removeBox(t,e){const s=t.boxes?t.boxes.indexOf(e):-1;s!==-1&&t.boxes.splice(s,1)},configure(t,e,s){e.fullSize=s.fullSize,e.position=s.position,e.weight=s.weight},update(t,e,s,n){if(!t)return;const i=ot(t.options.layout.padding),o=Math.max(e-i.width,0),r=Math.max(s-i.height,0),a=o1(t.boxes),l=a.vertical,c=a.horizontal;Me(t.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const d=l.reduce((g,b)=>b.box.options&&b.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:e,outerHeight:s,padding:i,availableWidth:o,availableHeight:r,vBoxMaxWidth:o/2/d,hBoxMaxHeight:r/2}),f=Object.assign({},i);Nf(f,ot(n));const p=Object.assign({maxPadding:f,w:o,h:r,x:i.left,y:i.top},i),m=i1(l.concat(c),h);oi(a.fullSize,p,h,m),oi(l,p,h,m),oi(c,p,h,m)&&oi(l,p,h,m),a1(p),Sd(a.leftAndTop,p,h,m),p.x+=p.w,p.y+=p.h,Sd(a.rightAndBottom,p,h,m),t.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Me(a.chartArea,g=>{const b=g.box;Object.assign(b,t.chartArea),b.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class $f{acquireContext(e,s){}releaseContext(e){return!1}addEventListener(e,s,n){}removeEventListener(e,s,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,s,n,i){return s=Math.max(0,s||e.width),n=n||e.height,{width:s,height:Math.max(0,i?Math.floor(s/i):n)}}isAttached(e){return!0}updateConfig(e){}}class c1 extends $f{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Do="$chartjs",d1={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Cd=t=>t===null||t==="";function u1(t,e){const s=t.style,n=t.getAttribute("height"),i=t.getAttribute("width");if(t[Do]={initial:{height:n,width:i,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",Cd(i)){const o=ld(t,"width");o!==void 0&&(t.width=o)}if(Cd(n))if(t.style.height==="")t.height=t.width/(e||2);else{const o=ld(t,"height");o!==void 0&&(t.height=o)}return t}const Bf=hw?{passive:!0}:!1;function h1(t,e,s){t&&t.addEventListener(e,s,Bf)}function f1(t,e,s){t&&t.canvas&&t.canvas.removeEventListener(e,s,Bf)}function p1(t,e){const s=d1[t.type]||t.type,{x:n,y:i}=en(t,e);return{type:s,chart:e,native:t,x:n!==void 0?n:null,y:i!==void 0?i:null}}function Xo(t,e){for(const s of t)if(s===e||s.contains(e))return!0}function m1(t,e,s){const n=t.canvas,i=new MutationObserver(o=>{let r=!1;for(const a of o)r=r||Xo(a.addedNodes,n),r=r&&!Xo(a.removedNodes,n);r&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}function g1(t,e,s){const n=t.canvas,i=new MutationObserver(o=>{let r=!1;for(const a of o)r=r||Xo(a.removedNodes,n),r=r&&!Xo(a.addedNodes,n);r&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}const Ni=new Map;let Md=0;function Vf(){const t=window.devicePixelRatio;t!==Md&&(Md=t,Ni.forEach((e,s)=>{s.currentDevicePixelRatio!==t&&e()}))}function b1(t,e){Ni.size||window.addEventListener("resize",Vf),Ni.set(t,e)}function y1(t){Ni.delete(t),Ni.size||window.removeEventListener("resize",Vf)}function x1(t,e,s){const n=t.canvas,i=n&&Tl(n);if(!i)return;const o=bf((a,l)=>{const c=i.clientWidth;s(a,l),c<i.clientWidth&&s()},window),r=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,d=l.contentRect.height;c===0&&d===0||o(c,d)});return r.observe(i),b1(t,o),r}function ta(t,e,s){s&&s.disconnect(),e==="resize"&&y1(t)}function _1(t,e,s){const n=t.canvas,i=bf(o=>{t.ctx!==null&&s(p1(o,t))},t);return h1(n,e,i),i}class v1 extends $f{acquireContext(e,s){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(u1(e,s),n):null}releaseContext(e){const s=e.canvas;if(!s[Do])return!1;const n=s[Do].initial;["height","width"].forEach(o=>{const r=n[o];ge(r)?s.removeAttribute(o):s.setAttribute(o,r)});const i=n.style||{};return Object.keys(i).forEach(o=>{s.style[o]=i[o]}),s.width=s.width,delete s[Do],!0}addEventListener(e,s,n){this.removeEventListener(e,s);const i=e.$proxies||(e.$proxies={}),r={attach:m1,detach:g1,resize:x1}[s]||_1;i[s]=r(e,s,n)}removeEventListener(e,s){const n=e.$proxies||(e.$proxies={}),i=n[s];if(!i)return;({attach:ta,detach:ta,resize:ta}[s]||f1)(e,s,i),n[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,s,n,i){return uw(e,s,n,i)}isAttached(e){const s=e&&Tl(e);return!!(s&&s.isConnected)}}function w1(t){return!Pl()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?c1:v1}var _o;let ks=(_o=class{constructor(){B(this,"x");B(this,"y");B(this,"active",!1);B(this,"options");B(this,"$animations")}tooltipPosition(e){const{x:s,y:n}=this.getProps(["x","y"],e);return{x:s,y:n}}hasValue(){return Un(this.x)&&Un(this.y)}getProps(e,s){const n=this.$animations;if(!s||!n)return this;const i={};return e.forEach(o=>{i[o]=n[o]&&n[o].active()?n[o]._to:this[o]}),i}},B(_o,"defaults",{}),B(_o,"defaultRoutes"),_o);function k1(t,e){const s=t.options.ticks,n=S1(t),i=Math.min(s.maxTicksLimit||n,n),o=s.major.enabled?M1(e):[],r=o.length,a=o[0],l=o[r-1],c=[];if(r>i)return A1(e,c,o,r/i),c;const d=C1(o,e,i);if(r>0){let h,f;const p=r>1?Math.round((l-a)/(r-1)):null;for(po(e,c,d,ge(p)?0:a-p,a),h=0,f=r-1;h<f;h++)po(e,c,d,o[h],o[h+1]);return po(e,c,d,l,ge(p)?e.length:l+p),c}return po(e,c,d),c}function S1(t){const e=t.options.offset,s=t._tickSize(),n=t._length/s+(e?0:1),i=t._maxLength/s;return Math.floor(Math.min(n,i))}function C1(t,e,s){const n=P1(t),i=e.length/s;if(!n)return Math.max(i,1);const o=pv(n);for(let r=0,a=o.length-1;r<a;r++){const l=o[r];if(l>i)return l}return Math.max(i,1)}function M1(t){const e=[];let s,n;for(s=0,n=t.length;s<n;s++)t[s].major&&e.push(s);return e}function A1(t,e,s,n){let i=0,o=s[0],r;for(n=Math.ceil(n),r=0;r<t.length;r++)r===o&&(e.push(t[r]),i++,o=s[i*n])}function po(t,e,s,n,i){const o=he(n,0),r=Math.min(he(i,t.length),t.length);let a=0,l,c,d;for(s=Math.ceil(s),i&&(l=i-n,s=l/Math.floor(l/s)),d=o;d<0;)a++,d=Math.round(o+a*s);for(c=Math.max(o,0);c<r;c++)c===d&&(e.push(t[c]),a++,d=Math.round(o+a*s))}function P1(t){const e=t.length;let s,n;if(e<2)return!1;for(n=t[0],s=1;s<e;++s)if(t[s]-t[s-1]!==n)return!1;return n}const T1=t=>t==="left"?"right":t==="right"?"left":t,Ad=(t,e,s)=>e==="top"||e==="left"?t[e]+s:t[e]-s,Pd=(t,e)=>Math.min(e||t,t);function Td(t,e){const s=[],n=t.length/e,i=t.length;let o=0;for(;o<i;o+=n)s.push(t[Math.floor(o)]);return s}function O1(t,e,s){const n=t.ticks.length,i=Math.min(e,n-1),o=t._startPixel,r=t._endPixel,a=1e-6;let l=t.getPixelForTick(i),c;if(!(s&&(n===1?c=Math.max(l-o,r-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(i-1))/2,l+=i<e?c:-c,l<o-a||l>r+a)))return l}function E1(t,e){Me(t,s=>{const n=s.gc,i=n.length/2;let o;if(i>e){for(o=0;o<i;++o)delete s.data[n[o]];n.splice(0,i)}})}function Zn(t){return t.drawTicks?t.tickLength:0}function Od(t,e){if(!t.display)return 0;const s=qe(t.font,e),n=ot(t.padding);return(Le(t.text)?t.text.length:1)*s.lineHeight+n.height}function D1(t,e){return Hs(t,{scale:e,type:"scale"})}function I1(t,e,s){return Hs(t,{tick:s,index:e,type:"tick"})}function R1(t,e,s){let n=wl(t);return(s&&e!=="right"||!s&&e==="right")&&(n=T1(n)),n}function L1(t,e,s,n){const{top:i,left:o,bottom:r,right:a,chart:l}=t,{chartArea:c,scales:d}=l;let h=0,f,p,m;const g=r-i,b=a-o;if(t.isHorizontal()){if(p=Ze(n,o,a),ye(s)){const _=Object.keys(s)[0],w=s[_];m=d[_].getPixelForValue(w)+g-e}else s==="center"?m=(c.bottom+c.top)/2+g-e:m=Ad(t,s,e);f=a-o}else{if(ye(s)){const _=Object.keys(s)[0],w=s[_];p=d[_].getPixelForValue(w)-b+e}else s==="center"?p=(c.left+c.right)/2-b+e:p=Ad(t,s,e);m=Ze(n,r,i),h=s==="left"?-Ve:Ve}return{titleX:p,titleY:m,maxWidth:f,rotation:h}}class fn extends ks{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,s){return e}getUserBounds(){let{_userMin:e,_userMax:s,_suggestedMin:n,_suggestedMax:i}=this;return e=kt(e,Number.POSITIVE_INFINITY),s=kt(s,Number.NEGATIVE_INFINITY),n=kt(n,Number.POSITIVE_INFINITY),i=kt(i,Number.NEGATIVE_INFINITY),{min:kt(e,n),max:kt(s,i),minDefined:$e(e),maxDefined:$e(s)}}getMinMax(e){let{min:s,max:n,minDefined:i,maxDefined:o}=this.getUserBounds(),r;if(i&&o)return{min:s,max:n};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)r=a[l].controller.getMinMax(this,e),i||(s=Math.min(s,r.min)),o||(n=Math.max(n,r.max));return s=o&&s>n?n:s,n=i&&s>n?s:n,{min:kt(s,kt(n,s)),max:kt(n,kt(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ie(this.options.beforeUpdate,[this])}update(e,s,n){const{beginAtZero:i,grace:o,ticks:r}=this.options,a=r.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=s,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=zv(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Td(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||r.source==="auto")&&(this.ticks=k1(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,s,n;this.isHorizontal()?(s=this.left,n=this.right):(s=this.top,n=this.bottom,e=!e),this._startPixel=s,this._endPixel=n,this._reversePixels=e,this._length=n-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ie(this.options.afterUpdate,[this])}beforeSetDimensions(){Ie(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ie(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ie(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ie(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const s=this.options.ticks;let n,i,o;for(n=0,i=e.length;n<i;n++)o=e[n],o.label=Ie(s.callback,[o.value,n,e],this)}afterTickToLabelConversion(){Ie(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ie(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,s=e.ticks,n=Pd(this.ticks.length,e.ticks.maxTicksLimit),i=s.minRotation||0,o=s.maxRotation;let r=i,a,l,c;if(!this._isVisible()||!s.display||i>=o||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const d=this._getLabelSizes(),h=d.widest.width,f=d.highest.height,p=Ge(this.chart.width-h,0,this.maxWidth);a=e.offset?this.maxWidth/n:p/(n-1),h+6>a&&(a=p/(n-(e.offset?.5:1)),l=this.maxHeight-Zn(e.grid)-s.padding-Od(e.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),r=_l(Math.min(Math.asin(Ge((d.highest.height+6)/a,-1,1)),Math.asin(Ge(l/c,-1,1))-Math.asin(Ge(f/c,-1,1)))),r=Math.max(i,Math.min(o,r))),this.labelRotation=r}afterCalculateLabelRotation(){Ie(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ie(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:s,options:{ticks:n,title:i,grid:o}}=this,r=this._isVisible(),a=this.isHorizontal();if(r){const l=Od(i,s.options.font);if(a?(e.width=this.maxWidth,e.height=Zn(o)+l):(e.height=this.maxHeight,e.width=Zn(o)+l),n.display&&this.ticks.length){const{first:c,last:d,widest:h,highest:f}=this._getLabelSizes(),p=n.padding*2,m=jt(this.labelRotation),g=Math.cos(m),b=Math.sin(m);if(a){const _=n.mirror?0:b*h.width+g*f.height;e.height=Math.min(this.maxHeight,e.height+_+p)}else{const _=n.mirror?0:g*h.width+b*f.height;e.width=Math.min(this.maxWidth,e.width+_+p)}this._calculatePadding(c,d,b,g)}}this._handleMargins(),a?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,s,n,i){const{ticks:{align:o,padding:r},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;l?c?(f=i*e.width,p=n*s.height):(f=n*e.height,p=i*s.width):o==="start"?p=s.width:o==="end"?f=e.width:o!=="inner"&&(f=e.width/2,p=s.width/2),this.paddingLeft=Math.max((f-d+r)*this.width/(this.width-d),0),this.paddingRight=Math.max((p-h+r)*this.width/(this.width-h),0)}else{let d=s.height/2,h=e.height/2;o==="start"?(d=0,h=e.height):o==="end"&&(d=s.height,h=0),this.paddingTop=d+r,this.paddingBottom=h+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ie(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:s}=this.options;return s==="top"||s==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let s,n;for(s=0,n=e.length;s<n;s++)ge(e[s].label)&&(e.splice(s,1),n--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const s=this.options.ticks.sampleSize;let n=this.ticks;s<n.length&&(n=Td(n,s)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,s,n){const{ctx:i,_longestTextCache:o}=this,r=[],a=[],l=Math.floor(s/Pd(s,n));let c=0,d=0,h,f,p,m,g,b,_,w,C,S,M;for(h=0;h<s;h+=l){if(m=e[h].label,g=this._resolveTickFontOptions(h),i.font=b=g.string,_=o[b]=o[b]||{data:{},gc:[]},w=g.lineHeight,C=S=0,!ge(m)&&!Le(m))C=Yo(i,_.data,_.gc,C,m),S=w;else if(Le(m))for(f=0,p=m.length;f<p;++f)M=m[f],!ge(M)&&!Le(M)&&(C=Yo(i,_.data,_.gc,C,M),S+=w);r.push(C),a.push(S),c=Math.max(C,c),d=Math.max(S,d)}E1(o,s);const L=r.indexOf(c),I=a.indexOf(d),$=X=>({width:r[X]||0,height:a[X]||0});return{first:$(0),last:$(s-1),widest:$(L),highest:$(I),widths:r,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,s){return NaN}getValueForPixel(e){}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const s=this._startPixel+e*this._length;return yv(this._alignToPixels?Ys(this.chart,s,0):s)}getDecimalForPixel(e){const s=(e-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:s}=this;return e<0&&s<0?s:e>0&&s>0?e:0}getContext(e){const s=this.ticks||[];if(e>=0&&e<s.length){const n=s[e];return n.$context||(n.$context=I1(this.getContext(),e,n))}return this.$context||(this.$context=D1(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,s=jt(this.labelRotation),n=Math.abs(Math.cos(s)),i=Math.abs(Math.sin(s)),o=this._getLabelSizes(),r=e.autoSkipPadding||0,a=o?o.widest.width+r:0,l=o?o.highest.height+r:0;return this.isHorizontal()?l*n>a*i?a/n:l/i:l*i<a*n?l/n:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const s=this.axis,n=this.chart,i=this.options,{grid:o,position:r,border:a}=i,l=o.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=Zn(o),p=[],m=a.setContext(this.getContext()),g=m.display?m.width:0,b=g/2,_=function(le){return Ys(n,le,g)};let w,C,S,M,L,I,$,X,ie,re,de,Ae;if(r==="top")w=_(this.bottom),I=this.bottom-f,X=w-b,re=_(e.top)+b,Ae=e.bottom;else if(r==="bottom")w=_(this.top),re=e.top,Ae=_(e.bottom)-b,I=w+b,X=this.top+f;else if(r==="left")w=_(this.right),L=this.right-f,$=w-b,ie=_(e.left)+b,de=e.right;else if(r==="right")w=_(this.left),ie=e.left,de=_(e.right)-b,L=w+b,$=this.left+f;else if(s==="x"){if(r==="center")w=_((e.top+e.bottom)/2+.5);else if(ye(r)){const le=Object.keys(r)[0],oe=r[le];w=_(this.chart.scales[le].getPixelForValue(oe))}re=e.top,Ae=e.bottom,I=w+b,X=I+f}else if(s==="y"){if(r==="center")w=_((e.left+e.right)/2);else if(ye(r)){const le=Object.keys(r)[0],oe=r[le];w=_(this.chart.scales[le].getPixelForValue(oe))}L=w-b,$=L-f,ie=e.left,de=e.right}const We=he(i.ticks.maxTicksLimit,h),xe=Math.max(1,Math.ceil(h/We));for(C=0;C<h;C+=xe){const le=this.getContext(C),oe=o.setContext(le),ue=a.setContext(le),Te=oe.lineWidth,rt=oe.color,at=ue.dash||[],Be=ue.dashOffset,Tt=oe.tickWidth,ut=oe.tickColor,Wt=oe.tickBorderDash||[],ze=oe.tickBorderDashOffset;S=O1(this,C,l),S!==void 0&&(M=Ys(n,S,Te),c?L=$=ie=de=M:I=X=re=Ae=M,p.push({tx1:L,ty1:I,tx2:$,ty2:X,x1:ie,y1:re,x2:de,y2:Ae,width:Te,color:rt,borderDash:at,borderDashOffset:Be,tickWidth:Tt,tickColor:ut,tickBorderDash:Wt,tickBorderDashOffset:ze}))}return this._ticksLength=h,this._borderValue=w,p}_computeLabelItems(e){const s=this.axis,n=this.options,{position:i,ticks:o}=n,r=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:d,mirror:h}=o,f=Zn(n.grid),p=f+d,m=h?-d:p,g=-jt(this.labelRotation),b=[];let _,w,C,S,M,L,I,$,X,ie,re,de,Ae="middle";if(i==="top")L=this.bottom-m,I=this._getXAxisLabelAlignment();else if(i==="bottom")L=this.top+m,I=this._getXAxisLabelAlignment();else if(i==="left"){const xe=this._getYAxisLabelAlignment(f);I=xe.textAlign,M=xe.x}else if(i==="right"){const xe=this._getYAxisLabelAlignment(f);I=xe.textAlign,M=xe.x}else if(s==="x"){if(i==="center")L=(e.top+e.bottom)/2+p;else if(ye(i)){const xe=Object.keys(i)[0],le=i[xe];L=this.chart.scales[xe].getPixelForValue(le)+p}I=this._getXAxisLabelAlignment()}else if(s==="y"){if(i==="center")M=(e.left+e.right)/2-p;else if(ye(i)){const xe=Object.keys(i)[0],le=i[xe];M=this.chart.scales[xe].getPixelForValue(le)}I=this._getYAxisLabelAlignment(f).textAlign}s==="y"&&(l==="start"?Ae="top":l==="end"&&(Ae="bottom"));const We=this._getLabelSizes();for(_=0,w=a.length;_<w;++_){C=a[_],S=C.label;const xe=o.setContext(this.getContext(_));$=this.getPixelForTick(_)+o.labelOffset,X=this._resolveTickFontOptions(_),ie=X.lineHeight,re=Le(S)?S.length:1;const le=re/2,oe=xe.color,ue=xe.textStrokeColor,Te=xe.textStrokeWidth;let rt=I;r?(M=$,I==="inner"&&(_===w-1?rt=this.options.reverse?"left":"right":_===0?rt=this.options.reverse?"right":"left":rt="center"),i==="top"?c==="near"||g!==0?de=-re*ie+ie/2:c==="center"?de=-We.highest.height/2-le*ie+ie:de=-We.highest.height+ie/2:c==="near"||g!==0?de=ie/2:c==="center"?de=We.highest.height/2-le*ie:de=We.highest.height-re*ie,h&&(de*=-1),g!==0&&!xe.showLabelBackdrop&&(M+=ie/2*Math.sin(g))):(L=$,de=(1-re)*ie/2);let at;if(xe.showLabelBackdrop){const Be=ot(xe.backdropPadding),Tt=We.heights[_],ut=We.widths[_];let Wt=de-Be.top,ze=0-Be.left;switch(Ae){case"middle":Wt-=Tt/2;break;case"bottom":Wt-=Tt;break}switch(I){case"center":ze-=ut/2;break;case"right":ze-=ut;break;case"inner":_===w-1?ze-=ut:_>0&&(ze-=ut/2);break}at={left:ze,top:Wt,width:ut+Be.width,height:Tt+Be.height,color:xe.backdropColor}}b.push({label:S,font:X,textOffset:de,options:{rotation:g,color:oe,strokeColor:ue,strokeWidth:Te,textAlign:rt,textBaseline:Ae,translation:[M,L],backdrop:at}})}return b}_getXAxisLabelAlignment(){const{position:e,ticks:s}=this.options;if(-jt(this.labelRotation))return e==="top"?"left":"right";let i="center";return s.align==="start"?i="left":s.align==="end"?i="right":s.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:s,ticks:{crossAlign:n,mirror:i,padding:o}}=this.options,r=this._getLabelSizes(),a=e+o,l=r.widest.width;let c,d;return s==="left"?i?(d=this.right+o,n==="near"?c="left":n==="center"?(c="center",d+=l/2):(c="right",d+=l)):(d=this.right-a,n==="near"?c="right":n==="center"?(c="center",d-=l/2):(c="left",d=this.left)):s==="right"?i?(d=this.left+o,n==="near"?c="right":n==="center"?(c="center",d-=l/2):(c="left",d-=l)):(d=this.left+a,n==="near"?c="left":n==="center"?(c="center",d+=l/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:s},left:n,top:i,width:o,height:r}=this;s&&(e.save(),e.fillStyle=s,e.fillRect(n,i,o,r),e.restore())}getLineWidthForValue(e){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const i=this.ticks.findIndex(o=>o.value===e);return i>=0?s.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const s=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,r;const a=(l,c,d)=>{!d.width||!d.color||(n.save(),n.lineWidth=d.width,n.strokeStyle=d.color,n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(s.display)for(o=0,r=i.length;o<r;++o){const l=i[o];s.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),s.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:s,options:{border:n,grid:i}}=this,o=n.setContext(this.getContext()),r=n.display?o.width:0;if(!r)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,d,h,f;this.isHorizontal()?(c=Ys(e,this.left,r)-r/2,d=Ys(e,this.right,a)+a/2,h=f=l):(h=Ys(e,this.top,r)-r/2,f=Ys(e,this.bottom,a)+a/2,c=d=l),s.save(),s.lineWidth=o.width,s.strokeStyle=o.color,s.beginPath(),s.moveTo(c,h),s.lineTo(d,f),s.stroke(),s.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&wr(n,i);const o=this.getLabelItems(e);for(const r of o){const a=r.options,l=r.font,c=r.label,d=r.textOffset;dn(n,c,0,d,l,a)}i&&kr(n)}drawTitle(){const{ctx:e,options:{position:s,title:n,reverse:i}}=this;if(!n.display)return;const o=qe(n.font),r=ot(n.padding),a=n.align;let l=o.lineHeight/2;s==="bottom"||s==="center"||ye(s)?(l+=r.bottom,Le(n.text)&&(l+=o.lineHeight*(n.text.length-1))):l+=r.top;const{titleX:c,titleY:d,maxWidth:h,rotation:f}=L1(this,l,s,a);dn(e,n.text,0,0,o,{color:n.color,maxWidth:h,rotation:f,textAlign:R1(a,s,i),textBaseline:"middle",translation:[c,d]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,s=e.ticks&&e.ticks.z||0,n=he(e.grid&&e.grid.z,-1),i=he(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==fn.prototype.draw?[{z:s,draw:o=>{this.draw(o)}}]:[{z:n,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:s,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const s=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let o,r;for(o=0,r=s.length;o<r;++o){const a=s[o];a[n]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const s=this.options.ticks.setContext(this.getContext(e));return qe(s.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class mo{constructor(e,s,n){this.type=e,this.scope=s,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const s=Object.getPrototypeOf(e);let n;U1(s)&&(n=this.register(s));const i=this.items,o=e.id,r=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in i||(i[o]=e,F1(e,r,n),this.override&&Ne.override(e.id,e.overrides)),r}get(e){return this.items[e]}unregister(e){const s=this.items,n=e.id,i=this.scope;n in s&&delete s[n],i&&n in Ne[i]&&(delete Ne[i][n],this.override&&delete cn[n])}}function F1(t,e,s){const n=Li(Object.create(null),[s?Ne.get(s):{},Ne.get(e),t.defaults]);Ne.set(e,n),t.defaultRoutes&&j1(e,t.defaultRoutes),t.descriptors&&Ne.describe(e,t.descriptors)}function j1(t,e){Object.keys(e).forEach(s=>{const n=s.split("."),i=n.pop(),o=[t].concat(n).join("."),r=e[s].split("."),a=r.pop(),l=r.join(".");Ne.route(o,i,l,a)})}function U1(t){return"id"in t&&"defaults"in t}class N1{constructor(){this.controllers=new mo($t,"datasets",!0),this.elements=new mo(ks,"elements"),this.plugins=new mo(Object,"plugins"),this.scales=new mo(fn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,s,n){[...s].forEach(i=>{const o=n||this._getRegistryForType(i);n||o.isForType(i)||o===this.plugins&&i.id?this._exec(e,o,i):Me(i,r=>{const a=n||this._getRegistryForType(r);this._exec(e,a,r)})})}_exec(e,s,n){const i=xl(e);Ie(n["before"+i],[],n),s[e](n),Ie(n["after"+i],[],n)}_getRegistryForType(e){for(let s=0;s<this._typedRegistries.length;s++){const n=this._typedRegistries[s];if(n.isForType(e))return n}return this.plugins}_get(e,s,n){const i=s.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return i}}var Xt=new N1;class $1{constructor(){this._init=[]}notify(e,s,n,i){s==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=i?this._descriptors(e).filter(i):this._descriptors(e),r=this._notify(o,e,s,n);return s==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),r}_notify(e,s,n,i){i=i||{};for(const o of e){const r=o.plugin,a=r[n],l=[s,i,o.options];if(Ie(a,l,r)===!1&&i.cancelable)return!1}return!0}invalidate(){ge(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),s}_createDescriptors(e,s){const n=e&&e.config,i=he(n.options&&n.options.plugins,{}),o=B1(n);return i===!1&&!s?[]:z1(e,o,i,s)}_notifyStateChanges(e){const s=this._oldCache||[],n=this._cache,i=(o,r)=>o.filter(a=>!r.some(l=>a.plugin.id===l.plugin.id));this._notify(i(s,n),e,"stop"),this._notify(i(n,s),e,"start")}}function B1(t){const e={},s=[],n=Object.keys(Xt.plugins.items);for(let o=0;o<n.length;o++)s.push(Xt.getPlugin(n[o]));const i=t.plugins||[];for(let o=0;o<i.length;o++){const r=i[o];s.indexOf(r)===-1&&(s.push(r),e[r.id]=!0)}return{plugins:s,localIds:e}}function V1(t,e){return!e&&t===!1?null:t===!0?{}:t}function z1(t,{plugins:e,localIds:s},n,i){const o=[],r=t.getContext();for(const a of e){const l=a.id,c=V1(n[l],i);c!==null&&o.push({plugin:a,options:H1(t.config,{plugin:a,local:s[l]},c,r)})}return o}function H1(t,{plugin:e,local:s},n,i){const o=t.pluginScopeKeys(e),r=t.getOptionScopes(n,o);return s&&e.defaults&&r.push(e.defaults),t.createResolver(r,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Da(t,e){const s=Ne.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||s.indexAxis||"x"}function W1(t,e){let s=t;return t==="_index_"?s=e:t==="_value_"&&(s=e==="x"?"y":"x"),s}function q1(t,e){return t===e?"_index_":"_value_"}function Ed(t){if(t==="x"||t==="y"||t==="r")return t}function K1(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Ia(t,...e){if(Ed(t))return t;for(const s of e){const n=s.axis||K1(s.position)||t.length>1&&Ed(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Dd(t,e,s){if(s[e+"AxisID"]===t)return{axis:e}}function G1(t,e){if(e.data&&e.data.datasets){const s=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(s.length)return Dd(t,"x",s[0])||Dd(t,"y",s[0])}return{}}function Y1(t,e){const s=cn[t.type]||{scales:{}},n=e.scales||{},i=Da(t.type,e),o=Object.create(null);return Object.keys(n).forEach(r=>{const a=n[r];if(!ye(a))return console.error(`Invalid scale configuration for scale: ${r}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${r}`);const l=Ia(r,a,G1(r,t),Ne.scales[a.type]),c=q1(l,i),d=s.scales||{};o[r]=xi(Object.create(null),[{axis:l},a,d[l],d[c]])}),t.data.datasets.forEach(r=>{const a=r.type||t.type,l=r.indexAxis||Da(a,e),d=(cn[a]||{}).scales||{};Object.keys(d).forEach(h=>{const f=W1(h,l),p=r[f+"AxisID"]||f;o[p]=o[p]||Object.create(null),xi(o[p],[{axis:f},n[p],d[h]])})}),Object.keys(o).forEach(r=>{const a=o[r];xi(a,[Ne.scales[a.type],Ne.scale])}),o}function zf(t){const e=t.options||(t.options={});e.plugins=he(e.plugins,{}),e.scales=Y1(t,e)}function Hf(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function J1(t){return t=t||{},t.data=Hf(t.data),zf(t),t}const Id=new Map,Wf=new Set;function go(t,e){let s=Id.get(t);return s||(s=e(),Id.set(t,s),Wf.add(s)),s}const ei=(t,e,s)=>{const n=$s(e,s);n!==void 0&&t.add(n)};class X1{constructor(e){this._config=J1(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Hf(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),zf(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return go(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,s){return go(`${e}.transition.${s}`,()=>[[`datasets.${e}.transitions.${s}`,`transitions.${s}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,s){return go(`${e}-${s}`,()=>[[`datasets.${e}.elements.${s}`,`datasets.${e}`,`elements.${s}`,""]])}pluginScopeKeys(e){const s=e.id,n=this.type;return go(`${n}-plugin-${s}`,()=>[[`plugins.${s}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,s){const n=this._scopeCache;let i=n.get(e);return(!i||s)&&(i=new Map,n.set(e,i)),i}getOptionScopes(e,s,n){const{options:i,type:o}=this,r=this._cachedScopes(e,n),a=r.get(s);if(a)return a;const l=new Set;s.forEach(d=>{e&&(l.add(e),d.forEach(h=>ei(l,e,h))),d.forEach(h=>ei(l,i,h)),d.forEach(h=>ei(l,cn[o]||{},h)),d.forEach(h=>ei(l,Ne,h)),d.forEach(h=>ei(l,Ta,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Wf.has(s)&&r.set(s,c),c}chartOptionScopes(){const{options:e,type:s}=this;return[e,cn[s]||{},Ne.datasets[s]||{},{type:s},Ne,Ta]}resolveNamedOptions(e,s,n,i=[""]){const o={$shared:!0},{resolver:r,subPrefixes:a}=Rd(this._resolverCache,e,i);let l=r;if(Z1(r,s)){o.$shared=!1,n=Bs(n)?n():n;const c=this.createResolver(e,n,a);l=Nn(r,n,c)}for(const c of s)o[c]=l[c];return o}createResolver(e,s,n=[""],i){const{resolver:o}=Rd(this._resolverCache,e,n);return ye(s)?Nn(o,s,void 0,i):o}}function Rd(t,e,s){let n=t.get(e);n||(n=new Map,t.set(e,n));const i=s.join();let o=n.get(i);return o||(o={resolver:Cl(e,s),subPrefixes:s.filter(a=>!a.toLowerCase().includes("hover"))},n.set(i,o)),o}const Q1=t=>ye(t)&&Object.getOwnPropertyNames(t).some(e=>Bs(t[e]));function Z1(t,e){const{isScriptable:s,isIndexable:n}=kf(t);for(const i of e){const o=s(i),r=n(i),a=(r||o)&&t[i];if(o&&(Bs(a)||Q1(a))||r&&Le(a))return!0}return!1}var ek="4.4.9";const tk=["top","bottom","left","right","chartArea"];function Ld(t,e){return t==="top"||t==="bottom"||tk.indexOf(t)===-1&&e==="x"}function Fd(t,e){return function(s,n){return s[t]===n[t]?s[e]-n[e]:s[t]-n[t]}}function jd(t){const e=t.chart,s=e.options.animation;e.notifyPlugins("afterRender"),Ie(s&&s.onComplete,[t],e)}function sk(t){const e=t.chart,s=e.options.animation;Ie(s&&s.onProgress,[t],e)}function qf(t){return Pl()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Io={},Ud=t=>{const e=qf(t);return Object.values(Io).filter(s=>s.canvas===e).pop()};function nk(t,e,s){const n=Object.keys(t);for(const i of n){const o=+i;if(o>=e){const r=t[i];delete t[i],(s>0||o>e)&&(t[o+s]=r)}}}function ik(t,e,s,n){return!s||t.type==="mouseout"?null:n?e:t}class Zt{static register(...e){Xt.add(...e),Nd()}static unregister(...e){Xt.remove(...e),Nd()}constructor(e,s){const n=this.config=new X1(s),i=qf(e),o=Ud(i);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const r=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||w1(i)),this.platform.updateConfig(n);const a=this.platform.acquireContext(i,r.aspectRatio),l=a&&a.canvas,c=l&&l.height,d=l&&l.width;if(this.id=ov(),this.ctx=a,this.canvas=l,this.width=d,this.height=c,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new $1,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=wv(h=>this.update(h),r.resizeDelay||0),this._dataChanges=[],Io[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}as.listen(this,"complete",jd),as.listen(this,"progress",sk),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:s},width:n,height:i,_aspectRatio:o}=this;return ge(e)?s&&o?o:i?n/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Xt}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ad(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return id(this.canvas,this.ctx),this}stop(){return as.stop(this),this}resize(e,s){as.running(this)?this._resizeBeforeDraw={width:e,height:s}:this._resize(e,s)}_resize(e,s){const n=this.options,i=this.canvas,o=n.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(i,e,s,o),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,ad(this,a,!0)&&(this.notifyPlugins("resize",{size:r}),Ie(n.onResize,[this,r],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};Me(s,(n,i)=>{n.id=i})}buildOrUpdateScales(){const e=this.options,s=e.scales,n=this.scales,i=Object.keys(n).reduce((r,a)=>(r[a]=!1,r),{});let o=[];s&&(o=o.concat(Object.keys(s).map(r=>{const a=s[r],l=Ia(r,a),c=l==="r",d=l==="x";return{options:a,dposition:c?"chartArea":d?"bottom":"left",dtype:c?"radialLinear":d?"category":"linear"}}))),Me(o,r=>{const a=r.options,l=a.id,c=Ia(l,a),d=he(a.type,r.dtype);(a.position===void 0||Ld(a.position,c)!==Ld(r.dposition))&&(a.position=r.dposition),i[l]=!0;let h=null;if(l in n&&n[l].type===d)h=n[l];else{const f=Xt.getScale(d);h=new f({id:l,type:d,ctx:this.ctx,chart:this}),n[h.id]=h}h.init(a,e)}),Me(i,(r,a)=>{r||delete n[a]}),Me(n,r=>{st.configure(this,r,r.options),st.addBox(this,r)})}_updateMetasets(){const e=this._metasets,s=this.data.datasets.length,n=e.length;if(e.sort((i,o)=>i.index-o.index),n>s){for(let i=s;i<n;++i)this._destroyDatasetMeta(i);e.splice(s,n-s)}this._sortedMetasets=e.slice(0).sort(Fd("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:s}}=this;e.length>s.length&&delete this._stacks,e.forEach((n,i)=>{s.filter(o=>o===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],s=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=s.length;n<i;n++){const o=s[n];let r=this.getDatasetMeta(n);const a=o.type||this.config.type;if(r.type&&r.type!==a&&(this._destroyDatasetMeta(n),r=this.getDatasetMeta(n)),r.type=a,r.indexAxis=o.indexAxis||Da(a,this.options),r.order=o.order||0,r.index=n,r.label=""+o.label,r.visible=this.isDatasetVisible(n),r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{const l=Xt.getController(a),{datasetElementType:c,dataElementType:d}=Ne.datasets[a];Object.assign(l,{dataElementType:Xt.getElement(d),datasetElementType:c&&Xt.getElement(c)}),r.controller=new l(this,n),e.push(r.controller)}}return this._updateMetasets(),e}_resetElements(){Me(this.data.datasets,(e,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const s=this.config;s.update();const n=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let c=0,d=this.data.datasets.length;c<d;c++){const{controller:h}=this.getDatasetMeta(c),f=!i&&o.indexOf(h)===-1;h.buildOrUpdateElements(f),r=Math.max(+h.getMaxOverflow(),r)}r=this._minPadding=n.layout.autoPadding?r:0,this._updateLayout(r),i||Me(o,c=>{c.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Fd("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Me(this.scales,e=>{st.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,s=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!Yc(s,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,s=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:o}of s){const r=n==="_removeElements"?-o:o;nk(e,i,r)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const s=this.data.datasets.length,n=o=>new Set(e.filter(r=>r[0]===o).map((r,a)=>a+","+r.splice(1).join(","))),i=n(0);for(let o=1;o<s;o++)if(!Yc(i,n(o)))return;return Array.from(i).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;st.update(this,this.width,this.height,e);const s=this.chartArea,n=s.width<=0||s.height<=0;this._layers=[],Me(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,o)=>{i._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let s=0,n=this.data.datasets.length;s<n;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,n=this.data.datasets.length;s<n;++s)this._updateDataset(s,Bs(e)?e({datasetIndex:s}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,s){const n=this.getDatasetMeta(e),i={meta:n,index:e,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(s),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(as.has(this)?this.attached&&!as.running(this)&&as.start(this):(this.draw(),jd({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(e=0;e<s.length&&s[e].z<=0;++e)s[e].draw(this.chartArea);for(this._drawDatasets();e<s.length;++e)s[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const s=this._sortedMetasets,n=[];let i,o;for(i=0,o=s.length;i<o;++i){const r=s[i];(!e||r.visible)&&n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let s=e.length-1;s>=0;--s)this._drawDataset(e[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const s=this.ctx,n={meta:e,index:e.index,cancelable:!0},i=Rf(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&wr(s,i),e.controller.draw(),i&&kr(s),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return gs(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,s,n,i){const o=t1.modes[s];return typeof o=="function"?o(this,e,n,i):[]}getDatasetMeta(e){const s=this.data.datasets[e],n=this._metasets;let i=n.filter(o=>o&&o._dataset===s).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:e,_dataset:s,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=Hs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const s=this.data.datasets[e];if(!s)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!s.hidden}setDatasetVisibility(e,s){const n=this.getDatasetMeta(e);n.hidden=!s}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,s,n){const i=n?"show":"hide",o=this.getDatasetMeta(e),r=o.controller._resolveAnimations(void 0,i);Fi(s)?(o.data[s].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),r.update(o,{visible:n}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,s){this._updateVisibility(e,s,!1)}show(e,s){this._updateVisibility(e,s,!0)}_destroyDatasetMeta(e){const s=this._metasets[e];s&&s.controller&&s.controller._destroy(),delete this._metasets[e]}_stop(){let e,s;for(this.stop(),as.remove(this),e=0,s=this.data.datasets.length;e<s;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:s}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),id(e,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete Io[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,s=this.platform,n=(o,r)=>{s.addEventListener(this,o,r),e[o]=r},i=(o,r,a)=>{o.offsetX=r,o.offsetY=a,this._eventHandler(o)};Me(this.options.events,o=>n(o,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,s=this.platform,n=(l,c)=>{s.addEventListener(this,l,c),e[l]=c},i=(l,c)=>{e[l]&&(s.removeEventListener(this,l,c),delete e[l])},o=(l,c)=>{this.canvas&&this.resize(l,c)};let r;const a=()=>{i("attach",a),this.attached=!0,this.resize(),n("resize",o),n("detach",r)};r=()=>{this.attached=!1,i("resize",o),this._stop(),this._resize(0,0),n("attach",a)},s.isAttached(this.canvas)?a():r()}unbindEvents(){Me(this._listeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._listeners={},Me(this._responsiveListeners,(e,s)=>{this.platform.removeEventListener(this,s,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,s,n){const i=n?"set":"remove";let o,r,a,l;for(s==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){r=e[a];const c=r&&this.getDatasetMeta(r.datasetIndex).controller;c&&c[i+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const s=this._active||[],n=e.map(({datasetIndex:o,index:r})=>{const a=this.getDatasetMeta(o);if(!a)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:a.data[r],index:r}});!qo(n,s)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,s))}notifyPlugins(e,s,n){return this._plugins.notify(this,e,s,n)}isPluginEnabled(e){return this._plugins._cache.filter(s=>s.plugin.id===e).length===1}_updateHoverStyles(e,s,n){const i=this.options.hover,o=(l,c)=>l.filter(d=>!c.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),r=o(s,e),a=n?e:o(e,s);r.length&&this.updateHoverStyle(r,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,s){const n={event:e,replay:s,cancelable:!0,inChartArea:this.isPointInArea(e)},i=r=>(r.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const o=this._handleEvent(e,s,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(o||n.changed)&&this.render(),this}_handleEvent(e,s,n){const{_active:i=[],options:o}=this,r=s,a=this._getActiveElements(e,i,n,r),l=uv(e),c=ik(e,this._lastEvent,n,l);n&&(this._lastEvent=null,Ie(o.onHover,[e,a,this],this),l&&Ie(o.onClick,[e,a,this],this));const d=!qo(a,i);return(d||s)&&(this._active=a,this._updateHoverStyles(a,i,s)),this._lastEvent=c,d}_getActiveElements(e,s,n,i){if(e.type==="mouseout")return[];if(!n)return s;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,i)}}B(Zt,"defaults",Ne),B(Zt,"instances",Io),B(Zt,"overrides",cn),B(Zt,"registry",Xt),B(Zt,"version",ek),B(Zt,"getChart",Ud);function Nd(){return Me(Zt.instances,t=>t._plugins.invalidate())}function ok(t,e,s){const{startAngle:n,pixelMargin:i,x:o,y:r,outerRadius:a,innerRadius:l}=e;let c=i/a;t.beginPath(),t.arc(o,r,a,n-c,s+c),l>i?(c=i/l,t.arc(o,r,l,s+c,n-c,!0)):t.arc(o,r,i,s+Ve,n-Ve),t.closePath(),t.clip()}function rk(t){return Sl(t,["outerStart","outerEnd","innerStart","innerEnd"])}function ak(t,e,s,n){const i=rk(t.options.borderRadius),o=(s-e)/2,r=Math.min(o,n*e/2),a=l=>{const c=(s-Math.min(o,l))*n/2;return Ge(l,0,Math.min(o,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Ge(i.innerStart,0,r),innerEnd:Ge(i.innerEnd,0,r)}}function xn(t,e,s,n){return{x:s+t*Math.cos(e),y:n+t*Math.sin(e)}}function Qo(t,e,s,n,i,o){const{x:r,y:a,startAngle:l,pixelMargin:c,innerRadius:d}=e,h=Math.max(e.outerRadius+n+s-c,0),f=d>0?d+n+s+c:0;let p=0;const m=i-l;if(n){const xe=d>0?d-n:0,le=h>0?h-n:0,oe=(xe+le)/2,ue=oe!==0?m*oe/(oe+n):m;p=(m-ue)/2}const g=Math.max(.001,m*h-s/je)/h,b=(m-g)/2,_=l+b+p,w=i-b-p,{outerStart:C,outerEnd:S,innerStart:M,innerEnd:L}=ak(e,f,h,w-_),I=h-C,$=h-S,X=_+C/I,ie=w-S/$,re=f+M,de=f+L,Ae=_+M/re,We=w-L/de;if(t.beginPath(),o){const xe=(X+ie)/2;if(t.arc(r,a,h,X,xe),t.arc(r,a,h,xe,ie),S>0){const Te=xn($,ie,r,a);t.arc(Te.x,Te.y,S,ie,w+Ve)}const le=xn(de,w,r,a);if(t.lineTo(le.x,le.y),L>0){const Te=xn(de,We,r,a);t.arc(Te.x,Te.y,L,w+Ve,We+Math.PI)}const oe=(w-L/f+(_+M/f))/2;if(t.arc(r,a,f,w-L/f,oe,!0),t.arc(r,a,f,oe,_+M/f,!0),M>0){const Te=xn(re,Ae,r,a);t.arc(Te.x,Te.y,M,Ae+Math.PI,_-Ve)}const ue=xn(I,_,r,a);if(t.lineTo(ue.x,ue.y),C>0){const Te=xn(I,X,r,a);t.arc(Te.x,Te.y,C,_-Ve,X)}}else{t.moveTo(r,a);const xe=Math.cos(X)*h+r,le=Math.sin(X)*h+a;t.lineTo(xe,le);const oe=Math.cos(ie)*h+r,ue=Math.sin(ie)*h+a;t.lineTo(oe,ue)}t.closePath()}function lk(t,e,s,n,i){const{fullCircles:o,startAngle:r,circumference:a}=e;let l=e.endAngle;if(o){Qo(t,e,s,n,l,i);for(let c=0;c<o;++c)t.fill();isNaN(a)||(l=r+(a%Fe||Fe))}return Qo(t,e,s,n,l,i),t.fill(),l}function ck(t,e,s,n,i){const{fullCircles:o,startAngle:r,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:d,borderDash:h,borderDashOffset:f}=l,p=l.borderAlign==="inner";if(!c)return;t.setLineDash(h||[]),t.lineDashOffset=f,p?(t.lineWidth=c*2,t.lineJoin=d||"round"):(t.lineWidth=c,t.lineJoin=d||"bevel");let m=e.endAngle;if(o){Qo(t,e,s,n,m,i);for(let g=0;g<o;++g)t.stroke();isNaN(a)||(m=r+(a%Fe||Fe))}p&&ok(t,e,m),o||(Qo(t,e,s,n,m,i),t.stroke())}class ri extends ks{constructor(s){super();B(this,"circumference");B(this,"endAngle");B(this,"fullCircles");B(this,"innerRadius");B(this,"outerRadius");B(this,"pixelMargin");B(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,n,i){const o=this.getProps(["x","y"],i),{angle:r,distance:a}=ff(o,{x:s,y:n}),{startAngle:l,endAngle:c,innerRadius:d,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),p=(this.options.spacing+this.options.borderWidth)/2,m=he(f,c-l),g=ji(r,l,c)&&l!==c,b=m>=Fe||g,_=ps(a,d+p,h+p);return b&&_}getCenterPoint(s){const{x:n,y:i,startAngle:o,endAngle:r,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:c,spacing:d}=this.options,h=(o+r)/2,f=(a+l+d+c)/2;return{x:n+Math.cos(h)*f,y:i+Math.sin(h)*f}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:n,circumference:i}=this,o=(n.offset||0)/4,r=(n.spacing||0)/2,a=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>Fe?Math.floor(i/Fe):0,i===0||this.innerRadius<0||this.outerRadius<0)return;s.save();const l=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(l)*o,Math.sin(l)*o);const c=1-Math.sin(Math.min(je,i||0)),d=o*c;s.fillStyle=n.backgroundColor,s.strokeStyle=n.borderColor,lk(s,this,d,r,a),ck(s,this,d,r,a),s.restore()}}B(ri,"id","arc"),B(ri,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),B(ri,"defaultRoutes",{backgroundColor:"backgroundColor"}),B(ri,"descriptors",{_scriptable:!0,_indexable:s=>s!=="borderDash"});function Kf(t,e,s=e){t.lineCap=he(s.borderCapStyle,e.borderCapStyle),t.setLineDash(he(s.borderDash,e.borderDash)),t.lineDashOffset=he(s.borderDashOffset,e.borderDashOffset),t.lineJoin=he(s.borderJoinStyle,e.borderJoinStyle),t.lineWidth=he(s.borderWidth,e.borderWidth),t.strokeStyle=he(s.borderColor,e.borderColor)}function dk(t,e,s){t.lineTo(s.x,s.y)}function uk(t){return t.stepped?Rv:t.tension||t.cubicInterpolationMode==="monotone"?Lv:dk}function Gf(t,e,s={}){const n=t.length,{start:i=0,end:o=n-1}=s,{start:r,end:a}=e,l=Math.max(i,r),c=Math.min(o,a),d=i<r&&o<r||i>a&&o>a;return{count:n,start:l,loop:e.loop,ilen:c<l&&!d?n+c-l:c-l}}function hk(t,e,s,n){const{points:i,options:o}=e,{count:r,start:a,loop:l,ilen:c}=Gf(i,s,n),d=uk(o);let{move:h=!0,reverse:f}=n||{},p,m,g;for(p=0;p<=c;++p)m=i[(a+(f?c-p:p))%r],!m.skip&&(h?(t.moveTo(m.x,m.y),h=!1):d(t,g,m,f,o.stepped),g=m);return l&&(m=i[(a+(f?c:0))%r],d(t,g,m,f,o.stepped)),!!l}function fk(t,e,s,n){const i=e.points,{count:o,start:r,ilen:a}=Gf(i,s,n),{move:l=!0,reverse:c}=n||{};let d=0,h=0,f,p,m,g,b,_;const w=S=>(r+(c?a-S:S))%o,C=()=>{g!==b&&(t.lineTo(d,b),t.lineTo(d,g),t.lineTo(d,_))};for(l&&(p=i[w(0)],t.moveTo(p.x,p.y)),f=0;f<=a;++f){if(p=i[w(f)],p.skip)continue;const S=p.x,M=p.y,L=S|0;L===m?(M<g?g=M:M>b&&(b=M),d=(h*d+S)/++h):(C(),t.lineTo(S,M),m=L,h=0,g=b=M),_=M}C()}function Ra(t){const e=t.options,s=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!s?fk:hk}function pk(t){return t.stepped?fw:t.tension||t.cubicInterpolationMode==="monotone"?pw:tn}function mk(t,e,s,n){let i=e._path;i||(i=e._path=new Path2D,e.path(i,s,n)&&i.closePath()),Kf(t,e.options),t.stroke(i)}function gk(t,e,s,n){const{segments:i,options:o}=e,r=Ra(e);for(const a of i)Kf(t,o,a.style),t.beginPath(),r(t,e,a,{start:s,end:s+n-1})&&t.closePath(),t.stroke()}const bk=typeof Path2D=="function";function yk(t,e,s,n){bk&&!e.options.segment?mk(t,e,s,n):gk(t,e,s,n)}class Ls extends ks{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,s){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;ow(this._points,n,e,i,s),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_w(this,this.options.segment))}first(){const e=this.segments,s=this.points;return e.length&&s[e[0].start]}last(){const e=this.segments,s=this.points,n=e.length;return n&&s[e[n-1].end]}interpolate(e,s){const n=this.options,i=e[s],o=this.points,r=If(this,{property:s,start:i,end:i});if(!r.length)return;const a=[],l=pk(n);let c,d;for(c=0,d=r.length;c<d;++c){const{start:h,end:f}=r[c],p=o[h],m=o[f];if(p===m){a.push(p);continue}const g=Math.abs((i-p[s])/(m[s]-p[s])),b=l(p,m,g,n.stepped);b[s]=e[s],a.push(b)}return a.length===1?a[0]:a}pathSegment(e,s,n){return Ra(this)(e,this,s,n)}path(e,s,n){const i=this.segments,o=Ra(this);let r=this._loop;s=s||0,n=n||this.points.length-s;for(const a of i)r&=o(e,this,a,{start:s,end:s+n-1});return!!r}draw(e,s,n,i){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),yk(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}B(Ls,"id","line"),B(Ls,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),B(Ls,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),B(Ls,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function $d(t,e,s,n){const i=t.options,{[s]:o}=t.getProps([s],n);return Math.abs(e-o)<i.radius+i.hitRadius}class Ro extends ks{constructor(s){super();B(this,"parsed");B(this,"skip");B(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,n,i){const o=this.options,{x:r,y:a}=this.getProps(["x","y"],i);return Math.pow(s-r,2)+Math.pow(n-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(s,n){return $d(this,s,"x",n)}inYRange(s,n){return $d(this,s,"y",n)}getCenterPoint(s){const{x:n,y:i}=this.getProps(["x","y"],s);return{x:n,y:i}}size(s){s=s||this.options||{};let n=s.radius||0;n=Math.max(n,n&&s.hoverRadius||0);const i=n&&s.borderWidth||0;return(n+i)*2}draw(s,n){const i=this.options;this.skip||i.radius<.1||!gs(this,n,this.size(i)/2)||(s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.fillStyle=i.backgroundColor,Oa(s,i,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}B(Ro,"id","point"),B(Ro,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),B(Ro,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Yf(t,e){const{x:s,y:n,base:i,width:o,height:r}=t.getProps(["x","y","base","width","height"],e);let a,l,c,d,h;return t.horizontal?(h=r/2,a=Math.min(s,i),l=Math.max(s,i),c=n-h,d=n+h):(h=o/2,a=s-h,l=s+h,c=Math.min(n,i),d=Math.max(n,i)),{left:a,top:c,right:l,bottom:d}}function Fs(t,e,s,n){return t?0:Ge(e,s,n)}function xk(t,e,s){const n=t.options.borderWidth,i=t.borderSkipped,o=wf(n);return{t:Fs(i.top,o.top,0,s),r:Fs(i.right,o.right,0,e),b:Fs(i.bottom,o.bottom,0,s),l:Fs(i.left,o.left,0,e)}}function _k(t,e,s){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,o=rn(i),r=Math.min(e,s),a=t.borderSkipped,l=n||ye(i);return{topLeft:Fs(!l||a.top||a.left,o.topLeft,0,r),topRight:Fs(!l||a.top||a.right,o.topRight,0,r),bottomLeft:Fs(!l||a.bottom||a.left,o.bottomLeft,0,r),bottomRight:Fs(!l||a.bottom||a.right,o.bottomRight,0,r)}}function vk(t){const e=Yf(t),s=e.right-e.left,n=e.bottom-e.top,i=xk(t,s/2,n/2),o=_k(t,s/2,n/2);return{outer:{x:e.left,y:e.top,w:s,h:n,radius:o},inner:{x:e.left+i.l,y:e.top+i.t,w:s-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function sa(t,e,s,n){const i=e===null,o=s===null,a=t&&!(i&&o)&&Yf(t,n);return a&&(i||ps(e,a.left,a.right))&&(o||ps(s,a.top,a.bottom))}function wk(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function kk(t,e){t.rect(e.x,e.y,e.w,e.h)}function na(t,e,s={}){const n=t.x!==s.x?-e:0,i=t.y!==s.y?-e:0,o=(t.x+t.w!==s.x+s.w?e:0)-n,r=(t.y+t.h!==s.y+s.h?e:0)-i;return{x:t.x+n,y:t.y+i,w:t.w+o,h:t.h+r,radius:t.radius}}class Lo extends ks{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:s,options:{borderColor:n,backgroundColor:i}}=this,{inner:o,outer:r}=vk(this),a=wk(r.radius)?Ui:kk;e.save(),(r.w!==o.w||r.h!==o.h)&&(e.beginPath(),a(e,na(r,s,o)),e.clip(),a(e,na(o,-s,r)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),a(e,na(o,s)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,s,n){return sa(this,e,s,n)}inXRange(e,s){return sa(this,e,null,s)}inYRange(e,s){return sa(this,null,e,s)}getCenterPoint(e){const{x:s,y:n,base:i,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(s+i)/2:s,y:o?n:(n+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}B(Lo,"id","bar"),B(Lo,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),B(Lo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Sk=Object.freeze({__proto__:null,ArcElement:ri,BarElement:Lo,LineElement:Ls,PointElement:Ro});const La=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Bd=La.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function Jf(t){return La[t%La.length]}function Xf(t){return Bd[t%Bd.length]}function Ck(t,e){return t.borderColor=Jf(e),t.backgroundColor=Xf(e),++e}function Mk(t,e){return t.backgroundColor=t.data.map(()=>Jf(e++)),e}function Ak(t,e){return t.backgroundColor=t.data.map(()=>Xf(e++)),e}function Pk(t){let e=0;return(s,n)=>{const i=t.getDatasetMeta(n).controller;i instanceof nn?e=Mk(s,e):i instanceof ki?e=Ak(s,e):i&&(e=Ck(s,e))}}function Vd(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function Tk(t){return t&&(t.borderColor||t.backgroundColor)}function Ok(){return Ne.borderColor!=="rgba(0,0,0,0.1)"||Ne.backgroundColor!=="rgba(0,0,0,0.1)"}var Ek={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,s){if(!s.enabled)return;const{data:{datasets:n},options:i}=t.config,{elements:o}=i,r=Vd(n)||Tk(i)||o&&Vd(o)||Ok();if(!s.forceOverride&&r)return;const a=Pk(t);n.forEach(a)}};function Dk(t,e,s,n,i){const o=i.samples||n;if(o>=s)return t.slice(e,e+s);const r=[],a=(s-2)/(o-2);let l=0;const c=e+s-1;let d=e,h,f,p,m,g;for(r[l++]=t[d],h=0;h<o-2;h++){let b=0,_=0,w;const C=Math.floor((h+1)*a)+1+e,S=Math.min(Math.floor((h+2)*a)+1,s)+e,M=S-C;for(w=C;w<S;w++)b+=t[w].x,_+=t[w].y;b/=M,_/=M;const L=Math.floor(h*a)+1+e,I=Math.min(Math.floor((h+1)*a)+1,s)+e,{x:$,y:X}=t[d];for(p=m=-1,w=L;w<I;w++)m=.5*Math.abs(($-b)*(t[w].y-X)-($-t[w].x)*(_-X)),m>p&&(p=m,f=t[w],g=w);r[l++]=f,d=g}return r[l++]=t[c],r}function Ik(t,e,s,n){let i=0,o=0,r,a,l,c,d,h,f,p,m,g;const b=[],_=e+s-1,w=t[e].x,S=t[_].x-w;for(r=e;r<e+s;++r){a=t[r],l=(a.x-w)/S*n,c=a.y;const M=l|0;if(M===d)c<m?(m=c,h=r):c>g&&(g=c,f=r),i=(o*i+a.x)/++o;else{const L=r-1;if(!ge(h)&&!ge(f)){const I=Math.min(h,f),$=Math.max(h,f);I!==p&&I!==L&&b.push({...t[I],x:i}),$!==p&&$!==L&&b.push({...t[$],x:i})}r>0&&L!==p&&b.push(t[L]),b.push(a),d=M,o=0,m=g=c,h=f=p=r}}return b}function Qf(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function zd(t){t.data.datasets.forEach(e=>{Qf(e)})}function Rk(t,e){const s=e.length;let n=0,i;const{iScale:o}=t,{min:r,max:a,minDefined:l,maxDefined:c}=o.getUserBounds();return l&&(n=Ge(ms(e,o.axis,r).lo,0,s-1)),c?i=Ge(ms(e,o.axis,a).hi+1,n,s)-n:i=s-n,{start:n,count:i}}var Lk={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,s)=>{if(!s.enabled){zd(t);return}const n=t.width;t.data.datasets.forEach((i,o)=>{const{_data:r,indexAxis:a}=i,l=t.getDatasetMeta(o),c=r||i.data;if(ii([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const d=t.scales[l.xAxisID];if(d.type!=="linear"&&d.type!=="time"||t.options.parsing)return;let{start:h,count:f}=Rk(l,c);const p=s.threshold||4*n;if(f<=p){Qf(i);return}ge(r)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let m;switch(s.algorithm){case"lttb":m=Dk(c,h,f,n,s);break;case"min-max":m=Ik(c,h,f,n);break;default:throw new Error(`Unsupported decimation algorithm '${s.algorithm}'`)}i._decimated=m})},destroy(t){zd(t)}};function Fk(t,e,s){const n=t.segments,i=t.points,o=e.points,r=[];for(const a of n){let{start:l,end:c}=a;c=El(l,c,i);const d=Fa(s,i[l],i[c],a.loop);if(!e.segments){r.push({source:a,target:d,start:i[l],end:i[c]});continue}const h=If(e,d);for(const f of h){const p=Fa(s,o[f.start],o[f.end],f.loop),m=Df(a,i,p);for(const g of m)r.push({source:g,target:f,start:{[s]:Hd(d,p,"start",Math.max)},end:{[s]:Hd(d,p,"end",Math.min)}})}}return r}function Fa(t,e,s,n){if(n)return;let i=e[t],o=s[t];return t==="angle"&&(i=St(i),o=St(o)),{property:t,start:i,end:o}}function jk(t,e){const{x:s=null,y:n=null}=t||{},i=e.points,o=[];return e.segments.forEach(({start:r,end:a})=>{a=El(r,a,i);const l=i[r],c=i[a];n!==null?(o.push({x:l.x,y:n}),o.push({x:c.x,y:n})):s!==null&&(o.push({x:s,y:l.y}),o.push({x:s,y:c.y}))}),o}function El(t,e,s){for(;e>t;e--){const n=s[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function Hd(t,e,s,n){return t&&e?n(t[s],e[s]):t?t[s]:e?e[s]:0}function Zf(t,e){let s=[],n=!1;return Le(t)?(n=!0,s=t):s=jk(t,e),s.length?new Ls({points:s,options:{tension:0},_loop:n,_fullLoop:n}):null}function Wd(t){return t&&t.fill!==!1}function Uk(t,e,s){let i=t[e].fill;const o=[e];let r;if(!s)return i;for(;i!==!1&&o.indexOf(i)===-1;){if(!$e(i))return i;if(r=t[i],!r)return!1;if(r.visible)return i;o.push(i),i=r.fill}return!1}function Nk(t,e,s){const n=zk(t);if(ye(n))return isNaN(n.value)?!1:n;let i=parseFloat(n);return $e(i)&&Math.floor(i)===i?$k(n[0],e,i,s):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function $k(t,e,s,n){return(t==="-"||t==="+")&&(s=e+s),s===e||s<0||s>=n?!1:s}function Bk(t,e){let s=null;return t==="start"?s=e.bottom:t==="end"?s=e.top:ye(t)?s=e.getPixelForValue(t.value):e.getBasePixel&&(s=e.getBasePixel()),s}function Vk(t,e,s){let n;return t==="start"?n=s:t==="end"?n=e.options.reverse?e.min:e.max:ye(t)?n=t.value:n=e.getBaseValue(),n}function zk(t){const e=t.options,s=e.fill;let n=he(s&&s.target,s);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function Hk(t){const{scale:e,index:s,line:n}=t,i=[],o=n.segments,r=n.points,a=Wk(e,s);a.push(Zf({x:null,y:e.bottom},n));for(let l=0;l<o.length;l++){const c=o[l];for(let d=c.start;d<=c.end;d++)qk(i,r[d],a)}return new Ls({points:i,options:{}})}function Wk(t,e){const s=[],n=t.getMatchingVisibleMetas("line");for(let i=0;i<n.length;i++){const o=n[i];if(o.index===e)break;o.hidden||s.unshift(o.dataset)}return s}function qk(t,e,s){const n=[];for(let i=0;i<s.length;i++){const o=s[i],{first:r,last:a,point:l}=Kk(o,e,"x");if(!(!l||r&&a)){if(r)n.unshift(l);else if(t.push(l),!a)break}}t.push(...n)}function Kk(t,e,s){const n=t.interpolate(e,s);if(!n)return{};const i=n[s],o=t.segments,r=t.points;let a=!1,l=!1;for(let c=0;c<o.length;c++){const d=o[c],h=r[d.start][s],f=r[d.end][s];if(ps(i,h,f)){a=i===h,l=i===f;break}}return{first:a,last:l,point:n}}class ep{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,s,n){const{x:i,y:o,radius:r}=this;return s=s||{start:0,end:Fe},e.arc(i,o,r,s.end,s.start,!0),!n.bounds}interpolate(e){const{x:s,y:n,radius:i}=this,o=e.angle;return{x:s+Math.cos(o)*i,y:n+Math.sin(o)*i,angle:o}}}function Gk(t){const{chart:e,fill:s,line:n}=t;if($e(s))return Yk(e,s);if(s==="stack")return Hk(t);if(s==="shape")return!0;const i=Jk(t);return i instanceof ep?i:Zf(i,n)}function Yk(t,e){const s=t.getDatasetMeta(e);return s&&t.isDatasetVisible(e)?s.dataset:null}function Jk(t){return(t.scale||{}).getPointPositionForValue?Qk(t):Xk(t)}function Xk(t){const{scale:e={},fill:s}=t,n=Bk(s,e);if($e(n)){const i=e.isHorizontal();return{x:i?n:null,y:i?null:n}}return null}function Qk(t){const{scale:e,fill:s}=t,n=e.options,i=e.getLabels().length,o=n.reverse?e.max:e.min,r=Vk(s,e,o),a=[];if(n.grid.circular){const l=e.getPointPositionForValue(0,o);return new ep({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(r)})}for(let l=0;l<i;++l)a.push(e.getPointPositionForValue(l,r));return a}function ia(t,e,s){const n=Gk(e),{chart:i,index:o,line:r,scale:a,axis:l}=e,c=r.options,d=c.fill,h=c.backgroundColor,{above:f=h,below:p=h}=d||{},m=i.getDatasetMeta(o),g=Rf(i,m);n&&r.points.length&&(wr(t,s),Zk(t,{line:r,target:n,above:f,below:p,area:s,scale:a,axis:l,clip:g}),kr(t))}function Zk(t,e){const{line:s,target:n,above:i,below:o,area:r,scale:a,clip:l}=e,c=s._loop?"angle":e.axis;t.save(),c==="x"&&o!==i&&(qd(t,n,r.top),Kd(t,{line:s,target:n,color:i,scale:a,property:c,clip:l}),t.restore(),t.save(),qd(t,n,r.bottom)),Kd(t,{line:s,target:n,color:o,scale:a,property:c,clip:l}),t.restore()}function qd(t,e,s){const{segments:n,points:i}=e;let o=!0,r=!1;t.beginPath();for(const a of n){const{start:l,end:c}=a,d=i[l],h=i[El(l,c,i)];o?(t.moveTo(d.x,d.y),o=!1):(t.lineTo(d.x,s),t.lineTo(d.x,d.y)),r=!!e.pathSegment(t,a,{move:r}),r?t.closePath():t.lineTo(h.x,s)}t.lineTo(e.first().x,s),t.closePath(),t.clip()}function Kd(t,e){const{line:s,target:n,property:i,color:o,scale:r,clip:a}=e,l=Fk(s,n,i);for(const{source:c,target:d,start:h,end:f}of l){const{style:{backgroundColor:p=o}={}}=c,m=n!==!0;t.save(),t.fillStyle=p,e2(t,r,a,m&&Fa(i,h,f)),t.beginPath();const g=!!s.pathSegment(t,c);let b;if(m){g?t.closePath():Gd(t,n,f,i);const _=!!n.pathSegment(t,d,{move:g,reverse:!0});b=g&&_,b||Gd(t,n,h,i)}t.closePath(),t.fill(b?"evenodd":"nonzero"),t.restore()}}function e2(t,e,s,n){const i=e.chart.chartArea,{property:o,start:r,end:a}=n||{};if(o==="x"||o==="y"){let l,c,d,h;o==="x"?(l=r,c=i.top,d=a,h=i.bottom):(l=i.left,c=r,d=i.right,h=a),t.beginPath(),s&&(l=Math.max(l,s.left),d=Math.min(d,s.right),c=Math.max(c,s.top),h=Math.min(h,s.bottom)),t.rect(l,c,d-l,h-c),t.clip()}}function Gd(t,e,s,n){const i=e.interpolate(s,n);i&&t.lineTo(i.x,i.y)}var t2={id:"filler",afterDatasetsUpdate(t,e,s){const n=(t.data.datasets||[]).length,i=[];let o,r,a,l;for(r=0;r<n;++r)o=t.getDatasetMeta(r),a=o.dataset,l=null,a&&a.options&&a instanceof Ls&&(l={visible:t.isDatasetVisible(r),index:r,fill:Nk(a,r,n),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,i.push(l);for(r=0;r<n;++r)l=i[r],!(!l||l.fill===!1)&&(l.fill=Uk(i,r,s.propagate))},beforeDraw(t,e,s){const n=s.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let r=i.length-1;r>=0;--r){const a=i[r].$filler;a&&(a.line.updateControlPoints(o,a.axis),n&&a.fill&&ia(t.ctx,a,o))}},beforeDatasetsDraw(t,e,s){if(s.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i){const o=n[i].$filler;Wd(o)&&ia(t.ctx,o,t.chartArea)}},beforeDatasetDraw(t,e,s){const n=e.meta.$filler;!Wd(n)||s.drawTime!=="beforeDatasetDraw"||ia(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Yd=(t,e)=>{let{boxHeight:s=e,boxWidth:n=e}=t;return t.usePointStyle&&(s=Math.min(s,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(e,s)}},s2=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class Jd extends ks{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s,n){this.maxWidth=e,this.maxHeight=s,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let s=Ie(e.generateLabels,[this.chart],this)||[];e.filter&&(s=s.filter(n=>e.filter(n,this.chart.data))),e.sort&&(s=s.sort((n,i)=>e.sort(n,i,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:e,ctx:s}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,i=qe(n.font),o=i.size,r=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Yd(n,o);let c,d;s.font=i.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(r,o,a,l)+10):(d=this.maxHeight,c=this._fitCols(r,i,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(d,e.maxHeight||this.maxHeight)}_fitRows(e,s,n,i){const{ctx:o,maxWidth:r,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],d=i+a;let h=e;o.textAlign="left",o.textBaseline="middle";let f=-1,p=-d;return this.legendItems.forEach((m,g)=>{const b=n+s/2+o.measureText(m.text).width;(g===0||c[c.length-1]+b+2*a>r)&&(h+=d,c[c.length-(g>0?0:1)]=0,p+=d,f++),l[g]={left:0,top:p,row:f,width:b,height:i},c[c.length-1]+=b+a}),h}_fitCols(e,s,n,i){const{ctx:o,maxHeight:r,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],d=r-e;let h=a,f=0,p=0,m=0,g=0;return this.legendItems.forEach((b,_)=>{const{itemWidth:w,itemHeight:C}=n2(n,s,o,b,i);_>0&&p+C+2*a>d&&(h+=f+a,c.push({width:f,height:p}),m+=f+a,g++,f=p=0),l[_]={left:m,top:p,col:g,width:w,height:C},f=Math.max(f,w),p+=C+a}),h+=f,c.push({width:f,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:n,labels:{padding:i},rtl:o}}=this,r=En(o,this.left,this.width);if(this.isHorizontal()){let a=0,l=Ze(n,this.left+i,this.right-this.lineWidths[a]);for(const c of s)a!==c.row&&(a=c.row,l=Ze(n,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+e+i,c.left=r.leftForLtr(r.x(l),c.width),l+=c.width+i}else{let a=0,l=Ze(n,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const c of s)c.col!==a&&(a=c.col,l=Ze(n,this.top+e+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=r.leftForLtr(r.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;wr(e,this),this._draw(),kr(e)}}_draw(){const{options:e,columnSizes:s,lineWidths:n,ctx:i}=this,{align:o,labels:r}=e,a=Ne.color,l=En(e.rtl,this.left,this.width),c=qe(r.font),{padding:d}=r,h=c.size,f=h/2;let p;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:m,boxHeight:g,itemHeight:b}=Yd(r,h),_=function(L,I,$){if(isNaN(m)||m<=0||isNaN(g)||g<0)return;i.save();const X=he($.lineWidth,1);if(i.fillStyle=he($.fillStyle,a),i.lineCap=he($.lineCap,"butt"),i.lineDashOffset=he($.lineDashOffset,0),i.lineJoin=he($.lineJoin,"miter"),i.lineWidth=X,i.strokeStyle=he($.strokeStyle,a),i.setLineDash(he($.lineDash,[])),r.usePointStyle){const ie={radius:g*Math.SQRT2/2,pointStyle:$.pointStyle,rotation:$.rotation,borderWidth:X},re=l.xPlus(L,m/2),de=I+f;vf(i,ie,re,de,r.pointStyleWidth&&m)}else{const ie=I+Math.max((h-g)/2,0),re=l.leftForLtr(L,m),de=rn($.borderRadius);i.beginPath(),Object.values(de).some(Ae=>Ae!==0)?Ui(i,{x:re,y:ie,w:m,h:g,radius:de}):i.rect(re,ie,m,g),i.fill(),X!==0&&i.stroke()}i.restore()},w=function(L,I,$){dn(i,$.text,L,I+b/2,c,{strikethrough:$.hidden,textAlign:l.textAlign($.textAlign)})},C=this.isHorizontal(),S=this._computeTitleHeight();C?p={x:Ze(o,this.left+d,this.right-n[0]),y:this.top+d+S,line:0}:p={x:this.left+d,y:Ze(o,this.top+S+d,this.bottom-s[0].height),line:0},Tf(this.ctx,e.textDirection);const M=b+d;this.legendItems.forEach((L,I)=>{i.strokeStyle=L.fontColor,i.fillStyle=L.fontColor;const $=i.measureText(L.text).width,X=l.textAlign(L.textAlign||(L.textAlign=r.textAlign)),ie=m+f+$;let re=p.x,de=p.y;l.setWidth(this.width),C?I>0&&re+ie+d>this.right&&(de=p.y+=M,p.line++,re=p.x=Ze(o,this.left+d,this.right-n[p.line])):I>0&&de+M>this.bottom&&(re=p.x=re+s[p.line].width+d,p.line++,de=p.y=Ze(o,this.top+S+d,this.bottom-s[p.line].height));const Ae=l.x(re);if(_(Ae,de,L),re=kv(X,re+m+f,C?re+ie:this.right,e.rtl),w(l.x(re),de,L),C)p.x+=ie+d;else if(typeof L.text!="string"){const We=c.lineHeight;p.y+=tp(L,We)+d}else p.y+=M}),Of(this.ctx,e.textDirection)}drawTitle(){const e=this.options,s=e.title,n=qe(s.font),i=ot(s.padding);if(!s.display)return;const o=En(e.rtl,this.left,this.width),r=this.ctx,a=s.position,l=n.size/2,c=i.top+l;let d,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+c,h=Ze(e.align,h,this.right-f);else{const m=this.columnSizes.reduce((g,b)=>Math.max(g,b.height),0);d=c+Ze(e.align,this.top,this.bottom-m-e.labels.padding-this._computeTitleHeight())}const p=Ze(a,h,h+f);r.textAlign=o.textAlign(wl(a)),r.textBaseline="middle",r.strokeStyle=s.color,r.fillStyle=s.color,r.font=n.string,dn(r,s.text,p,d,n)}_computeTitleHeight(){const e=this.options.title,s=qe(e.font),n=ot(e.padding);return e.display?s.lineHeight+n.height:0}_getLegendItemAt(e,s){let n,i,o;if(ps(e,this.left,this.right)&&ps(s,this.top,this.bottom)){for(o=this.legendHitBoxes,n=0;n<o.length;++n)if(i=o[n],ps(e,i.left,i.left+i.width)&&ps(s,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(e){const s=this.options;if(!r2(e.type,s))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,o=s2(i,n);i&&!o&&Ie(s.onLeave,[e,i,this],this),this._hoveredItem=n,n&&!o&&Ie(s.onHover,[e,n,this],this)}else n&&Ie(s.onClick,[e,n,this],this)}}function n2(t,e,s,n,i){const o=i2(n,t,e,s),r=o2(i,n,e.lineHeight);return{itemWidth:o,itemHeight:r}}function i2(t,e,s,n){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((o,r)=>o.length>r.length?o:r)),e+s.size/2+n.measureText(i).width}function o2(t,e,s){let n=t;return typeof e.text!="string"&&(n=tp(e,s)),n}function tp(t,e){const s=t.text?t.text.length:0;return e*s}function r2(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var a2={id:"legend",_element:Jd,start(t,e,s){const n=t.legend=new Jd({ctx:t.ctx,options:s,chart:t});st.configure(t,n,s),st.addBox(t,n)},stop(t){st.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,s){const n=t.legend;st.configure(t,n,s),n.options=s},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,s){const n=e.datasetIndex,i=s.chart;i.isDatasetVisible(n)?(i.hide(n),e.hidden=!0):(i.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:i,color:o,useBorderRadius:r,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(s?0:void 0),d=ot(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:o,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:r&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class Dl extends ks{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,s){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=s;const i=Le(n.text)?n.text.length:1;this._padding=ot(n.padding);const o=i*qe(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:s,left:n,bottom:i,right:o,options:r}=this,a=r.align;let l=0,c,d,h;return this.isHorizontal()?(d=Ze(a,n,o),h=s+e,c=o-n):(r.position==="left"?(d=n+e,h=Ze(a,i,s),l=je*-.5):(d=o-e,h=Ze(a,s,i),l=je*.5),c=i-s),{titleX:d,titleY:h,maxWidth:c,rotation:l}}draw(){const e=this.ctx,s=this.options;if(!s.display)return;const n=qe(s.font),o=n.lineHeight/2+this._padding.top,{titleX:r,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(o);dn(e,s.text,0,0,n,{color:s.color,maxWidth:l,rotation:c,textAlign:wl(s.align),textBaseline:"middle",translation:[r,a]})}}function l2(t,e){const s=new Dl({ctx:t.ctx,options:e,chart:t});st.configure(t,s,e),st.addBox(t,s),t.titleBlock=s}var c2={id:"title",_element:Dl,start(t,e,s){l2(t,s)},stop(t){const e=t.titleBlock;st.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,s){const n=t.titleBlock;st.configure(t,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const bo=new WeakMap;var d2={id:"subtitle",start(t,e,s){const n=new Dl({ctx:t.ctx,options:s,chart:t});st.configure(t,n,s),st.addBox(t,n),bo.set(t,n)},stop(t){st.removeBox(t,bo.get(t)),bo.delete(t)},beforeUpdate(t,e,s){const n=bo.get(t);st.configure(t,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ai={average(t){if(!t.length)return!1;let e,s,n=new Set,i=0,o=0;for(e=0,s=t.length;e<s;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();n.add(l.x),i+=l.y,++o}}return o===0||n.size===0?!1:{x:[...n].reduce((a,l)=>a+l)/n.size,y:i/o}},nearest(t,e){if(!t.length)return!1;let s=e.x,n=e.y,i=Number.POSITIVE_INFINITY,o,r,a;for(o=0,r=t.length;o<r;++o){const l=t[o].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),d=Pa(e,c);d<i&&(i=d,a=l)}}if(a){const l=a.tooltipPosition();s=l.x,n=l.y}return{x:s,y:n}}};function Yt(t,e){return e&&(Le(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function ls(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function u2(t,e){const{element:s,datasetIndex:n,index:i}=e,o=t.getDatasetMeta(n).controller,{label:r,value:a}=o.getLabelAndValue(i);return{chart:t,label:r,parsed:o.getParsed(i),raw:t.data.datasets[n].data[i],formattedValue:a,dataset:o.getDataset(),dataIndex:i,datasetIndex:n,element:s}}function Xd(t,e){const s=t.chart.ctx,{body:n,footer:i,title:o}=t,{boxWidth:r,boxHeight:a}=e,l=qe(e.bodyFont),c=qe(e.titleFont),d=qe(e.footerFont),h=o.length,f=i.length,p=n.length,m=ot(e.padding);let g=m.height,b=0,_=n.reduce((S,M)=>S+M.before.length+M.lines.length+M.after.length,0);if(_+=t.beforeBody.length+t.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),_){const S=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=p*S+(_-p)*l.lineHeight+(_-1)*e.bodySpacing}f&&(g+=e.footerMarginTop+f*d.lineHeight+(f-1)*e.footerSpacing);let w=0;const C=function(S){b=Math.max(b,s.measureText(S).width+w)};return s.save(),s.font=c.string,Me(t.title,C),s.font=l.string,Me(t.beforeBody.concat(t.afterBody),C),w=e.displayColors?r+2+e.boxPadding:0,Me(n,S=>{Me(S.before,C),Me(S.lines,C),Me(S.after,C)}),w=0,s.font=d.string,Me(t.footer,C),s.restore(),b+=m.width,{width:b,height:g}}function h2(t,e){const{y:s,height:n}=e;return s<n/2?"top":s>t.height-n/2?"bottom":"center"}function f2(t,e,s,n){const{x:i,width:o}=n,r=s.caretSize+s.caretPadding;if(t==="left"&&i+o+r>e.width||t==="right"&&i-o-r<0)return!0}function p2(t,e,s,n){const{x:i,width:o}=s,{width:r,chartArea:{left:a,right:l}}=t;let c="center";return n==="center"?c=i<=(a+l)/2?"left":"right":i<=o/2?c="left":i>=r-o/2&&(c="right"),f2(c,t,e,s)&&(c="center"),c}function Qd(t,e,s){const n=s.yAlign||e.yAlign||h2(t,s);return{xAlign:s.xAlign||e.xAlign||p2(t,e,s,n),yAlign:n}}function m2(t,e){let{x:s,width:n}=t;return e==="right"?s-=n:e==="center"&&(s-=n/2),s}function g2(t,e,s){let{y:n,height:i}=t;return e==="top"?n+=s:e==="bottom"?n-=i+s:n-=i/2,n}function Zd(t,e,s,n){const{caretSize:i,caretPadding:o,cornerRadius:r}=t,{xAlign:a,yAlign:l}=s,c=i+o,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:p}=rn(r);let m=m2(e,a);const g=g2(e,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(d,f)+i:a==="right"&&(m+=Math.max(h,p)+i),{x:Ge(m,0,n.width-e.width),y:Ge(g,0,n.height-e.height)}}function yo(t,e,s){const n=ot(s.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function eu(t){return Yt([],ls(t))}function b2(t,e,s){return Hs(t,{tooltip:e,tooltipItems:s,type:"tooltip"})}function tu(t,e){const s=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return s?t.override(s):t}const sp={beforeTitle:os,title(t){if(t.length>0){const e=t[0],s=e.chart.data.labels,n=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return s[e.dataIndex]}return""},afterTitle:os,beforeBody:os,beforeLabel:os,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const s=t.formattedValue;return ge(s)||(e+=s),e},labelColor(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const s=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:os,afterBody:os,beforeFooter:os,footer:os,afterFooter:os};function ft(t,e,s,n){const i=t[e].call(s,n);return typeof i>"u"?sp[e].call(s,n):i}class ja extends ks{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const s=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&s.options.animation&&n.animations,o=new Lf(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=b2(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,s){const{callbacks:n}=s,i=ft(n,"beforeTitle",this,e),o=ft(n,"title",this,e),r=ft(n,"afterTitle",this,e);let a=[];return a=Yt(a,ls(i)),a=Yt(a,ls(o)),a=Yt(a,ls(r)),a}getBeforeBody(e,s){return eu(ft(s.callbacks,"beforeBody",this,e))}getBody(e,s){const{callbacks:n}=s,i=[];return Me(e,o=>{const r={before:[],lines:[],after:[]},a=tu(n,o);Yt(r.before,ls(ft(a,"beforeLabel",this,o))),Yt(r.lines,ft(a,"label",this,o)),Yt(r.after,ls(ft(a,"afterLabel",this,o))),i.push(r)}),i}getAfterBody(e,s){return eu(ft(s.callbacks,"afterBody",this,e))}getFooter(e,s){const{callbacks:n}=s,i=ft(n,"beforeFooter",this,e),o=ft(n,"footer",this,e),r=ft(n,"afterFooter",this,e);let a=[];return a=Yt(a,ls(i)),a=Yt(a,ls(o)),a=Yt(a,ls(r)),a}_createItems(e){const s=this._active,n=this.chart.data,i=[],o=[],r=[];let a=[],l,c;for(l=0,c=s.length;l<c;++l)a.push(u2(this.chart,s[l]));return e.filter&&(a=a.filter((d,h,f)=>e.filter(d,h,f,n))),e.itemSort&&(a=a.sort((d,h)=>e.itemSort(d,h,n))),Me(a,d=>{const h=tu(e.callbacks,d);i.push(ft(h,"labelColor",this,d)),o.push(ft(h,"labelPointStyle",this,d)),r.push(ft(h,"labelTextColor",this,d))}),this.labelColors=i,this.labelPointStyles=o,this.labelTextColors=r,this.dataPoints=a,a}update(e,s){const n=this.options.setContext(this.getContext()),i=this._active;let o,r=[];if(!i.length)this.opacity!==0&&(o={opacity:0});else{const a=ai[n.position].call(this,i,this._eventPosition);r=this._createItems(n),this.title=this.getTitle(r,n),this.beforeBody=this.getBeforeBody(r,n),this.body=this.getBody(r,n),this.afterBody=this.getAfterBody(r,n),this.footer=this.getFooter(r,n);const l=this._size=Xd(this,n),c=Object.assign({},a,l),d=Qd(this.chart,n,c),h=Zd(n,c,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,o={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=r,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(e,s,n,i){const o=this.getCaretPosition(e,n,i);s.lineTo(o.x1,o.y1),s.lineTo(o.x2,o.y2),s.lineTo(o.x3,o.y3)}getCaretPosition(e,s,n){const{xAlign:i,yAlign:o}=this,{caretSize:r,cornerRadius:a}=n,{topLeft:l,topRight:c,bottomLeft:d,bottomRight:h}=rn(a),{x:f,y:p}=e,{width:m,height:g}=s;let b,_,w,C,S,M;return o==="center"?(S=p+g/2,i==="left"?(b=f,_=b-r,C=S+r,M=S-r):(b=f+m,_=b+r,C=S-r,M=S+r),w=b):(i==="left"?_=f+Math.max(l,d)+r:i==="right"?_=f+m-Math.max(c,h)-r:_=this.caretX,o==="top"?(C=p,S=C-r,b=_-r,w=_+r):(C=p+g,S=C+r,b=_+r,w=_-r),M=C),{x1:b,x2:_,x3:w,y1:C,y2:S,y3:M}}drawTitle(e,s,n){const i=this.title,o=i.length;let r,a,l;if(o){const c=En(n.rtl,this.x,this.width);for(e.x=yo(this,n.titleAlign,n),s.textAlign=c.textAlign(n.titleAlign),s.textBaseline="middle",r=qe(n.titleFont),a=n.titleSpacing,s.fillStyle=n.titleColor,s.font=r.string,l=0;l<o;++l)s.fillText(i[l],c.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+a,l+1===o&&(e.y+=n.titleMarginBottom-a)}}_drawColorBox(e,s,n,i,o){const r=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:l,boxWidth:c}=o,d=qe(o.bodyFont),h=yo(this,"left",o),f=i.x(h),p=l<d.lineHeight?(d.lineHeight-l)/2:0,m=s.y+p;if(o.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},b=i.leftForLtr(f,c)+c/2,_=m+l/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,Oa(e,g,b,_),e.strokeStyle=r.borderColor,e.fillStyle=r.backgroundColor,Oa(e,g,b,_)}else{e.lineWidth=ye(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,e.strokeStyle=r.borderColor,e.setLineDash(r.borderDash||[]),e.lineDashOffset=r.borderDashOffset||0;const g=i.leftForLtr(f,c),b=i.leftForLtr(i.xPlus(f,1),c-2),_=rn(r.borderRadius);Object.values(_).some(w=>w!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,Ui(e,{x:g,y:m,w:c,h:l,radius:_}),e.fill(),e.stroke(),e.fillStyle=r.backgroundColor,e.beginPath(),Ui(e,{x:b,y:m+1,w:c-2,h:l-2,radius:_}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(g,m,c,l),e.strokeRect(g,m,c,l),e.fillStyle=r.backgroundColor,e.fillRect(b,m+1,c-2,l-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,s,n){const{body:i}=this,{bodySpacing:o,bodyAlign:r,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:d}=n,h=qe(n.bodyFont);let f=h.lineHeight,p=0;const m=En(n.rtl,this.x,this.width),g=function($){s.fillText($,m.x(e.x+p),e.y+f/2),e.y+=f+o},b=m.textAlign(r);let _,w,C,S,M,L,I;for(s.textAlign=r,s.textBaseline="middle",s.font=h.string,e.x=yo(this,b,n),s.fillStyle=n.bodyColor,Me(this.beforeBody,g),p=a&&b!=="right"?r==="center"?c/2+d:c+2+d:0,S=0,L=i.length;S<L;++S){for(_=i[S],w=this.labelTextColors[S],s.fillStyle=w,Me(_.before,g),C=_.lines,a&&C.length&&(this._drawColorBox(s,e,S,m,n),f=Math.max(h.lineHeight,l)),M=0,I=C.length;M<I;++M)g(C[M]),f=h.lineHeight;Me(_.after,g)}p=0,f=h.lineHeight,Me(this.afterBody,g),e.y-=o}drawFooter(e,s,n){const i=this.footer,o=i.length;let r,a;if(o){const l=En(n.rtl,this.x,this.width);for(e.x=yo(this,n.footerAlign,n),e.y+=n.footerMarginTop,s.textAlign=l.textAlign(n.footerAlign),s.textBaseline="middle",r=qe(n.footerFont),s.fillStyle=n.footerColor,s.font=r.string,a=0;a<o;++a)s.fillText(i[a],l.x(e.x),e.y+r.lineHeight/2),e.y+=r.lineHeight+n.footerSpacing}}drawBackground(e,s,n,i){const{xAlign:o,yAlign:r}=this,{x:a,y:l}=e,{width:c,height:d}=n,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:m}=rn(i.cornerRadius);s.fillStyle=i.backgroundColor,s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.beginPath(),s.moveTo(a+h,l),r==="top"&&this.drawCaret(e,s,n,i),s.lineTo(a+c-f,l),s.quadraticCurveTo(a+c,l,a+c,l+f),r==="center"&&o==="right"&&this.drawCaret(e,s,n,i),s.lineTo(a+c,l+d-m),s.quadraticCurveTo(a+c,l+d,a+c-m,l+d),r==="bottom"&&this.drawCaret(e,s,n,i),s.lineTo(a+p,l+d),s.quadraticCurveTo(a,l+d,a,l+d-p),r==="center"&&o==="left"&&this.drawCaret(e,s,n,i),s.lineTo(a,l+h),s.quadraticCurveTo(a,l,a+h,l),s.closePath(),s.fill(),i.borderWidth>0&&s.stroke()}_updateAnimationTarget(e){const s=this.chart,n=this.$animations,i=n&&n.x,o=n&&n.y;if(i||o){const r=ai[e.position].call(this,this._active,this._eventPosition);if(!r)return;const a=this._size=Xd(this,e),l=Object.assign({},r,this._size),c=Qd(s,e,l),d=Zd(e,l,c,s);(i._to!==d.x||o._to!==d.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(e){const s=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(s);const i={width:this.width,height:this.height},o={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const r=ot(s.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&a&&(e.save(),e.globalAlpha=n,this.drawBackground(o,e,i,s),Tf(e,s.textDirection),o.y+=r.top,this.drawTitle(o,e,s),this.drawBody(o,e,s),this.drawFooter(o,e,s),Of(e,s.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,s){const n=this._active,i=e.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),o=!qo(n,i),r=this._positionChanged(i,s);(o||r)&&(this._active=i,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,s,n=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,o=this._active||[],r=this._getActiveElements(e,o,s,n),a=this._positionChanged(r,e),l=s||!qo(r,o)||a;return l&&(this._active=r,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,s))),l}_getActiveElements(e,s,n,i){const o=this.options;if(e.type==="mouseout")return[];if(!i)return s.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const r=this.chart.getElementsAtEventForMode(e,o.mode,o,n);return o.reverse&&r.reverse(),r}_positionChanged(e,s){const{caretX:n,caretY:i,options:o}=this,r=ai[o.position].call(this,e,s);return r!==!1&&(n!==r.x||i!==r.y)}}B(ja,"positioners",ai);var y2={id:"tooltip",_element:ja,positioners:ai,afterInit(t,e,s){s&&(t.tooltip=new ja({chart:t,options:s}))},beforeUpdate(t,e,s){t.tooltip&&t.tooltip.initialize(s)},reset(t,e,s){t.tooltip&&t.tooltip.initialize(s)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const s={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",s)}},afterEvent(t,e){if(t.tooltip){const s=e.replay;t.tooltip.handleEvent(e.event,s,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:sp},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},x2=Object.freeze({__proto__:null,Colors:Ek,Decimation:Lk,Filler:t2,Legend:a2,SubTitle:d2,Title:c2,Tooltip:y2});const _2=(t,e,s,n)=>(typeof e=="string"?(s=t.push(e)-1,n.unshift({index:s,label:e})):isNaN(e)&&(s=null),s);function v2(t,e,s,n){const i=t.indexOf(e);if(i===-1)return _2(t,e,s,n);const o=t.lastIndexOf(e);return i!==o?s:i}const w2=(t,e)=>t===null?null:Ge(Math.round(t),0,e);function su(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Ua extends fn{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const s=this._addedLabels;if(s.length){const n=this.getLabels();for(const{index:i,label:o}of s)n[i]===o&&n.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,s){if(ge(e))return null;const n=this.getLabels();return s=isFinite(s)&&n[s]===e?s:v2(n,e,he(s,e),this._addedLabels),w2(s,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),s||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const e=this.min,s=this.max,n=this.options.offset,i=[];let o=this.getLabels();o=e===0&&s===o.length-1?o:o.slice(e,s+1),this._valueRange=Math.max(o.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let r=e;r<=s;r++)i.push({value:r});return i}getLabelForValue(e){return su.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const s=this.ticks;return e<0||e>s.length-1?null:this.getPixelForValue(s[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}B(Ua,"id","category"),B(Ua,"defaults",{ticks:{callback:su}});function k2(t,e){const s=[],{bounds:i,step:o,min:r,max:a,precision:l,count:c,maxTicks:d,maxDigits:h,includeBounds:f}=t,p=o||1,m=d-1,{min:g,max:b}=e,_=!ge(r),w=!ge(a),C=!ge(c),S=(b-g)/(h+1);let M=Xc((b-g)/m/p)*p,L,I,$,X;if(M<1e-14&&!_&&!w)return[{value:g},{value:b}];X=Math.ceil(b/M)-Math.floor(g/M),X>m&&(M=Xc(X*M/m/p)*p),ge(l)||(L=Math.pow(10,l),M=Math.ceil(M*L)/L),i==="ticks"?(I=Math.floor(g/M)*M,$=Math.ceil(b/M)*M):(I=g,$=b),_&&w&&o&&gv((a-r)/o,M/1e3)?(X=Math.round(Math.min((a-r)/M,d)),M=(a-r)/X,I=r,$=a):C?(I=_?r:I,$=w?a:$,X=c-1,M=($-I)/X):(X=($-I)/M,_i(X,Math.round(X),M/1e3)?X=Math.round(X):X=Math.ceil(X));const ie=Math.max(Qc(M),Qc(I));L=Math.pow(10,ge(l)?ie:l),I=Math.round(I*L)/L,$=Math.round($*L)/L;let re=0;for(_&&(f&&I!==r?(s.push({value:r}),I<r&&re++,_i(Math.round((I+re*M)*L)/L,r,nu(r,S,t))&&re++):I<r&&re++);re<X;++re){const de=Math.round((I+re*M)*L)/L;if(w&&de>a)break;s.push({value:de})}return w&&f&&$!==a?s.length&&_i(s[s.length-1].value,a,nu(a,S,t))?s[s.length-1].value=a:s.push({value:a}):(!w||$===a)&&s.push({value:$}),s}function nu(t,e,{horizontal:s,minRotation:n}){const i=jt(n),o=(s?Math.sin(i):Math.cos(i))||.001,r=.75*e*(""+t).length;return Math.min(e/o,r)}class Zo extends fn{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,s){return ge(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:s,maxDefined:n}=this.getUserBounds();let{min:i,max:o}=this;const r=l=>i=s?i:l,a=l=>o=n?o:l;if(e){const l=es(i),c=es(o);l<0&&c<0?a(0):l>0&&c>0&&r(0)}if(i===o){let l=o===0?1:Math.abs(o*.05);a(o+l),e||r(i-l)}this.min=i,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:s,stepSize:n}=e,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),s=s||11),s&&(i=Math.min(s,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,s=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},o=this._range||this,r=k2(i,o);return e.bounds==="ticks"&&hf(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let s=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const i=(n-s)/Math.max(e.length-1,1)/2;s-=i,n+=i}this._startValue=s,this._endValue=n,this._valueRange=n-s}getLabelForValue(e){return Ji(e,this.chart.options.locale,this.options.ticks.format)}}class Na extends Zo{determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=$e(e)?e:0,this.max=$e(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),s=e?this.width:this.height,n=jt(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,o.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}B(Na,"id","linear"),B(Na,"defaults",{ticks:{callback:vr.formatters.numeric}});const $i=t=>Math.floor(Rs(t)),Xs=(t,e)=>Math.pow(10,$i(t)+e);function iu(t){return t/Math.pow(10,$i(t))===1}function ou(t,e,s){const n=Math.pow(10,s),i=Math.floor(t/n);return Math.ceil(e/n)-i}function S2(t,e){const s=e-t;let n=$i(s);for(;ou(t,e,n)>10;)n++;for(;ou(t,e,n)<10;)n--;return Math.min(n,$i(t))}function C2(t,{min:e,max:s}){e=kt(t.min,e);const n=[],i=$i(e);let o=S2(e,s),r=o<0?Math.pow(10,Math.abs(o)):1;const a=Math.pow(10,o),l=i>o?Math.pow(10,i):0,c=Math.round((e-l)*r)/r,d=Math.floor((e-l)/a/10)*a*10;let h=Math.floor((c-d)/Math.pow(10,o)),f=kt(t.min,Math.round((l+d+h*Math.pow(10,o))*r)/r);for(;f<s;)n.push({value:f,major:iu(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(o++,h=2,r=o>=0?1:r),f=Math.round((l+d+h*Math.pow(10,o))*r)/r;const p=kt(t.max,f);return n.push({value:p,major:iu(p),significand:h}),n}class $a extends fn{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,s){const n=Zo.prototype.parse.apply(this,[e,s]);if(n===0){this._zero=!0;return}return $e(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:s}=this.getMinMax(!0);this.min=$e(e)?Math.max(0,e):null,this.max=$e(s)?Math.max(0,s):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!$e(this._userMin)&&(this.min=e===Xs(this.min,0)?Xs(this.min,-1):Xs(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:s}=this.getUserBounds();let n=this.min,i=this.max;const o=a=>n=e?n:a,r=a=>i=s?i:a;n===i&&(n<=0?(o(1),r(10)):(o(Xs(n,-1)),r(Xs(i,1)))),n<=0&&o(Xs(i,-1)),i<=0&&r(Xs(n,1)),this.min=n,this.max=i}buildTicks(){const e=this.options,s={min:this._userMin,max:this._userMax},n=C2(s,this);return e.bounds==="ticks"&&hf(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":Ji(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Rs(e),this._valueRange=Rs(this.max)-Rs(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Rs(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const s=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+s*this._valueRange)}}B($a,"id","logarithmic"),B($a,"defaults",{ticks:{callback:vr.formatters.logarithmic,major:{enabled:!0}}});function Ba(t){const e=t.ticks;if(e.display&&t.display){const s=ot(e.backdropPadding);return he(e.font&&e.font.size,Ne.font.size)+s.height}return 0}function M2(t,e,s){return s=Le(s)?s:[s],{w:Iv(t,e.string,s),h:s.length*e.lineHeight}}function ru(t,e,s,n,i){return t===n||t===i?{start:e-s/2,end:e+s/2}:t<n||t>i?{start:e-s,end:e}:{start:e,end:e+s}}function A2(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},s=Object.assign({},e),n=[],i=[],o=t._pointLabels.length,r=t.options.pointLabels,a=r.centerPointLabels?je/o:0;for(let l=0;l<o;l++){const c=r.setContext(t.getPointLabelContext(l));i[l]=c.padding;const d=t.getPointPosition(l,t.drawingArea+i[l],a),h=qe(c.font),f=M2(t.ctx,h,t._pointLabels[l]);n[l]=f;const p=St(t.getIndexAngle(l)+a),m=Math.round(_l(p)),g=ru(m,d.x,f.w,0,180),b=ru(m,d.y,f.h,90,270);P2(s,e,p,g,b)}t.setCenterPoint(e.l-s.l,s.r-e.r,e.t-s.t,s.b-e.b),t._pointLabelItems=E2(t,n,i)}function P2(t,e,s,n,i){const o=Math.abs(Math.sin(s)),r=Math.abs(Math.cos(s));let a=0,l=0;n.start<e.l?(a=(e.l-n.start)/o,t.l=Math.min(t.l,e.l-a)):n.end>e.r&&(a=(n.end-e.r)/o,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(l=(e.t-i.start)/r,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/r,t.b=Math.max(t.b,e.b+l))}function T2(t,e,s){const n=t.drawingArea,{extra:i,additionalAngle:o,padding:r,size:a}=s,l=t.getPointPosition(e,n+i+r,o),c=Math.round(_l(St(l.angle+Ve))),d=R2(l.y,a.h,c),h=D2(c),f=I2(l.x,a.w,h);return{visible:!0,x:l.x,y:d,textAlign:h,left:f,top:d,right:f+a.w,bottom:d+a.h}}function O2(t,e){if(!e)return!0;const{left:s,top:n,right:i,bottom:o}=t;return!(gs({x:s,y:n},e)||gs({x:s,y:o},e)||gs({x:i,y:n},e)||gs({x:i,y:o},e))}function E2(t,e,s){const n=[],i=t._pointLabels.length,o=t.options,{centerPointLabels:r,display:a}=o.pointLabels,l={extra:Ba(o)/2,additionalAngle:r?je/i:0};let c;for(let d=0;d<i;d++){l.padding=s[d],l.size=e[d];const h=T2(t,d,l);n.push(h),a==="auto"&&(h.visible=O2(h,c),h.visible&&(c=h))}return n}function D2(t){return t===0||t===180?"center":t<180?"left":"right"}function I2(t,e,s){return s==="right"?t-=e:s==="center"&&(t-=e/2),t}function R2(t,e,s){return s===90||s===270?t-=e/2:(s>270||s<90)&&(t-=e),t}function L2(t,e,s){const{left:n,top:i,right:o,bottom:r}=s,{backdropColor:a}=e;if(!ge(a)){const l=rn(e.borderRadius),c=ot(e.backdropPadding);t.fillStyle=a;const d=n-c.left,h=i-c.top,f=o-n+c.width,p=r-i+c.height;Object.values(l).some(m=>m!==0)?(t.beginPath(),Ui(t,{x:d,y:h,w:f,h:p,radius:l}),t.fill()):t.fillRect(d,h,f,p)}}function F2(t,e){const{ctx:s,options:{pointLabels:n}}=t;for(let i=e-1;i>=0;i--){const o=t._pointLabelItems[i];if(!o.visible)continue;const r=n.setContext(t.getPointLabelContext(i));L2(s,r,o);const a=qe(r.font),{x:l,y:c,textAlign:d}=o;dn(s,t._pointLabels[i],l,c+a.lineHeight/2,a,{color:r.color,textAlign:d,textBaseline:"middle"})}}function np(t,e,s,n){const{ctx:i}=t;if(s)i.arc(t.xCenter,t.yCenter,e,0,Fe);else{let o=t.getPointPosition(0,e);i.moveTo(o.x,o.y);for(let r=1;r<n;r++)o=t.getPointPosition(r,e),i.lineTo(o.x,o.y)}}function j2(t,e,s,n,i){const o=t.ctx,r=e.circular,{color:a,lineWidth:l}=e;!r&&!n||!a||!l||s<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(i.dash||[]),o.lineDashOffset=i.dashOffset,o.beginPath(),np(t,s,r,n),o.closePath(),o.stroke(),o.restore())}function U2(t,e,s){return Hs(t,{label:s,index:e,type:"pointLabel"})}class li extends Zo{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=ot(Ba(this.options)/2),s=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+s/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(s,n)/2)}determineDataLimits(){const{min:e,max:s}=this.getMinMax(!1);this.min=$e(e)&&!isNaN(e)?e:0,this.max=$e(s)&&!isNaN(s)?s:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ba(this.options))}generateTickLabels(e){Zo.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((s,n)=>{const i=Ie(this.options.pointLabels.callback,[s,n],this);return i||i===0?i:""}).filter((s,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?A2(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,s,n,i){this.xCenter+=Math.floor((e-s)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,s,n,i))}getIndexAngle(e){const s=Fe/(this._pointLabels.length||1),n=this.options.startAngle||0;return St(e*s+jt(n))}getDistanceFromCenterForValue(e){if(ge(e))return NaN;const s=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*s:(e-this.min)*s}getValueForDistanceFromCenter(e){if(ge(e))return NaN;const s=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-s:this.min+s}getPointLabelContext(e){const s=this._pointLabels||[];if(e>=0&&e<s.length){const n=s[e];return U2(this.getContext(),e,n)}}getPointPosition(e,s,n=0){const i=this.getIndexAngle(e)-Ve+n;return{x:Math.cos(i)*s+this.xCenter,y:Math.sin(i)*s+this.yCenter,angle:i}}getPointPositionForValue(e,s){return this.getPointPosition(e,this.getDistanceFromCenterForValue(s))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:s,top:n,right:i,bottom:o}=this._pointLabelItems[e];return{left:s,top:n,right:i,bottom:o}}drawBackground(){const{backgroundColor:e,grid:{circular:s}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),np(this,this.getDistanceFromCenterForValue(this._endValue),s,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,s=this.options,{angleLines:n,grid:i,border:o}=s,r=this._pointLabels.length;let a,l,c;if(s.pointLabels.display&&F2(this,r),i.display&&this.ticks.forEach((d,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(d.value);const f=this.getContext(h),p=i.setContext(f),m=o.setContext(f);j2(this,p,l,r,m)}}),n.display){for(e.save(),a=r-1;a>=0;a--){const d=n.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:f}=d;!f||!h||(e.lineWidth=f,e.strokeStyle=h,e.setLineDash(d.borderDash),e.lineDashOffset=d.borderDashOffset,l=this.getDistanceFromCenterForValue(s.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,s=this.options,n=s.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let o,r;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!s.reverse)return;const c=n.setContext(this.getContext(l)),d=qe(c.font);if(o=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=d.string,r=e.measureText(a.label).width,e.fillStyle=c.backdropColor;const h=ot(c.backdropPadding);e.fillRect(-r/2-h.left,-o-d.size/2-h.top,r+h.width,d.size+h.height)}dn(e,a.label,0,-o,d,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}}B(li,"id","radialLinear"),B(li,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:vr.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),B(li,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),B(li,"descriptors",{angleLines:{_fallback:"grid"}});const Cr={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},gt=Object.keys(Cr);function au(t,e){return t-e}function lu(t,e){if(ge(e))return null;const s=t._adapter,{parser:n,round:i,isoWeekday:o}=t._parseOpts;let r=e;return typeof n=="function"&&(r=n(r)),$e(r)||(r=typeof n=="string"?s.parse(r,n):s.parse(r)),r===null?null:(i&&(r=i==="week"&&(Un(o)||o===!0)?s.startOf(r,"isoWeek",o):s.startOf(r,i)),+r)}function cu(t,e,s,n){const i=gt.length;for(let o=gt.indexOf(t);o<i-1;++o){const r=Cr[gt[o]],a=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((s-e)/(a*r.size))<=n)return gt[o]}return gt[i-1]}function N2(t,e,s,n,i){for(let o=gt.length-1;o>=gt.indexOf(s);o--){const r=gt[o];if(Cr[r].common&&t._adapter.diff(i,n,r)>=e-1)return r}return gt[s?gt.indexOf(s):0]}function $2(t){for(let e=gt.indexOf(t)+1,s=gt.length;e<s;++e)if(Cr[gt[e]].common)return gt[e]}function du(t,e,s){if(!s)t[e]=!0;else if(s.length){const{lo:n,hi:i}=vl(s,e),o=s[n]>=e?s[n]:s[i];t[o]=!0}}function B2(t,e,s,n){const i=t._adapter,o=+i.startOf(e[0].value,n),r=e[e.length-1].value;let a,l;for(a=o;a<=r;a=+i.add(a,1,n))l=s[a],l>=0&&(e[l].major=!0);return e}function uu(t,e,s){const n=[],i={},o=e.length;let r,a;for(r=0;r<o;++r)a=e[r],i[a]=r,n.push({value:a,major:!1});return o===0||!s?n:B2(t,n,i,s)}class Bi extends fn{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,s={}){const n=e.time||(e.time={}),i=this._adapter=new Jw._date(e.adapters.date);i.init(s),xi(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=s.normalized}parse(e,s){return e===void 0?null:lu(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,s=this._adapter,n=e.time.unit||"day";let{min:i,max:o,minDefined:r,maxDefined:a}=this.getUserBounds();function l(c){!r&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(o=Math.max(o,c.max))}(!r||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=$e(i)&&!isNaN(i)?i:+s.startOf(Date.now(),n),o=$e(o)&&!isNaN(o)?o:+s.endOf(Date.now(),n)+1,this.min=Math.min(i,o-1),this.max=Math.max(i+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(s=e[0],n=e[e.length-1]),{min:s,max:n}}buildTicks(){const e=this.options,s=e.time,n=e.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const o=this.min,r=this.max,a=_v(i,o,r);return this._unit=s.unit||(n.autoSkip?cu(s.minUnit,this.min,this.max,this._getLabelCapacity(o)):N2(this,a.length,s.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:$2(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),uu(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let s=0,n=0,i,o;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?s=1-i:s=(this.getDecimalForValue(e[1])-i)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?n=o:n=(o-this.getDecimalForValue(e[e.length-2]))/2);const r=e.length<3?.5:.25;s=Ge(s,0,r),n=Ge(n,0,r),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const e=this._adapter,s=this.min,n=this.max,i=this.options,o=i.time,r=o.unit||cu(o.minUnit,s,n,this._getLabelCapacity(s)),a=he(i.ticks.stepSize,1),l=r==="week"?o.isoWeekday:!1,c=Un(l)||l===!0,d={};let h=s,f,p;if(c&&(h=+e.startOf(h,"isoWeek",l)),h=+e.startOf(h,c?"day":r),e.diff(n,s,r)>1e5*a)throw new Error(s+" and "+n+" are too far apart with stepSize of "+a+" "+r);const m=i.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<n;f=+e.add(f,a,r),p++)du(d,f,m);return(f===n||i.bounds==="ticks"||p===1)&&du(d,f,m),Object.keys(d).sort(au).map(g=>+g)}getLabelForValue(e){const s=this._adapter,n=this.options.time;return n.tooltipFormat?s.format(e,n.tooltipFormat):s.format(e,n.displayFormats.datetime)}format(e,s){const i=this.options.time.displayFormats,o=this._unit,r=s||i[o];return this._adapter.format(e,r)}_tickFormatFunction(e,s,n,i){const o=this.options,r=o.ticks.callback;if(r)return Ie(r,[e,s,n],this);const a=o.time.displayFormats,l=this._unit,c=this._majorUnit,d=l&&a[l],h=c&&a[c],f=n[s],p=c&&h&&f&&f.major;return this._adapter.format(e,i||(p?h:d))}generateTickLabels(e){let s,n,i;for(s=0,n=e.length;s<n;++s)i=e[s],i.label=this._tickFormatFunction(i.value,s,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const s=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((s.start+n)*s.factor)}getValueForPixel(e){const s=this._offsets,n=this.getDecimalForPixel(e)/s.factor-s.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const s=this.options.ticks,n=this.ctx.measureText(e).width,i=jt(this.isHorizontal()?s.maxRotation:s.minRotation),o=Math.cos(i),r=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:n*o+a*r,h:n*r+a*o}}_getLabelCapacity(e){const s=this.options.time,n=s.displayFormats,i=n[s.unit]||n.millisecond,o=this._tickFormatFunction(e,0,uu(this,[e],this._majorUnit),i),r=this._getLabelSize(o),a=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],s,n;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(s=0,n=i.length;s<n;++s)e=e.concat(i[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let s,n;if(e.length)return e;const i=this.getLabels();for(s=0,n=i.length;s<n;++s)e.push(lu(this,i[s]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return mf(e.sort(au))}}B(Bi,"id","time"),B(Bi,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function xo(t,e,s){let n=0,i=t.length-1,o,r,a,l;s?(e>=t[n].pos&&e<=t[i].pos&&({lo:n,hi:i}=ms(t,"pos",e)),{pos:o,time:a}=t[n],{pos:r,time:l}=t[i]):(e>=t[n].time&&e<=t[i].time&&({lo:n,hi:i}=ms(t,"time",e)),{time:o,pos:a}=t[n],{time:r,pos:l}=t[i]);const c=r-o;return c?a+(l-a)*(e-o)/c:a}class Va extends Bi{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(e);this._minPos=xo(s,this.min),this._tableRange=xo(s,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:s,max:n}=this,i=[],o=[];let r,a,l,c,d;for(r=0,a=e.length;r<a;++r)c=e[r],c>=s&&c<=n&&i.push(c);if(i.length<2)return[{time:s,pos:0},{time:n,pos:1}];for(r=0,a=i.length;r<a;++r)d=i[r+1],l=i[r-1],c=i[r],Math.round((d+l)/2)!==c&&o.push({time:c,pos:r/(a-1)});return o}_generate(){const e=this.min,s=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(s)||n.length===1)&&n.push(s),n.sort((i,o)=>i-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const s=this.getDataTimestamps(),n=this.getLabelTimestamps();return s.length&&n.length?e=this.normalize(s.concat(n)):e=s.length?s:n,e=this._cache.all=e,e}getDecimalForValue(e){return(xo(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const s=this._offsets,n=this.getDecimalForPixel(e)/s.factor-s.end;return xo(this._table,n*this._tableRange+this._minPos,!0)}}B(Va,"id","timeseries"),B(Va,"defaults",Bi.defaults);var V2=Object.freeze({__proto__:null,CategoryScale:Ua,LinearScale:Na,LogarithmicScale:$a,RadialLinearScale:li,TimeScale:Bi,TimeSeriesScale:Va});const z2=[Yw,Sk,x2,V2];Zt.register(...z2);async function ip(){return await(await fetch("https://servicodados.ibge.gov.br/api/v1/localidades/estados?orderBy=nome")).json()}async function op(t){return t?await(await fetch(`https://servicodados.ibge.gov.br/api/v1/localidades/estados/${t}/municipios?orderBy=nome`)).json():[]}const H2={name:"Dashboard",components:{Sidebar:At,HeaderUser:Pt,Modal:zs,WeekView:rf},data(){return{userId:null,stats:{week:0,month:0,clients:0,newClients:0},upcomingAppointments:[],clients:[],services:[],topClients:[],sidebarOpen:window.innerWidth>=768,showClientModal:!1,showAppointmentModal:!1,showDetailsModal:!1,weekChart:null,weekCounts:[0,0,0,0,0,0,0],states:[],cities:[],clientForm:{name:"",email:"",phone:"",birthdate:"",cpf:"",cep:"",street:"",number:"",complement:"",neighborhood:"",stateId:"",cityId:""},appointmentForm:{date:"",time:"",clientId:"",serviceId:"",duration:"",description:""},selectedAppointment:null}},methods:{phoneMask:_r,cpfMask:nf,cepMask:of,async fetchStatesList(){this.states=await ip()},async fetchCitiesList(){this.cities=await op(this.clientForm.stateId)},async openClientModal(){await this.fetchStatesList(),this.clientForm.stateId&&await this.fetchCitiesList(),this.showClientModal=!0},async fetchStats(){const t=new Date,e=t.getDay(),s=new Date(t);s.setDate(t.getDate()-e),s.setHours(0,0,0,0);const n=new Date(t);n.setDate(t.getDate()+(6-e)),n.setHours(23,59,59,999);const i=s.toISOString().split("T")[0],o=n.toISOString().split("T")[0],r=new Date(t.getFullYear(),t.getMonth(),1),a=new Date(t.getFullYear(),t.getMonth()+1,0);a.setHours(23,59,59,999);const l=r.toISOString().split("T")[0],c=a.toISOString().split("T")[0],{data:d}=await N.from("appointments").select().eq("user_id",this.userId).gte("date",i).lte("date",o);this.stats.week=d?d.length:0;const h=[0,0,0,0,0,0,0];d&&d.forEach(m=>{const g=new Date(m.date);h[g.getDay()]++}),this.weekCounts=h;const{data:f}=await N.from("appointments").select().eq("user_id",this.userId).gte("date",l).lte("date",c);this.stats.month=f?f.length:0;const{data:p}=await N.from("clients").select().eq("user_id",this.userId);p&&(this.stats.clients=p.length,this.clients=p,this.stats.newClients=p.filter(m=>{const g=new Date(m.created_at);return g>=r&&g<=a}).length),await this.fetchTopClients(),this.$nextTick(()=>this.renderWeekChart())},async fetchUpcomingAppointments(){const t=new Date,e=t.getDay(),s=new Date(t);s.setDate(t.getDate()-e),s.setHours(0,0,0,0);const n=new Date(t);n.setDate(t.getDate()+(6-e)),n.setHours(23,59,59,999);const i=s.toISOString().split("T")[0],o=n.toISOString().split("T")[0],{data:r}=await N.from("appointments").select().eq("user_id",this.userId).gte("date",i).lte("date",o).order("date",{ascending:!0}).order("time",{ascending:!0});this.upcomingAppointments=r||[]},async fetchTopClients(){const{data:t}=await N.from("appointments").select("client_id").eq("user_id",this.userId),e={};t&&t.forEach(n=>{e[n.client_id]=(e[n.client_id]||0)+1});const s=Object.entries(e).sort((n,i)=>i[1]-n[1]).slice(0,5);this.topClients=s.map(([n,i])=>({id:n,count:i,name:this.getClientName(n)}))},renderWeekChart(){const t=this.$refs.weekChartCanvas.getContext("2d");this.weekChart&&this.weekChart.destroy(),this.weekChart=new Zt(t,{type:"bar",data:{labels:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],datasets:[{label:"Agendamentos",data:this.weekCounts,backgroundColor:"#6366f1",borderColor:"#4f46e5",borderWidth:1,borderRadius:4}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1}},y:{beginAtZero:!0,grid:{color:"#e5e7eb"}}}}})},getClientName(t){const e=this.clients.find(s=>s.id===t);return e?e.name:""},getServiceName(t){const e=this.services.find(s=>s.id===t);return e?e.name:""},openDetails(t){this.selectedAppointment=t,this.showDetailsModal=!0},closeDetails(){this.showDetailsModal=!1,this.selectedAppointment=null},async handleDeleteAppointment(t){if(!confirm("Tem certeza que deseja excluir este agendamento?"))return;const{error:s}=await N.from("appointments").delete().eq("id",t);s?alert("Erro ao excluir agendamento: "+s.message):(this.upcomingAppointments=this.upcomingAppointments.filter(n=>n.id!==t),this.selectedAppointment&&this.selectedAppointment.id===t&&this.closeDetails(),await this.fetchStats(),await this.fetchTopClients(),await this.fetchUpcomingAppointments())},async handleAddClient(){if(this.clientForm.email&&!ss(this.clientForm.email)){alert("E-mail inválido");return}const{data:t,error:e}=await N.from("clients").insert({name:this.clientForm.name,email:this.clientForm.email,phone:this.clientForm.phone,birthdate:this.clientForm.birthdate,cpf:this.clientForm.cpf,cep:this.clientForm.cep,street:this.clientForm.street,number:this.clientForm.number,complement:this.clientForm.complement,neighborhood:this.clientForm.neighborhood,state_id:this.clientForm.stateId,city_id:this.clientForm.cityId,user_id:this.userId}).select().single();if(e)alert("Erro ao salvar cliente: "+e.message);else{this.clients.push(t),this.clientForm={name:"",email:"",phone:"",birthdate:"",cpf:"",cep:"",street:"",number:"",complement:"",neighborhood:"",stateId:"",cityId:""},this.stats.clients+=1;const s=new Date(t.created_at),n=new Date(s.getFullYear(),s.getMonth(),1),i=new Date(s.getFullYear(),s.getMonth()+1,0);i.setHours(23,59,59,999),s>=n&&s<=i&&(this.stats.newClients+=1),await this.fetchTopClients(),alert("Cliente cadastrado!")}},async handleAddAppointment(){const{data:t,error:e}=await N.from("appointments").insert({date:this.appointmentForm.date,time:this.appointmentForm.time,client_id:this.appointmentForm.clientId,service_id:this.appointmentForm.serviceId,duration:this.appointmentForm.duration,description:this.appointmentForm.description,user_id:this.userId}).select().single();if(e)alert("Erro ao salvar agendamento: "+e.message);else{this.upcomingAppointments.push(t),this.showAppointmentModal=!1,this.appointmentForm={date:"",time:"",clientId:"",serviceId:"",duration:"",description:""},this.stats.week+=1,this.stats.month+=1;const s=new Date(t.date);this.weekCounts[s.getDay()]++,await this.fetchTopClients(),this.renderWeekChart()}}},watch:{"appointmentForm.serviceId"(t){const e=this.services.find(s=>s.id===t);e&&this.appointmentForm.duration===""&&(this.appointmentForm.duration=e.duration)},"clientForm.stateId"(){this.fetchCitiesList()}},async mounted(){const{data:{user:t}}=await N.auth.getUser();if(!t){this.$router.push("/login");return}this.userId=t.id,await this.fetchStats(),await this.fetchUpcomingAppointments();const{data:e}=await N.from("services").select().eq("user_id",this.userId);e&&(this.services=e),await this.fetchStatesList()}},W2={class:"min-h-screen flex bg-gray-50 relative"},q2={class:"flex-1 p-4 md:p-8 space-y-8"},K2={key:0,class:"flex items-center mb-4"},G2={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},Y2={class:"bg-white p-6 rounded-lg shadow-lg text-center"},J2={class:"text-2xl font-bold"},X2={class:"bg-white p-6 rounded-lg shadow-lg text-center"},Q2={class:"text-2xl font-bold"},Z2={class:"bg-white p-6 rounded-lg shadow-lg text-center"},eS={class:"text-2xl font-bold"},tS={class:"bg-white p-6 rounded-lg shadow-lg text-center"},sS={class:"text-2xl font-bold"},nS={class:"bg-white p-6 rounded-lg shadow-lg h-64"},iS={ref:"weekChartCanvas",class:"w-full h-full"},oS={class:"grid grid-cols-1 md:grid-cols-12 gap-6"},rS={class:"md:col-span-8"},aS={class:"flex items-center justify-between mb-4"},lS={class:"md:col-span-4 space-y-4"},cS={class:"bg-white p-4 rounded-lg shadow"},dS={class:"overflow-x-auto"},uS={class:"min-w-full text-left"},hS={class:"px-4 py-2"},fS={class:"px-4 py-2 text-right"},pS={key:0},mS=["value"],gS=["value"],bS={class:"flex justify-end space-x-2"},yS=["value"],xS=["value"],_S={class:"flex justify-end space-x-2"},vS={key:0,class:"space-y-1"},wS={class:"flex justify-center mt-4 space-x-2"};function kS(t,e,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser"),l=H("WeekView"),c=H("Modal");return v(),k("div",W2,[D(r,{"is-open":i.sidebarOpen,onClose:e[0]||(e[0]=d=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",q2,[i.sidebarOpen?W("",!0):(v(),k("div",K2,[u("button",{onClick:e[1]||(e[1]=d=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},e[33]||(e[33]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),D(a,{title:"Dashboard"}),u("section",G2,[u("div",Y2,[e[34]||(e[34]=u("p",{class:"text-sm text-gray-500"},"Agendamentos na semana",-1)),u("p",J2,P(i.stats.week),1)]),u("div",X2,[e[35]||(e[35]=u("p",{class:"text-sm text-gray-500"},"Agendamentos no mês",-1)),u("p",Q2,P(i.stats.month),1)]),u("div",Z2,[e[36]||(e[36]=u("p",{class:"text-sm text-gray-500"},"Clientes cadastrados",-1)),u("p",eS,P(i.stats.clients),1)]),u("div",tS,[e[37]||(e[37]=u("p",{class:"text-sm text-gray-500"},"Novos clientes no mês",-1)),u("p",sS,P(i.stats.newClients),1)])]),u("section",nS,[e[38]||(e[38]=u("h3",{class:"text-lg font-medium mb-4"},"Agendamentos na semana",-1)),u("canvas",iS,null,512)]),u("section",oS,[u("div",rS,[u("div",aS,[e[39]||(e[39]=u("h3",{class:"text-lg font-medium"},"Agenda da Semana",-1)),u("button",{onClick:e[2]||(e[2]=d=>i.showAppointmentModal=!0),class:"btn"},"Novo Agendamento")]),D(l,{appointments:i.upcomingAppointments,getClientName:o.getClientName,onSelect:o.openDetails},null,8,["appointments","getClientName","onSelect"])]),u("div",lS,[u("button",{onClick:e[3]||(e[3]=(...d)=>o.openClientModal&&o.openClientModal(...d)),class:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700"},"Novo Cliente"),u("div",cS,[e[42]||(e[42]=u("h4",{class:"font-medium mb-2"},"Clientes com mais agendamentos",-1)),u("div",dS,[u("table",uS,[e[41]||(e[41]=u("thead",{class:"bg-gray-50"},[u("tr",null,[u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Cliente"),u("th",{class:"px-4 py-2 font-medium text-gray-700 text-right"},"Agendamentos")])],-1)),u("tbody",null,[(v(!0),k(J,null,pe(i.topClients,d=>(v(),k("tr",{key:d.id,class:"border-b last:border-b-0"},[u("td",hS,P(d.name),1),u("td",fS,P(d.count),1)]))),128)),i.topClients.length===0?(v(),k("tr",pS,e[40]||(e[40]=[u("td",{colspan:"2",class:"px-4 py-6 text-center text-gray-500"},"Nenhum dado",-1)]))):W("",!0)])])])])])]),i.showClientModal?(v(),dt(c,{key:1,onClose:e[21]||(e[21]=d=>i.showClientModal=!1)},{default:se(()=>[e[58]||(e[58]=u("h3",{class:"text-lg font-semibold mb-4"},"Adicionar Cliente",-1)),u("form",{onSubmit:e[20]||(e[20]=it((...d)=>o.handleAddClient&&o.handleAddClient(...d),["prevent"])),class:"space-y-4"},[u("div",null,[e[43]||(e[43]=u("label",{class:"block text-sm font-medium text-gray-700"},"Nome",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=d=>i.clientForm.name=d),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.clientForm.name]])]),u("div",null,[e[44]||(e[44]=u("label",{class:"block text-sm font-medium text-gray-700"},"CPF",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=d=>i.clientForm.cpf=d),onInput:e[6]||(e[6]=d=>i.clientForm.cpf=o.cpfMask(i.clientForm.cpf)),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,544),[[j,i.clientForm.cpf]])]),u("div",null,[e[45]||(e[45]=u("label",{class:"block text-sm font-medium text-gray-700"},"Data de nascimento",-1)),O(u("input",{type:"date","onUpdate:modelValue":e[7]||(e[7]=d=>i.clientForm.birthdate=d),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.clientForm.birthdate]])]),u("div",null,[e[46]||(e[46]=u("label",{class:"block text-sm font-medium text-gray-700"},"E-mail",-1)),O(u("input",{type:"email","onUpdate:modelValue":e[8]||(e[8]=d=>i.clientForm.email=d),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.clientForm.email]])]),u("div",null,[e[47]||(e[47]=u("label",{class:"block text-sm font-medium text-gray-700"},"Telefone",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[9]||(e[9]=d=>i.clientForm.phone=d),onInput:e[10]||(e[10]=d=>i.clientForm.phone=o.phoneMask(i.clientForm.phone)),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,544),[[j,i.clientForm.phone]])]),u("div",null,[e[48]||(e[48]=u("label",{class:"block text-sm font-medium text-gray-700"},"CEP",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[11]||(e[11]=d=>i.clientForm.cep=d),onInput:e[12]||(e[12]=d=>i.clientForm.cep=o.cepMask(i.clientForm.cep)),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,544),[[j,i.clientForm.cep]])]),u("div",null,[e[49]||(e[49]=u("label",{class:"block text-sm font-medium text-gray-700"},"Endereço",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[13]||(e[13]=d=>i.clientForm.street=d),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.clientForm.street]])]),u("div",null,[e[50]||(e[50]=u("label",{class:"block text-sm font-medium text-gray-700"},"Número",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[14]||(e[14]=d=>i.clientForm.number=d),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.clientForm.number]])]),u("div",null,[e[51]||(e[51]=u("label",{class:"block text-sm font-medium text-gray-700"},"Complemento",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[15]||(e[15]=d=>i.clientForm.complement=d),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.clientForm.complement]])]),u("div",null,[e[52]||(e[52]=u("label",{class:"block text-sm font-medium text-gray-700"},"Bairro",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[16]||(e[16]=d=>i.clientForm.neighborhood=d),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.clientForm.neighborhood]])]),u("div",null,[e[54]||(e[54]=u("label",{class:"block text-sm font-medium text-gray-700"},"Estado",-1)),O(u("select",{"onUpdate:modelValue":e[17]||(e[17]=d=>i.clientForm.stateId=d),class:"w-full mt-1 px-4 py-2 border rounded-md"},[e[53]||(e[53]=u("option",{disabled:"",value:""},"Selecione",-1)),(v(!0),k(J,null,pe(i.states,d=>(v(),k("option",{key:d.id,value:d.id},P(d.nome)+" ("+P(d.sigla)+")",9,mS))),128))],512),[[Mt,i.clientForm.stateId]])]),u("div",null,[e[56]||(e[56]=u("label",{class:"block text-sm font-medium text-gray-700"},"Cidade",-1)),O(u("select",{"onUpdate:modelValue":e[18]||(e[18]=d=>i.clientForm.cityId=d),class:"w-full mt-1 px-4 py-2 border rounded-md"},[e[55]||(e[55]=u("option",{disabled:"",value:""},"Selecione",-1)),(v(!0),k(J,null,pe(i.cities,d=>(v(),k("option",{key:d.id,value:d.id},P(d.nome),9,gS))),128))],512),[[Mt,i.clientForm.cityId]])]),u("div",bS,[u("button",{type:"button",onClick:e[19]||(e[19]=d=>i.showClientModal=!1),class:"px-4 py-2 rounded border"},"Cancelar"),e[57]||(e[57]=u("button",{type:"submit",class:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700"},"Salvar",-1))])],32)]),_:1,__:[58]})):W("",!0),i.showAppointmentModal?(v(),dt(c,{key:2,onClose:e[30]||(e[30]=d=>i.showAppointmentModal=!1)},{default:se(()=>[e[68]||(e[68]=u("h3",{class:"text-lg font-semibold mb-4"},"Adicionar Agendamento",-1)),u("form",{onSubmit:e[29]||(e[29]=it((...d)=>o.handleAddAppointment&&o.handleAddAppointment(...d),["prevent"])),class:"space-y-4"},[u("div",null,[e[59]||(e[59]=u("label",{class:"block text-sm font-medium text-gray-700"},"Data",-1)),O(u("input",{type:"date","onUpdate:modelValue":e[22]||(e[22]=d=>i.appointmentForm.date=d),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.appointmentForm.date]])]),u("div",null,[e[60]||(e[60]=u("label",{class:"block text-sm font-medium text-gray-700"},"Hora",-1)),O(u("input",{type:"time","onUpdate:modelValue":e[23]||(e[23]=d=>i.appointmentForm.time=d),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.appointmentForm.time]])]),u("div",null,[e[62]||(e[62]=u("label",{class:"block text-sm font-medium text-gray-700"},"Cliente",-1)),O(u("select",{"onUpdate:modelValue":e[24]||(e[24]=d=>i.appointmentForm.clientId=d),class:"w-full mt-1 px-4 py-2 border rounded-md"},[e[61]||(e[61]=u("option",{disabled:"",value:""},"Selecione um cliente",-1)),(v(!0),k(J,null,pe(i.clients,d=>(v(),k("option",{key:d.id,value:d.id},P(d.name),9,yS))),128))],512),[[Mt,i.appointmentForm.clientId]])]),u("div",null,[e[64]||(e[64]=u("label",{class:"block text-sm font-medium text-gray-700"},"Serviço",-1)),O(u("select",{"onUpdate:modelValue":e[25]||(e[25]=d=>i.appointmentForm.serviceId=d),class:"w-full mt-1 px-4 py-2 border rounded-md"},[e[63]||(e[63]=u("option",{disabled:"",value:""},"Selecione um serviço",-1)),(v(!0),k(J,null,pe(i.services,d=>(v(),k("option",{key:d.id,value:d.id},P(d.name),9,xS))),128))],512),[[Mt,i.appointmentForm.serviceId]])]),u("div",null,[e[65]||(e[65]=u("label",{class:"block text-sm font-medium text-gray-700"},"Duração (minutos)",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[26]||(e[26]=d=>i.appointmentForm.duration=d),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.appointmentForm.duration]])]),u("div",null,[e[66]||(e[66]=u("label",{class:"block text-sm font-medium text-gray-700"},"Descrição",-1)),O(u("textarea",{"onUpdate:modelValue":e[27]||(e[27]=d=>i.appointmentForm.description=d),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.appointmentForm.description]])]),u("div",_S,[u("button",{type:"button",onClick:e[28]||(e[28]=d=>i.showAppointmentModal=!1),class:"px-4 py-2 rounded border"},"Cancelar"),e[67]||(e[67]=u("button",{type:"submit",class:"btn"},"Salvar",-1))])],32)]),_:1,__:[68]})):W("",!0),i.showDetailsModal?(v(),dt(c,{key:3,onClose:o.closeDetails},{default:se(()=>[e[75]||(e[75]=u("h3",{class:"text-lg font-semibold mb-4"},"Detalhes do Agendamento",-1)),i.selectedAppointment?(v(),k("div",vS,[u("p",null,[e[69]||(e[69]=u("strong",null,"Data:",-1)),ee(" "+P(i.selectedAppointment.date),1)]),u("p",null,[e[70]||(e[70]=u("strong",null,"Hora:",-1)),ee(" "+P(i.selectedAppointment.time),1)]),u("p",null,[e[71]||(e[71]=u("strong",null,"Cliente:",-1)),ee(" "+P(o.getClientName(i.selectedAppointment.client_id)),1)]),u("p",null,[e[72]||(e[72]=u("strong",null,"Serviço:",-1)),ee(" "+P(o.getServiceName(i.selectedAppointment.service_id)),1)]),u("p",null,[e[73]||(e[73]=u("strong",null,"Duração:",-1)),ee(" "+P(i.selectedAppointment.duration),1)]),u("p",null,[e[74]||(e[74]=u("strong",null,"Descrição:",-1)),ee(" "+P(i.selectedAppointment.description),1)])])):W("",!0),u("div",wS,[u("button",{onClick:e[31]||(e[31]=d=>o.handleDeleteAppointment(i.selectedAppointment.id)),class:"btn btn-danger"},"Excluir"),u("button",{onClick:e[32]||(e[32]=(...d)=>o.closeDetails&&o.closeDetails(...d)),class:"px-4 py-2 rounded border"},"Fechar")])]),_:1,__:[75]},8,["onClose"])):W("",!0)])])}const SS=me(H2,[["render",kS]]),CS={name:"Configuracao",components:{Sidebar:At,HeaderUser:Pt},data(){return{userId:null,sidebarOpen:window.innerWidth>=768,slug:"",activeTab:"perfil",form:{businessName:"",description:"",areaAtuacao:"",phone:"",whatsapp:"",email:"",address:"",instagram:"",facebook:"",youtube:"",x:"",imageUrl:""},agenda:{dailySchedule:{0:{enabled:!1,start:"",end:""},1:{enabled:!1,start:"",end:""},2:{enabled:!1,start:"",end:""},3:{enabled:!1,start:"",end:""},4:{enabled:!1,start:"",end:""},5:{enabled:!1,start:"",end:""},6:{enabled:!1,start:"",end:""}}},daysOfWeekOptions:[{value:"0",label:"Domingo"},{value:"1",label:"Segunda"},{value:"2",label:"Terça"},{value:"3",label:"Quarta"},{value:"4",label:"Quinta"},{value:"5",label:"Sexta"},{value:"6",label:"Sábado"}]}},methods:{phoneMask:_r,updateSlug(){this.slug=this.form.businessName.toLowerCase().normalize("NFD").replace(/\p{Diacritic}/gu,"").replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")},async handleSave(){if(this.form.email&&!ss(this.form.email)){alert("E-mail inválido");return}const t={id:this.userId,business_name:this.form.businessName,slug:this.slug,description:this.form.description,area_atuacao:this.form.areaAtuacao,phone:this.form.phone,whatsapp:this.form.whatsapp,email:this.form.email,address:this.form.address,instagram:this.form.instagram,facebook:this.form.facebook,youtube:this.form.youtube,x:this.form.x,image_url:this.form.imageUrl},{error:e}=await N.from("profiles").upsert(t,{onConflict:["id"]});alert(e?"Erro ao salvar dados: "+e.message:"Dados salvos com sucesso!")},async handleImageUpload(t){const e=t.target.files[0];if(!e)return;const s=e.name.split(".").pop(),n=`${this.userId}.${s}`,{error:i}=await N.storage.from("profile-images").upload(n,e,{upsert:!0});if(i){alert("Erro ao enviar imagem: "+i.message);return}const{data:{publicUrl:o}}=N.storage.from("profile-images").getPublicUrl(n);this.form.imageUrl=o},async handleSaveAgenda(){const t={start:null,end:null,days:[]};for(const[n,i]of Object.entries(this.agenda.dailySchedule))i.enabled&&i.start&&i.end&&(t.days.push(n),(!t.start||i.start<t.start)&&(t.start=i.start),(!t.end||i.end>t.end)&&(t.end=i.end));const e={id:this.userId,start_time:t.start,end_time:t.end,week_days:t.days.join(","),daily_schedule:this.agenda.dailySchedule},{error:s}=await N.from("profiles").upsert(e,{onConflict:["id"]});alert(s?"Erro ao salvar dados: "+s.message:"Dados salvos com sucesso!")}},async mounted(){const{data:{user:t}}=await N.auth.getUser();if(!t){this.$router.push("/login");return}this.userId=t.id;const{data:e,error:s}=await N.from("profiles").select().eq("id",this.userId).single();if(e){if(this.form={businessName:e.business_name||"",description:e.description||"",areaAtuacao:e.area_atuacao||"",phone:e.phone||"",whatsapp:e.whatsapp||"",email:e.email||"",address:e.address||"",instagram:e.instagram||"",facebook:e.facebook||"",youtube:e.youtube||"",x:e.x||"",imageUrl:e.image_url||""},this.agenda={dailySchedule:{0:{enabled:!1,start:"",end:""},1:{enabled:!1,start:"",end:""},2:{enabled:!1,start:"",end:""},3:{enabled:!1,start:"",end:""},4:{enabled:!1,start:"",end:""},5:{enabled:!1,start:"",end:""},6:{enabled:!1,start:"",end:""}}},e.daily_schedule)Object.assign(this.agenda.dailySchedule,typeof e.daily_schedule=="string"?JSON.parse(e.daily_schedule):e.daily_schedule);else{const n=e.week_days?e.week_days.split(","):[];for(const i of n)this.agenda.dailySchedule[i]={enabled:!0,start:e.start_time||"",end:e.end_time||""}}this.updateSlug()}}},MS={class:"min-h-screen flex bg-gray-100 relative"},AS={class:"flex-1 p-8"},PS={key:0,class:"flex items-center mb-4"},TS={class:"mb-6 space-x-2"},OS={class:"text-sm text-gray-500 mt-1"},ES={class:"font-mono"},DS=["href"],IS={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},RS={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},LS={key:0,class:"mt-2"},FS=["src"],jS={class:"mt-1 space-y-2"},US=["onUpdate:modelValue"],NS={class:"w-20"},$S=["onUpdate:modelValue"],BS=["onUpdate:modelValue"];function VS(t,e,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser"),l=H("router-link");return v(),k("div",MS,[D(r,{"is-open":i.sidebarOpen,onClose:e[0]||(e[0]=c=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",AS,[i.sidebarOpen?W("",!0):(v(),k("div",PS,[u("button",{onClick:e[1]||(e[1]=c=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},e[21]||(e[21]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),D(a,{title:"Configurações"}),D(l,{to:"/onboarding",class:"text-blue-600 underline mb-4 inline-block"},{default:se(()=>e[22]||(e[22]=[ee("Refazer Onboarding")])),_:1,__:[22]}),u("nav",TS,[u("button",{onClick:e[2]||(e[2]=c=>i.activeTab="perfil"),class:bt([i.activeTab==="perfil"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700","px-4 py-2 rounded-l"])},"Perfil",2),u("button",{onClick:e[3]||(e[3]=c=>i.activeTab="agenda"),class:bt([i.activeTab==="agenda"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700","px-4 py-2 rounded-r"])},"Agenda",2)]),i.activeTab==="perfil"?(v(),k("form",{key:1,onSubmit:e[19]||(e[19]=it((...c)=>o.handleSave&&o.handleSave(...c),["prevent"])),class:"space-y-6 max-w-3xl"},[u("div",null,[e[24]||(e[24]=u("label",{class:"block text-sm font-medium text-gray-700"},"Nome Comercial",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=c=>i.form.businessName=c),onInput:e[5]||(e[5]=(...c)=>o.updateSlug&&o.updateSlug(...c)),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,544),[[j,i.form.businessName]]),u("p",OS,[e[23]||(e[23]=ee(" Seu link público: ")),u("span",ES,"#/"+P(i.slug),1),u("a",{href:"#/"+i.slug,target:"_blank",class:"text-blue-600 hover:underline ml-2"},"Abrir página do cliente",8,DS)])]),u("div",null,[e[25]||(e[25]=u("label",{class:"block text-sm font-medium text-gray-700"},"Descrição do Estabelecimento",-1)),O(u("textarea",{"onUpdate:modelValue":e[6]||(e[6]=c=>i.form.description=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.form.description]])]),u("div",null,[e[27]||(e[27]=u("label",{class:"block text-sm font-medium text-gray-700"},"Área de Atuação",-1)),O(u("select",{"onUpdate:modelValue":e[7]||(e[7]=c=>i.form.areaAtuacao=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},e[26]||(e[26]=[ln('<option disabled value="">Selecione</option><option>Psicologia</option><option>Terapias Gerais</option><option>Psicopedagogia</option><option>Medicina</option><option>Coaching</option><option>Fonoaudiologia</option><option>Fisioterapia</option><option>Nutrição</option><option>Terapia Ocupacional</option>',10)]),512),[[Mt,i.form.areaAtuacao]])]),u("div",IS,[u("div",null,[e[28]||(e[28]=u("label",{class:"block text-sm font-medium text-gray-700"},"Telefone de Contato",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=c=>i.form.phone=c),onInput:e[9]||(e[9]=c=>i.form.phone=o.phoneMask(i.form.phone)),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,544),[[j,i.form.phone]])]),u("div",null,[e[29]||(e[29]=u("label",{class:"block text-sm font-medium text-gray-700"},"WhatsApp",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[10]||(e[10]=c=>i.form.whatsapp=c),onInput:e[11]||(e[11]=c=>i.form.whatsapp=o.phoneMask(i.form.whatsapp)),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,544),[[j,i.form.whatsapp]])]),u("div",null,[e[30]||(e[30]=u("label",{class:"block text-sm font-medium text-gray-700"},"E-mail",-1)),O(u("input",{type:"email","onUpdate:modelValue":e[12]||(e[12]=c=>i.form.email=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.form.email]])]),u("div",null,[e[31]||(e[31]=u("label",{class:"block text-sm font-medium text-gray-700"},"Endereço",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[13]||(e[13]=c=>i.form.address=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.form.address]])])]),u("div",RS,[u("div",null,[e[32]||(e[32]=u("label",{class:"block text-sm font-medium text-gray-700"},"Instagram",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[14]||(e[14]=c=>i.form.instagram=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.form.instagram]])]),u("div",null,[e[33]||(e[33]=u("label",{class:"block text-sm font-medium text-gray-700"},"Facebook",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[15]||(e[15]=c=>i.form.facebook=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.form.facebook]])]),u("div",null,[e[34]||(e[34]=u("label",{class:"block text-sm font-medium text-gray-700"},"YouTube",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[16]||(e[16]=c=>i.form.youtube=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.form.youtube]])]),u("div",null,[e[35]||(e[35]=u("label",{class:"block text-sm font-medium text-gray-700"},"X (Twitter)",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[17]||(e[17]=c=>i.form.x=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.form.x]])])]),u("div",null,[e[36]||(e[36]=u("label",{class:"block text-sm font-medium text-gray-700"},"Imagem do Estabelecimento",-1)),u("input",{type:"file",accept:"image/*",onChange:e[18]||(e[18]=(...c)=>o.handleImageUpload&&o.handleImageUpload(...c)),class:"mt-1"},null,32),i.form.imageUrl?(v(),k("div",LS,[u("img",{src:i.form.imageUrl,alt:"Imagem do estabelecimento",class:"h-24 rounded-md"},null,8,FS)])):W("",!0)]),e[37]||(e[37]=u("div",null,[u("button",{type:"submit",class:"btn"},"Salvar")],-1))],32)):W("",!0),i.activeTab==="agenda"?(v(),k("form",{key:2,onSubmit:e[20]||(e[20]=it((...c)=>o.handleSaveAgenda&&o.handleSaveAgenda(...c),["prevent"])),class:"space-y-6 max-w-3xl"},[u("div",null,[e[39]||(e[39]=u("label",{class:"block text-sm font-medium text-gray-700"},"Horários por dia",-1)),u("div",jS,[(v(!0),k(J,null,pe(i.daysOfWeekOptions,c=>(v(),k("div",{key:c.value,class:"flex items-center space-x-2"},[O(u("input",{type:"checkbox","onUpdate:modelValue":d=>i.agenda.dailySchedule[c.value].enabled=d},null,8,US),[[ll,i.agenda.dailySchedule[c.value].enabled]]),u("span",NS,P(c.label),1),O(u("input",{type:"time","onUpdate:modelValue":d=>i.agenda.dailySchedule[c.value].start=d,class:"border rounded-md px-2 py-1"},null,8,$S),[[j,i.agenda.dailySchedule[c.value].start]]),e[38]||(e[38]=u("span",null,"-",-1)),O(u("input",{type:"time","onUpdate:modelValue":d=>i.agenda.dailySchedule[c.value].end=d,class:"border rounded-md px-2 py-1"},null,8,BS),[[j,i.agenda.dailySchedule[c.value].end]])]))),128))])]),e[40]||(e[40]=u("div",null,[u("button",{type:"submit",class:"btn"},"Salvar")],-1))],32)):W("",!0)])])}const zS=me(CS,[["render",VS]]),HS={name:"Clientes",components:{Sidebar:At,HeaderUser:Pt,Modal:zs},data(){return{userId:null,showModal:!1,modalMode:"new",editingId:null,search:"",form:{name:"",email:"",phone:"",birthdate:"",cpf:"",cep:"",street:"",number:"",complement:"",neighborhood:"",stateId:"",cityId:""},states:[],cities:[],clients:[],sidebarOpen:window.innerWidth>=768,page:1,pageSize:10}},methods:{phoneMask:_r,digitsOnly:Ma,cpfMask:nf,cepMask:of,async fetchStatesList(){this.states=await ip()},async fetchCitiesList(){this.cities=await op(this.form.stateId)},async openModal(t,e="new"){this.modalMode=e,t?(this.editingId=t.id,this.form={name:t.name,email:t.email,phone:t.phone,birthdate:t.birthdate,cpf:t.cpf,cep:t.cep,street:t.street,number:t.number,complement:t.complement,neighborhood:t.neighborhood,stateId:t.state_id,cityId:t.city_id}):(this.editingId=null,this.form={name:"",email:"",phone:"",birthdate:"",cpf:"",cep:"",street:"",number:"",complement:"",neighborhood:"",stateId:"",cityId:""}),await this.fetchStatesList(),this.form.stateId&&await this.fetchCitiesList(),this.showModal=!0},closeModal(){this.showModal=!1,this.modalMode="new",this.editingId=null,this.form={name:"",email:"",phone:"",birthdate:"",cpf:"",cep:"",street:"",number:"",complement:"",neighborhood:"",stateId:"",cityId:""}},handleClose(){this.modalMode==="view"?this.closeModal():confirm("Tem certeza? Os dados não foram salvos e serão perdidos.")&&this.closeModal()},whatsappLink(t){return`https://wa.me/${Ma(t)}`},async handleSaveClient(){if(this.form.email&&!ss(this.form.email)){alert("E-mail inválido");return}let t,e;if(this.editingId?{data:t,error:e}=await N.from("clients").update({name:this.form.name,email:this.form.email,phone:this.form.phone,birthdate:this.form.birthdate,cpf:this.form.cpf,cep:this.form.cep,street:this.form.street,number:this.form.number,complement:this.form.complement,neighborhood:this.form.neighborhood,state_id:this.form.stateId,city_id:this.form.cityId}).eq("id",this.editingId).select().single():{data:t,error:e}=await N.from("clients").insert({name:this.form.name,email:this.form.email,phone:this.form.phone,birthdate:this.form.birthdate,cpf:this.form.cpf,cep:this.form.cep,street:this.form.street,number:this.form.number,complement:this.form.complement,neighborhood:this.form.neighborhood,state_id:this.form.stateId,city_id:this.form.cityId,user_id:this.userId}).select().single(),e)alert("Erro ao salvar cliente: "+e.message);else{if(this.editingId){const s=this.clients.findIndex(n=>n.id===this.editingId);s!==-1&&(this.clients[s]=t)}else this.clients.push(t);this.closeModal()}},async handleDeleteClient(t){if(!confirm("Tem certeza que deseja excluir este cliente?"))return;const{error:s}=await N.from("clients").delete().eq("id",t);s?alert("Erro ao excluir cliente: "+s.message):this.clients=this.clients.filter(n=>n.id!==t)},enableEdit(){this.modalMode="edit"},nextPage(){this.page<this.totalPages&&this.page++},prevPage(){this.page>1&&this.page--}},computed:{isReadOnly(){return this.modalMode==="view"},filteredClients(){const t=this.search.toLowerCase();return this.clients.filter(e=>e.name.toLowerCase().includes(t)||e.email.toLowerCase().includes(t)||e.phone.toLowerCase().includes(t))},paginatedClients(){const t=(this.page-1)*this.pageSize;return this.filteredClients.slice(t,t+this.pageSize)},totalPages(){return Math.max(1,Math.ceil(this.filteredClients.length/this.pageSize))}},watch:{search(){this.page=1},"form.stateId"(){this.fetchCitiesList()}},async mounted(){const{data:{user:t}}=await N.auth.getUser();if(!t){this.$router.push("/login");return}this.userId=t.id;const{data:e}=await N.from("clients").select().eq("user_id",this.userId);e&&(this.clients=e),await this.fetchStatesList()}},WS={class:"min-h-screen flex bg-gray-100 relative"},qS={class:"flex-1 p-4 md:p-8 space-y-6"},KS={key:0,class:"flex items-center mb-4"},GS={class:"bg-white p-4 rounded-lg shadow"},YS={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 space-y-4 sm:space-y-0"},JS={class:"flex flex-col sm:flex-row items-stretch sm:items-center w-full sm:w-auto space-y-2 sm:space-y-0 sm:space-x-3"},XS={class:"overflow-x-auto"},QS={class:"min-w-full text-left"},ZS={class:"px-4 py-2"},eC={class:"px-4 py-2"},tC={class:"px-4 py-2"},sC={class:"px-4 py-2 text-right space-x-2"},nC=["href"],iC=["onClick"],oC=["onClick"],rC={key:0},aC={class:"mt-4 flex justify-between items-center"},lC=["disabled"],cC={class:"text-sm"},dC=["disabled"],uC={class:"text-lg font-semibold mb-4"},hC=["disabled"],fC=["disabled"],pC=["disabled"],mC=["disabled"],gC=["disabled"],bC=["disabled"],yC=["disabled"],xC=["disabled"],_C=["disabled"],vC=["disabled"],wC=["disabled"],kC=["value"],SC=["disabled"],CC=["value"],MC={class:"flex justify-end space-x-2 md:col-span-2"},AC=["disabled"];function PC(t,e,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser"),l=H("Modal");return v(),k("div",WS,[D(r,{"is-open":i.sidebarOpen,onClose:e[0]||(e[0]=c=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",qS,[i.sidebarOpen?W("",!0):(v(),k("div",KS,[u("button",{onClick:e[1]||(e[1]=c=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},e[24]||(e[24]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),D(a,{title:"Clientes"}),u("section",GS,[u("div",YS,[e[25]||(e[25]=u("h3",{class:"text-lg font-medium"},"Clientes cadastrados",-1)),u("div",JS,[O(u("input",{"onUpdate:modelValue":e[2]||(e[2]=c=>i.search=c),type:"text",placeholder:"Buscar...",class:"border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 w-full sm:w-64"},null,512),[[j,i.search]]),u("button",{onClick:e[3]||(e[3]=(...c)=>o.openModal&&o.openModal(...c)),class:"btn w-full sm:w-auto"}," Novo Cliente ")])]),u("div",XS,[u("table",QS,[e[27]||(e[27]=u("thead",{class:"bg-gray-50"},[u("tr",null,[u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Nome"),u("th",{class:"px-4 py-2 font-medium text-gray-700"},"E-mail"),u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Telefone"),u("th",{class:"px-4 py-2"})])],-1)),u("tbody",null,[(v(!0),k(J,null,pe(o.paginatedClients,c=>(v(),k("tr",{key:c.id,class:"border-b last:border-b-0"},[u("td",ZS,P(c.name),1),u("td",eC,P(c.email),1),u("td",tC,P(o.phoneMask(c.phone)),1),u("td",sC,[u("a",{href:o.whatsappLink(c.phone),target:"_blank",rel:"noopener",class:"btn btn-sm btn-success"}," WhatsApp ",8,nC),u("button",{onClick:d=>o.openModal(c,"view"),class:"btn btn-sm"}," Visualizar ",8,iC),u("button",{onClick:d=>o.handleDeleteClient(c.id),class:"btn btn-sm btn-danger"}," Excluir ",8,oC)])]))),128)),o.filteredClients.length===0?(v(),k("tr",rC,e[26]||(e[26]=[u("td",{colspan:"4",class:"px-4 py-6 text-center text-gray-500"}," Nenhum cliente encontrado ",-1)]))):W("",!0)])]),u("div",aC,[u("button",{class:"px-3 py-1 border rounded",onClick:e[4]||(e[4]=(...c)=>o.prevPage&&o.prevPage(...c)),disabled:i.page===1}," Anterior ",8,lC),u("span",cC,"Página "+P(i.page)+" de "+P(o.totalPages),1),u("button",{class:"px-3 py-1 border rounded",onClick:e[5]||(e[5]=(...c)=>o.nextPage&&o.nextPage(...c)),disabled:i.page===o.totalPages}," Próxima ",8,dC)])])]),i.showModal?(v(),dt(l,{key:1,onClose:o.handleClose},{default:se(()=>[u("h3",uC,P(i.modalMode==="new"?"Adicionar Cliente":"Cadastro do Cliente"),1),u("form",{onSubmit:e[23]||(e[23]=it((...c)=>o.handleSaveClient&&o.handleSaveClient(...c),["prevent"])),class:"grid grid-cols-1 md:grid-cols-2 gap-4"},[u("div",null,[e[28]||(e[28]=u("label",{class:"block text-sm font-medium text-gray-700"},"Nome",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=c=>i.form.name=c),disabled:o.isReadOnly,class:"w-full mt-1 px-4 py-2 border rounded-md"},null,8,hC),[[j,i.form.name]])]),u("div",null,[e[29]||(e[29]=u("label",{class:"block text-sm font-medium text-gray-700"},"CPF",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=c=>i.form.cpf=c),disabled:o.isReadOnly,onInput:e[8]||(e[8]=c=>i.form.cpf=o.cpfMask(i.form.cpf)),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,40,fC),[[j,i.form.cpf]])]),u("div",null,[e[30]||(e[30]=u("label",{class:"block text-sm font-medium text-gray-700"},"Data de nascimento",-1)),O(u("input",{type:"date","onUpdate:modelValue":e[9]||(e[9]=c=>i.form.birthdate=c),disabled:o.isReadOnly,class:"w-full mt-1 px-4 py-2 border rounded-md"},null,8,pC),[[j,i.form.birthdate]])]),u("div",null,[e[31]||(e[31]=u("label",{class:"block text-sm font-medium text-gray-700"},"E-mail",-1)),O(u("input",{type:"email","onUpdate:modelValue":e[10]||(e[10]=c=>i.form.email=c),disabled:o.isReadOnly,class:"w-full mt-1 px-4 py-2 border rounded-md"},null,8,mC),[[j,i.form.email]])]),u("div",null,[e[32]||(e[32]=u("label",{class:"block text-sm font-medium text-gray-700"},"Telefone",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[11]||(e[11]=c=>i.form.phone=c),disabled:o.isReadOnly,onInput:e[12]||(e[12]=c=>i.form.phone=o.phoneMask(i.form.phone)),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,40,gC),[[j,i.form.phone]])]),u("div",null,[e[33]||(e[33]=u("label",{class:"block text-sm font-medium text-gray-700"},"CEP",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[13]||(e[13]=c=>i.form.cep=c),disabled:o.isReadOnly,onInput:e[14]||(e[14]=c=>i.form.cep=o.cepMask(i.form.cep)),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,40,bC),[[j,i.form.cep]])]),u("div",null,[e[34]||(e[34]=u("label",{class:"block text-sm font-medium text-gray-700"},"Endereço",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[15]||(e[15]=c=>i.form.street=c),disabled:o.isReadOnly,class:"w-full mt-1 px-4 py-2 border rounded-md"},null,8,yC),[[j,i.form.street]])]),u("div",null,[e[35]||(e[35]=u("label",{class:"block text-sm font-medium text-gray-700"},"Número",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[16]||(e[16]=c=>i.form.number=c),disabled:o.isReadOnly,class:"w-full mt-1 px-4 py-2 border rounded-md"},null,8,xC),[[j,i.form.number]])]),u("div",null,[e[36]||(e[36]=u("label",{class:"block text-sm font-medium text-gray-700"},"Complemento",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[17]||(e[17]=c=>i.form.complement=c),disabled:o.isReadOnly,class:"w-full mt-1 px-4 py-2 border rounded-md"},null,8,_C),[[j,i.form.complement]])]),u("div",null,[e[37]||(e[37]=u("label",{class:"block text-sm font-medium text-gray-700"},"Bairro",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[18]||(e[18]=c=>i.form.neighborhood=c),disabled:o.isReadOnly,class:"w-full mt-1 px-4 py-2 border rounded-md"},null,8,vC),[[j,i.form.neighborhood]])]),u("div",null,[e[39]||(e[39]=u("label",{class:"block text-sm font-medium text-gray-700"},"Estado",-1)),O(u("select",{"onUpdate:modelValue":e[19]||(e[19]=c=>i.form.stateId=c),disabled:o.isReadOnly,class:"w-full mt-1 px-4 py-2 border rounded-md"},[e[38]||(e[38]=u("option",{disabled:"",value:""},"Selecione",-1)),(v(!0),k(J,null,pe(i.states,c=>(v(),k("option",{key:c.id,value:c.id},P(c.nome)+" ("+P(c.sigla)+")",9,kC))),128))],8,wC),[[Mt,i.form.stateId]])]),u("div",null,[e[41]||(e[41]=u("label",{class:"block text-sm font-medium text-gray-700"},"Cidade",-1)),O(u("select",{"onUpdate:modelValue":e[20]||(e[20]=c=>i.form.cityId=c),disabled:o.isReadOnly,class:"w-full mt-1 px-4 py-2 border rounded-md"},[e[40]||(e[40]=u("option",{disabled:"",value:""},"Selecione",-1)),(v(!0),k(J,null,pe(i.cities,c=>(v(),k("option",{key:c.id,value:c.id},P(c.nome),9,CC))),128))],8,SC),[[Mt,i.form.cityId]])]),u("div",MC,[u("button",{type:"button",onClick:e[21]||(e[21]=(...c)=>o.handleClose&&o.handleClose(...c)),class:"px-4 py-2 rounded border"},"Fechar"),i.modalMode==="view"?(v(),k("button",{key:0,type:"button",onClick:e[22]||(e[22]=(...c)=>o.enableEdit&&o.enableEdit(...c)),class:"btn btn-success"},"Editar")):W("",!0),u("button",{type:"submit",class:"btn",disabled:o.isReadOnly},"Salvar",8,AC)])],32)]),_:1},8,["onClose"])):W("",!0)])])}const TC=me(HS,[["render",PC]]),OC={name:"CalendarView",props:{appointments:{type:Array,required:!0},getClientName:{type:Function,required:!0}},data(){const t=new Date;return{currentYear:t.getFullYear(),currentMonth:t.getMonth(),monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],daysOfWeek:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"]}},computed:{daysInMonth(){return new Date(this.currentYear,this.currentMonth+1,0).getDate()},leadingBlanks(){return new Date(this.currentYear,this.currentMonth,1).getDay()}},methods:{prevMonth(){this.currentMonth===0?(this.currentMonth=11,this.currentYear--):this.currentMonth--},nextMonth(){this.currentMonth===11?(this.currentMonth=0,this.currentYear++):this.currentMonth++},goToCurrentMonth(){const t=new Date;this.currentYear=t.getFullYear(),this.currentMonth=t.getMonth()},getAppointmentsForDay(t){const e=String(this.currentMonth+1).padStart(2,"0"),s=String(t).padStart(2,"0"),n=`${this.currentYear}-${e}-${s}`;return this.appointments.filter(i=>i.date===n)},isToday(t){const e=new Date;return this.currentYear===e.getFullYear()&&this.currentMonth===e.getMonth()&&t===e.getDate()}}},EC={class:"bg-white rounded-lg shadow overflow-hidden"},DC={class:"flex justify-between items-center px-4 py-2 border-b bg-gray-50"},IC={class:"font-semibold"},RC={class:"grid grid-cols-7 gap-px text-sm bg-gray-100"},LC={class:"text-center font-medium"},FC=["onClick"];function jC(t,e,s,n,i,o){return v(),k("div",EC,[u("div",DC,[u("button",{onClick:e[0]||(e[0]=(...r)=>o.prevMonth&&o.prevMonth(...r)),class:"p-1 rounded hover:bg-gray-200"},e[2]||(e[2]=[u("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),u("div",IC,P(i.monthNames[i.currentMonth])+" "+P(i.currentYear),1),u("button",{onClick:e[1]||(e[1]=(...r)=>o.nextMonth&&o.nextMonth(...r)),class:"p-1 rounded hover:bg-gray-200"},e[3]||(e[3]=[u("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))]),u("div",RC,[(v(!0),k(J,null,pe(i.daysOfWeek,r=>(v(),k("div",{class:"font-semibold text-center bg-gray-50 p-1",key:r},P(r),1))),128)),(v(!0),k(J,null,pe(o.leadingBlanks,r=>(v(),k("div",{key:"b"+r,class:"bg-white h-24"}))),128)),(v(!0),k(J,null,pe(o.daysInMonth,r=>(v(),k("div",{key:r,class:bt(["border border-gray-200 h-24 p-1 overflow-auto bg-white",{"bg-blue-50 border-l-4 border-blue-500":o.isToday(r)}])},[u("div",LC,P(r),1),u("ul",null,[(v(!0),k(J,null,pe(o.getAppointmentsForDay(r),a=>(v(),k("li",{key:a.id,class:"text-xs truncate cursor-pointer",onClick:l=>t.$emit("select",a)},P(a.time)+" - "+P(s.getClientName(a.client_id)),9,FC))),128))])],2))),128))])])}const UC=me(OC,[["render",jC]]);async function hu(t){const{error:e}=await N.functions.invoke("send-appointment-email",{body:t});e&&console.error("Erro ao enviar email de agendamento:",e.message)}const NC={name:"Agendamentos",components:{Sidebar:At,HeaderUser:Pt,Modal:zs,CalendarView:UC,WeekView:rf},data(){return{userId:null,showModal:!1,editingId:null,viewMode:"week",form:{date:"",time:"",clientId:"",serviceId:"",roomId:"",duration:"",description:""},clients:[],services:[],rooms:[],appointments:[],selectedAppointment:null,showDetailsModal:!1,filterStartDate:"",filterEndDate:"",searchQuery:"",sortColumn:"",sortAsc:!0,showViewDropdown:!1,sidebarOpen:window.innerWidth>=768,schedule:{startTime:"",endTime:"",weekDays:[],dailySchedule:null},profileWhatsapp:""}},computed:{processedAppointments(){let t=this.appointments.slice();if(this.searchQuery){const e=this.searchQuery.toLowerCase();t=t.filter(s=>s.date.toLowerCase().includes(e)||s.time.toLowerCase().includes(e)||this.getClientName(s.client_id).toLowerCase().includes(e)||this.getServiceName(s.service_id).toLowerCase().includes(e)||s.description&&s.description.toLowerCase().includes(e))}return this.filterStartDate&&(t=t.filter(e=>e.date>=this.filterStartDate)),this.filterEndDate&&(t=t.filter(e=>e.date<=this.filterEndDate)),this.sortColumn&&t.sort((e,s)=>{let n,i;switch(this.sortColumn){case"client":n=this.getClientName(e.client_id),i=this.getClientName(s.client_id);break;case"service":n=this.getServiceName(e.service_id),i=this.getServiceName(s.service_id);break;case"datetime":n=e.date+" "+e.time,i=s.date+" "+s.time;break;default:n=e[this.sortColumn],i=s[this.sortColumn]}return n<i?this.sortAsc?-1:1:n>i?this.sortAsc?1:-1:0}),t}},methods:{openModal(t){t?(this.editingId=t.id,this.form={date:t.date,time:t.time,clientId:t.client_id,serviceId:t.service_id,roomId:t.room_id||"",duration:t.duration,description:t.description}):(this.editingId=null,this.form={date:"",time:"",clientId:"",serviceId:"",roomId:"",duration:"",description:""}),this.showModal=!0},closeModal(){this.showModal=!1,this.form={date:"",time:"",clientId:"",serviceId:"",roomId:"",duration:"",description:""},this.editingId=null},editFromDetails(){this.selectedAppointment&&(this.openModal(this.selectedAppointment),this.closeDetails())},closeDetails(){this.showDetailsModal=!1,this.selectedAppointment=null},isSlotAllowed(t,e){if(!t||!e)return!1;const s=new Date(t+"T12:00:00").getDay().toString();if(this.schedule.dailySchedule){const n=this.schedule.dailySchedule[s];return!n||!n.enabled||!n.start||!n.end?!1:e>=n.start&&e<=n.end}return!(this.schedule.weekDays.length&&(!this.schedule.weekDays.includes(s)||this.schedule.startTime&&e<this.schedule.startTime||this.schedule.endTime&&e>this.schedule.endTime))},async handleSaveAppointment(){if(!this.isSlotAllowed(this.form.date,this.form.time)){alert("Horário fora do horário de trabalho configurado");return}if(this.editingId){const{data:t,error:e}=await N.from("appointments").update({date:this.form.date,time:this.form.time,client_id:this.form.clientId,service_id:this.form.serviceId,room_id:this.form.roomId||null,duration:this.form.duration,description:this.form.description}).eq("id",this.editingId).select().single();if(e)alert("Erro ao atualizar agendamento: "+e.message);else{const s=this.appointments.findIndex(n=>n.id===this.editingId);s!==-1&&(this.appointments[s]=t),this.closeModal()}}else{const{data:t,error:e}=await N.from("appointments").insert({date:this.form.date,time:this.form.time,client_id:this.form.clientId,service_id:this.form.serviceId,room_id:this.form.roomId||null,duration:this.form.duration,description:this.form.description,user_id:this.userId}).select().single();if(e)alert("Erro ao salvar agendamento: "+e.message);else{this.appointments.push(t);const s=this.clients.find(o=>o.id===this.form.clientId),n=this.services.find(o=>o.id===this.form.serviceId),i=this.rooms.find(o=>o.id===this.form.roomId);await hu({to:s==null?void 0:s.email,subject:`Agendamento confirmado para ${this.form.date} às ${this.form.time}`,text:`Olá ${s==null?void 0:s.name},

Seu agendamento para ${n==null?void 0:n.name} foi confirmado para ${this.form.date} às ${this.form.time}.
${i?`Sala: ${i.name}
`:""}${i!=null&&i.google_meet_link?`Link: ${i.google_meet_link}
`:""}${this.form.description?`Observações: ${this.form.description}`:""}`}),this.closeModal()}}},async handleDeleteAppointment(t){if(!confirm("Tem certeza que deseja excluir este agendamento?"))return;const{error:s}=await N.from("appointments").delete().eq("id",t);s?alert("Erro ao excluir agendamento: "+s.message):(this.appointments=this.appointments.filter(n=>n.id!==t),this.selectedAppointment&&this.selectedAppointment.id===t&&(this.showDetailsModal=!1,this.selectedAppointment=null))},getClientName(t){const e=this.clients.find(s=>s.id===t);return e?e.name:""},getClientEmail(t){const e=this.clients.find(s=>s.id===t);return e?e.email:""},getServiceName(t){const e=this.services.find(s=>s.id===t);return e?e.name:""},getRoomName(t){const e=this.rooms.find(s=>s.id===t);return e?e.name:""},getRoomLink(t){const e=this.rooms.find(s=>s.id===t);return e?e.google_meet_link:""},sortBy(t){this.sortColumn===t?this.sortAsc=!this.sortAsc:(this.sortColumn=t,this.sortAsc=!0)},setViewMode(t){this.viewMode=t,this.showViewDropdown=!1,t==="calendar"&&this.$refs.calendarView&&this.$refs.calendarView.goToCurrentMonth&&this.$refs.calendarView.goToCurrentMonth()},openDetails(t){this.selectedAppointment=t,this.showDetailsModal=!0},startAppointment(){this.selectedAppointment&&this.$router.push(`/atendimento/${this.selectedAppointment.id}`)},async cancelAppointment(){!this.selectedAppointment||!confirm("Tem certeza que deseja desmarcar este atendimento?")||(await this.handleDeleteAppointment(this.selectedAppointment.id),this.closeDetails())},markNoShow(){alert("Falta registrada para este atendimento.")},async sendConfirmationEmail(){const t=this.selectedAppointment;if(!t)return;const e=this.clients.find(i=>i.id===t.client_id),s=this.services.find(i=>i.id===t.service_id),n=this.rooms.find(i=>i.id===t.room_id);await hu({to:e==null?void 0:e.email,subject:`Agendamento confirmado para ${t.date} às ${t.time}`,text:`Olá ${e==null?void 0:e.name},

Seu agendamento para ${s==null?void 0:s.name} foi confirmado para ${t.date} às ${t.time}.
${n?`Sala: ${n.name}
`:""}${n!=null&&n.google_meet_link?`Link: ${n.google_meet_link}
`:""}${t.description?`Observações: ${t.description}`:""}`})},sendConfirmationWhatsApp(){const t=this.selectedAppointment;if(!t)return;const e=this.clients.find(r=>r.id===t.client_id);if(!(e!=null&&e.phone)){alert("Cliente sem telefone cadastrado");return}const s=this.rooms.find(r=>r.id===t.room_id),n=`Olá ${e.name},

Passando para informar que seu agendamento está confirmado!

Segue os dados para consulta:
Cliente: ${e.name}
Data: ${t.date} - Hora: ${t.time}
Sala: ${(s==null?void 0:s.google_meet_link)||""}

Obrigado.

Está mensagem é uma mensagem automática.`,o=`https://wa.me/${Ma(e.phone)}?text=${encodeURIComponent(n)}`;window.open(o,"_blank")},exportCSV(){const t=["Data","Hora","Cliente","Serviço","Duração","Descrição"],e=this.appointments.map(o=>[o.date,o.time,this.getClientName(o.client_id),this.getServiceName(o.service_id),o.duration,(o.description||"").replace(/(\r\n|\n|\r)/g," ")]),s=[t.join(","),...e.map(o=>o.map(r=>`"${String(r).replace(/"/g,'""')}"`).join(","))].join(`
`),n=new Blob([s],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a");i.href=URL.createObjectURL(n),i.setAttribute("download","agendamentos.csv"),document.body.appendChild(i),i.click(),document.body.removeChild(i)},clearFilters(){this.searchQuery="",this.filterStartDate="",this.filterEndDate=""}},watch:{"form.serviceId"(t){const e=this.services.find(s=>s.id===t);e&&(!this.editingId||this.form.duration==="")&&(this.form.duration=e.duration)}},async mounted(){const{data:{user:t}}=await N.auth.getUser();if(!t){this.$router.push("/login");return}this.userId=t.id;const{data:e}=await N.from("clients").select().eq("user_id",this.userId);e&&(this.clients=e);const{data:s}=await N.from("services").select().eq("user_id",this.userId);s&&(this.services=s);const{data:n}=await N.from("rooms").select().eq("user_id",this.userId);n&&(this.rooms=n);const{data:i}=await N.from("profiles").select("start_time, end_time, week_days, daily_schedule, whatsapp").eq("id",this.userId).single();i&&(this.schedule.startTime=i.start_time||"",this.schedule.endTime=i.end_time||"",this.schedule.weekDays=i.week_days?i.week_days.split(","):[],this.schedule.dailySchedule=i.daily_schedule?typeof i.daily_schedule=="string"?JSON.parse(i.daily_schedule):i.daily_schedule:null,this.profileWhatsapp=i.whatsapp||"");const{data:o}=await N.from("appointments").select().eq("user_id",this.userId);o&&(this.appointments=o)}},$C={class:"min-h-screen flex bg-gray-100 relative"},BC={class:"flex-1 p-4 md:p-8"},VC={key:0,class:"flex items-center mb-4"},zC={class:"flex flex-col sm:flex-row sm:items-center mb-4 gap-2"},HC={class:"mb-4 flex items-center space-x-2"},WC={class:"relative"},qC={key:0,class:"absolute right-0 mt-2 w-32 bg-white border rounded shadow z-20"},KC={class:"text-lg font-semibold mb-4"},GC=["value"],YC=["value"],JC=["value"],XC={class:"flex justify-end space-x-2"},QC={key:0,class:"space-y-1 border rounded-md p-4 bg-gray-50 text-gray-700"},ZC={key:0},eM={key:1},tM=["href"],sM={class:"flex justify-center mt-4 space-x-2"},nM={class:"mt-8"},iM={class:"bg-white p-4 rounded-lg shadow"},oM={class:"overflow-x-auto"},rM={class:"min-w-full text-left"},aM={class:"bg-gray-50"},lM={key:0},cM={key:0},dM={key:0},uM={key:0},hM={key:0},fM={class:"px-4 py-2"},pM={class:"px-4 py-2"},mM={class:"px-4 py-2"},gM={class:"px-4 py-2"},bM={class:"px-4 py-2"},yM={class:"px-4 py-2"},xM={class:"px-4 py-2 text-right space-x-2"},_M=["onClick"],vM=["onClick"],wM={key:0},kM={class:"mt-8"},SM={class:"mt-8"};function CM(t,e,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser"),l=H("Modal"),c=H("CalendarView"),d=H("WeekView");return v(),k("div",$C,[D(r,{"is-open":i.sidebarOpen,onClose:e[0]||(e[0]=h=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",BC,[i.sidebarOpen?W("",!0):(v(),k("div",VC,[u("button",{onClick:e[1]||(e[1]=h=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},e[33]||(e[33]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),D(a,{title:"Agendamentos"}),u("section",null,[u("div",zC,[O(u("input",{"onUpdate:modelValue":e[2]||(e[2]=h=>i.searchQuery=h),type:"text",placeholder:"Buscar...",class:"border px-3 py-2 rounded-lg flex-grow sm:max-w-xs"},null,512),[[j,i.searchQuery]]),O(u("input",{"onUpdate:modelValue":e[3]||(e[3]=h=>i.filterStartDate=h),type:"date",class:"border px-3 py-2 rounded-lg"},null,512),[[j,i.filterStartDate]]),O(u("input",{"onUpdate:modelValue":e[4]||(e[4]=h=>i.filterEndDate=h),type:"date",class:"border px-3 py-2 rounded-lg"},null,512),[[j,i.filterEndDate]]),u("button",{onClick:e[5]||(e[5]=(...h)=>o.clearFilters&&o.clearFilters(...h)),class:"bg-gray-300 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-400 w-full sm:w-auto"},"Limpar"),u("button",{onClick:e[6]||(e[6]=h=>o.openModal()),class:"btn sm:ml-auto w-full sm:w-auto"},"Novo"),u("button",{onClick:e[7]||(e[7]=(...h)=>o.exportCSV&&o.exportCSV(...h)),class:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 w-full sm:w-auto"},"Exportar")]),u("div",HC,[e[34]||(e[34]=u("span",{class:"text-xs text-gray-600"},"Modo de exibição:",-1)),u("div",WC,[u("button",{onClick:e[8]||(e[8]=h=>i.showViewDropdown=!i.showViewDropdown),class:"px-4 py-2 bg-gray-200 rounded-lg"},P(i.viewMode==="list"?"Lista":i.viewMode==="calendar"?"Calendário":"Semana"),1),i.showViewDropdown?(v(),k("div",qC,[u("button",{onClick:e[9]||(e[9]=h=>o.setViewMode("list")),class:"block w-full text-left px-4 py-2 hover:bg-gray-100"},"Lista"),u("button",{onClick:e[10]||(e[10]=h=>o.setViewMode("calendar")),class:"block w-full text-left px-4 py-2 hover:bg-gray-100"},"Calendário"),u("button",{onClick:e[11]||(e[11]=h=>o.setViewMode("week")),class:"block w-full text-left px-4 py-2 hover:bg-gray-100"},"Semana")])):W("",!0)])]),i.showModal?(v(),dt(l,{key:0,onClose:o.closeModal},{default:se(()=>[u("h3",KC,P(i.editingId?"Editar Agendamento":"Adicionar Agendamento"),1),u("form",{onSubmit:e[20]||(e[20]=it((...h)=>o.handleSaveAppointment&&o.handleSaveAppointment(...h),["prevent"])),class:"space-y-4"},[u("div",null,[e[35]||(e[35]=u("label",{class:"block text-sm font-medium text-gray-700"},"Data",-1)),O(u("input",{type:"date","onUpdate:modelValue":e[12]||(e[12]=h=>i.form.date=h),class:"w-full mt-1 px-4 py-2 border rounded-lg"},null,512),[[j,i.form.date]])]),u("div",null,[e[36]||(e[36]=u("label",{class:"block text-sm font-medium text-gray-700"},"Hora",-1)),O(u("input",{type:"time","onUpdate:modelValue":e[13]||(e[13]=h=>i.form.time=h),class:"w-full mt-1 px-4 py-2 border rounded-lg"},null,512),[[j,i.form.time]])]),u("div",null,[e[38]||(e[38]=u("label",{class:"block text-sm font-medium text-gray-700"},"Cliente",-1)),O(u("select",{"onUpdate:modelValue":e[14]||(e[14]=h=>i.form.clientId=h),class:"w-full mt-1 px-4 py-2 border rounded-lg"},[e[37]||(e[37]=u("option",{disabled:"",value:""},"Selecione um cliente",-1)),(v(!0),k(J,null,pe(i.clients,h=>(v(),k("option",{key:h.id,value:h.id},P(h.name),9,GC))),128))],512),[[Mt,i.form.clientId]])]),u("div",null,[e[40]||(e[40]=u("label",{class:"block text-sm font-medium text-gray-700"},"Serviço",-1)),O(u("select",{"onUpdate:modelValue":e[15]||(e[15]=h=>i.form.serviceId=h),class:"w-full mt-1 px-4 py-2 border rounded-lg"},[e[39]||(e[39]=u("option",{disabled:"",value:""},"Selecione um serviço",-1)),(v(!0),k(J,null,pe(i.services,h=>(v(),k("option",{key:h.id,value:h.id},P(h.name),9,YC))),128))],512),[[Mt,i.form.serviceId]])]),u("div",null,[e[42]||(e[42]=u("label",{class:"block text-sm font-medium text-gray-700"},"Sala de Reunião",-1)),O(u("select",{"onUpdate:modelValue":e[16]||(e[16]=h=>i.form.roomId=h),class:"w-full mt-1 px-4 py-2 border rounded-lg"},[e[41]||(e[41]=u("option",{disabled:"",value:""},"Selecione uma sala",-1)),(v(!0),k(J,null,pe(i.rooms,h=>(v(),k("option",{key:h.id,value:h.id},P(h.name),9,JC))),128))],512),[[Mt,i.form.roomId]])]),u("div",null,[e[43]||(e[43]=u("label",{class:"block text-sm font-medium text-gray-700"},"Duração (minutos)",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[17]||(e[17]=h=>i.form.duration=h),class:"w-full mt-1 px-4 py-2 border rounded-lg"},null,512),[[j,i.form.duration]])]),u("div",null,[e[44]||(e[44]=u("label",{class:"block text-sm font-medium text-gray-700"},"Descrição",-1)),O(u("textarea",{"onUpdate:modelValue":e[18]||(e[18]=h=>i.form.description=h),class:"w-full mt-1 px-4 py-2 border rounded-lg"},null,512),[[j,i.form.description]])]),u("div",XC,[u("button",{type:"button",onClick:e[19]||(e[19]=(...h)=>o.closeModal&&o.closeModal(...h)),class:"px-4 py-2 rounded border"},"Cancelar"),e[45]||(e[45]=u("button",{type:"submit",class:"btn"},"Salvar",-1))])],32)]),_:1},8,["onClose"])):W("",!0),i.showDetailsModal?(v(),dt(l,{key:1,onClose:o.closeDetails},{default:se(()=>[e[53]||(e[53]=u("h3",{class:"text-lg font-semibold mb-4"},"Detalhes do Agendamento",-1)),i.selectedAppointment?(v(),k("div",QC,[u("p",null,[e[46]||(e[46]=u("strong",null,"Data:",-1)),ee(" "+P(i.selectedAppointment.date),1)]),u("p",null,[e[47]||(e[47]=u("strong",null,"Hora:",-1)),ee(" "+P(i.selectedAppointment.time),1)]),u("p",null,[e[48]||(e[48]=u("strong",null,"Cliente:",-1)),ee(" "+P(o.getClientName(i.selectedAppointment.client_id)),1)]),u("p",null,[e[49]||(e[49]=u("strong",null,"Serviço:",-1)),ee(" "+P(o.getServiceName(i.selectedAppointment.service_id)),1)]),u("p",null,[e[50]||(e[50]=u("strong",null,"Duração:",-1)),ee(" "+P(i.selectedAppointment.duration),1)]),u("p",null,[e[51]||(e[51]=u("strong",null,"Descrição:",-1)),ee(" "+P(i.selectedAppointment.description),1)]),i.selectedAppointment.room_id?(v(),k("p",ZC,[e[52]||(e[52]=u("strong",null,"Sala:",-1)),ee(" "+P(o.getRoomName(i.selectedAppointment.room_id)),1)])):W("",!0),i.selectedAppointment.room_id&&o.getRoomLink(i.selectedAppointment.room_id)?(v(),k("p",eM,[u("a",{href:o.getRoomLink(i.selectedAppointment.room_id),target:"_blank",class:"text-blue-600 underline"},"Acessar Google Meet",8,tM)])):W("",!0)])):W("",!0),u("div",sM,[u("button",{onClick:e[21]||(e[21]=(...h)=>o.sendConfirmationWhatsApp&&o.sendConfirmationWhatsApp(...h)),class:"btn btn-success"},"Enviar confirmação"),u("button",{onClick:e[22]||(e[22]=(...h)=>o.editFromDetails&&o.editFromDetails(...h)),class:"btn"},"Editar"),u("button",{onClick:e[23]||(e[23]=h=>o.handleDeleteAppointment(i.selectedAppointment.id)),class:"btn btn-danger"},"Excluir"),u("button",{onClick:e[24]||(e[24]=(...h)=>o.cancelAppointment&&o.cancelAppointment(...h)),class:"btn btn-warning"},"Desmarcou atendimento"),u("button",{onClick:e[25]||(e[25]=(...h)=>o.markNoShow&&o.markNoShow(...h)),class:"btn btn-secondary"},"Faltou ao atendimento"),u("button",{onClick:e[26]||(e[26]=(...h)=>o.startAppointment&&o.startAppointment(...h)),class:"btn btn-primary"},"Iniciar atendimento"),u("button",{onClick:e[27]||(e[27]=(...h)=>o.closeDetails&&o.closeDetails(...h)),class:"px-4 py-2 rounded border"},"Fechar")])]),_:1,__:[53]},8,["onClose"])):W("",!0),O(u("div",nM,[e[62]||(e[62]=u("h3",{class:"text-lg font-medium mb-4"},"Agendamentos",-1)),u("div",iM,[u("div",oM,[u("table",rM,[u("thead",aM,[u("tr",null,[u("th",{onClick:e[28]||(e[28]=h=>o.sortBy("datetime")),class:"px-4 py-2 font-medium text-gray-700 cursor-pointer"},[e[54]||(e[54]=ee(" Data/Hora ")),i.sortColumn==="datetime"?(v(),k("span",lM,P(i.sortAsc?"▲":"▼"),1)):W("",!0)]),u("th",{onClick:e[29]||(e[29]=h=>o.sortBy("client")),class:"px-4 py-2 font-medium text-gray-700 cursor-pointer"},[e[55]||(e[55]=ee(" Cliente ")),i.sortColumn==="client"?(v(),k("span",cM,P(i.sortAsc?"▲":"▼"),1)):W("",!0)]),u("th",{onClick:e[30]||(e[30]=h=>o.sortBy("service")),class:"px-4 py-2 font-medium text-gray-700 cursor-pointer"},[e[56]||(e[56]=ee(" Serviço ")),i.sortColumn==="service"?(v(),k("span",dM,P(i.sortAsc?"▲":"▼"),1)):W("",!0)]),e[59]||(e[59]=u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Sala",-1)),u("th",{onClick:e[31]||(e[31]=h=>o.sortBy("duration")),class:"px-4 py-2 font-medium text-gray-700 cursor-pointer"},[e[57]||(e[57]=ee(" Duração ")),i.sortColumn==="duration"?(v(),k("span",uM,P(i.sortAsc?"▲":"▼"),1)):W("",!0)]),u("th",{onClick:e[32]||(e[32]=h=>o.sortBy("description")),class:"px-4 py-2 font-medium text-gray-700 cursor-pointer"},[e[58]||(e[58]=ee(" Descrição ")),i.sortColumn==="description"?(v(),k("span",hM,P(i.sortAsc?"▲":"▼"),1)):W("",!0)]),e[60]||(e[60]=u("th",{class:"px-4 py-2"},null,-1))])]),u("tbody",null,[(v(!0),k(J,null,pe(o.processedAppointments,h=>(v(),k("tr",{key:h.id,class:"border-b last:border-b-0"},[u("td",fM,P(h.date)+" "+P(h.time),1),u("td",pM,P(o.getClientName(h.client_id)),1),u("td",mM,P(o.getServiceName(h.service_id)),1),u("td",gM,P(o.getRoomName(h.room_id)),1),u("td",bM,P(h.duration),1),u("td",yM,P(h.description),1),u("td",xM,[u("button",{onClick:f=>o.openModal(h),class:"btn btn-sm"},"Editar",8,_M),u("button",{onClick:f=>o.handleDeleteAppointment(h.id),class:"btn btn-sm btn-danger"},"Excluir",8,vM)])]))),128)),o.processedAppointments.length===0?(v(),k("tr",wM,e[61]||(e[61]=[u("td",{colspan:"7",class:"px-4 py-6 text-center text-gray-500"},"Nenhum agendamento encontrado",-1)]))):W("",!0)])])])])],512),[[Rr,i.viewMode==="list"]]),O(u("div",kM,[e[63]||(e[63]=u("h3",{class:"text-lg font-medium mb-4"},"Calendário",-1)),D(c,{ref:"calendarView",appointments:o.processedAppointments,getClientName:o.getClientName,onSelect:o.openDetails},null,8,["appointments","getClientName","onSelect"])],512),[[Rr,i.viewMode==="calendar"]]),O(u("div",SM,[e[64]||(e[64]=u("h3",{class:"text-lg font-medium mb-4"},"Semana",-1)),D(d,{appointments:o.processedAppointments,getClientName:o.getClientName,onSelect:o.openDetails},null,8,["appointments","getClientName","onSelect"])],512),[[Rr,i.viewMode==="week"]])])])])}const MM=me(NC,[["render",CM]]),AM={name:"Servicos",components:{Sidebar:At,HeaderUser:Pt,Modal:zs},data(){return{userId:null,showModal:!1,editingId:null,search:"",sidebarOpen:window.innerWidth>=768,form:{name:"",description:"",duration:"",price:""},services:[],page:1,pageSize:10}},methods:{openModal(t){t?(this.editingId=t.id,this.form={name:t.name,description:t.description,duration:t.duration,price:t.price}):(this.editingId=null,this.form={name:"",description:"",duration:"",price:""}),this.showModal=!0},closeModal(){this.showModal=!1,this.form={name:"",description:"",duration:"",price:""},this.editingId=null},async handleSaveService(){let t,e;if(this.editingId?{data:t,error:e}=await N.from("services").update({name:this.form.name,description:this.form.description,duration:this.form.duration,price:parseFloat(this.form.price)}).eq("id",this.editingId).select().single():{data:t,error:e}=await N.from("services").insert({name:this.form.name,description:this.form.description,duration:this.form.duration,price:parseFloat(this.form.price),user_id:this.userId}).select().single(),e)alert("Erro ao salvar serviço: "+e.message);else{if(this.editingId){const s=this.services.findIndex(n=>n.id===this.editingId);s!==-1&&(this.services[s]=t)}else this.services.push(t);this.closeModal()}},async handleDeleteService(t){if(!confirm("Tem certeza que deseja excluir este serviço?"))return;const{error:s}=await N.from("services").delete().eq("id",t);s?alert("Erro ao excluir serviço: "+s.message):this.services=this.services.filter(n=>n.id!==t)},nextPage(){this.page<this.totalPages&&this.page++},prevPage(){this.page>1&&this.page--},formatPrice(t){return t==null||t===""?"":Number(t).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}},computed:{filteredServices(){const t=this.search.toLowerCase();return this.services.filter(e=>e.name.toLowerCase().includes(t)||(e.description||"").toLowerCase().includes(t)||(e.duration||"").toLowerCase().includes(t)||e.price!==null&&e.price.toString().includes(t))},paginatedServices(){const t=(this.page-1)*this.pageSize;return this.filteredServices.slice(t,t+this.pageSize)},totalPages(){return Math.max(1,Math.ceil(this.filteredServices.length/this.pageSize))}},watch:{search(){this.page=1}},async mounted(){const{data:{user:t}}=await N.auth.getUser();if(!t){this.$router.push("/login");return}this.userId=t.id;const{data:e}=await N.from("services").select().eq("user_id",this.userId);e&&(this.services=e)}},PM={class:"min-h-screen flex bg-gray-100 relative"},TM={class:"flex-1 p-4 md:p-8 space-y-6"},OM={key:0,class:"flex items-center mb-4"},EM={class:"bg-white p-4 rounded-lg shadow"},DM={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 space-y-4 sm:space-y-0"},IM={class:"flex flex-col sm:flex-row items-stretch sm:items-center w-full sm:w-auto space-y-2 sm:space-y-0 sm:space-x-3"},RM={class:"overflow-x-auto"},LM={class:"min-w-full text-left"},FM={class:"px-4 py-2"},jM={class:"px-4 py-2"},UM={class:"px-4 py-2"},NM={class:"px-4 py-2"},$M={class:"px-4 py-2 text-right space-x-2"},BM=["onClick"],VM=["onClick"],zM={key:0},HM={class:"mt-4 flex justify-between items-center"},WM=["disabled"],qM={class:"text-sm"},KM=["disabled"],GM={class:"text-lg font-semibold mb-4"},YM={class:"flex justify-end space-x-2"};function JM(t,e,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser"),l=H("Modal");return v(),k("div",PM,[D(r,{"is-open":i.sidebarOpen,onClose:e[0]||(e[0]=c=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",TM,[i.sidebarOpen?W("",!0):(v(),k("div",OM,[u("button",{onClick:e[1]||(e[1]=c=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},e[12]||(e[12]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),D(a,{title:"Serviços"}),u("section",EM,[u("div",DM,[e[13]||(e[13]=u("h3",{class:"text-lg font-medium"},"Serviços cadastrados",-1)),u("div",IM,[O(u("input",{"onUpdate:modelValue":e[2]||(e[2]=c=>i.search=c),type:"text",placeholder:"Buscar...",class:"border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 w-full sm:w-64"},null,512),[[j,i.search]]),u("button",{onClick:e[3]||(e[3]=c=>o.openModal()),class:"btn w-full sm:w-auto"}," Novo Serviço ")])]),u("div",RM,[u("table",LM,[e[15]||(e[15]=u("thead",{class:"bg-gray-50"},[u("tr",null,[u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Nome"),u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Descrição"),u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Duração"),u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Valor"),u("th",{class:"px-4 py-2"})])],-1)),u("tbody",null,[(v(!0),k(J,null,pe(o.paginatedServices,c=>(v(),k("tr",{key:c.id,class:"border-b last:border-b-0"},[u("td",FM,P(c.name),1),u("td",jM,P(c.description),1),u("td",UM,P(c.duration),1),u("td",NM,P(o.formatPrice(c.price)),1),u("td",$M,[u("button",{onClick:d=>o.openModal(c),class:"btn btn-sm"}," Editar ",8,BM),u("button",{onClick:d=>o.handleDeleteService(c.id),class:"btn btn-sm btn-danger"}," Excluir ",8,VM)])]))),128)),o.filteredServices.length===0?(v(),k("tr",zM,e[14]||(e[14]=[u("td",{colspan:"5",class:"px-4 py-6 text-center text-gray-500"}," Nenhum serviço encontrado ",-1)]))):W("",!0)])]),u("div",HM,[u("button",{class:"px-3 py-1 border rounded",onClick:e[4]||(e[4]=(...c)=>o.prevPage&&o.prevPage(...c)),disabled:i.page===1}," Anterior ",8,WM),u("span",qM,"Página "+P(i.page)+" de "+P(o.totalPages),1),u("button",{class:"px-3 py-1 border rounded",onClick:e[5]||(e[5]=(...c)=>o.nextPage&&o.nextPage(...c)),disabled:i.page===o.totalPages}," Próxima ",8,KM)])])]),i.showModal?(v(),dt(l,{key:1,onClose:o.closeModal},{default:se(()=>[u("h3",GM,P(i.editingId?"Editar Serviço":"Adicionar Serviço"),1),u("form",{onSubmit:e[11]||(e[11]=it((...c)=>o.handleSaveService&&o.handleSaveService(...c),["prevent"])),class:"space-y-6"},[u("div",null,[e[16]||(e[16]=u("label",{class:"block text-sm font-medium text-gray-700"},"Nome",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=c=>i.form.name=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.form.name]])]),u("div",null,[e[17]||(e[17]=u("label",{class:"block text-sm font-medium text-gray-700"},"Descrição",-1)),O(u("textarea",{"onUpdate:modelValue":e[7]||(e[7]=c=>i.form.description=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.form.description]])]),u("div",null,[e[18]||(e[18]=u("label",{class:"block text-sm font-medium text-gray-700"},"Tempo de duração",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=c=>i.form.duration=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.form.duration]])]),u("div",null,[e[19]||(e[19]=u("label",{class:"block text-sm font-medium text-gray-700"},"Valor",-1)),O(u("input",{type:"number",step:"0.01","onUpdate:modelValue":e[9]||(e[9]=c=>i.form.price=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.form.price]])]),u("div",YM,[u("button",{type:"button",onClick:e[10]||(e[10]=(...c)=>o.closeModal&&o.closeModal(...c)),class:"px-4 py-2 rounded border"},"Cancelar"),e[20]||(e[20]=u("button",{type:"submit",class:"btn"},"Salvar",-1))])],32)]),_:1},8,["onClose"])):W("",!0)])])}const XM=me(AM,[["render",JM]]),QM={name:"Usuarios",components:{Sidebar:At,HeaderUser:Pt,Modal:zs},data(){return{form:{email:"",password:""},sidebarOpen:window.innerWidth>=768,userId:null,successMessage:"",errorMessage:"",users:[],search:"",showUserModal:!1,userModalMode:"new",selectedUserId:null,userForm:{email:"",password:""}}},methods:{async handleAddUser(){if(this.successMessage="",this.errorMessage="",this.form.email&&!ss(this.form.email)){this.errorMessage="E-mail inválido";return}const{data:{user:t}}=await N.auth.getUser(),{data:{session:e}}=await N.auth.getSession();let s=null;if(t){const{data:o}=await N.from("profiles").select("*").eq("id",t.id).single();s=o}const{data:n,error:i}=await N.auth.signUp({email:this.form.email,password:this.form.password});e&&await N.auth.setSession(e),i?this.errorMessage="Erro ao cadastrar usuário: "+i.message:(n!=null&&n.user&&s&&await N.from("profiles").insert({id:n.user.id,business_name:s.business_name,description:s.description,phone:s.phone,whatsapp:s.whatsapp,email:s.email,address:s.address,instagram:s.instagram,facebook:s.facebook,youtube:s.youtube,x:s.x,slug:s.slug}),this.successMessage="Usuário cadastrado! Verifique o e-mail para ativar a conta.",this.form={email:"",password:""},await this.fetchUsers())},openUserModal(t,e="new"){this.userModalMode=e,t?(this.selectedUserId=t.id,this.userForm={email:t.email,password:""}):(this.selectedUserId=null,this.userForm={email:"",password:""}),this.showUserModal=!0},handleUserClose(){this.userModalMode==="view"?this.closeUserModal():confirm("Tem certeza? Os dados não foram salvos e serão perdidos.")&&this.closeUserModal()},closeUserModal(){this.showUserModal=!1,this.userModalMode="new",this.selectedUserId=null,this.userForm={email:"",password:""}},enableUserEdit(){this.userModalMode="edit"},async handleSaveUser(){if(this.userModalMode!=="view"){if(this.userForm.email&&!ss(this.userForm.email)){alert("E-mail inválido");return}if(this.selectedUserId){const{error:t}=await N.from("profiles").update({email:this.userForm.email}).eq("id",this.selectedUserId);if(t)alert("Erro ao salvar usuário: "+t.message);else{const e=this.users.findIndex(s=>s.id===this.selectedUserId);e!==-1&&(this.users[e].email=this.userForm.email),this.closeUserModal()}}else this.form={email:this.userForm.email,password:this.userForm.password},await this.handleAddUser(),this.closeUserModal()}},async fetchUsers(){const{data:t}=await N.from("profiles").select("slug").eq("id",this.userId).single();if(t){const{data:e}=await N.from("profiles").select("id, email").eq("slug",t.slug);this.users=e||[]}}},computed:{isUserView(){return this.userModalMode==="view"},filteredUsers(){const t=this.search.toLowerCase();return this.users.filter(e=>e.id.toLowerCase().includes(t)||(e.email||"").toLowerCase().includes(t))}},async mounted(){const{data:{user:t}}=await N.auth.getUser();if(!t){this.$router.push("/login");return}this.userId=t.id,await this.fetchUsers()}},ZM={class:"min-h-screen flex bg-gray-100 relative"},eA={class:"flex-1 p-8 space-y-6"},tA={key:0,class:"flex items-center mb-4"},sA={class:"bg-white p-4 rounded-lg shadow"},nA={key:0,class:"text-green-600 mt-4"},iA={key:1,class:"text-red-600 mt-4"},oA={class:"bg-white p-4 rounded-lg shadow"},rA={class:"flex justify-between items-center mb-4"},aA={class:"overflow-x-auto"},lA={class:"min-w-full text-left"},cA={class:"px-4 py-2"},dA={class:"px-4 py-2"},uA={class:"px-4 py-2 text-right"},hA=["onClick"],fA={key:0},pA={class:"text-lg font-semibold mb-4"},mA=["disabled"],gA=["disabled"],bA={class:"flex justify-end space-x-2"},yA=["disabled"];function xA(t,e,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser"),l=H("Modal");return v(),k("div",ZM,[D(r,{"is-open":i.sidebarOpen,onClose:e[0]||(e[0]=c=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",eA,[i.sidebarOpen?W("",!0):(v(),k("div",tA,[u("button",{onClick:e[1]||(e[1]=c=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},e[11]||(e[11]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),D(a,{title:"Usuários"}),u("section",sA,[e[15]||(e[15]=u("h3",{class:"text-lg font-medium mb-4"},"Cadastrar novo usuário",-1)),u("form",{onSubmit:e[4]||(e[4]=it((...c)=>o.handleAddUser&&o.handleAddUser(...c),["prevent"])),class:"space-y-4"},[u("div",null,[e[12]||(e[12]=u("label",{class:"block text-sm font-medium text-gray-700"},"E-mail",-1)),O(u("input",{type:"email","onUpdate:modelValue":e[2]||(e[2]=c=>i.form.email=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.form.email]])]),u("div",null,[e[13]||(e[13]=u("label",{class:"block text-sm font-medium text-gray-700"},"Senha",-1)),O(u("input",{type:"password","onUpdate:modelValue":e[3]||(e[3]=c=>i.form.password=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.form.password]])]),e[14]||(e[14]=u("div",{class:"flex justify-end"},[u("button",{type:"submit",class:"btn"},"Cadastrar")],-1))],32),i.successMessage?(v(),k("p",nA,P(i.successMessage),1)):W("",!0),i.errorMessage?(v(),k("p",iA,P(i.errorMessage),1)):W("",!0)]),u("section",oA,[u("div",rA,[e[16]||(e[16]=u("h3",{class:"text-lg font-medium"},"Usuários cadastrados",-1)),O(u("input",{"onUpdate:modelValue":e[5]||(e[5]=c=>i.search=c),type:"text",placeholder:"Buscar...",class:"border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[j,i.search]])]),u("div",aA,[u("table",lA,[e[18]||(e[18]=u("thead",{class:"bg-gray-50"},[u("tr",null,[u("th",{class:"px-4 py-2 font-medium text-gray-700"},"ID"),u("th",{class:"px-4 py-2 font-medium text-gray-700"},"E-mail"),u("th",{class:"px-4 py-2"})])],-1)),u("tbody",null,[(v(!0),k(J,null,pe(o.filteredUsers,c=>(v(),k("tr",{key:c.id,class:"border-b last:border-b-0"},[u("td",cA,P(c.id),1),u("td",dA,P(c.email),1),u("td",uA,[u("button",{onClick:d=>o.openUserModal(c,"view"),class:"btn btn-sm"},"Visualizar",8,hA)])]))),128)),o.filteredUsers.length===0?(v(),k("tr",fA,e[17]||(e[17]=[u("td",{colspan:"3",class:"px-4 py-6 text-center text-gray-500"},"Nenhum usuário encontrado",-1)]))):W("",!0)])])])]),i.showUserModal?(v(),dt(l,{key:1,onClose:o.handleUserClose},{default:se(()=>[u("h3",pA,P(i.userModalMode==="new"?"Adicionar Usuário":"Cadastro de Usuário"),1),u("form",{onSubmit:e[10]||(e[10]=it((...c)=>o.handleSaveUser&&o.handleSaveUser(...c),["prevent"])),class:"space-y-4"},[u("div",null,[e[19]||(e[19]=u("label",{class:"block text-sm font-medium text-gray-700"},"E-mail",-1)),O(u("input",{type:"email","onUpdate:modelValue":e[6]||(e[6]=c=>i.userForm.email=c),disabled:o.isUserView,class:"w-full mt-1 px-4 py-2 border rounded-md"},null,8,mA),[[j,i.userForm.email]])]),u("div",null,[e[20]||(e[20]=u("label",{class:"block text-sm font-medium text-gray-700"},"Senha",-1)),O(u("input",{type:"password","onUpdate:modelValue":e[7]||(e[7]=c=>i.userForm.password=c),disabled:o.isUserView,class:"w-full mt-1 px-4 py-2 border rounded-md"},null,8,gA),[[j,i.userForm.password]])]),u("div",bA,[u("button",{type:"button",onClick:e[8]||(e[8]=(...c)=>o.handleUserClose&&o.handleUserClose(...c)),class:"px-4 py-2 rounded border"},"Fechar"),i.userModalMode==="view"?(v(),k("button",{key:0,type:"button",onClick:e[9]||(e[9]=(...c)=>o.enableUserEdit&&o.enableUserEdit(...c)),class:"btn btn-success"},"Editar")):W("",!0),u("button",{type:"submit",class:"btn",disabled:o.isUserView},"Salvar",8,yA)])],32)]),_:1},8,["onClose"])):W("",!0)])])}const _A=me(QM,[["render",xA]]),vA={name:"SearchProfiles",components:{Navbar:zt,Footer:Ht},data(){return{profiles:[],search:""}},computed:{filteredProfiles(){const t=this.search.toLowerCase();return this.profiles.filter(e=>e.business_name.toLowerCase().includes(t))}},async mounted(){const{data:t}=await N.from("profiles").select("id, business_name, description, slug, area_atuacao");t&&(this.profiles=t)}},wA={class:"min-h-screen bg-gradient-to-b from-white to-blue-50 py-10"},kA={class:"max-w-2xl mx-auto px-4"},SA={class:"mb-6 text-center"},CA={class:"space-y-4"},MA={class:"text-xl font-semibold text-blue-600"},AA={key:0,class:"text-sm text-gray-500"},PA={class:"text-gray-700 mb-2"},TA={key:0,class:"text-center text-gray-500 py-6"};function OA(t,e,s,n,i,o){const r=H("Navbar"),a=H("router-link"),l=H("Footer");return v(),k(J,null,[D(r),u("div",wA,[u("div",kA,[u("div",SA,[e[1]||(e[1]=u("h1",{class:"text-3xl font-extrabold text-blue-700 mb-4"},"Buscar perfis",-1)),O(u("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>i.search=c),type:"text",placeholder:"Digite o nome do estabelecimento",class:"w-full px-4 py-2 border rounded-md"},null,512),[[j,i.search]])]),u("ul",CA,[(v(!0),k(J,null,pe(o.filteredProfiles,c=>(v(),k("li",{key:c.id,class:"bg-white p-4 rounded-md shadow"},[u("h2",MA,P(c.business_name),1),c.area_atuacao?(v(),k("p",AA,P(c.area_atuacao),1)):W("",!0),u("p",PA,P(c.description),1),D(a,{to:"/"+c.slug,class:"text-blue-600 hover:underline"},{default:se(()=>e[2]||(e[2]=[ee(" Ver perfil ")])),_:2,__:[2]},1032,["to"])]))),128)),o.filteredProfiles.length===0?(v(),k("li",TA," Nenhum resultado encontrado ")):W("",!0)])])]),D(l)],64)}const EA=me(vA,[["render",OA]]),rp="/icons/whatsapp.svg",DA={name:"PublicPage",data(){return{profile:null,services:[]}},computed:{whatsappLink(){var s;return`https://wa.me/${(((s=this.profile)==null?void 0:s.whatsapp)||"").replace(/\D/g,"")}`}},methods:{formatPrice(t){return t==null||t===""?"":Number(t).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}},async mounted(){const t=this.$route.params.slug,{data:e}=await N.from("profiles").select("*").eq("slug",t).single();if(e){this.profile=e;const{data:s}=await N.from("services").select().eq("user_id",e.id);this.services=s||[]}}},IA={class:"min-h-screen flex flex-col bg-white"},RA={key:0,class:"flex-1"},LA={class:"bg-blue-600 text-white py-12"},FA={class:"max-w-5xl mx-auto px-4 text-center space-y-4"},jA=["src"],UA={class:"text-4xl font-bold"},NA={key:0,class:"text-sm"},$A={class:"text-lg"},BA={class:"max-w-5xl mx-auto px-4 py-12 space-y-16"},VA={key:0,class:"grid gap-6 md:grid-cols-2"},zA={class:"text-lg font-medium text-blue-700"},HA={class:"text-sm text-gray-600"},WA={class:"text-sm text-gray-500 mt-1"},qA={class:"text-sm text-gray-500"},KA={key:1,class:"text-gray-500"},GA={class:"space-y-1 text-gray-700"},YA=["href"],JA={key:2,class:"flex-1 flex items-center justify-center text-gray-500"},XA={key:3,class:"bg-gray-100 py-6"},QA={class:"max-w-5xl mx-auto px-4 text-center space-y-2"},ZA={class:"space-x-4 text-blue-600"},eP=["href"],tP=["href"],sP=["href"],nP=["href"],iP={class:"text-sm text-gray-500"};function oP(t,e,s,n,i,o){return v(),k("div",IA,[i.profile?(v(),k("section",RA,[u("div",LA,[u("div",FA,[u("img",{src:i.profile.image_url||"/hero-illustration.png",alt:"Banner",class:"w-32 h-32 mx-auto rounded-full shadow-lg"},null,8,jA),u("h1",UA,P(i.profile.business_name),1),i.profile.area_atuacao?(v(),k("p",NA,P(i.profile.area_atuacao),1)):W("",!0),u("p",$A,P(i.profile.description),1)])]),u("div",BA,[u("div",null,[e[0]||(e[0]=u("h2",{class:"text-2xl font-semibold text-blue-600 mb-4"},"Serviços",-1)),i.services.length?(v(),k("ul",VA,[(v(!0),k(J,null,pe(i.services,r=>(v(),k("li",{key:r.id,class:"p-4 bg-gray-50 border rounded-lg shadow"},[u("h3",zA,P(r.name),1),u("p",HA,P(r.description),1),u("p",WA,"Duração: "+P(r.duration),1),u("p",qA,"Valor: "+P(o.formatPrice(r.price)),1)]))),128))])):(v(),k("p",KA,"Nenhum serviço cadastrado."))]),u("div",null,[e[5]||(e[5]=u("h2",{class:"text-2xl font-semibold text-blue-600 mb-4"},"Contato",-1)),u("ul",GA,[u("li",null,[e[1]||(e[1]=u("strong",null,"Telefone:",-1)),ee(" "+P(i.profile.phone),1)]),u("li",null,[e[2]||(e[2]=u("strong",null,"WhatsApp:",-1)),ee(" "+P(i.profile.whatsapp),1)]),u("li",null,[e[3]||(e[3]=u("strong",null,"Email:",-1)),ee(" "+P(i.profile.email),1)]),u("li",null,[e[4]||(e[4]=u("strong",null,"Endereço:",-1)),ee(" "+P(i.profile.address),1)])])])])])):W("",!0),i.profile&&i.profile.whatsapp?(v(),k("a",{key:1,href:o.whatsappLink,target:"_blank",rel:"noopener",class:"fixed bottom-4 right-4 bg-green-500 hover:bg-green-600 text-white p-4 rounded-full shadow-lg"},e[6]||(e[6]=[u("img",{src:rp,alt:"WhatsApp",class:"w-6 h-6"},null,-1)]),8,YA)):(v(),k("div",JA,e[7]||(e[7]=[u("p",null,"Carregando perfil...",-1)]))),i.profile?(v(),k("footer",XA,[u("div",QA,[u("div",ZA,[i.profile.instagram?(v(),k("a",{key:0,href:i.profile.instagram,class:"hover:underline"},"Instagram",8,eP)):W("",!0),i.profile.facebook?(v(),k("a",{key:1,href:i.profile.facebook,class:"hover:underline"},"Facebook",8,tP)):W("",!0),i.profile.youtube?(v(),k("a",{key:2,href:i.profile.youtube,class:"hover:underline"},"YouTube",8,sP)):W("",!0),i.profile.x?(v(),k("a",{key:3,href:i.profile.x,class:"hover:underline"},"X (Twitter)",8,nP)):W("",!0)]),u("p",iP,"© "+P(new Date().getFullYear())+" "+P(i.profile.business_name),1)])])):W("",!0)])}const rP=me(DA,[["render",oP]]),aP={name:"Planos",components:{Navbar:zt,Footer:Ht}},lP={class:"max-w-5xl mx-auto px-4 py-16"},cP={class:"text-center mt-8"};function dP(t,e,s,n,i,o){const r=H("Navbar"),a=H("router-link"),l=H("Footer");return v(),k(J,null,[D(r),u("section",lP,[e[1]||(e[1]=ln('<h1 class="text-3xl font-bold text-center mb-8">Conheça nossos planos</h1><div class="bg-white p-4 rounded-lg shadow"><div class="overflow-x-auto"><table class="min-w-full text-left"><thead class="bg-gray-50"><tr><th class="px-4 py-2 font-medium text-gray-700">Recursos</th><th class="px-4 py-2 font-medium text-gray-700 text-center">Básico</th><th class="px-4 py-2 font-medium text-gray-700 text-center">Beta</th></tr></thead><tbody><tr><td class="border-t px-4 py-2 text-gray-600">Valor</td><td class="border-t px-4 py-2 text-center font-semibold">Grátis</td><td class="border-t px-4 py-2 text-center font-semibold line-through text-gray-400">R$167,90</td></tr><tr class="bg-gray-50"><td class="border-t px-4 py-2 text-gray-600">Cadastro de pacientes</td><td class="border-t px-4 py-2 text-center">Até 5 pacientes</td><td class="border-t px-4 py-2 text-center">Ilimitado</td></tr><tr><td class="border-t px-4 py-2 text-gray-600">Lembretes por e-mail</td><td class="border-t px-4 py-2 text-center">✓</td><td class="border-t px-4 py-2 text-center">✓</td></tr><tr class="bg-gray-50"><td class="border-t px-4 py-2 text-gray-600">Lembretes via WhatsApp</td><td class="border-t px-4 py-2 text-center line-through text-gray-400">✓</td><td class="border-t px-4 py-2 text-center">✓</td></tr><tr><td class="border-t px-4 py-2 text-gray-600">Customização de domínio da página pública</td><td class="border-t px-4 py-2 text-center line-through text-gray-400">✓</td><td class="border-t px-4 py-2 text-center">✓</td></tr><tr class="bg-gray-50"><td class="border-t px-4 py-2 text-gray-600">Página pública sem banner do Agenda Zen</td><td class="border-t px-4 py-2 text-center line-through text-gray-400">✓</td><td class="border-t px-4 py-2 text-center">✓</td></tr><tr><td class="border-t px-4 py-2 text-gray-600">Geração de recibos de atendimentos</td><td class="border-t px-4 py-2 text-center line-through text-gray-400">✓</td><td class="border-t px-4 py-2 text-center">✓</td></tr><tr class="bg-gray-50"><td class="border-t px-4 py-2 text-gray-600">Envio de recibos por e-mail automático</td><td class="border-t px-4 py-2 text-center line-through text-gray-400">✓</td><td class="border-t px-4 py-2 text-center">✓</td></tr></tbody></table></div></div>',2)),u("div",cP,[D(a,{to:"/cadastro",class:"btn"},{default:se(()=>e[0]||(e[0]=[ee(" Contratar plano ")])),_:1,__:[0]})])]),D(l)],64)}const uP=me(aP,[["render",dP]]),hP={name:"Salas",components:{Sidebar:At,HeaderUser:Pt,Modal:zs},data(){return{userId:null,showModal:!1,search:"",form:{name:"",googleMeetLink:""},rooms:[],sidebarOpen:window.innerWidth>=768,page:1,pageSize:10}},methods:{openModal(){this.showModal=!0},generateMeetLink(){const t=window.open("https://meet.google.com/new","_blank");setTimeout(()=>{try{this.form.googleMeetLink=t.location.href}catch{}},3e3)},async pasteFromClipboard(){try{const t=await navigator.clipboard.readText();this.form.googleMeetLink=t}catch{alert("Não foi possível acessar o conteúdo da área de transferência.")}},closeModal(){this.showModal=!1,this.form={name:"",googleMeetLink:""}},async handleAddRoom(){const{data:t,error:e}=await N.from("rooms").insert({name:this.form.name,google_meet_link:this.form.googleMeetLink,user_id:this.userId}).select().single();e?alert("Erro ao salvar sala: "+e.message):(this.rooms.push(t),this.closeModal())},async handleDeleteRoom(t){if(!confirm("Tem certeza que deseja excluir esta sala?"))return;const{error:s}=await N.from("rooms").delete().eq("id",t);s?alert("Erro ao excluir sala: "+s.message):this.rooms=this.rooms.filter(n=>n.id!==t)},nextPage(){this.page<this.totalPages&&this.page++},prevPage(){this.page>1&&this.page--}},computed:{filteredRooms(){const t=this.search.toLowerCase();return this.rooms.filter(e=>e.name.toLowerCase().includes(t)||e.google_meet_link&&e.google_meet_link.toLowerCase().includes(t))},paginatedRooms(){const t=(this.page-1)*this.pageSize;return this.filteredRooms.slice(t,t+this.pageSize)},totalPages(){return Math.max(1,Math.ceil(this.filteredRooms.length/this.pageSize))}},watch:{search(){this.page=1}},async mounted(){const{data:{user:t}}=await N.auth.getUser();if(!t){this.$router.push("/login");return}this.userId=t.id;const{data:e}=await N.from("rooms").select().eq("user_id",this.userId);e&&(this.rooms=e)}},fP={class:"min-h-screen flex bg-gray-100 relative"},pP={class:"flex-1 p-4 md:p-8 space-y-6"},mP={key:0,class:"flex items-center mb-4"},gP={class:"bg-white p-4 rounded-lg shadow"},bP={class:"flex justify-between items-center mb-4"},yP={class:"flex items-center space-x-3"},xP={class:"overflow-x-auto"},_P={class:"min-w-full text-left"},vP={class:"px-4 py-2"},wP={class:"px-4 py-2"},kP=["href"],SP={class:"px-4 py-2 text-right"},CP=["onClick"],MP={key:0},AP={class:"mt-4 flex justify-between items-center"},PP=["disabled"],TP={class:"text-sm"},OP=["disabled"],EP={class:"flex space-x-2 mt-1"},DP={class:"flex justify-end space-x-2"};function IP(t,e,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser"),l=H("Modal");return v(),k("div",fP,[D(r,{"is-open":i.sidebarOpen,onClose:e[0]||(e[0]=c=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",pP,[i.sidebarOpen?W("",!0):(v(),k("div",mP,[u("button",{onClick:e[1]||(e[1]=c=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},e[12]||(e[12]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),D(a,{title:"Salas"}),u("section",gP,[u("div",bP,[e[13]||(e[13]=u("h3",{class:"text-lg font-medium"},"Salas cadastradas",-1)),u("div",yP,[O(u("input",{"onUpdate:modelValue":e[2]||(e[2]=c=>i.search=c),type:"text",placeholder:"Buscar...",class:"border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[j,i.search]]),u("button",{onClick:e[3]||(e[3]=(...c)=>o.openModal&&o.openModal(...c)),class:"btn"}," Nova Sala ")])]),u("div",xP,[u("table",_P,[e[15]||(e[15]=u("thead",{class:"bg-gray-50"},[u("tr",null,[u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Nome"),u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Google Meet"),u("th",{class:"px-4 py-2"})])],-1)),u("tbody",null,[(v(!0),k(J,null,pe(o.paginatedRooms,c=>(v(),k("tr",{key:c.id,class:"border-b last:border-b-0"},[u("td",vP,P(c.name),1),u("td",wP,[c.google_meet_link?(v(),k("a",{key:0,href:c.google_meet_link,class:"text-blue-600 underline",target:"_blank"}," Link ",8,kP)):W("",!0)]),u("td",SP,[u("button",{onClick:d=>o.handleDeleteRoom(c.id),class:"btn btn-sm btn-danger"}," Excluir ",8,CP)])]))),128)),o.filteredRooms.length===0?(v(),k("tr",MP,e[14]||(e[14]=[u("td",{colspan:"3",class:"px-4 py-6 text-center text-gray-500"}," Nenhuma sala encontrada ",-1)]))):W("",!0)])]),u("div",AP,[u("button",{class:"px-3 py-1 border rounded",onClick:e[4]||(e[4]=(...c)=>o.prevPage&&o.prevPage(...c)),disabled:i.page===1}," Anterior ",8,PP),u("span",TP,"Página "+P(i.page)+" de "+P(o.totalPages),1),u("button",{class:"px-3 py-1 border rounded",onClick:e[5]||(e[5]=(...c)=>o.nextPage&&o.nextPage(...c)),disabled:i.page===o.totalPages}," Próxima ",8,OP)])])]),i.showModal?(v(),dt(l,{key:1,onClose:o.closeModal},{default:se(()=>[e[20]||(e[20]=u("h3",{class:"text-lg font-semibold mb-4"},"Adicionar Sala",-1)),u("form",{onSubmit:e[11]||(e[11]=it((...c)=>o.handleAddRoom&&o.handleAddRoom(...c),["prevent"])),class:"space-y-6"},[u("div",null,[e[16]||(e[16]=u("label",{class:"block text-sm font-medium text-gray-700"},"Nome",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=c=>i.form.name=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.form.name]])]),u("div",null,[e[17]||(e[17]=u("label",{class:"block text-sm font-medium text-gray-700"},"Link do Google Meet",-1)),u("div",EP,[O(u("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=c=>i.form.googleMeetLink=c),class:"flex-grow px-4 py-2 border rounded-md"},null,512),[[j,i.form.googleMeetLink]]),u("button",{type:"button",onClick:e[8]||(e[8]=(...c)=>o.generateMeetLink&&o.generateMeetLink(...c)),class:"btn"},"Gerar"),u("button",{type:"button",onClick:e[9]||(e[9]=(...c)=>o.pasteFromClipboard&&o.pasteFromClipboard(...c)),class:"btn"},"Paste")]),e[18]||(e[18]=u("p",{class:"text-xs text-gray-500 mt-2"}," Após abrir a nova aba, copie o link da reunião e cole no campo acima. ",-1))]),u("div",DP,[u("button",{type:"button",onClick:e[10]||(e[10]=(...c)=>o.closeModal&&o.closeModal(...c)),class:"px-4 py-2 rounded border"},"Cancelar"),e[19]||(e[19]=u("button",{type:"submit",class:"btn"},"Salvar",-1))])],32)]),_:1,__:[20]},8,["onClose"])):W("",!0)])])}const RP=me(hP,[["render",IP]]),LP={name:"Comprovantes",components:{Sidebar:At,HeaderUser:Pt,Modal:zs},data(){return{userId:null,sidebarOpen:window.innerWidth>=768,templates:[],receipts:[],clients:[],showGenerateModal:!1,generateForm:{clientId:"",startDate:"",endDate:"",templateId:""},receiptContent:null}},methods:{closeGenerateModal(){this.showGenerateModal=!1,this.generateForm={clientId:"",startDate:"",endDate:"",templateId:""}},getClientName(t){const e=this.clients.find(s=>s.id===t);return e?e.name:""},showReceipt(t){this.receiptContent=t},async handleGenerate(){const{data:t}=await N.from("appointments").select().eq("user_id",this.userId).eq("client_id",this.generateForm.clientId).gte("date",this.generateForm.startDate).lte("date",this.generateForm.endDate).order("date",{ascending:!0}).order("time",{ascending:!0}),e=this.templates.find(a=>a.id===this.generateForm.templateId),s=this.clients.find(a=>a.id===this.generateForm.clientId);let n=e?e.content:"";s&&(n=n.replace("{{client_name}}",s.name));const i=(t||[]).map(a=>`- ${a.date} ${a.time}`).join(`
`);n=n.replace("{{appointments}}",i);const{data:o,error:r}=await N.from("receipts").insert({user_id:this.userId,client_id:this.generateForm.clientId,template_id:this.generateForm.templateId,start_date:this.generateForm.startDate,end_date:this.generateForm.endDate,content:n}).select().single();r?alert("Erro ao gerar comprovante: "+r.message):(this.receipts.push(o),this.closeGenerateModal())}},async mounted(){const{data:{user:t}}=await N.auth.getUser();if(!t){this.$router.push("/login");return}this.userId=t.id;const{data:e}=await N.from("clients").select().eq("user_id",this.userId);e&&(this.clients=e);const{data:s}=await N.from("receipt_templates").select().eq("user_id",this.userId);s&&(this.templates=s);const{data:n}=await N.from("receipts").select().eq("user_id",this.userId).order("created_at",{ascending:!1});n&&(this.receipts=n)}},FP={class:"min-h-screen flex bg-gray-100 relative"},jP={class:"flex-1 p-4 md:p-8 space-y-6"},UP={key:0,class:"flex items-center mb-4"},NP={class:"bg-white p-4 rounded-lg shadow space-y-4"},$P={class:"flex justify-between items-center"},BP={class:"overflow-x-auto"},VP={class:"min-w-full text-left"},zP={class:"px-4 py-2"},HP={class:"px-4 py-2"},WP={class:"px-4 py-2"},qP={class:"px-4 py-2 text-right"},KP=["onClick"],GP={key:0},YP=["value"],JP={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},XP=["value"],QP={class:"flex justify-end space-x-2"},ZP={class:"border rounded-md p-4 bg-gray-50"},eT={class:"whitespace-pre-wrap font-mono text-sm"};function tT(t,e,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser"),l=H("Modal");return v(),k("div",FP,[D(r,{"is-open":i.sidebarOpen,onClose:e[0]||(e[0]=c=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",jP,[i.sidebarOpen?W("",!0):(v(),k("div",UP,[u("button",{onClick:e[1]||(e[1]=c=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},e[10]||(e[10]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),D(a,{title:"Comprovantes"}),u("section",NP,[u("div",$P,[e[11]||(e[11]=u("h3",{class:"text-lg font-medium"},"Comprovantes Gerados",-1)),u("button",{onClick:e[2]||(e[2]=c=>i.showGenerateModal=!0),class:"btn"},"Novo Comprovante")]),u("div",BP,[u("table",VP,[e[13]||(e[13]=u("thead",{class:"bg-gray-50"},[u("tr",null,[u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Cliente"),u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Período"),u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Criado em"),u("th",{class:"px-4 py-2"})])],-1)),u("tbody",null,[(v(!0),k(J,null,pe(i.receipts,c=>(v(),k("tr",{key:c.id,class:"border-b last:border-b-0"},[u("td",zP,P(o.getClientName(c.client_id)),1),u("td",HP,P(c.start_date)+" - "+P(c.end_date),1),u("td",WP,P(c.created_at.split("T")[0]),1),u("td",qP,[u("button",{onClick:d=>o.showReceipt(c.content),class:"btn btn-sm"},"Ver",8,KP)])]))),128)),i.receipts.length===0?(v(),k("tr",GP,e[12]||(e[12]=[u("td",{colspan:"4",class:"px-4 py-6 text-center text-gray-500"},"Nenhum comprovante",-1)]))):W("",!0)])])])]),i.showGenerateModal?(v(),dt(l,{key:1,onClose:o.closeGenerateModal},{default:se(()=>[e[21]||(e[21]=u("h3",{class:"text-lg font-semibold mb-4"},"Novo Comprovante",-1)),u("form",{onSubmit:e[8]||(e[8]=it((...c)=>o.handleGenerate&&o.handleGenerate(...c),["prevent"])),class:"space-y-4"},[u("div",null,[e[15]||(e[15]=u("label",{class:"block text-sm font-medium text-gray-700"},"Cliente",-1)),O(u("select",{"onUpdate:modelValue":e[3]||(e[3]=c=>i.generateForm.clientId=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},[e[14]||(e[14]=u("option",{disabled:"",value:""},"Selecione",-1)),(v(!0),k(J,null,pe(i.clients,c=>(v(),k("option",{key:c.id,value:c.id},P(c.name),9,YP))),128))],512),[[Mt,i.generateForm.clientId]])]),u("div",JP,[u("div",null,[e[16]||(e[16]=u("label",{class:"block text-sm font-medium text-gray-700"},"De",-1)),O(u("input",{type:"date","onUpdate:modelValue":e[4]||(e[4]=c=>i.generateForm.startDate=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.generateForm.startDate]])]),u("div",null,[e[17]||(e[17]=u("label",{class:"block text-sm font-medium text-gray-700"},"Até",-1)),O(u("input",{type:"date","onUpdate:modelValue":e[5]||(e[5]=c=>i.generateForm.endDate=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.generateForm.endDate]])])]),u("div",null,[e[19]||(e[19]=u("label",{class:"block text-sm font-medium text-gray-700"},"Template",-1)),O(u("select",{"onUpdate:modelValue":e[6]||(e[6]=c=>i.generateForm.templateId=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},[e[18]||(e[18]=u("option",{disabled:"",value:""},"Selecione",-1)),(v(!0),k(J,null,pe(i.templates,c=>(v(),k("option",{key:c.id,value:c.id},P(c.name),9,XP))),128))],512),[[Mt,i.generateForm.templateId]])]),u("div",QP,[u("button",{type:"button",onClick:e[7]||(e[7]=(...c)=>o.closeGenerateModal&&o.closeGenerateModal(...c)),class:"px-4 py-2 rounded border"},"Cancelar"),e[20]||(e[20]=u("button",{type:"submit",class:"btn"},"Gerar",-1))])],32)]),_:1,__:[21]},8,["onClose"])):W("",!0),i.receiptContent?(v(),dt(l,{key:2,onClose:e[9]||(e[9]=c=>i.receiptContent=null)},{default:se(()=>[e[22]||(e[22]=u("h3",{class:"text-lg font-semibold text-center mb-4"},"Comprovante",-1)),u("div",ZP,[u("pre",eT,P(i.receiptContent),1)])]),_:1,__:[22]})):W("",!0)])])}const sT=me(LP,[["render",tT]]),nT={name:"Atendimento",components:{Sidebar:At,HeaderUser:Pt},data(){return{sidebarOpen:window.innerWidth>=768,activeTab:"current",appointment:null,note:"",files:[],notes:[],userId:null}},computed:{appointmentDateTime(){return this.appointment?`${this.appointment.date} ${this.appointment.time}`:""},groupedNotes(){const t={};return this.notes.forEach(e=>{const s=e.created_at.split("T")[0];t[s]||(t[s]=[]),t[s].push(e)}),Object.keys(t).sort((e,s)=>new Date(s)-new Date(e)).map(e=>({date:e,items:t[e]}))}},methods:{formatDateTime(t){return new Date(t).toLocaleString("pt-BR")},handleFileChange(t){this.files=Array.from(t.target.files)},async fetchData(){const{data:{user:t}}=await N.auth.getUser();if(!t){this.$router.push("/login");return}this.userId=t.id;const{data:e}=await N.from("appointments").select().eq("id",this.$route.params.id).single();this.appointment=e;const{data:s}=await N.from("appointment_notes").select().eq("appointment_id",this.$route.params.id).order("created_at",{ascending:!1});this.notes=s||[]},async saveNote(){if(!this.note.trim()&&!this.files.length)return;const t=[];for(const n of this.files){const i=n.name.split(".").pop(),o=`${this.$route.params.id}-${Date.now()}-${Math.random().toString(36).slice(2)}.${i}`,{error:r}=await N.storage.from("appointment-attachments").upload(o,n);if(!r){const{data:{publicUrl:a}}=N.storage.from("appointment-attachments").getPublicUrl(o);t.push(a)}}const{data:e,error:s}=await N.from("appointment_notes").insert({appointment_id:this.$route.params.id,user_id:this.userId,note:this.note,attachments:t}).select().single();s?alert("Erro ao salvar atendimento: "+s.message):(this.notes.unshift(e),this.note="",this.files=[])}},async mounted(){await this.fetchData()}},iT={class:"min-h-screen flex bg-gray-100 relative"},oT={class:"flex-1 p-4 md:p-8"},rT={key:0,class:"flex items-center mb-4"},aT={class:"bg-white p-4 rounded-lg shadow mt-4"},lT={class:"border-b mb-4"},cT={class:"flex space-x-4"},dT={key:0},uT={class:"mb-2 text-sm text-gray-600"},hT={key:1},fT={class:"font-semibold mb-2"},pT={class:"text-sm text-gray-600 mb-1"},mT={class:"mb-2 whitespace-pre-line"},gT={key:0,class:"space-x-2"},bT=["href"];function yT(t,e,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser");return v(),k("div",iT,[D(r,{"is-open":i.sidebarOpen,onClose:e[0]||(e[0]=l=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",oT,[i.sidebarOpen?W("",!0):(v(),k("div",rT,[u("button",{onClick:e[1]||(e[1]=l=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},e[7]||(e[7]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),D(a,{title:"Atendimento"}),u("section",aT,[u("div",lT,[u("nav",cT,[u("button",{class:bt(i.activeTab==="current"?"border-b-2 border-blue-500 pb-2":"text-gray-500 pb-2"),onClick:e[2]||(e[2]=l=>i.activeTab="current")},"Atendimento",2),u("button",{class:bt(i.activeTab==="history"?"border-b-2 border-blue-500 pb-2":"text-gray-500 pb-2"),onClick:e[3]||(e[3]=l=>i.activeTab="history")},"Histórico de atendimento",2)])]),i.activeTab==="current"?(v(),k("div",dT,[u("p",uT,"Data/hora: "+P(o.appointmentDateTime),1),O(u("textarea",{"onUpdate:modelValue":e[4]||(e[4]=l=>i.note=l),class:"w-full border rounded p-2 mb-4",rows:"6",placeholder:"Descreva o atendimento"},null,512),[[j,i.note]]),u("input",{type:"file",multiple:"",onChange:e[5]||(e[5]=(...l)=>o.handleFileChange&&o.handleFileChange(...l)),class:"mb-4"},null,32),u("button",{onClick:e[6]||(e[6]=(...l)=>o.saveNote&&o.saveNote(...l)),class:"btn"},"Salvar")])):(v(),k("div",hT,[(v(!0),k(J,null,pe(o.groupedNotes,l=>(v(),k("div",{key:l.date,class:"mb-4"},[u("h4",fT,P(l.date),1),(v(!0),k(J,null,pe(l.items,c=>(v(),k("div",{key:c.id,class:"border p-2 rounded mb-2"},[u("p",pT,P(o.formatDateTime(c.created_at)),1),u("p",mT,P(c.note),1),c.attachments&&c.attachments.length?(v(),k("div",gT,[(v(!0),k(J,null,pe(c.attachments,(d,h)=>(v(),k("a",{key:h,href:d,target:"_blank",class:"text-blue-600 underline"},"Anexo "+P(h+1),9,bT))),128))])):W("",!0)]))),128))]))),128))]))])])])}const xT=me(nT,[["render",yT]]),_T={name:"Templates",components:{Sidebar:At,HeaderUser:Pt,Modal:zs},data(){return{userId:null,sidebarOpen:window.innerWidth>=768,templates:[],showTemplateModal:!1,templateForm:{name:"",content:""}}},methods:{closeTemplateModal(){this.showTemplateModal=!1,this.templateForm={name:"",content:""}},async handleAddTemplate(){const{data:t,error:e}=await N.from("receipt_templates").insert({name:this.templateForm.name,content:this.templateForm.content,user_id:this.userId}).select().single();e?alert("Erro ao salvar template: "+e.message):(this.templates.push(t),this.closeTemplateModal())}},async mounted(){const{data:{user:t}}=await N.auth.getUser();if(!t){this.$router.push("/login");return}this.userId=t.id;const{data:e}=await N.from("receipt_templates").select().eq("user_id",this.userId);e&&(this.templates=e)}},vT={class:"min-h-screen flex bg-gray-100 relative"},wT={class:"flex-1 p-4 md:p-8 space-y-6"},kT={key:0,class:"flex items-center mb-4"},ST={class:"bg-white p-4 rounded-lg shadow space-y-4"},CT={class:"flex justify-between items-center"},MT={class:"overflow-x-auto"},AT={class:"min-w-full text-left"},PT={class:"px-4 py-2"},TT={key:0},OT={class:"flex justify-end space-x-2"};function ET(t,e,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser"),l=H("Modal");return v(),k("div",vT,[D(r,{"is-open":i.sidebarOpen,onClose:e[0]||(e[0]=c=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",wT,[i.sidebarOpen?W("",!0):(v(),k("div",kT,[u("button",{onClick:e[1]||(e[1]=c=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},e[7]||(e[7]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),D(a,{title:"Templates"}),u("section",ST,[u("div",CT,[e[8]||(e[8]=u("h3",{class:"text-lg font-medium"},"Templates",-1)),u("button",{onClick:e[2]||(e[2]=c=>i.showTemplateModal=!0),class:"btn"},"Novo Template")]),u("div",MT,[u("table",AT,[e[10]||(e[10]=u("thead",{class:"bg-gray-50"},[u("tr",null,[u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Nome")])],-1)),u("tbody",null,[(v(!0),k(J,null,pe(i.templates,c=>(v(),k("tr",{key:c.id,class:"border-b last:border-b-0"},[u("td",PT,P(c.name),1)]))),128)),i.templates.length===0?(v(),k("tr",TT,e[9]||(e[9]=[u("td",{class:"px-4 py-6 text-center text-gray-500"},"Nenhum template",-1)]))):W("",!0)])])])]),i.showTemplateModal?(v(),dt(l,{key:1,onClose:o.closeTemplateModal},{default:se(()=>[e[15]||(e[15]=u("h3",{class:"text-lg font-semibold mb-4"},"Novo Template",-1)),u("form",{onSubmit:e[6]||(e[6]=it((...c)=>o.handleAddTemplate&&o.handleAddTemplate(...c),["prevent"])),class:"space-y-4"},[u("div",null,[e[11]||(e[11]=u("label",{class:"block text-sm font-medium text-gray-700"},"Nome",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=c=>i.templateForm.name=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.templateForm.name]])]),u("div",null,[e[12]||(e[12]=u("label",{class:"block text-sm font-medium text-gray-700"},"Conteúdo",-1)),O(u("textarea",{"onUpdate:modelValue":e[4]||(e[4]=c=>i.templateForm.content=c),class:"w-full mt-1 px-4 py-2 border rounded-md",rows:"4"},null,512),[[j,i.templateForm.content]]),e[13]||(e[13]=u("p",{class:"text-sm text-gray-500 mt-1"},"Use {{client_name}} e {{appointments}}",-1))]),u("div",OT,[u("button",{type:"button",onClick:e[5]||(e[5]=(...c)=>o.closeTemplateModal&&o.closeTemplateModal(...c)),class:"px-4 py-2 rounded border"},"Cancelar"),e[14]||(e[14]=u("button",{type:"submit",class:"btn"},"Salvar",-1))])],32)]),_:1,__:[15]},8,["onClose"])):W("",!0)])])}const DT=me(_T,[["render",ET]]),IT={name:"Contato",components:{Navbar:zt,Footer:Ht},data(){return{nome:"",email:"",mensagem:"",sucesso:!1,erro:""}},methods:{async enviar(){if(this.sucesso=!1,this.erro="",this.email&&!ss(this.email)){this.erro="E-mail inválido";return}const{error:t}=await N.from("contacts").insert({name:this.nome,email:this.email,message:this.mensagem});t?this.erro="Erro ao enviar mensagem: "+t.message:(this.sucesso=!0,this.nome="",this.email="",this.mensagem="")}}},RT={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 px-4"},LT={class:"bg-white p-10 rounded-2xl shadow-xl w-full max-w-lg"},FT={key:0,class:"mt-4 text-green-600 text-center"},jT={key:1,class:"mt-4 text-red-600 text-center"};function UT(t,e,s,n,i,o){const r=H("Navbar"),a=H("Footer");return v(),k(J,null,[D(r),u("section",RT,[u("div",LT,[e[8]||(e[8]=ln('<div class="mb-8 text-center"><h2 class="text-3xl font-extrabold text-blue-700">Fale conosco</h2><p class="text-gray-500">Envie sua mensagem e entraremos em contato</p></div><div class="mb-6 text-center"><a href="https://wa.me/5518996233098" target="_blank" rel="noopener" class="btn btn-success inline-flex items-center space-x-2"><img src="'+rp+'" alt="WhatsApp" class="w-5 h-5"><span>Falar via WhatsApp</span></a></div>',2)),u("form",{onSubmit:e[3]||(e[3]=it((...l)=>o.enviar&&o.enviar(...l),["prevent"])),class:"space-y-5"},[u("div",null,[e[4]||(e[4]=u("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"nome"},"Nome",-1)),O(u("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>i.nome=l),id:"nome",type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[j,i.nome]])]),u("div",null,[e[5]||(e[5]=u("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"email"},"E-mail",-1)),O(u("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>i.email=l),id:"email",type:"email",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[j,i.email]])]),u("div",null,[e[6]||(e[6]=u("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"mensagem"},"Mensagem",-1)),O(u("textarea",{"onUpdate:modelValue":e[2]||(e[2]=l=>i.mensagem=l),id:"mensagem",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"4"},null,512),[[j,i.mensagem]])]),e[7]||(e[7]=u("button",{type:"submit",class:"btn w-full"},"Enviar",-1))],32),i.sucesso?(v(),k("p",FT,"Mensagem enviada com sucesso!")):W("",!0),i.erro?(v(),k("p",jT,P(i.erro),1)):W("",!0)])]),D(a)],64)}const NT=me(IT,[["render",UT]]),$T={name:"MinhaAssinatura",components:{Sidebar:At,HeaderUser:Pt},data(){return{sidebarOpen:window.innerWidth>=768}},methods:{goBeta(){this.$router.push("/assinatura-plus")},goBasico(){this.$router.push("/dashboard")}}},BT={class:"min-h-screen flex bg-gray-100 relative"},VT={class:"flex-1 p-4 md:p-8 space-y-6"},zT={key:0,class:"flex items-center mb-4"},HT={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},WT={class:"bg-white p-6 rounded-lg shadow space-y-4"},qT={class:"bg-white p-6 rounded-lg shadow space-y-4"};function KT(t,e,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser");return v(),k("div",BT,[D(r,{"is-open":i.sidebarOpen,onClose:e[0]||(e[0]=l=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",VT,[i.sidebarOpen?W("",!0):(v(),k("div",zT,[u("button",{onClick:e[1]||(e[1]=l=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},e[4]||(e[4]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),D(a,{title:"Minha Assinatura"}),u("section",HT,[u("div",WT,[e[5]||(e[5]=ln('<h3 class="text-xl font-semibold text-center">Básico</h3><p class="text-center text-2xl font-bold text-blue-600">Grátis</p><ul class="space-y-2"><li class="flex items-start"><span class="mr-2">✓</span>Cadastro de até 5 pacientes</li><li class="flex items-start"><span class="mr-2">✓</span>Lembretes por e-mail</li><li class="flex items-start line-through text-gray-400"><span class="mr-2">✓</span>Lembretes via WhatsApp</li><li class="flex items-start line-through text-gray-400"><span class="mr-2">✓</span>Customização de domínio da página pública</li><li class="flex items-start line-through text-gray-400"><span class="mr-2">✓</span>Página pública sem banner do Agenda Zen</li><li class="flex items-start line-through text-gray-400"><span class="mr-2">✓</span>Geração de recibos de atendimentos</li><li class="flex items-start line-through text-gray-400"><span class="mr-2">✓</span>Envio de recibos por e-mail automático</li></ul>',3)),u("button",{class:"btn mt-4 w-full",onClick:e[2]||(e[2]=(...l)=>o.goBasico&&o.goBasico(...l))},"Escolher")]),u("div",qT,[e[6]||(e[6]=ln('<h3 class="text-xl font-semibold text-center">Beta</h3><p class="text-center text-2xl font-bold line-through text-gray-400">R$167,90</p><ul class="space-y-2"><li class="flex items-start"><span class="mr-2">✓</span>Cadastro de pacientes ilimitado</li><li class="flex items-start"><span class="mr-2">✓</span>Lembretes por e-mail</li><li class="flex items-start"><span class="mr-2">✓</span>Lembretes via WhatsApp</li><li class="flex items-start"><span class="mr-2">✓</span>Customização de domínio da página pública</li><li class="flex items-start"><span class="mr-2">✓</span>Página pública sem banner do Agenda Zen</li><li class="flex items-start"><span class="mr-2">✓</span>Geração de recibos de atendimentos</li><li class="flex items-start"><span class="mr-2">✓</span>Envio de recibos por e-mail automático</li></ul>',3)),u("button",{class:"btn mt-4 w-full",onClick:e[3]||(e[3]=(...l)=>o.goBeta&&o.goBeta(...l))},"Escolher")])])])])}const GT=me($T,[["render",KT]]),YT={name:"Faturamento",components:{Sidebar:At,HeaderUser:Pt},data(){return{userId:null,sidebarOpen:window.innerWidth>=768,services:[],selectedServices:[],filterStart:"",filterEnd:"",groupBy:"mes",revenueData:[],chart:null}},methods:{async fetchServices(){const{data:t}=await N.from("services").select().eq("user_id",this.userId);this.services=t||[],this.selectedServices=this.services.map(e=>e.id)},async fetchRevenue(){if(!this.filterStart||!this.filterEnd)return;const{data:t}=await N.from("appointments").select("date, service_id").eq("user_id",this.userId).gte("date",this.filterStart).lte("date",this.filterEnd),e=t||[],s={};this.services.forEach(o=>{s[o.id]=Number(o.price)||0});const n=this.selectedServices.length?e.filter(o=>this.selectedServices.includes(o.service_id)):e,i={};n.forEach(o=>{const r=new Date(o.date);let a="";if(this.groupBy==="dia")a=r.toISOString().split("T")[0];else if(this.groupBy==="semana"){const c=this.getWeekNumber(r);a=`${r.getFullYear()}-W${c}`}else a=`${r.getFullYear()}-${(r.getMonth()+1).toString().padStart(2,"0")}`;const l=s[o.service_id]||0;i[a]=(i[a]||0)+l}),this.revenueData=Object.keys(i).sort().map(o=>({label:o,total:i[o]})),this.renderChart()},getWeekNumber(t){const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),s=e.getUTCDay()||7;e.setUTCDate(e.getUTCDate()+4-s);const n=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e-n)/864e5+1)/7)},renderChart(){const t=this.$refs.chartCanvas.getContext("2d");this.chart&&this.chart.destroy(),this.chart=new Zt(t,{type:"bar",data:{labels:this.revenueData.map(e=>e.label),datasets:[{label:"Faturamento",data:this.revenueData.map(e=>e.total),backgroundColor:"#3b82f6"}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0}}}})},formatPrice(t){return Number(t).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}},async mounted(){const{data:{user:t}}=await N.auth.getUser();if(!t){this.$router.push("/login");return}this.userId=t.id,await this.fetchServices();const e=new Date,s=new Date(e.getFullYear(),e.getMonth(),1),n=new Date(e.getFullYear(),e.getMonth()+1,0);this.filterStart=s.toISOString().split("T")[0],this.filterEnd=n.toISOString().split("T")[0]}},JT={class:"min-h-screen flex bg-gray-100 relative"},XT={class:"flex-1 p-4 md:p-8 space-y-6"},QT={key:0,class:"flex items-center mb-4"},ZT={class:"bg-white p-4 rounded-lg shadow space-y-4"},eO={class:"grid grid-cols-1 md:grid-cols-4 gap-4 items-start"},tO={class:"mt-1 space-y-1"},sO=["value"],nO={class:"md:col-span-2"},iO={class:"grid grid-cols-2 gap-2 mt-1"},oO={class:"flex flex-col mt-3"},rO={class:"flex justify-end"},aO={class:"bg-white p-4 rounded-lg shadow space-y-4"},lO={class:"overflow-x-auto"},cO={class:"min-w-full text-left"},dO={class:"px-4 py-2"},uO={class:"px-4 py-2"},hO={key:0},fO={class:"h-64"},pO={ref:"chartCanvas",class:"w-full h-full"};function mO(t,e,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser");return v(),k("div",JT,[D(r,{"is-open":i.sidebarOpen,onClose:e[0]||(e[0]=l=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",XT,[i.sidebarOpen?W("",!0):(v(),k("div",QT,[u("button",{onClick:e[1]||(e[1]=l=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},e[7]||(e[7]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),D(a,{title:"Relatório de Faturamento"}),u("section",ZT,[u("div",eO,[u("div",null,[e[8]||(e[8]=u("label",{class:"block text-sm font-medium text-gray-700"},"Serviços",-1)),u("div",tO,[(v(!0),k(J,null,pe(i.services,l=>(v(),k("label",{key:l.id,class:"flex items-center space-x-2"},[O(u("input",{type:"checkbox",value:l.id,"onUpdate:modelValue":e[2]||(e[2]=c=>i.selectedServices=c)},null,8,sO),[[ll,i.selectedServices]]),u("span",null,P(l.name),1)]))),128))])]),u("div",nO,[e[13]||(e[13]=u("label",{class:"block text-sm font-medium text-gray-700"},"Datas",-1)),u("div",iO,[u("div",null,[e[9]||(e[9]=u("label",{class:"block text-xs font-medium text-gray-700"},"De",-1)),O(u("input",{type:"date","onUpdate:modelValue":e[3]||(e[3]=l=>i.filterStart=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.filterStart]])]),u("div",null,[e[10]||(e[10]=u("label",{class:"block text-xs font-medium text-gray-700"},"Até",-1)),O(u("input",{type:"date","onUpdate:modelValue":e[4]||(e[4]=l=>i.filterEnd=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.filterEnd]])])]),u("div",oO,[e[12]||(e[12]=u("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Agrupar por",-1)),O(u("select",{"onUpdate:modelValue":e[5]||(e[5]=l=>i.groupBy=l),class:"w-full px-4 py-2 border rounded-md"},e[11]||(e[11]=[u("option",{value:"mes"},"Mês",-1),u("option",{value:"semana"},"Semana",-1),u("option",{value:"dia"},"Dia",-1)]),512),[[Mt,i.groupBy]])])])]),u("div",rO,[u("button",{onClick:e[6]||(e[6]=(...l)=>o.fetchRevenue&&o.fetchRevenue(...l)),class:"btn"},"Aplicar")])]),u("section",aO,[u("div",lO,[u("table",cO,[e[15]||(e[15]=u("thead",{class:"bg-gray-50"},[u("tr",null,[u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Período"),u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Faturamento")])],-1)),u("tbody",null,[(v(!0),k(J,null,pe(i.revenueData,l=>(v(),k("tr",{key:l.label,class:"border-b last:border-b-0"},[u("td",dO,P(l.label),1),u("td",uO,P(o.formatPrice(l.total)),1)]))),128)),i.revenueData.length===0?(v(),k("tr",hO,e[14]||(e[14]=[u("td",{colspan:"2",class:"px-4 py-6 text-center text-gray-500"},"Nenhum dado",-1)]))):W("",!0)])])]),u("div",fO,[u("canvas",pO,null,512)])])])])}const gO=me(YT,[["render",mO]]),bO={name:"Faq",components:{Navbar:zt,Footer:Ht},data(){return{faqs:[{question:"Como me cadastro?",answer:'Clique em "Cadastre-se" no menu e preencha o formulário.'},{question:"Posso cancelar a qualquer momento?",answer:"Sim, você pode cancelar seu plano a hora que quiser sem taxas adicionais."},{question:"Como entro em contato com o suporte?",answer:"Utilize a página de contato para nos enviar sua mensagem."}]}}},yO={class:"min-h-screen flex flex-col bg-gray-100"},xO={class:"flex-1 max-w-3xl mx-auto p-8"},_O={class:"space-y-6"},vO={class:"font-semibold text-blue-600 mb-2"},wO={class:"text-gray-700"};function kO(t,e,s,n,i,o){const r=H("Navbar"),a=H("Footer");return v(),k(J,null,[D(r),u("div",yO,[u("main",xO,[e[0]||(e[0]=u("h1",{class:"text-3xl font-bold text-center mb-8"},"Perguntas Frequentes",-1)),u("div",_O,[(v(!0),k(J,null,pe(i.faqs,(l,c)=>(v(),k("div",{key:c,class:"bg-white p-6 rounded-lg shadow"},[u("h2",vO,P(l.question),1),u("p",wO,P(l.answer),1)]))),128))])]),D(a)])],64)}const SO=me(bO,[["render",kO]]),CO={name:"PoliticaPrivacidade",components:{Navbar:zt,Footer:Ht}};function MO(t,e,s,n,i,o){const r=H("Navbar"),a=H("Footer");return v(),k(J,null,[D(r),e[0]||(e[0]=u("section",{class:"max-w-3xl mx-auto px-4 py-16 space-y-4"},[u("h1",{class:"text-3xl font-bold text-center mb-4"},"Política de Privacidade"),u("p",null,"Esta política descreve como tratamos seus dados pessoais e garante a transparência sobre o uso das suas informações."),u("p",null,"Utilizamos seus dados apenas para prover nossos serviços de agendamento e nunca os compartilhamos com terceiros sem consentimento."),u("p",null,"Ao utilizar o Agenda Zen você concorda com esta política. Em caso de dúvidas entre em contato conosco.")],-1)),D(a)],64)}const AO=me(CO,[["render",MO]]),PO={name:"TermosDeUso",components:{Navbar:zt,Footer:Ht}};function TO(t,e,s,n,i,o){const r=H("Navbar"),a=H("Footer");return v(),k(J,null,[D(r),e[0]||(e[0]=u("section",{class:"max-w-3xl mx-auto px-4 py-16 space-y-4"},[u("h1",{class:"text-3xl font-bold text-center mb-4"},"Termos de Uso"),u("p",null,"Estes termos definem as regras para utilização da plataforma Agenda Zen. Ao criar uma conta você concorda em segui-los."),u("p",null,"O serviço deve ser utilizado apenas para atividades lícitas e em conformidade com a legislação vigente. Contas que violem estas condições poderão ser suspensas."),u("p",null,"Podemos atualizar estes termos periodicamente. Avisaremos sobre mudanças importantes diretamente no site.")],-1)),D(a)],64)}const OO=me(PO,[["render",TO]]),EO="/icons/visa.svg",DO="/icons/mastercard.svg",IO="/icons/amex.svg",RO="/icons/elo.svg",LO="/logo_pix.png",FO={name:"PagamentoPlus",components:{Sidebar:At,HeaderUser:Pt},data(){return{sidebarOpen:window.innerWidth>=768,activeTab:"cartao",card:{name:"",number:"",expiry:"",cvv:"",document:""},billing:{cep:"",street:"",number:"",complement:"",neighborhood:"",city:"",state:""},pixCode:"000201010212..."}}},jO={class:"min-h-screen flex bg-gray-100 relative"},UO={class:"flex-1 p-8 space-y-6"},NO={key:0,class:"flex items-center mb-4"},$O={class:"mb-6 space-x-2"},BO={key:1,class:"space-y-6 max-w-3xl"},VO={class:"grid grid-cols-2 gap-4"},zO={class:"space-y-4 mt-4"},HO={class:"grid grid-cols-2 gap-4"},WO={class:"grid grid-cols-2 gap-4"},qO={key:2,class:"space-y-6 max-w-3xl"},KO={class:"text-center space-y-4"};function GO(t,e,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser");return v(),k("div",jO,[D(r,{"is-open":i.sidebarOpen,onClose:e[0]||(e[0]=l=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",UO,[i.sidebarOpen?W("",!0):(v(),k("div",NO,[u("button",{onClick:e[1]||(e[1]=l=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},e[17]||(e[17]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),D(a,{title:"Pagamento"}),u("nav",$O,[u("button",{onClick:e[2]||(e[2]=l=>i.activeTab="cartao"),class:bt([i.activeTab==="cartao"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700","px-4 py-2 rounded-l"])},"Cartão de Crédito",2),u("button",{onClick:e[3]||(e[3]=l=>i.activeTab="pix"),class:bt([i.activeTab==="pix"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700","px-4 py-2 rounded-r"])},"Pix",2)]),i.activeTab==="cartao"?(v(),k("section",BO,[e[31]||(e[31]=ln('<div class="flex justify-center space-x-2 mb-4"><img src="'+EO+'" alt="Visa" class="h-8"><img src="'+DO+'" alt="Mastercard" class="h-8"><img src="'+IO+'" alt="American Express" class="h-8"><img src="'+RO+'" alt="Elo" class="h-8"></div>',1)),u("div",null,[e[18]||(e[18]=u("label",{class:"block text-sm font-medium text-gray-700"},"Nome (igual no cartão)",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=l=>i.card.name=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.card.name]])]),u("div",null,[e[19]||(e[19]=u("label",{class:"block text-sm font-medium text-gray-700"},"Número do cartão",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=l=>i.card.number=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.card.number]])]),u("div",VO,[u("div",null,[e[20]||(e[20]=u("label",{class:"block text-sm font-medium text-gray-700"},"Validade (MM/AA)",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=l=>i.card.expiry=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.card.expiry]])]),u("div",null,[e[21]||(e[21]=u("label",{class:"block text-sm font-medium text-gray-700"},"Código de Segurança (CVV)",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=l=>i.card.cvv=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.card.cvv]])])]),u("div",null,[e[22]||(e[22]=u("label",{class:"block text-sm font-medium text-gray-700"},"CPF/CNPJ",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=l=>i.card.document=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.card.document]])]),u("div",zO,[e[30]||(e[30]=u("h3",{class:"text-md font-semibold"},"Endereço de cobrança",-1)),u("div",null,[e[23]||(e[23]=u("label",{class:"block text-sm font-medium text-gray-700"},"CEP",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[9]||(e[9]=l=>i.billing.cep=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.billing.cep]])]),u("div",null,[e[24]||(e[24]=u("label",{class:"block text-sm font-medium text-gray-700"},"Rua",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[10]||(e[10]=l=>i.billing.street=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.billing.street]])]),u("div",HO,[u("div",null,[e[25]||(e[25]=u("label",{class:"block text-sm font-medium text-gray-700"},"Número",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[11]||(e[11]=l=>i.billing.number=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.billing.number]])]),u("div",null,[e[26]||(e[26]=u("label",{class:"block text-sm font-medium text-gray-700"},"Complemento",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[12]||(e[12]=l=>i.billing.complement=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.billing.complement]])])]),u("div",null,[e[27]||(e[27]=u("label",{class:"block text-sm font-medium text-gray-700"},"Bairro",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[13]||(e[13]=l=>i.billing.neighborhood=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.billing.neighborhood]])]),u("div",WO,[u("div",null,[e[28]||(e[28]=u("label",{class:"block text-sm font-medium text-gray-700"},"Cidade",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[14]||(e[14]=l=>i.billing.city=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.billing.city]])]),u("div",null,[e[29]||(e[29]=u("label",{class:"block text-sm font-medium text-gray-700"},"Estado",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[15]||(e[15]=l=>i.billing.state=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.billing.state]])])])]),e[32]||(e[32]=u("div",{class:"text-right mt-4"},[u("button",{class:"btn"},"Pagar")],-1))])):W("",!0),i.activeTab==="pix"?(v(),k("section",qO,[u("div",KO,[e[33]||(e[33]=u("img",{src:LO,alt:"Logo Pix",class:"mx-auto w-[17.6rem] h-auto"},null,-1)),e[34]||(e[34]=u("p",{class:"font-semibold"},"Código de pagamento",-1)),e[35]||(e[35]=u("p",null,"Copie e cole o código abaixo no app da sua instituição financeira para finalizar a compra.",-1)),e[36]||(e[36]=u("p",{class:"font-semibold"},"Valor do pagamento",-1)),e[37]||(e[37]=u("p",{class:"text-lg font-semibold"},"R$ 67,00",-1)),O(u("input",{type:"text","onUpdate:modelValue":e[16]||(e[16]=l=>i.pixCode=l),readonly:"",class:"w-full px-4 py-2 border rounded-md text-center"},null,512),[[j,i.pixCode]])])])):W("",!0)])])}const YO=me(FO,[["render",GO]]),JO={name:"Confirmacao",components:{Navbar:zt,Footer:Ht}},XO={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 px-4"},QO={class:"bg-white p-10 rounded-2xl shadow-xl w-full max-w-lg text-center space-y-6"},ZO={class:"flex justify-center space-x-4"};function eE(t,e,s,n,i,o){const r=H("Navbar"),a=H("router-link"),l=H("Footer");return v(),k(J,null,[D(r),u("section",XO,[u("div",QO,[e[2]||(e[2]=u("img",{src:rs,alt:"Sucesso",class:"w-16 h-16 mx-auto text-green-500"},null,-1)),e[3]||(e[3]=u("h1",{class:"text-2xl font-bold text-green-600"},"Cadastro efetuado com sucesso",-1)),u("div",ZO,[D(a,{to:"/",class:"btn inline-block"},{default:se(()=>e[0]||(e[0]=[ee("Início")])),_:1,__:[0]}),D(a,{to:"/login",class:"btn inline-block"},{default:se(()=>e[1]||(e[1]=[ee("Login")])),_:1,__:[1]})])])]),D(l)],64)}const tE=me(JO,[["render",eE]]),sE="/icons/error.svg",nE={name:"LinkExpirado",components:{Navbar:zt,Footer:Ht},data(){return{email:""}},methods:{async reenviarLink(){if(!ss(this.email)){alert("E-mail inválido");return}const{error:t}=await N.auth.resend({type:"signup",email:this.email});alert(t?"Erro ao reenviar link: "+t.message:"Link reenviado! Verifique seu e-mail.")}}},iE={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 px-4"},oE={class:"bg-white p-10 rounded-2xl shadow-xl w-full max-w-lg text-center space-y-6"},rE={class:"flex justify-center space-x-4"};function aE(t,e,s,n,i,o){const r=H("Navbar"),a=H("router-link"),l=H("Footer");return v(),k(J,null,[D(r),u("section",iE,[u("div",oE,[e[3]||(e[3]=u("img",{src:sE,alt:"Erro",class:"w-16 h-16 mx-auto text-red-500"},null,-1)),e[4]||(e[4]=u("h1",{class:"text-2xl font-bold text-red-600"},"Link expirado ou inválido",-1)),e[5]||(e[5]=u("p",{class:"text-gray-700"},"Informe seu e-mail para receber um novo link de confirmação.",-1)),O(u("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>i.email=c),type:"email",placeholder:"seu@email.com",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[j,i.email]]),u("div",rE,[u("button",{onClick:e[1]||(e[1]=(...c)=>o.reenviarLink&&o.reenviarLink(...c)),class:"btn"},"Reenviar link"),D(a,{to:"/",class:"btn"},{default:se(()=>e[2]||(e[2]=[ee("Início")])),_:1,__:[2]})])])]),D(l)],64)}const lE=me(nE,[["render",aE]]),cE=[{path:"/",name:"Home",component:g0},{path:"/cadastro",name:"Signup",component:$x},{path:"/confirmacao",name:"Confirmacao",component:tE},{path:"/link-expirado",name:"LinkExpirado",component:lE},{path:"/login",name:"Login",component:Kx},{path:"/onboarding",name:"Onboarding",component:c_},{path:"/dashboard",name:"Dashboard",component:SS},{path:"/configuracao",name:"Configuracao",component:zS},{path:"/clientes",name:"Clientes",component:TC},{path:"/servicos",name:"Servicos",component:XM},{path:"/salas",name:"Salas",component:RP},{path:"/agendamentos",name:"Agendamentos",component:MM},{path:"/comprovantes",name:"Comprovantes",component:sT},{path:"/templates",name:"Templates",component:DT},{path:"/usuarios",name:"Usuarios",component:_A},{path:"/minha-assinatura",name:"MinhaAssinatura",component:GT},{path:"/assinatura-plus",name:"PagamentoPlus",component:YO},{path:"/faturamento",name:"Faturamento",component:gO},{path:"/buscar",name:"SearchProfiles",component:EA},{path:"/planos",name:"Planos",component:uP},{path:"/contato",name:"Contato",component:NT},{path:"/faq",name:"Faq",component:SO},{path:"/politica-de-privacidade",name:"PoliticaDePrivacidade",component:AO},{path:"/termos-de-uso",name:"TermosDeUso",component:OO},{path:"/atendimento/:id",name:"Atendimento",component:xT},{path:"/:slug",name:"PublicPage",component:rP}],Vi=Nb({history:pb(),routes:cE});Vi.afterEach(t=>{window.gtag&&window.gtag("config","G-XXXXXXXXXX",{page_path:t.fullPath})});const dE=async()=>{var s;const t=window.location.hash.replace(/^#\/?/,""),e=new URLSearchParams(t);if(e.get("error_code")==="otp_expired"||(s=e.get("error_description"))!=null&&s.includes("Email link is invalid")){Vi.replace("/link-expirado");return}if(window.location.hash.includes("access_token")&&window.location.hash.includes("type=signup")){const n=e.get("access_token"),i=e.get("refresh_token");if(n&&i)try{await N.auth.setSession({access_token:n,refresh_token:i}),Vi.replace("/confirmacao")}catch{}}};dE();N.auth.onAuthStateChange(t=>{t==="SIGNED_IN"&&window.location.hash.includes("access_token")&&window.location.hash.includes("type=signup")&&Vi.replace("/confirmacao")});Ag(Fg).use(Vi).mount("#app");export{hE as g};
