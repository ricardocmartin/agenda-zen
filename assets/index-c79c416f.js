var ap=Object.defineProperty;var lp=(e,t,s)=>t in e?ap(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var B=(e,t,s)=>(lp(e,typeof t!="symbol"?t+"":t,s),s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();/**
* @vue/shared v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function za(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const Pt={},kn=[],Ue=()=>{},cp=()=>!1,tr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Ha=e=>e.startsWith("onUpdate:"),Yt=Object.assign,Wa=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},dp=Object.prototype.hasOwnProperty,St=(e,t)=>dp.call(e,t),nt=Array.isArray,Sn=e=>zi(e)==="[object Map]",Bn=e=>zi(e)==="[object Set]",Ll=e=>zi(e)==="[object Date]",ct=e=>typeof e=="function",Ht=e=>typeof e=="string",Be=e=>typeof e=="symbol",Rt=e=>e!==null&&typeof e=="object",fu=e=>(Rt(e)||ct(e))&&ct(e.then)&&ct(e.catch),pu=Object.prototype.toString,zi=e=>pu.call(e),up=e=>zi(e).slice(8,-1),mu=e=>zi(e)==="[object Object]",qa=e=>Ht(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ci=za(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),er=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},hp=/-(\w)/g,De=er(e=>e.replace(hp,(t,s)=>s?s.toUpperCase():"")),fp=/\B([A-Z])/g,un=er(e=>e.replace(fp,"-$1").toLowerCase()),sr=er(e=>e.charAt(0).toUpperCase()+e.slice(1)),Mr=er(e=>e?`on${sr(e)}`:""),js=(e,t)=>!Object.is(e,t),_o=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},gu=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},Fo=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Fl;const nr=()=>Fl||(Fl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ir(e){if(nt(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],i=Ht(n)?bp(n):ir(n);if(i)for(const o in i)t[o]=i[o]}return t}else if(Ht(e)||Rt(e))return e}const pp=/;(?![^(]*\))/g,mp=/:([^]+)/,gp=/\/\*[^]*?\*\//g;function bp(e){const t={};return e.replace(gp,"").split(pp).forEach(s=>{if(s){const n=s.split(mp);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function be(e){let t="";if(Ht(e))t=e;else if(nt(e))for(let s=0;s<e.length;s++){const n=be(e[s]);n&&(t+=n+" ")}else if(Rt(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const yp="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",xp=za(yp);function bu(e){return!!e||e===""}function vp(e,t){if(e.length!==t.length)return!1;let s=!0;for(let n=0;s&&n<e.length;n++)s=Hi(e[n],t[n]);return s}function Hi(e,t){if(e===t)return!0;let s=Ll(e),n=Ll(t);if(s||n)return s&&n?e.getTime()===t.getTime():!1;if(s=Be(e),n=Be(t),s||n)return e===t;if(s=nt(e),n=nt(t),s||n)return s&&n?vp(e,t):!1;if(s=Rt(e),n=Rt(t),s||n){if(!s||!n)return!1;const i=Object.keys(e).length,o=Object.keys(t).length;if(i!==o)return!1;for(const r in e){const a=e.hasOwnProperty(r),l=t.hasOwnProperty(r);if(a&&!l||!a&&l||!Hi(e[r],t[r]))return!1}}return String(e)===String(t)}function Ka(e,t){return e.findIndex(s=>Hi(s,t))}const yu=e=>!!(e&&e.__v_isRef===!0),P=e=>Ht(e)?e:e==null?"":nt(e)||Rt(e)&&(e.toString===pu||!ct(e.toString))?yu(e)?P(e.value):JSON.stringify(e,xu,2):String(e),xu=(e,t)=>yu(t)?xu(e,t.value):Sn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,i],o)=>(s[Ar(n,o)+" =>"]=i,s),{})}:Bn(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Ar(s))}:Be(t)?Ar(t):Rt(t)&&!nt(t)&&!mu(t)?String(t):t,Ar=(e,t="")=>{var s;return Be(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let pe;class _p{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=pe,!t&&pe&&(this.index=(pe.scopes||(pe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=pe;try{return pe=this,t()}finally{pe=s}}}on(){++this._on===1&&(this.prevScope=pe,pe=this)}off(){this._on>0&&--this._on===0&&(pe=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function wp(){return pe}let Dt;const Pr=new WeakSet;class vu{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,pe&&pe.active&&pe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Pr.has(this)&&(Pr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||wu(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,jl(this),ku(this);const t=Dt,s=Ne;Dt=this,Ne=!0;try{return this.fn()}finally{Su(this),Dt=t,Ne=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Ja(t);this.deps=this.depsTail=void 0,jl(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Pr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){oa(this)&&this.run()}get dirty(){return oa(this)}}let _u=0,di,ui;function wu(e,t=!1){if(e.flags|=8,t){e.next=ui,ui=e;return}e.next=di,di=e}function Ga(){_u++}function Ya(){if(--_u>0)return;if(ui){let t=ui;for(ui=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;di;){let t=di;for(di=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function ku(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Su(e){let t,s=e.depsTail,n=s;for(;n;){const i=n.prevDep;n.version===-1?(n===s&&(s=i),Ja(n),kp(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}e.deps=t,e.depsTail=s}function oa(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Cu(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Cu(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Si)||(e.globalVersion=Si,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!oa(e))))return;e.flags|=2;const t=e.dep,s=Dt,n=Ne;Dt=e,Ne=!0;try{ku(e);const i=e.fn(e._value);(t.version===0||js(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{Dt=s,Ne=n,Su(e),e.flags&=-3}}function Ja(e,t=!1){const{dep:s,prevSub:n,nextSub:i}=e;if(n&&(n.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let o=s.computed.deps;o;o=o.nextDep)Ja(o,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function kp(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let Ne=!0;const Mu=[];function xs(){Mu.push(Ne),Ne=!1}function vs(){const e=Mu.pop();Ne=e===void 0?!0:e}function jl(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Dt;Dt=void 0;try{t()}finally{Dt=s}}}let Si=0;class Sp{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Xa{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Dt||!Ne||Dt===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Dt)s=this.activeLink=new Sp(Dt,this),Dt.deps?(s.prevDep=Dt.depsTail,Dt.depsTail.nextDep=s,Dt.depsTail=s):Dt.deps=Dt.depsTail=s,Au(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=Dt.depsTail,s.nextDep=void 0,Dt.depsTail.nextDep=s,Dt.depsTail=s,Dt.deps===s&&(Dt.deps=n)}return s}trigger(t){this.version++,Si++,this.notify(t)}notify(t){Ga();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Ya()}}}function Au(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)Au(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const ra=new WeakMap,on=Symbol(""),aa=Symbol(""),Ci=Symbol("");function te(e,t,s){if(Ne&&Dt){let n=ra.get(e);n||ra.set(e,n=new Map);let i=n.get(s);i||(n.set(s,i=new Xa),i.map=n,i.key=s),i.track()}}function hs(e,t,s,n,i,o){const r=ra.get(e);if(!r){Si++;return}const a=l=>{l&&l.trigger()};if(Ga(),t==="clear")r.forEach(a);else{const l=nt(e),c=l&&qa(s);if(l&&s==="length"){const d=Number(n);r.forEach((h,f)=>{(f==="length"||f===Ci||!Be(f)&&f>=d)&&a(h)})}else switch((s!==void 0||r.has(void 0))&&a(r.get(s)),c&&a(r.get(Ci)),t){case"add":l?c&&a(r.get("length")):(a(r.get(on)),Sn(e)&&a(r.get(aa)));break;case"delete":l||(a(r.get(on)),Sn(e)&&a(r.get(aa)));break;case"set":Sn(e)&&a(r.get(on));break}}Ya()}function pn(e){const t=kt(e);return t===e?t:(te(t,"iterate",Ci),Ee(e)?t:t.map(Jt))}function or(e){return te(e=kt(e),"iterate",Ci),e}const Cp={__proto__:null,[Symbol.iterator](){return Tr(this,Symbol.iterator,Jt)},concat(...e){return pn(this).concat(...e.map(t=>nt(t)?pn(t):t))},entries(){return Tr(this,"entries",e=>(e[1]=Jt(e[1]),e))},every(e,t){return ns(this,"every",e,t,void 0,arguments)},filter(e,t){return ns(this,"filter",e,t,s=>s.map(Jt),arguments)},find(e,t){return ns(this,"find",e,t,Jt,arguments)},findIndex(e,t){return ns(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return ns(this,"findLast",e,t,Jt,arguments)},findLastIndex(e,t){return ns(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return ns(this,"forEach",e,t,void 0,arguments)},includes(...e){return Or(this,"includes",e)},indexOf(...e){return Or(this,"indexOf",e)},join(e){return pn(this).join(e)},lastIndexOf(...e){return Or(this,"lastIndexOf",e)},map(e,t){return ns(this,"map",e,t,void 0,arguments)},pop(){return Wn(this,"pop")},push(...e){return Wn(this,"push",e)},reduce(e,...t){return Ul(this,"reduce",e,t)},reduceRight(e,...t){return Ul(this,"reduceRight",e,t)},shift(){return Wn(this,"shift")},some(e,t){return ns(this,"some",e,t,void 0,arguments)},splice(...e){return Wn(this,"splice",e)},toReversed(){return pn(this).toReversed()},toSorted(e){return pn(this).toSorted(e)},toSpliced(...e){return pn(this).toSpliced(...e)},unshift(...e){return Wn(this,"unshift",e)},values(){return Tr(this,"values",Jt)}};function Tr(e,t,s){const n=or(e),i=n[t]();return n!==e&&!Ee(e)&&(i._next=i.next,i.next=()=>{const o=i._next();return o.value&&(o.value=s(o.value)),o}),i}const Mp=Array.prototype;function ns(e,t,s,n,i,o){const r=or(e),a=r!==e&&!Ee(e),l=r[t];if(l!==Mp[t]){const h=l.apply(e,o);return a?Jt(h):h}let c=s;r!==e&&(a?c=function(h,f){return s.call(this,Jt(h),f,e)}:s.length>2&&(c=function(h,f){return s.call(this,h,f,e)}));const d=l.call(r,c,n);return a&&i?i(d):d}function Ul(e,t,s,n){const i=or(e);let o=s;return i!==e&&(Ee(e)?s.length>3&&(o=function(r,a,l){return s.call(this,r,a,l,e)}):o=function(r,a,l){return s.call(this,r,Jt(a),l,e)}),i[t](o,...n)}function Or(e,t,s){const n=kt(e);te(n,"iterate",Ci);const i=n[t](...s);return(i===-1||i===!1)&&tl(s[0])?(s[0]=kt(s[0]),n[t](...s)):i}function Wn(e,t,s=[]){xs(),Ga();const n=kt(e)[t].apply(e,s);return Ya(),vs(),n}const Ap=za("__proto__,__v_isRef,__isVue"),Pu=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Be));function Pp(e){Be(e)||(e=String(e));const t=kt(this);return te(t,"has",e),t.hasOwnProperty(e)}class Tu{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const i=this._isReadonly,o=this._isShallow;if(s==="__v_isReactive")return!i;if(s==="__v_isReadonly")return i;if(s==="__v_isShallow")return o;if(s==="__v_raw")return n===(i?o?Up:Iu:o?Du:Eu).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const r=nt(t);if(!i){let l;if(r&&(l=Cp[s]))return l;if(s==="hasOwnProperty")return Pp}const a=Reflect.get(t,s,ne(t)?t:n);return(Be(s)?Pu.has(s):Ap(s))||(i||te(t,"get",s),o)?a:ne(a)?r&&qa(s)?a:a.value:Rt(a)?i?Lu(a):rr(a):a}}class Ou extends Tu{constructor(t=!1){super(!1,t)}set(t,s,n,i){let o=t[s];if(!this._isShallow){const l=Ns(o);if(!Ee(n)&&!Ns(n)&&(o=kt(o),n=kt(n)),!nt(t)&&ne(o)&&!ne(n))return l?!1:(o.value=n,!0)}const r=nt(t)&&qa(s)?Number(s)<t.length:St(t,s),a=Reflect.set(t,s,n,ne(t)?t:i);return t===kt(i)&&(r?js(n,o)&&hs(t,"set",s,n):hs(t,"add",s,n)),a}deleteProperty(t,s){const n=St(t,s);t[s];const i=Reflect.deleteProperty(t,s);return i&&n&&hs(t,"delete",s,void 0),i}has(t,s){const n=Reflect.has(t,s);return(!Be(s)||!Pu.has(s))&&te(t,"has",s),n}ownKeys(t){return te(t,"iterate",nt(t)?"length":on),Reflect.ownKeys(t)}}class Tp extends Tu{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Op=new Ou,Ep=new Tp,Dp=new Ou(!0);const la=e=>e,Qi=e=>Reflect.getPrototypeOf(e);function Ip(e,t,s){return function(...n){const i=this.__v_raw,o=kt(i),r=Sn(o),a=e==="entries"||e===Symbol.iterator&&r,l=e==="keys"&&r,c=i[e](...n),d=s?la:t?jo:Jt;return!t&&te(o,"iterate",l?aa:on),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[d(h[0]),d(h[1])]:d(h),done:f}},[Symbol.iterator](){return this}}}}function Zi(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Rp(e,t){const s={get(i){const o=this.__v_raw,r=kt(o),a=kt(i);e||(js(i,a)&&te(r,"get",i),te(r,"get",a));const{has:l}=Qi(r),c=t?la:e?jo:Jt;if(l.call(r,i))return c(o.get(i));if(l.call(r,a))return c(o.get(a));o!==r&&o.get(i)},get size(){const i=this.__v_raw;return!e&&te(kt(i),"iterate",on),Reflect.get(i,"size",i)},has(i){const o=this.__v_raw,r=kt(o),a=kt(i);return e||(js(i,a)&&te(r,"has",i),te(r,"has",a)),i===a?o.has(i):o.has(i)||o.has(a)},forEach(i,o){const r=this,a=r.__v_raw,l=kt(a),c=t?la:e?jo:Jt;return!e&&te(l,"iterate",on),a.forEach((d,h)=>i.call(o,c(d),c(h),r))}};return Yt(s,e?{add:Zi("add"),set:Zi("set"),delete:Zi("delete"),clear:Zi("clear")}:{add(i){!t&&!Ee(i)&&!Ns(i)&&(i=kt(i));const o=kt(this);return Qi(o).has.call(o,i)||(o.add(i),hs(o,"add",i,i)),this},set(i,o){!t&&!Ee(o)&&!Ns(o)&&(o=kt(o));const r=kt(this),{has:a,get:l}=Qi(r);let c=a.call(r,i);c||(i=kt(i),c=a.call(r,i));const d=l.call(r,i);return r.set(i,o),c?js(o,d)&&hs(r,"set",i,o):hs(r,"add",i,o),this},delete(i){const o=kt(this),{has:r,get:a}=Qi(o);let l=r.call(o,i);l||(i=kt(i),l=r.call(o,i)),a&&a.call(o,i);const c=o.delete(i);return l&&hs(o,"delete",i,void 0),c},clear(){const i=kt(this),o=i.size!==0,r=i.clear();return o&&hs(i,"clear",void 0,void 0),r}}),["keys","values","entries",Symbol.iterator].forEach(i=>{s[i]=Ip(i,e,t)}),s}function Qa(e,t){const s=Rp(e,t);return(n,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(St(s,i)&&i in n?s:n,i,o)}const Lp={get:Qa(!1,!1)},Fp={get:Qa(!1,!0)},jp={get:Qa(!0,!1)};const Eu=new WeakMap,Du=new WeakMap,Iu=new WeakMap,Up=new WeakMap;function Np(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function $p(e){return e.__v_skip||!Object.isExtensible(e)?0:Np(up(e))}function rr(e){return Ns(e)?e:Za(e,!1,Op,Lp,Eu)}function Ru(e){return Za(e,!1,Dp,Fp,Du)}function Lu(e){return Za(e,!0,Ep,jp,Iu)}function Za(e,t,s,n,i){if(!Rt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=$p(e);if(o===0)return e;const r=i.get(e);if(r)return r;const a=new Proxy(e,o===2?n:s);return i.set(e,a),a}function Cn(e){return Ns(e)?Cn(e.__v_raw):!!(e&&e.__v_isReactive)}function Ns(e){return!!(e&&e.__v_isReadonly)}function Ee(e){return!!(e&&e.__v_isShallow)}function tl(e){return e?!!e.__v_raw:!1}function kt(e){const t=e&&e.__v_raw;return t?kt(t):e}function Bp(e){return!St(e,"__v_skip")&&Object.isExtensible(e)&&gu(e,"__v_skip",!0),e}const Jt=e=>Rt(e)?rr(e):e,jo=e=>Rt(e)?Lu(e):e;function ne(e){return e?e.__v_isRef===!0:!1}function Vp(e){return Fu(e,!1)}function zp(e){return Fu(e,!0)}function Fu(e,t){return ne(e)?e:new Hp(e,t)}class Hp{constructor(t,s){this.dep=new Xa,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:kt(t),this._value=s?t:Jt(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||Ee(t)||Ns(t);t=n?t:kt(t),js(t,s)&&(this._rawValue=t,this._value=n?t:Jt(t),this.dep.trigger())}}function Mn(e){return ne(e)?e.value:e}const Wp={get:(e,t,s)=>t==="__v_raw"?e:Mn(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const i=e[t];return ne(i)&&!ne(s)?(i.value=s,!0):Reflect.set(e,t,s,n)}};function ju(e){return Cn(e)?e:new Proxy(e,Wp)}class qp{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Xa(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Si-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Dt!==this)return wu(this,!0),!0}get value(){const t=this.dep.track();return Cu(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Kp(e,t,s=!1){let n,i;return ct(e)?n=e:(n=e.get,i=e.set),new qp(n,i,s)}const to={},Uo=new WeakMap;let Qs;function Gp(e,t=!1,s=Qs){if(s){let n=Uo.get(s);n||Uo.set(s,n=[]),n.push(e)}}function Yp(e,t,s=Pt){const{immediate:n,deep:i,once:o,scheduler:r,augmentJob:a,call:l}=s,c=S=>i?S:Ee(S)||i===!1||i===0?fs(S,1):fs(S);let d,h,f,p,m=!1,g=!1;if(ne(e)?(h=()=>e.value,m=Ee(e)):Cn(e)?(h=()=>c(e),m=!0):nt(e)?(g=!0,m=e.some(S=>Cn(S)||Ee(S)),h=()=>e.map(S=>{if(ne(S))return S.value;if(Cn(S))return c(S);if(ct(S))return l?l(S,2):S()})):ct(e)?t?h=l?()=>l(e,2):e:h=()=>{if(f){xs();try{f()}finally{vs()}}const S=Qs;Qs=d;try{return l?l(e,3,[p]):e(p)}finally{Qs=S}}:h=Ue,t&&i){const S=h,M=i===!0?1/0:i;h=()=>fs(S(),M)}const b=wp(),v=()=>{d.stop(),b&&b.active&&Wa(b.effects,d)};if(o&&t){const S=t;t=(...M)=>{S(...M),v()}}let w=g?new Array(e.length).fill(to):to;const C=S=>{if(!(!(d.flags&1)||!d.dirty&&!S))if(t){const M=d.run();if(i||m||(g?M.some((L,I)=>js(L,w[I])):js(M,w))){f&&f();const L=Qs;Qs=d;try{const I=[M,w===to?void 0:g&&w[0]===to?[]:w,p];l?l(t,3,I):t(...I),w=M}finally{Qs=L}}}else d.run()};return a&&a(C),d=new vu(h),d.scheduler=r?()=>r(C,!1):C,p=S=>Gp(S,!1,d),f=d.onStop=()=>{const S=Uo.get(d);if(S){if(l)l(S,4);else for(const M of S)M();Uo.delete(d)}},t?n?C(!0):w=d.run():r?r(C.bind(null,!0),!0):d.run(),v.pause=d.pause.bind(d),v.resume=d.resume.bind(d),v.stop=v,v}function fs(e,t=1/0,s){if(t<=0||!Rt(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,ne(e))fs(e.value,t,s);else if(nt(e))for(let n=0;n<e.length;n++)fs(e[n],t,s);else if(Bn(e)||Sn(e))e.forEach(n=>{fs(n,t,s)});else if(mu(e)){for(const n in e)fs(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&fs(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Wi(e,t,s,n){try{return n?e(...n):e()}catch(i){ar(i,t,s)}}function es(e,t,s,n){if(ct(e)){const i=Wi(e,t,s,n);return i&&fu(i)&&i.catch(o=>{ar(o,t,s)}),i}if(nt(e)){const i=[];for(let o=0;o<e.length;o++)i.push(es(e[o],t,s,n));return i}}function ar(e,t,s,n=!0){const i=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:r}=t&&t.appContext.config||Pt;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const d=a.ec;if(d){for(let h=0;h<d.length;h++)if(d[h](e,l,c)===!1)return}a=a.parent}if(o){xs(),Wi(o,null,10,[e,l,c]),vs();return}}Jp(e,s,i,n,r)}function Jp(e,t,s,n=!0,i=!1){if(i)throw e;console.error(e)}const ce=[];let Je=-1;const An=[];let As=null,vn=0;const Uu=Promise.resolve();let No=null;function el(e){const t=No||Uu;return e?t.then(this?e.bind(this):e):t}function Xp(e){let t=Je+1,s=ce.length;for(;t<s;){const n=t+s>>>1,i=ce[n],o=Mi(i);o<e||o===e&&i.flags&2?t=n+1:s=n}return t}function sl(e){if(!(e.flags&1)){const t=Mi(e),s=ce[ce.length-1];!s||!(e.flags&2)&&t>=Mi(s)?ce.push(e):ce.splice(Xp(t),0,e),e.flags|=1,Nu()}}function Nu(){No||(No=Uu.then(Bu))}function Qp(e){nt(e)?An.push(...e):As&&e.id===-1?As.splice(vn+1,0,e):e.flags&1||(An.push(e),e.flags|=1),Nu()}function Nl(e,t,s=Je+1){for(;s<ce.length;s++){const n=ce[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;ce.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function $u(e){if(An.length){const t=[...new Set(An)].sort((s,n)=>Mi(s)-Mi(n));if(An.length=0,As){As.push(...t);return}for(As=t,vn=0;vn<As.length;vn++){const s=As[vn];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}As=null,vn=0}}const Mi=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Bu(e){const t=Ue;try{for(Je=0;Je<ce.length;Je++){const s=ce[Je];s&&!(s.flags&8)&&(s.flags&4&&(s.flags&=-2),Wi(s,s.i,s.i?15:14),s.flags&4||(s.flags&=-2))}}finally{for(;Je<ce.length;Je++){const s=ce[Je];s&&(s.flags&=-2)}Je=-1,ce.length=0,$u(),No=null,(ce.length||An.length)&&Bu()}}let Xt=null,Vu=null;function $o(e){const t=Xt;return Xt=e,Vu=e&&e.type.__scopeId||null,t}function st(e,t=Xt,s){if(!t||e._n)return e;const n=(...i)=>{n._d&&Gl(-1);const o=$o(t);let r;try{r=e(...i)}finally{$o(o),n._d&&Gl(1)}return r};return n._n=!0,n._c=!0,n._d=!0,n}function O(e,t){if(Xt===null)return e;const s=ur(Xt),n=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,r,a,l=Pt]=t[i];o&&(ct(o)&&(o={mounted:o,updated:o}),o.deep&&fs(r),n.push({dir:o,instance:s,value:r,oldValue:void 0,arg:a,modifiers:l}))}return e}function Ws(e,t,s,n){const i=e.dirs,o=t&&t.dirs;for(let r=0;r<i.length;r++){const a=i[r];o&&(a.oldValue=o[r].value);let l=a.dir[n];l&&(xs(),es(l,s,8,[e.el,a,e,t]),vs())}}const Zp=Symbol("_vte"),tm=e=>e.__isTeleport;function nl(e,t){e.shapeFlag&6&&e.component?(e.transition=t,nl(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function zu(e,t){return ct(e)?(()=>Yt({name:e.name},t,{setup:e}))():e}function Hu(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Bo(e,t,s,n,i=!1){if(nt(e)){e.forEach((m,g)=>Bo(m,t&&(nt(t)?t[g]:t),s,n,i));return}if(Pn(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Bo(e,t,s,n.component.subTree);return}const o=n.shapeFlag&4?ur(n.component):n.el,r=i?null:o,{i:a,r:l}=e,c=t&&t.r,d=a.refs===Pt?a.refs={}:a.refs,h=a.setupState,f=kt(h),p=h===Pt?()=>!1:m=>St(f,m);if(c!=null&&c!==l&&(Ht(c)?(d[c]=null,p(c)&&(h[c]=null)):ne(c)&&(c.value=null)),ct(l))Wi(l,a,12,[r,d]);else{const m=Ht(l),g=ne(l);if(m||g){const b=()=>{if(e.f){const v=m?p(l)?h[l]:d[l]:l.value;i?nt(v)&&Wa(v,o):nt(v)?v.includes(o)||v.push(o):m?(d[l]=[o],p(l)&&(h[l]=d[l])):(l.value=[o],e.k&&(d[e.k]=l.value))}else m?(d[l]=r,p(l)&&(h[l]=r)):g&&(l.value=r,e.k&&(d[e.k]=r))};r?(b.id=-1,_e(b,s)):b()}}}nr().requestIdleCallback;nr().cancelIdleCallback;const Pn=e=>!!e.type.__asyncLoader,Wu=e=>e.type.__isKeepAlive;function em(e,t){qu(e,"a",t)}function sm(e,t){qu(e,"da",t)}function qu(e,t,s=ee){const n=e.__wdc||(e.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(lr(t,n,s),s){let i=s.parent;for(;i&&i.parent;)Wu(i.parent.vnode)&&nm(n,t,s,i),i=i.parent}}function nm(e,t,s,n){const i=lr(t,e,n,!0);Ku(()=>{Wa(n[t],i)},s)}function lr(e,t,s=ee,n=!1){if(s){const i=s[e]||(s[e]=[]),o=t.__weh||(t.__weh=(...r)=>{xs();const a=qi(s),l=es(t,s,e,r);return a(),vs(),l});return n?i.unshift(o):i.push(o),o}}const ws=e=>(t,s=ee)=>{(!Ti||e==="sp")&&lr(e,(...n)=>t(...n),s)},im=ws("bm"),om=ws("m"),rm=ws("bu"),am=ws("u"),lm=ws("bum"),Ku=ws("um"),cm=ws("sp"),dm=ws("rtg"),um=ws("rtc");function hm(e,t=ee){lr("ec",e,t)}const Gu="components";function H(e,t){return pm(Gu,e,!0,t)||e}const fm=Symbol.for("v-ndc");function pm(e,t,s=!0,n=!1){const i=Xt||ee;if(i){const o=i.type;if(e===Gu){const a=eg(o,!1);if(a&&(a===t||a===De(t)||a===sr(De(t))))return o}const r=$l(i[e]||o[e],t)||$l(i.appContext[e],t);return!r&&n?o:r}}function $l(e,t){return e&&(e[t]||e[De(t)]||e[sr(De(t))])}function pt(e,t,s,n){let i;const o=s&&s[n],r=nt(e);if(r||Ht(e)){const a=r&&Cn(e);let l=!1,c=!1;a&&(l=!Ee(e),c=Ns(e),e=or(e)),i=new Array(e.length);for(let d=0,h=e.length;d<h;d++)i[d]=t(l?c?jo(Jt(e[d])):Jt(e[d]):e[d],d,void 0,o&&o[d])}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,o&&o[a])}else if(Rt(e))if(e[Symbol.iterator])i=Array.from(e,(a,l)=>t(a,l,void 0,o&&o[l]));else{const a=Object.keys(e);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const d=a[l];i[l]=t(e[d],d,l,o&&o[l])}}else i=[];return s&&(s[n]=i),i}function mm(e,t,s={},n,i){if(Xt.ce||Xt.parent&&Pn(Xt.parent)&&Xt.parent.ce)return t!=="default"&&(s.name=t),_(),de(J,null,[D("slot",s,n&&n())],64);let o=e[t];o&&o._c&&(o._d=!1),_();const r=o&&Yu(o(s)),a=s.key||r&&r.key,l=de(J,{key:(a&&!Be(a)?a:`_${t}`)+(!r&&n?"_fb":"")},r||(n?n():[]),r&&e._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function Yu(e){return e.some(t=>Pi(t)?!(t.type===_s||t.type===J&&!Yu(t.children)):!0)?e:null}const ca=e=>e?ph(e)?ur(e):ca(e.parent):null,hi=Yt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ca(e.parent),$root:e=>ca(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>il(e),$forceUpdate:e=>e.f||(e.f=()=>{sl(e.update)}),$nextTick:e=>e.n||(e.n=el.bind(e.proxy)),$watch:e=>Fm.bind(e)}),Er=(e,t)=>e!==Pt&&!e.__isScriptSetup&&St(e,t),gm={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:i,props:o,accessCache:r,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const p=r[t];if(p!==void 0)switch(p){case 1:return n[t];case 2:return i[t];case 4:return s[t];case 3:return o[t]}else{if(Er(n,t))return r[t]=1,n[t];if(i!==Pt&&St(i,t))return r[t]=2,i[t];if((c=e.propsOptions[0])&&St(c,t))return r[t]=3,o[t];if(s!==Pt&&St(s,t))return r[t]=4,s[t];da&&(r[t]=0)}}const d=hi[t];let h,f;if(d)return t==="$attrs"&&te(e.attrs,"get",""),d(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(s!==Pt&&St(s,t))return r[t]=4,s[t];if(f=l.config.globalProperties,St(f,t))return f[t]},set({_:e},t,s){const{data:n,setupState:i,ctx:o}=e;return Er(i,t)?(i[t]=s,!0):n!==Pt&&St(n,t)?(n[t]=s,!0):St(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:i,propsOptions:o}},r){let a;return!!s[r]||e!==Pt&&St(e,r)||Er(t,r)||(a=o[0])&&St(a,r)||St(n,r)||St(hi,r)||St(i.config.globalProperties,r)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:St(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Bl(e){return nt(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let da=!0;function bm(e){const t=il(e),s=e.proxy,n=e.ctx;da=!1,t.beforeCreate&&Vl(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:r,watch:a,provide:l,inject:c,created:d,beforeMount:h,mounted:f,beforeUpdate:p,updated:m,activated:g,deactivated:b,beforeDestroy:v,beforeUnmount:w,destroyed:C,unmounted:S,render:M,renderTracked:L,renderTriggered:I,errorCaptured:$,serverPrefetch:X,expose:it,inheritAttrs:rt,components:dt,directives:At,filters:Wt}=t;if(c&&ym(c,n,null),r)for(const ot in r){const ut=r[ot];ct(ut)&&(n[ot]=ut.bind(s))}if(i){const ot=i.call(s,s);Rt(ot)&&(e.data=rr(ot))}if(da=!0,o)for(const ot in o){const ut=o[ot],Tt=ct(ut)?ut.bind(s,s):ct(ut.get)?ut.get.bind(s,s):Ue,re=!ct(ut)&&ct(ut.set)?ut.set.bind(s):Ue,ae=Fe({get:Tt,set:re});Object.defineProperty(n,ot,{enumerable:!0,configurable:!0,get:()=>ae.value,set:Bt=>ae.value=Bt})}if(a)for(const ot in a)Ju(a[ot],n,s,ot);if(l){const ot=ct(l)?l.call(s):l;Reflect.ownKeys(ot).forEach(ut=>{wo(ut,ot[ut])})}d&&Vl(d,e,"c");function lt(ot,ut){nt(ut)?ut.forEach(Tt=>ot(Tt.bind(s))):ut&&ot(ut.bind(s))}if(lt(im,h),lt(om,f),lt(rm,p),lt(am,m),lt(em,g),lt(sm,b),lt(hm,$),lt(um,L),lt(dm,I),lt(lm,w),lt(Ku,S),lt(cm,X),nt(it))if(it.length){const ot=e.exposed||(e.exposed={});it.forEach(ut=>{Object.defineProperty(ot,ut,{get:()=>s[ut],set:Tt=>s[ut]=Tt})})}else e.exposed||(e.exposed={});M&&e.render===Ue&&(e.render=M),rt!=null&&(e.inheritAttrs=rt),dt&&(e.components=dt),At&&(e.directives=At),X&&Hu(e)}function ym(e,t,s=Ue){nt(e)&&(e=ua(e));for(const n in e){const i=e[n];let o;Rt(i)?"default"in i?o=bs(i.from||n,i.default,!0):o=bs(i.from||n):o=bs(i),ne(o)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:r=>o.value=r}):t[n]=o}}function Vl(e,t,s){es(nt(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function Ju(e,t,s,n){let i=n.includes(".")?ch(s,n):()=>s[n];if(Ht(e)){const o=t[e];ct(o)&&ko(i,o)}else if(ct(e))ko(i,e.bind(s));else if(Rt(e))if(nt(e))e.forEach(o=>Ju(o,t,s,n));else{const o=ct(e.handler)?e.handler.bind(s):t[e.handler];ct(o)&&ko(i,o,e)}}function il(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:r}}=e.appContext,a=o.get(t);let l;return a?l=a:!i.length&&!s&&!n?l=t:(l={},i.length&&i.forEach(c=>Vo(l,c,r,!0)),Vo(l,t,r)),Rt(t)&&o.set(t,l),l}function Vo(e,t,s,n=!1){const{mixins:i,extends:o}=t;o&&Vo(e,o,s,!0),i&&i.forEach(r=>Vo(e,r,s,!0));for(const r in t)if(!(n&&r==="expose")){const a=xm[r]||s&&s[r];e[r]=a?a(e[r],t[r]):t[r]}return e}const xm={data:zl,props:Hl,emits:Hl,methods:ei,computed:ei,beforeCreate:le,created:le,beforeMount:le,mounted:le,beforeUpdate:le,updated:le,beforeDestroy:le,beforeUnmount:le,destroyed:le,unmounted:le,activated:le,deactivated:le,errorCaptured:le,serverPrefetch:le,components:ei,directives:ei,watch:_m,provide:zl,inject:vm};function zl(e,t){return t?e?function(){return Yt(ct(e)?e.call(this,this):e,ct(t)?t.call(this,this):t)}:t:e}function vm(e,t){return ei(ua(e),ua(t))}function ua(e){if(nt(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function le(e,t){return e?[...new Set([].concat(e,t))]:t}function ei(e,t){return e?Yt(Object.create(null),e,t):t}function Hl(e,t){return e?nt(e)&&nt(t)?[...new Set([...e,...t])]:Yt(Object.create(null),Bl(e),Bl(t??{})):t}function _m(e,t){if(!e)return t;if(!t)return e;const s=Yt(Object.create(null),e);for(const n in t)s[n]=le(e[n],t[n]);return s}function Xu(){return{app:null,config:{isNativeTag:cp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let wm=0;function km(e,t){return function(n,i=null){ct(n)||(n=Yt({},n)),i!=null&&!Rt(i)&&(i=null);const o=Xu(),r=new WeakSet,a=[];let l=!1;const c=o.app={_uid:wm++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:ng,get config(){return o.config},set config(d){},use(d,...h){return r.has(d)||(d&&ct(d.install)?(r.add(d),d.install(c,...h)):ct(d)&&(r.add(d),d(c,...h))),c},mixin(d){return o.mixins.includes(d)||o.mixins.push(d),c},component(d,h){return h?(o.components[d]=h,c):o.components[d]},directive(d,h){return h?(o.directives[d]=h,c):o.directives[d]},mount(d,h,f){if(!l){const p=c._ceVNode||D(n,i);return p.appContext=o,f===!0?f="svg":f===!1&&(f=void 0),h&&t?t(p,d):e(p,d,f),l=!0,c._container=d,d.__vue_app__=c,ur(p.component)}},onUnmount(d){a.push(d)},unmount(){l&&(es(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(d,h){return o.provides[d]=h,c},runWithContext(d){const h=Tn;Tn=c;try{return d()}finally{Tn=h}}};return c}}let Tn=null;function wo(e,t){if(ee){let s=ee.provides;const n=ee.parent&&ee.parent.provides;n===s&&(s=ee.provides=Object.create(n)),s[e]=t}}function bs(e,t,s=!1){const n=ee||Xt;if(n||Tn){const i=Tn?Tn._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return s&&ct(t)?t.call(n&&n.proxy):t}}const Qu={},Zu=()=>Object.create(Qu),th=e=>Object.getPrototypeOf(e)===Qu;function Sm(e,t,s,n=!1){const i={},o=Zu();e.propsDefaults=Object.create(null),eh(e,t,i,o);for(const r in e.propsOptions[0])r in i||(i[r]=void 0);s?e.props=n?i:Ru(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function Cm(e,t,s,n){const{props:i,attrs:o,vnode:{patchFlag:r}}=e,a=kt(i),[l]=e.propsOptions;let c=!1;if((n||r>0)&&!(r&16)){if(r&8){const d=e.vnode.dynamicProps;for(let h=0;h<d.length;h++){let f=d[h];if(cr(e.emitsOptions,f))continue;const p=t[f];if(l)if(St(o,f))p!==o[f]&&(o[f]=p,c=!0);else{const m=De(f);i[m]=ha(l,a,m,p,e,!1)}else p!==o[f]&&(o[f]=p,c=!0)}}}else{eh(e,t,i,o)&&(c=!0);let d;for(const h in a)(!t||!St(t,h)&&((d=un(h))===h||!St(t,d)))&&(l?s&&(s[h]!==void 0||s[d]!==void 0)&&(i[h]=ha(l,a,h,void 0,e,!0)):delete i[h]);if(o!==a)for(const h in o)(!t||!St(t,h))&&(delete o[h],c=!0)}c&&hs(e.attrs,"set","")}function eh(e,t,s,n){const[i,o]=e.propsOptions;let r=!1,a;if(t)for(let l in t){if(ci(l))continue;const c=t[l];let d;i&&St(i,d=De(l))?!o||!o.includes(d)?s[d]=c:(a||(a={}))[d]=c:cr(e.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,r=!0)}if(o){const l=kt(s),c=a||Pt;for(let d=0;d<o.length;d++){const h=o[d];s[h]=ha(i,l,h,c[h],e,!St(c,h))}}return r}function ha(e,t,s,n,i,o){const r=e[s];if(r!=null){const a=St(r,"default");if(a&&n===void 0){const l=r.default;if(r.type!==Function&&!r.skipFactory&&ct(l)){const{propsDefaults:c}=i;if(s in c)n=c[s];else{const d=qi(i);n=c[s]=l.call(null,t),d()}}else n=l;i.ce&&i.ce._setProp(s,n)}r[0]&&(o&&!a?n=!1:r[1]&&(n===""||n===un(s))&&(n=!0))}return n}const Mm=new WeakMap;function sh(e,t,s=!1){const n=s?Mm:t.propsCache,i=n.get(e);if(i)return i;const o=e.props,r={},a=[];let l=!1;if(!ct(e)){const d=h=>{l=!0;const[f,p]=sh(h,t,!0);Yt(r,f),p&&a.push(...p)};!s&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!o&&!l)return Rt(e)&&n.set(e,kn),kn;if(nt(o))for(let d=0;d<o.length;d++){const h=De(o[d]);Wl(h)&&(r[h]=Pt)}else if(o)for(const d in o){const h=De(d);if(Wl(h)){const f=o[d],p=r[h]=nt(f)||ct(f)?{type:f}:Yt({},f),m=p.type;let g=!1,b=!0;if(nt(m))for(let v=0;v<m.length;++v){const w=m[v],C=ct(w)&&w.name;if(C==="Boolean"){g=!0;break}else C==="String"&&(b=!1)}else g=ct(m)&&m.name==="Boolean";p[0]=g,p[1]=b,(g||St(p,"default"))&&a.push(h)}}const c=[r,a];return Rt(e)&&n.set(e,c),c}function Wl(e){return e[0]!=="$"&&!ci(e)}const ol=e=>e[0]==="_"||e==="$stable",rl=e=>nt(e)?e.map(Qe):[Qe(e)],Am=(e,t,s)=>{if(t._n)return t;const n=st((...i)=>rl(t(...i)),s);return n._c=!1,n},nh=(e,t,s)=>{const n=e._ctx;for(const i in e){if(ol(i))continue;const o=e[i];if(ct(o))t[i]=Am(i,o,n);else if(o!=null){const r=rl(o);t[i]=()=>r}}},ih=(e,t)=>{const s=rl(t);e.slots.default=()=>s},oh=(e,t,s)=>{for(const n in t)(s||!ol(n))&&(e[n]=t[n])},Pm=(e,t,s)=>{const n=e.slots=Zu();if(e.vnode.shapeFlag&32){const i=t._;i?(oh(n,t,s),s&&gu(n,"_",i,!0)):nh(t,n)}else t&&ih(e,t)},Tm=(e,t,s)=>{const{vnode:n,slots:i}=e;let o=!0,r=Pt;if(n.shapeFlag&32){const a=t._;a?s&&a===1?o=!1:oh(i,t,s):(o=!t.$stable,nh(t,i)),r=t}else t&&(ih(e,t),r={default:1});if(o)for(const a in i)!ol(a)&&r[a]==null&&delete i[a]},_e=zm;function Om(e){return Em(e)}function Em(e,t){const s=nr();s.__VUE__=!0;const{insert:n,remove:i,patchProp:o,createElement:r,createText:a,createComment:l,setText:c,setElementText:d,parentNode:h,nextSibling:f,setScopeId:p=Ue,insertStaticContent:m}=e,g=(y,x,A,R=null,T=null,F=null,q=void 0,z=null,V=!!x.dynamicChildren)=>{if(y===x)return;y&&!qn(y,x)&&(R=E(y),Bt(y,T,F,!0),y=null),x.patchFlag===-2&&(V=!1,x.dynamicChildren=null);const{type:U,ref:et,shapeFlag:G}=x;switch(U){case dr:b(y,x,A,R);break;case _s:v(y,x,A,R);break;case So:y==null&&w(x,A,R,q);break;case J:dt(y,x,A,R,T,F,q,z,V);break;default:G&1?M(y,x,A,R,T,F,q,z,V):G&6?At(y,x,A,R,T,F,q,z,V):(G&64||G&128)&&U.process(y,x,A,R,T,F,q,z,V,Q)}et!=null&&T&&Bo(et,y&&y.ref,F,x||y,!x)},b=(y,x,A,R)=>{if(y==null)n(x.el=a(x.children),A,R);else{const T=x.el=y.el;x.children!==y.children&&c(T,x.children)}},v=(y,x,A,R)=>{y==null?n(x.el=l(x.children||""),A,R):x.el=y.el},w=(y,x,A,R)=>{[y.el,y.anchor]=m(y.children,x,A,R,y.el,y.anchor)},C=({el:y,anchor:x},A,R)=>{let T;for(;y&&y!==x;)T=f(y),n(y,A,R),y=T;n(x,A,R)},S=({el:y,anchor:x})=>{let A;for(;y&&y!==x;)A=f(y),i(y),y=A;i(x)},M=(y,x,A,R,T,F,q,z,V)=>{x.type==="svg"?q="svg":x.type==="math"&&(q="mathml"),y==null?L(x,A,R,T,F,q,z,V):X(y,x,T,F,q,z,V)},L=(y,x,A,R,T,F,q,z)=>{let V,U;const{props:et,shapeFlag:G,transition:Z,dirs:at}=y;if(V=y.el=r(y.type,F,et&&et.is,et),G&8?d(V,y.children):G&16&&$(y.children,V,null,R,T,Dr(y,F),q,z),at&&Ws(y,null,R,"created"),I(V,y,y.scopeId,q,R),et){for(const Ot in et)Ot!=="value"&&!ci(Ot)&&o(V,Ot,null,et[Ot],F,R);"value"in et&&o(V,"value",null,et.value,F),(U=et.onVnodeBeforeMount)&&Ke(U,R,y)}at&&Ws(y,null,R,"beforeMount");const vt=Dm(T,Z);vt&&Z.beforeEnter(V),n(V,x,A),((U=et&&et.onVnodeMounted)||vt||at)&&_e(()=>{U&&Ke(U,R,y),vt&&Z.enter(V),at&&Ws(y,null,R,"mounted")},T)},I=(y,x,A,R,T)=>{if(A&&p(y,A),R)for(let F=0;F<R.length;F++)p(y,R[F]);if(T){let F=T.subTree;if(x===F||uh(F.type)&&(F.ssContent===x||F.ssFallback===x)){const q=T.vnode;I(y,q,q.scopeId,q.slotScopeIds,T.parent)}}},$=(y,x,A,R,T,F,q,z,V=0)=>{for(let U=V;U<y.length;U++){const et=y[U]=z?Ps(y[U]):Qe(y[U]);g(null,et,x,A,R,T,F,q,z)}},X=(y,x,A,R,T,F,q)=>{const z=x.el=y.el;let{patchFlag:V,dynamicChildren:U,dirs:et}=x;V|=y.patchFlag&16;const G=y.props||Pt,Z=x.props||Pt;let at;if(A&&qs(A,!1),(at=Z.onVnodeBeforeUpdate)&&Ke(at,A,x,y),et&&Ws(x,y,A,"beforeUpdate"),A&&qs(A,!0),(G.innerHTML&&Z.innerHTML==null||G.textContent&&Z.textContent==null)&&d(z,""),U?it(y.dynamicChildren,U,z,A,R,Dr(x,T),F):q||ut(y,x,z,null,A,R,Dr(x,T),F,!1),V>0){if(V&16)rt(z,G,Z,A,T);else if(V&2&&G.class!==Z.class&&o(z,"class",null,Z.class,T),V&4&&o(z,"style",G.style,Z.style,T),V&8){const vt=x.dynamicProps;for(let Ot=0;Ot<vt.length;Ot++){const Ct=vt[Ot],ye=G[Ct],Qt=Z[Ct];(Qt!==ye||Ct==="value")&&o(z,Ct,ye,Qt,T,A)}}V&1&&y.children!==x.children&&d(z,x.children)}else!q&&U==null&&rt(z,G,Z,A,T);((at=Z.onVnodeUpdated)||et)&&_e(()=>{at&&Ke(at,A,x,y),et&&Ws(x,y,A,"updated")},R)},it=(y,x,A,R,T,F,q)=>{for(let z=0;z<x.length;z++){const V=y[z],U=x[z],et=V.el&&(V.type===J||!qn(V,U)||V.shapeFlag&70)?h(V.el):A;g(V,U,et,null,R,T,F,q,!0)}},rt=(y,x,A,R,T)=>{if(x!==A){if(x!==Pt)for(const F in x)!ci(F)&&!(F in A)&&o(y,F,x[F],null,T,R);for(const F in A){if(ci(F))continue;const q=A[F],z=x[F];q!==z&&F!=="value"&&o(y,F,z,q,T,R)}"value"in A&&o(y,"value",x.value,A.value,T)}},dt=(y,x,A,R,T,F,q,z,V)=>{const U=x.el=y?y.el:a(""),et=x.anchor=y?y.anchor:a("");let{patchFlag:G,dynamicChildren:Z,slotScopeIds:at}=x;at&&(z=z?z.concat(at):at),y==null?(n(U,A,R),n(et,A,R),$(x.children||[],A,et,T,F,q,z,V)):G>0&&G&64&&Z&&y.dynamicChildren?(it(y.dynamicChildren,Z,A,T,F,q,z),(x.key!=null||T&&x===T.subTree)&&rh(y,x,!0)):ut(y,x,A,et,T,F,q,z,V)},At=(y,x,A,R,T,F,q,z,V)=>{x.slotScopeIds=z,y==null?x.shapeFlag&512?T.ctx.activate(x,A,R,q,V):Wt(x,A,R,T,F,q,V):xt(y,x,V)},Wt=(y,x,A,R,T,F,q)=>{const z=y.component=Jm(y,R,T);if(Wu(y)&&(z.ctx.renderer=Q),Xm(z,!1,q),z.asyncDep){if(T&&T.registerDep(z,lt,q),!y.el){const V=z.subTree=D(_s);v(null,V,x,A)}}else lt(z,y,x,A,T,F,q)},xt=(y,x,A)=>{const R=x.component=y.component;if(Bm(y,x,A))if(R.asyncDep&&!R.asyncResolved){ot(R,x,A);return}else R.next=x,R.update();else x.el=y.el,R.vnode=x},lt=(y,x,A,R,T,F,q)=>{const z=()=>{if(y.isMounted){let{next:G,bu:Z,u:at,parent:vt,vnode:Ot}=y;{const xe=ah(y);if(xe){G&&(G.el=Ot.el,ot(y,G,q)),xe.asyncDep.then(()=>{y.isUnmounted||z()});return}}let Ct=G,ye;qs(y,!1),G?(G.el=Ot.el,ot(y,G,q)):G=Ot,Z&&_o(Z),(ye=G.props&&G.props.onVnodeBeforeUpdate)&&Ke(ye,vt,G,Ot),qs(y,!0);const Qt=Ir(y),Re=y.subTree;y.subTree=Qt,g(Re,Qt,h(Re.el),E(Re),y,T,F),G.el=Qt.el,Ct===null&&Vm(y,Qt.el),at&&_e(at,T),(ye=G.props&&G.props.onVnodeUpdated)&&_e(()=>Ke(ye,vt,G,Ot),T)}else{let G;const{el:Z,props:at}=x,{bm:vt,m:Ot,parent:Ct,root:ye,type:Qt}=y,Re=Pn(x);if(qs(y,!1),vt&&_o(vt),!Re&&(G=at&&at.onVnodeBeforeMount)&&Ke(G,Ct,x),qs(y,!0),Z&&Ut){const xe=()=>{y.subTree=Ir(y),Ut(Z,y.subTree,y,T,null)};Re&&Qt.__asyncHydrate?Qt.__asyncHydrate(Z,y,xe):xe()}else{ye.ce&&ye.ce._injectChildStyle(Qt);const xe=y.subTree=Ir(y);g(null,xe,A,R,y,T,F),x.el=xe.el}if(Ot&&_e(Ot,T),!Re&&(G=at&&at.onVnodeMounted)){const xe=x;_e(()=>Ke(G,Ct,xe),T)}(x.shapeFlag&256||Ct&&Pn(Ct.vnode)&&Ct.vnode.shapeFlag&256)&&y.a&&_e(y.a,T),y.isMounted=!0,x=A=R=null}};y.scope.on();const V=y.effect=new vu(z);y.scope.off();const U=y.update=V.run.bind(V),et=y.job=V.runIfDirty.bind(V);et.i=y,et.id=y.uid,V.scheduler=()=>sl(et),qs(y,!0),U()},ot=(y,x,A)=>{x.component=y;const R=y.vnode.props;y.vnode=x,y.next=null,Cm(y,x.props,R,A),Tm(y,x.children,A),xs(),Nl(y),vs()},ut=(y,x,A,R,T,F,q,z,V=!1)=>{const U=y&&y.children,et=y?y.shapeFlag:0,G=x.children,{patchFlag:Z,shapeFlag:at}=x;if(Z>0){if(Z&128){re(U,G,A,R,T,F,q,z,V);return}else if(Z&256){Tt(U,G,A,R,T,F,q,z,V);return}}at&8?(et&16&&zt(U,T,F),G!==U&&d(A,G)):et&16?at&16?re(U,G,A,R,T,F,q,z,V):zt(U,T,F,!0):(et&8&&d(A,""),at&16&&$(G,A,R,T,F,q,z,V))},Tt=(y,x,A,R,T,F,q,z,V)=>{y=y||kn,x=x||kn;const U=y.length,et=x.length,G=Math.min(U,et);let Z;for(Z=0;Z<G;Z++){const at=x[Z]=V?Ps(x[Z]):Qe(x[Z]);g(y[Z],at,A,null,T,F,q,z,V)}U>et?zt(y,T,F,!0,!1,G):$(x,A,R,T,F,q,z,V,G)},re=(y,x,A,R,T,F,q,z,V)=>{let U=0;const et=x.length;let G=y.length-1,Z=et-1;for(;U<=G&&U<=Z;){const at=y[U],vt=x[U]=V?Ps(x[U]):Qe(x[U]);if(qn(at,vt))g(at,vt,A,null,T,F,q,z,V);else break;U++}for(;U<=G&&U<=Z;){const at=y[G],vt=x[Z]=V?Ps(x[Z]):Qe(x[Z]);if(qn(at,vt))g(at,vt,A,null,T,F,q,z,V);else break;G--,Z--}if(U>G){if(U<=Z){const at=Z+1,vt=at<et?x[at].el:R;for(;U<=Z;)g(null,x[U]=V?Ps(x[U]):Qe(x[U]),A,vt,T,F,q,z,V),U++}}else if(U>Z)for(;U<=G;)Bt(y[U],T,F,!0),U++;else{const at=U,vt=U,Ot=new Map;for(U=vt;U<=Z;U++){const ve=x[U]=V?Ps(x[U]):Qe(x[U]);ve.key!=null&&Ot.set(ve.key,U)}let Ct,ye=0;const Qt=Z-vt+1;let Re=!1,xe=0;const Hn=new Array(Qt);for(U=0;U<Qt;U++)Hn[U]=0;for(U=at;U<=G;U++){const ve=y[U];if(ye>=Qt){Bt(ve,T,F,!0);continue}let qe;if(ve.key!=null)qe=Ot.get(ve.key);else for(Ct=vt;Ct<=Z;Ct++)if(Hn[Ct-vt]===0&&qn(ve,x[Ct])){qe=Ct;break}qe===void 0?Bt(ve,T,F,!0):(Hn[qe-vt]=U+1,qe>=xe?xe=qe:Re=!0,g(ve,x[qe],A,null,T,F,q,z,V),ye++)}const Il=Re?Im(Hn):kn;for(Ct=Il.length-1,U=Qt-1;U>=0;U--){const ve=vt+U,qe=x[ve],Rl=ve+1<et?x[ve+1].el:R;Hn[U]===0?g(null,qe,A,Rl,T,F,q,z,V):Re&&(Ct<0||U!==Il[Ct]?ae(qe,A,Rl,2):Ct--)}}},ae=(y,x,A,R,T=null)=>{const{el:F,type:q,transition:z,children:V,shapeFlag:U}=y;if(U&6){ae(y.component.subTree,x,A,R);return}if(U&128){y.suspense.move(x,A,R);return}if(U&64){q.move(y,x,A,Q);return}if(q===J){n(F,x,A);for(let G=0;G<V.length;G++)ae(V[G],x,A,R);n(y.anchor,x,A);return}if(q===So){C(y,x,A);return}if(R!==2&&U&1&&z)if(R===0)z.beforeEnter(F),n(F,x,A),_e(()=>z.enter(F),T);else{const{leave:G,delayLeave:Z,afterLeave:at}=z,vt=()=>{y.ctx.isUnmounted?i(F):n(F,x,A)},Ot=()=>{G(F,()=>{vt(),at&&at()})};Z?Z(F,vt,Ot):Ot()}else n(F,x,A)},Bt=(y,x,A,R=!1,T=!1)=>{const{type:F,props:q,ref:z,children:V,dynamicChildren:U,shapeFlag:et,patchFlag:G,dirs:Z,cacheIndex:at}=y;if(G===-2&&(T=!1),z!=null&&(xs(),Bo(z,null,A,y,!0),vs()),at!=null&&(x.renderCache[at]=void 0),et&256){x.ctx.deactivate(y);return}const vt=et&1&&Z,Ot=!Pn(y);let Ct;if(Ot&&(Ct=q&&q.onVnodeBeforeUnmount)&&Ke(Ct,x,y),et&6)We(y.component,A,R);else{if(et&128){y.suspense.unmount(A,R);return}vt&&Ws(y,null,x,"beforeUnmount"),et&64?y.type.remove(y,x,A,Q,R):U&&!U.hasOnce&&(F!==J||G>0&&G&64)?zt(U,x,A,!1,!0):(F===J&&G&384||!T&&et&16)&&zt(V,x,A),R&&Te(y)}(Ot&&(Ct=q&&q.onVnodeUnmounted)||vt)&&_e(()=>{Ct&&Ke(Ct,x,y),vt&&Ws(y,null,x,"unmounted")},A)},Te=y=>{const{type:x,el:A,anchor:R,transition:T}=y;if(x===J){ue(A,R);return}if(x===So){S(y);return}const F=()=>{i(A),T&&!T.persisted&&T.afterLeave&&T.afterLeave()};if(y.shapeFlag&1&&T&&!T.persisted){const{leave:q,delayLeave:z}=T,V=()=>q(A,F);z?z(y.el,F,V):V()}else F()},ue=(y,x)=>{let A;for(;y!==x;)A=f(y),i(y),y=A;i(x)},We=(y,x,A)=>{const{bum:R,scope:T,job:F,subTree:q,um:z,m:V,a:U,parent:et,slots:{__:G}}=y;ql(V),ql(U),R&&_o(R),et&&nt(G)&&G.forEach(Z=>{et.renderCache[Z]=void 0}),T.stop(),F&&(F.flags|=8,Bt(q,y,x,A)),z&&_e(z,x),_e(()=>{y.isUnmounted=!0},x),x&&x.pendingBranch&&!x.isUnmounted&&y.asyncDep&&!y.asyncResolved&&y.suspenseId===x.pendingId&&(x.deps--,x.deps===0&&x.resolve())},zt=(y,x,A,R=!1,T=!1,F=0)=>{for(let q=F;q<y.length;q++)Bt(y[q],x,A,R,T)},E=y=>{if(y.shapeFlag&6)return E(y.component.subTree);if(y.shapeFlag&128)return y.suspense.next();const x=f(y.anchor||y.el),A=x&&x[Zp];return A?f(A):x};let Y=!1;const K=(y,x,A)=>{y==null?x._vnode&&Bt(x._vnode,null,null,!0):g(x._vnode||null,y,x,null,null,null,A),x._vnode=y,Y||(Y=!0,Nl(),$u(),Y=!1)},Q={p:g,um:Bt,m:ae,r:Te,mt:Wt,mc:$,pc:ut,pbc:it,n:E,o:e};let _t,Ut;return t&&([_t,Ut]=t(Q)),{render:K,hydrate:_t,createApp:km(K,_t)}}function Dr({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function qs({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Dm(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function rh(e,t,s=!1){const n=e.children,i=t.children;if(nt(n)&&nt(i))for(let o=0;o<n.length;o++){const r=n[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=Ps(i[o]),a.el=r.el),!s&&a.patchFlag!==-2&&rh(r,a)),a.type===dr&&(a.el=r.el),a.type===_s&&!a.el&&(a.el=r.el)}}function Im(e){const t=e.slice(),s=[0];let n,i,o,r,a;const l=e.length;for(n=0;n<l;n++){const c=e[n];if(c!==0){if(i=s[s.length-1],e[i]<c){t[n]=i,s.push(n);continue}for(o=0,r=s.length-1;o<r;)a=o+r>>1,e[s[a]]<c?o=a+1:r=a;c<e[s[o]]&&(o>0&&(t[n]=s[o-1]),s[o]=n)}}for(o=s.length,r=s[o-1];o-- >0;)s[o]=r,r=t[r];return s}function ah(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ah(t)}function ql(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Rm=Symbol.for("v-scx"),Lm=()=>bs(Rm);function ko(e,t,s){return lh(e,t,s)}function lh(e,t,s=Pt){const{immediate:n,deep:i,flush:o,once:r}=s,a=Yt({},s),l=t&&n||!t&&o!=="post";let c;if(Ti){if(o==="sync"){const p=Lm();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=Ue,p.resume=Ue,p.pause=Ue,p}}const d=ee;a.call=(p,m,g)=>es(p,d,m,g);let h=!1;o==="post"?a.scheduler=p=>{_e(p,d&&d.suspense)}:o!=="sync"&&(h=!0,a.scheduler=(p,m)=>{m?p():sl(p)}),a.augmentJob=p=>{t&&(p.flags|=4),h&&(p.flags|=2,d&&(p.id=d.uid,p.i=d))};const f=Yp(e,t,a);return Ti&&(c?c.push(f):l&&f()),f}function Fm(e,t,s){const n=this.proxy,i=Ht(e)?e.includes(".")?ch(n,e):()=>n[e]:e.bind(n,n);let o;ct(t)?o=t:(o=t.handler,s=t);const r=qi(this),a=lh(i,o.bind(n),s);return r(),a}function ch(e,t){const s=t.split(".");return()=>{let n=e;for(let i=0;i<s.length&&n;i++)n=n[s[i]];return n}}const jm=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${De(t)}Modifiers`]||e[`${un(t)}Modifiers`];function Um(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||Pt;let i=s;const o=t.startsWith("update:"),r=o&&jm(n,t.slice(7));r&&(r.trim&&(i=s.map(d=>Ht(d)?d.trim():d)),r.number&&(i=s.map(Fo)));let a,l=n[a=Mr(t)]||n[a=Mr(De(t))];!l&&o&&(l=n[a=Mr(un(t))]),l&&es(l,e,6,i);const c=n[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,es(c,e,6,i)}}function dh(e,t,s=!1){const n=t.emitsCache,i=n.get(e);if(i!==void 0)return i;const o=e.emits;let r={},a=!1;if(!ct(e)){const l=c=>{const d=dh(c,t,!0);d&&(a=!0,Yt(r,d))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!a?(Rt(e)&&n.set(e,null),null):(nt(o)?o.forEach(l=>r[l]=null):Yt(r,o),Rt(e)&&n.set(e,r),r)}function cr(e,t){return!e||!tr(t)?!1:(t=t.slice(2).replace(/Once$/,""),St(e,t[0].toLowerCase()+t.slice(1))||St(e,un(t))||St(e,t))}function Ir(e){const{type:t,vnode:s,proxy:n,withProxy:i,propsOptions:[o],slots:r,attrs:a,emit:l,render:c,renderCache:d,props:h,data:f,setupState:p,ctx:m,inheritAttrs:g}=e,b=$o(e);let v,w;try{if(s.shapeFlag&4){const S=i||n,M=S;v=Qe(c.call(M,S,d,h,p,f,m)),w=a}else{const S=t;v=Qe(S.length>1?S(h,{attrs:a,slots:r,emit:l}):S(h,null)),w=t.props?a:Nm(a)}}catch(S){fi.length=0,ar(S,e,1),v=D(_s)}let C=v;if(w&&g!==!1){const S=Object.keys(w),{shapeFlag:M}=C;S.length&&M&7&&(o&&S.some(Ha)&&(w=$m(w,o)),C=Dn(C,w,!1,!0))}return s.dirs&&(C=Dn(C,null,!1,!0),C.dirs=C.dirs?C.dirs.concat(s.dirs):s.dirs),s.transition&&nl(C,s.transition),v=C,$o(b),v}const Nm=e=>{let t;for(const s in e)(s==="class"||s==="style"||tr(s))&&((t||(t={}))[s]=e[s]);return t},$m=(e,t)=>{const s={};for(const n in e)(!Ha(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function Bm(e,t,s){const{props:n,children:i,component:o}=e,{props:r,children:a,patchFlag:l}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?Kl(n,r,c):!!r;if(l&8){const d=t.dynamicProps;for(let h=0;h<d.length;h++){const f=d[h];if(r[f]!==n[f]&&!cr(c,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===r?!1:n?r?Kl(n,r,c):!0:!!r;return!1}function Kl(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const o=n[i];if(t[o]!==e[o]&&!cr(s,o))return!0}return!1}function Vm({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const uh=e=>e.__isSuspense;function zm(e,t){t&&t.pendingBranch?nt(e)?t.effects.push(...e):t.effects.push(e):Qp(e)}const J=Symbol.for("v-fgt"),dr=Symbol.for("v-txt"),_s=Symbol.for("v-cmt"),So=Symbol.for("v-stc"),fi=[];let Ce=null;function _(e=!1){fi.push(Ce=e?null:[])}function Hm(){fi.pop(),Ce=fi[fi.length-1]||null}let Ai=1;function Gl(e,t=!1){Ai+=e,e<0&&Ce&&t&&(Ce.hasOnce=!0)}function hh(e){return e.dynamicChildren=Ai>0?Ce||kn:null,Hm(),Ai>0&&Ce&&Ce.push(e),e}function k(e,t,s,n,i,o){return hh(u(e,t,s,n,i,o,!0))}function de(e,t,s,n,i){return hh(D(e,t,s,n,i,!0))}function Pi(e){return e?e.__v_isVNode===!0:!1}function qn(e,t){return e.type===t.type&&e.key===t.key}const fh=({key:e})=>e??null,Co=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Ht(e)||ne(e)||ct(e)?{i:Xt,r:e,k:t,f:!!s}:e:null);function u(e,t=null,s=null,n=0,i=null,o=e===J?0:1,r=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&fh(t),ref:t&&Co(t),scopeId:Vu,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Xt};return a?(al(l,s),o&128&&e.normalize(l)):s&&(l.shapeFlag|=Ht(s)?8:16),Ai>0&&!r&&Ce&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&Ce.push(l),l}const D=Wm;function Wm(e,t=null,s=null,n=0,i=null,o=!1){if((!e||e===fm)&&(e=_s),Pi(e)){const a=Dn(e,t,!0);return s&&al(a,s),Ai>0&&!o&&Ce&&(a.shapeFlag&6?Ce[Ce.indexOf(e)]=a:Ce.push(a)),a.patchFlag=-2,a}if(sg(e)&&(e=e.__vccOpts),t){t=qm(t);let{class:a,style:l}=t;a&&!Ht(a)&&(t.class=be(a)),Rt(l)&&(tl(l)&&!nt(l)&&(l=Yt({},l)),t.style=ir(l))}const r=Ht(e)?1:uh(e)?128:tm(e)?64:Rt(e)?4:ct(e)?2:0;return u(e,t,s,n,i,r,o,!0)}function qm(e){return e?tl(e)||th(e)?Yt({},e):e:null}function Dn(e,t,s=!1,n=!1){const{props:i,ref:o,patchFlag:r,children:a,transition:l}=e,c=t?Km(i||{},t):i,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&fh(c),ref:t&&t.ref?s&&o?nt(o)?o.concat(Co(t)):[o,Co(t)]:Co(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==J?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Dn(e.ssContent),ssFallback:e.ssFallback&&Dn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&nl(d,l.clone(d)),d}function tt(e=" ",t=0){return D(dr,null,e,t)}function ln(e,t){const s=D(So,null,e);return s.staticCount=t,s}function W(e="",t=!1){return t?(_(),de(_s,null,e)):D(_s,null,e)}function Qe(e){return e==null||typeof e=="boolean"?D(_s):nt(e)?D(J,null,e.slice()):Pi(e)?Ps(e):D(dr,null,String(e))}function Ps(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Dn(e)}function al(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(nt(t))s=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),al(e,i()),i._c&&(i._d=!0));return}else{s=32;const i=t._;!i&&!th(t)?t._ctx=Xt:i===3&&Xt&&(Xt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ct(t)?(t={default:t,_ctx:Xt},s=32):(t=String(t),n&64?(s=16,t=[tt(t)]):s=8);e.children=t,e.shapeFlag|=s}function Km(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=be([t.class,n.class]));else if(i==="style")t.style=ir([t.style,n.style]);else if(tr(i)){const o=t[i],r=n[i];r&&o!==r&&!(nt(o)&&o.includes(r))&&(t[i]=o?[].concat(o,r):r)}else i!==""&&(t[i]=n[i])}return t}function Ke(e,t,s,n=null){es(e,t,7,[s,n])}const Gm=Xu();let Ym=0;function Jm(e,t,s){const n=e.type,i=(t?t.appContext:e.appContext)||Gm,o={uid:Ym++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new _p(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:sh(n,i),emitsOptions:dh(n,i),emit:null,emitted:null,propsDefaults:Pt,inheritAttrs:n.inheritAttrs,ctx:Pt,data:Pt,props:Pt,attrs:Pt,slots:Pt,refs:Pt,setupState:Pt,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Um.bind(null,o),e.ce&&e.ce(o),o}let ee=null,zo,fa;{const e=nr(),t=(s,n)=>{let i;return(i=e[s])||(i=e[s]=[]),i.push(n),o=>{i.length>1?i.forEach(r=>r(o)):i[0](o)}};zo=t("__VUE_INSTANCE_SETTERS__",s=>ee=s),fa=t("__VUE_SSR_SETTERS__",s=>Ti=s)}const qi=e=>{const t=ee;return zo(e),e.scope.on(),()=>{e.scope.off(),zo(t)}},Yl=()=>{ee&&ee.scope.off(),zo(null)};function ph(e){return e.vnode.shapeFlag&4}let Ti=!1;function Xm(e,t=!1,s=!1){t&&fa(t);const{props:n,children:i}=e.vnode,o=ph(e);Sm(e,n,o,t),Pm(e,i,s||t);const r=o?Qm(e,t):void 0;return t&&fa(!1),r}function Qm(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,gm);const{setup:n}=s;if(n){xs();const i=e.setupContext=n.length>1?tg(e):null,o=qi(e),r=Wi(n,e,0,[e.props,i]),a=fu(r);if(vs(),o(),(a||e.sp)&&!Pn(e)&&Hu(e),a){if(r.then(Yl,Yl),t)return r.then(l=>{Jl(e,l,t)}).catch(l=>{ar(l,e,0)});e.asyncDep=r}else Jl(e,r,t)}else mh(e,t)}function Jl(e,t,s){ct(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Rt(t)&&(e.setupState=ju(t)),mh(e,s)}let Xl;function mh(e,t,s){const n=e.type;if(!e.render){if(!t&&Xl&&!n.render){const i=n.template||il(e).template;if(i){const{isCustomElement:o,compilerOptions:r}=e.appContext.config,{delimiters:a,compilerOptions:l}=n,c=Yt(Yt({isCustomElement:o,delimiters:a},r),l);n.render=Xl(i,c)}}e.render=n.render||Ue}{const i=qi(e);xs();try{bm(e)}finally{vs(),i()}}}const Zm={get(e,t){return te(e,"get",""),e[t]}};function tg(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,Zm),slots:e.slots,emit:e.emit,expose:t}}function ur(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(ju(Bp(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in hi)return hi[s](e)},has(t,s){return s in t||s in hi}})):e.proxy}function eg(e,t=!0){return ct(e)?e.displayName||e.name:e.name||t&&e.__name}function sg(e){return ct(e)&&"__vccOpts"in e}const Fe=(e,t)=>Kp(e,t,Ti);function gh(e,t,s){const n=arguments.length;return n===2?Rt(t)&&!nt(t)?Pi(t)?D(e,null,[t]):D(e,t):D(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&Pi(s)&&(s=[s]),D(e,t,s))}const ng="3.5.14";/**
* @vue/runtime-dom v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let pa;const Ql=typeof window<"u"&&window.trustedTypes;if(Ql)try{pa=Ql.createPolicy("vue",{createHTML:e=>e})}catch{}const bh=pa?e=>pa.createHTML(e):e=>e,ig="http://www.w3.org/2000/svg",og="http://www.w3.org/1998/Math/MathML",cs=typeof document<"u"?document:null,Zl=cs&&cs.createElement("template"),rg={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const i=t==="svg"?cs.createElementNS(ig,e):t==="mathml"?cs.createElementNS(og,e):s?cs.createElement(e,{is:s}):cs.createElement(e);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>cs.createTextNode(e),createComment:e=>cs.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>cs.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,i,o){const r=s?s.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),s),!(i===o||!(i=i.nextSibling)););else{Zl.innerHTML=bh(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const a=Zl.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,s)}return[r?r.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},ag=Symbol("_vtc");function lg(e,t,s){const n=e[ag];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Ho=Symbol("_vod"),yh=Symbol("_vsh"),Rr={beforeMount(e,{value:t},{transition:s}){e[Ho]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):Kn(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:n}){!t!=!s&&(n?t?(n.beforeEnter(e),Kn(e,!0),n.enter(e)):n.leave(e,()=>{Kn(e,!1)}):Kn(e,t))},beforeUnmount(e,{value:t}){Kn(e,t)}};function Kn(e,t){e.style.display=t?e[Ho]:"none",e[yh]=!t}const cg=Symbol(""),dg=/(^|;)\s*display\s*:/;function ug(e,t,s){const n=e.style,i=Ht(s);let o=!1;if(s&&!i){if(t)if(Ht(t))for(const r of t.split(";")){const a=r.slice(0,r.indexOf(":")).trim();s[a]==null&&Mo(n,a,"")}else for(const r in t)s[r]==null&&Mo(n,r,"");for(const r in s)r==="display"&&(o=!0),Mo(n,r,s[r])}else if(i){if(t!==s){const r=n[cg];r&&(s+=";"+r),n.cssText=s,o=dg.test(s)}}else t&&e.removeAttribute("style");Ho in e&&(e[Ho]=o?n.display:"",e[yh]&&(n.display="none"))}const tc=/\s*!important$/;function Mo(e,t,s){if(nt(s))s.forEach(n=>Mo(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=hg(e,t);tc.test(s)?e.setProperty(un(n),s.replace(tc,""),"important"):e[n]=s}}const ec=["Webkit","Moz","ms"],Lr={};function hg(e,t){const s=Lr[t];if(s)return s;let n=De(t);if(n!=="filter"&&n in e)return Lr[t]=n;n=sr(n);for(let i=0;i<ec.length;i++){const o=ec[i]+n;if(o in e)return Lr[t]=o}return t}const sc="http://www.w3.org/1999/xlink";function nc(e,t,s,n,i,o=xp(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(sc,t.slice(6,t.length)):e.setAttributeNS(sc,t,s):s==null||o&&!bu(s)?e.removeAttribute(t):e.setAttribute(t,o?"":Be(s)?String(s):s)}function ic(e,t,s,n,i){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?bh(s):s);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?e.getAttribute("value")||"":e.value,l=s==null?e.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in e))&&(e.value=l),s==null&&e.removeAttribute(t),e._value=s;return}let r=!1;if(s===""||s==null){const a=typeof e[t];a==="boolean"?s=bu(s):s==null&&a==="string"?(s="",r=!0):a==="number"&&(s=0,r=!0)}try{e[t]=s}catch{}r&&e.removeAttribute(i||t)}function Es(e,t,s,n){e.addEventListener(t,s,n)}function fg(e,t,s,n){e.removeEventListener(t,s,n)}const oc=Symbol("_vei");function pg(e,t,s,n,i=null){const o=e[oc]||(e[oc]={}),r=o[t];if(n&&r)r.value=n;else{const[a,l]=mg(t);if(n){const c=o[t]=yg(n,i);Es(e,a,c,l)}else r&&(fg(e,a,r,l),o[t]=void 0)}}const rc=/(?:Once|Passive|Capture)$/;function mg(e){let t;if(rc.test(e)){t={};let n;for(;n=e.match(rc);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):un(e.slice(2)),t]}let Fr=0;const gg=Promise.resolve(),bg=()=>Fr||(gg.then(()=>Fr=0),Fr=Date.now());function yg(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;es(xg(n,s.value),t,5,[n])};return s.value=e,s.attached=bg(),s}function xg(e,t){if(nt(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const ac=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,vg=(e,t,s,n,i,o)=>{const r=i==="svg";t==="class"?lg(e,n,r):t==="style"?ug(e,s,n):tr(t)?Ha(t)||pg(e,t,s,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):_g(e,t,n,r))?(ic(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&nc(e,t,n,r,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ht(n))?ic(e,De(t),n,o,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),nc(e,t,n,r))};function _g(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&ac(t)&&ct(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return ac(t)&&Ht(s)?!1:t in e}const In=e=>{const t=e.props["onUpdate:modelValue"]||!1;return nt(t)?s=>_o(t,s):t};function wg(e){e.target.composing=!0}function lc(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const ys=Symbol("_assign"),j={created(e,{modifiers:{lazy:t,trim:s,number:n}},i){e[ys]=In(i);const o=n||i.props&&i.props.type==="number";Es(e,t?"change":"input",r=>{if(r.target.composing)return;let a=e.value;s&&(a=a.trim()),o&&(a=Fo(a)),e[ys](a)}),s&&Es(e,"change",()=>{e.value=e.value.trim()}),t||(Es(e,"compositionstart",wg),Es(e,"compositionend",lc),Es(e,"change",lc))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:n,trim:i,number:o}},r){if(e[ys]=In(r),e.composing)return;const a=(o||e.type==="number")&&!/^0\d/.test(e.value)?Fo(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(n&&t===s||i&&e.value.trim()===l)||(e.value=l))}},ll={deep:!0,created(e,t,s){e[ys]=In(s),Es(e,"change",()=>{const n=e._modelValue,i=Oi(e),o=e.checked,r=e[ys];if(nt(n)){const a=Ka(n,i),l=a!==-1;if(o&&!l)r(n.concat(i));else if(!o&&l){const c=[...n];c.splice(a,1),r(c)}}else if(Bn(n)){const a=new Set(n);o?a.add(i):a.delete(i),r(a)}else r(xh(e,o))})},mounted:cc,beforeUpdate(e,t,s){e[ys]=In(s),cc(e,t,s)}};function cc(e,{value:t,oldValue:s},n){e._modelValue=t;let i;if(nt(t))i=Ka(t,n.props.value)>-1;else if(Bn(t))i=t.has(n.props.value);else{if(t===s)return;i=Hi(t,xh(e,!0))}e.checked!==i&&(e.checked=i)}const Me={deep:!0,created(e,{value:t,modifiers:{number:s}},n){const i=Bn(t);Es(e,"change",()=>{const o=Array.prototype.filter.call(e.options,r=>r.selected).map(r=>s?Fo(Oi(r)):Oi(r));e[ys](e.multiple?i?new Set(o):o:o[0]),e._assigning=!0,el(()=>{e._assigning=!1})}),e[ys]=In(n)},mounted(e,{value:t}){dc(e,t)},beforeUpdate(e,t,s){e[ys]=In(s)},updated(e,{value:t}){e._assigning||dc(e,t)}};function dc(e,t){const s=e.multiple,n=nt(t);if(!(s&&!n&&!Bn(t))){for(let i=0,o=e.options.length;i<o;i++){const r=e.options[i],a=Oi(r);if(s)if(n){const l=typeof a;l==="string"||l==="number"?r.selected=t.some(c=>String(c)===String(a)):r.selected=Ka(t,a)>-1}else r.selected=t.has(a);else if(Hi(Oi(r),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Oi(e){return"_value"in e?e._value:e.value}function xh(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const kg=["ctrl","shift","alt","meta"],Sg={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>kg.some(s=>e[`${s}Key`]&&!t.includes(s))},ie=(e,t)=>{const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=(i,...o)=>{for(let r=0;r<t.length;r++){const a=Sg[t[r]];if(a&&a(i,t))return}return e(i,...o)})},Cg=Yt({patchProp:vg},rg);let uc;function Mg(){return uc||(uc=Om(Cg))}const Ag=(...e)=>{const t=Mg().createApp(...e),{mount:s}=t;return t.mount=n=>{const i=Tg(n);if(!i)return;const o=t._component;!ct(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const r=s(i,!1,Pg(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),r},t};function Pg(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Tg(e){return Ht(e)?document.querySelector(e):e}const mt=(e,t)=>{const s=e.__vccOpts||e;for(const[n,i]of t)s[n]=i;return s},Og={name:"CookieBanner",data(){return{consentGiven:!1}},mounted(){this.consentGiven=localStorage.getItem("cookieConsent")==="true"},methods:{acceptCookies(){this.consentGiven=!0,localStorage.setItem("cookieConsent","true")}}},Eg={key:0,class:"fixed bottom-0 left-0 right-0 bg-gray-800 text-white p-4 text-center z-50"};function Dg(e,t,s,n,i,o){return i.consentGiven?W("",!0):(_(),k("div",Eg,[t[1]||(t[1]=u("p",{class:"mb-2"},[tt(" Utilizamos cookies para melhorar sua experincia. Ao continuar, voc concorda com nossa "),u("a",{href:"#",class:"underline"},"poltica de privacidade"),tt(". ")],-1)),u("button",{onClick:t[0]||(t[0]=(...r)=>o.acceptCookies&&o.acceptCookies(...r)),class:"btn"}," Aceitar ")]))}const Ig=mt(Og,[["render",Dg]]),Rg={name:"App",components:{CookieBanner:Ig}};function Lg(e,t,s,n,i,o){const r=H("router-view"),a=H("CookieBanner");return _(),k(J,null,[D(r),D(a)],64)}const Fg=mt(Rg,[["render",Lg]]);/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const _n=typeof document<"u";function vh(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function jg(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&vh(e.default)}const wt=Object.assign;function jr(e,t){const s={};for(const n in t){const i=t[n];s[n]=Ve(i)?i.map(e):e(i)}return s}const pi=()=>{},Ve=Array.isArray,_h=/#/g,Ug=/&/g,Ng=/\//g,$g=/=/g,Bg=/\?/g,wh=/\+/g,Vg=/%5B/g,zg=/%5D/g,kh=/%5E/g,Hg=/%60/g,Sh=/%7B/g,Wg=/%7C/g,Ch=/%7D/g,qg=/%20/g;function cl(e){return encodeURI(""+e).replace(Wg,"|").replace(Vg,"[").replace(zg,"]")}function Kg(e){return cl(e).replace(Sh,"{").replace(Ch,"}").replace(kh,"^")}function ma(e){return cl(e).replace(wh,"%2B").replace(qg,"+").replace(_h,"%23").replace(Ug,"%26").replace(Hg,"`").replace(Sh,"{").replace(Ch,"}").replace(kh,"^")}function Gg(e){return ma(e).replace($g,"%3D")}function Yg(e){return cl(e).replace(_h,"%23").replace(Bg,"%3F")}function Jg(e){return e==null?"":Yg(e).replace(Ng,"%2F")}function Ei(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Xg=/\/$/,Qg=e=>e.replace(Xg,"");function Ur(e,t,s="/"){let n,i={},o="",r="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=t.slice(0,l),o=t.slice(l+1,a>-1?a:t.length),i=e(o)),a>-1&&(n=n||t.slice(0,a),r=t.slice(a,t.length)),n=sb(n??t,s),{fullPath:n+(o&&"?")+o+r,path:n,query:i,hash:Ei(r)}}function Zg(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function hc(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function tb(e,t,s){const n=t.matched.length-1,i=s.matched.length-1;return n>-1&&n===i&&Rn(t.matched[n],s.matched[i])&&Mh(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function Rn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function Mh(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!eb(e[s],t[s]))return!1;return!0}function eb(e,t){return Ve(e)?fc(e,t):Ve(t)?fc(t,e):e===t}function fc(e,t){return Ve(t)?e.length===t.length&&e.every((s,n)=>s===t[n]):e.length===1&&e[0]===t}function sb(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),n=e.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let o=s.length-1,r,a;for(r=0;r<n.length;r++)if(a=n[r],a!==".")if(a==="..")o>1&&o--;else break;return s.slice(0,o).join("/")+"/"+n.slice(r).join("/")}const Ss={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Di;(function(e){e.pop="pop",e.push="push"})(Di||(Di={}));var mi;(function(e){e.back="back",e.forward="forward",e.unknown=""})(mi||(mi={}));function nb(e){if(!e)if(_n){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Qg(e)}const ib=/^[^#]+#/;function ob(e,t){return e.replace(ib,"#")+t}function rb(e,t){const s=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-s.left-(t.left||0),top:n.top-s.top-(t.top||0)}}const hr=()=>({left:window.scrollX,top:window.scrollY});function ab(e){let t;if("el"in e){const s=e.el,n=typeof s=="string"&&s.startsWith("#"),i=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!i)return;t=rb(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function pc(e,t){return(history.state?history.state.position-t:-1)+e}const ga=new Map;function lb(e,t){ga.set(e,t)}function cb(e){const t=ga.get(e);return ga.delete(e),t}let db=()=>location.protocol+"//"+location.host;function Ah(e,t){const{pathname:s,search:n,hash:i}=t,o=e.indexOf("#");if(o>-1){let a=i.includes(e.slice(o))?e.slice(o).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),hc(l,"")}return hc(s,e)+n+i}function ub(e,t,s,n){let i=[],o=[],r=null;const a=({state:f})=>{const p=Ah(e,location),m=s.value,g=t.value;let b=0;if(f){if(s.value=p,t.value=f,r&&r===m){r=null;return}b=g?f.position-g.position:0}else n(p);i.forEach(v=>{v(s.value,m,{delta:b,type:Di.pop,direction:b?b>0?mi.forward:mi.back:mi.unknown})})};function l(){r=s.value}function c(f){i.push(f);const p=()=>{const m=i.indexOf(f);m>-1&&i.splice(m,1)};return o.push(p),p}function d(){const{history:f}=window;f.state&&f.replaceState(wt({},f.state,{scroll:hr()}),"")}function h(){for(const f of o)f();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function mc(e,t,s,n=!1,i=!1){return{back:e,current:t,forward:s,replaced:n,position:window.history.length,scroll:i?hr():null}}function hb(e){const{history:t,location:s}=window,n={value:Ah(e,s)},i={value:t.state};i.value||o(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(l,c,d){const h=e.indexOf("#"),f=h>-1?(s.host&&document.querySelector("base")?e:e.slice(h))+l:db()+e+l;try{t[d?"replaceState":"pushState"](c,"",f),i.value=c}catch(p){console.error(p),s[d?"replace":"assign"](f)}}function r(l,c){const d=wt({},t.state,mc(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});o(l,d,!0),n.value=l}function a(l,c){const d=wt({},i.value,t.state,{forward:l,scroll:hr()});o(d.current,d,!0);const h=wt({},mc(n.value,l,null),{position:d.position+1},c);o(l,h,!1),n.value=l}return{location:n,state:i,push:a,replace:r}}function fb(e){e=nb(e);const t=hb(e),s=ub(e,t.state,t.location,t.replace);function n(o,r=!0){r||s.pauseListeners(),history.go(o)}const i=wt({location:"",base:e,go:n,createHref:ob.bind(null,e)},t,s);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function pb(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),fb(e)}function mb(e){return typeof e=="string"||e&&typeof e=="object"}function Ph(e){return typeof e=="string"||typeof e=="symbol"}const Th=Symbol("");var gc;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(gc||(gc={}));function Ln(e,t){return wt(new Error,{type:e,[Th]:!0},t)}function is(e,t){return e instanceof Error&&Th in e&&(t==null||!!(e.type&t))}const bc="[^/]+?",gb={sensitive:!1,strict:!1,start:!0,end:!0},bb=/[.+*?^${}()[\]/\\]/g;function yb(e,t){const s=wt({},gb,t),n=[];let i=s.start?"^":"";const o=[];for(const c of e){const d=c.length?[]:[90];s.strict&&!c.length&&(i+="/");for(let h=0;h<c.length;h++){const f=c[h];let p=40+(s.sensitive?.25:0);if(f.type===0)h||(i+="/"),i+=f.value.replace(bb,"\\$&"),p+=40;else if(f.type===1){const{value:m,repeatable:g,optional:b,regexp:v}=f;o.push({name:m,repeatable:g,optional:b});const w=v||bc;if(w!==bc){p+=10;try{new RegExp(`(${w})`)}catch(S){throw new Error(`Invalid custom RegExp for param "${m}" (${w}): `+S.message)}}let C=g?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;h||(C=b&&c.length<2?`(?:/${C})`:"/"+C),b&&(C+="?"),i+=C,p+=20,b&&(p+=-8),g&&(p+=-20),w===".*"&&(p+=-50)}d.push(p)}n.push(d)}if(s.strict&&s.end){const c=n.length-1;n[c][n[c].length-1]+=.7000000000000001}s.strict||(i+="/?"),s.end?i+="$":s.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const r=new RegExp(i,s.sensitive?"":"i");function a(c){const d=c.match(r),h={};if(!d)return null;for(let f=1;f<d.length;f++){const p=d[f]||"",m=o[f-1];h[m.name]=p&&m.repeatable?p.split("/"):p}return h}function l(c){let d="",h=!1;for(const f of e){(!h||!d.endsWith("/"))&&(d+="/"),h=!1;for(const p of f)if(p.type===0)d+=p.value;else if(p.type===1){const{value:m,repeatable:g,optional:b}=p,v=m in c?c[m]:"";if(Ve(v)&&!g)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const w=Ve(v)?v.join("/"):v;if(!w)if(b)f.length<2&&(d.endsWith("/")?d=d.slice(0,-1):h=!0);else throw new Error(`Missing required param "${m}"`);d+=w}}return d||"/"}return{re:r,score:n,keys:o,parse:a,stringify:l}}function xb(e,t){let s=0;for(;s<e.length&&s<t.length;){const n=t[s]-e[s];if(n)return n;s++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Oh(e,t){let s=0;const n=e.score,i=t.score;for(;s<n.length&&s<i.length;){const o=xb(n[s],i[s]);if(o)return o;s++}if(Math.abs(i.length-n.length)===1){if(yc(n))return 1;if(yc(i))return-1}return i.length-n.length}function yc(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const vb={type:0,value:""},_b=/[a-zA-Z0-9_]/;function wb(e){if(!e)return[[]];if(e==="/")return[[vb]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(p){throw new Error(`ERR (${s})/"${c}": ${p}`)}let s=0,n=s;const i=[];let o;function r(){o&&i.push(o),o=[]}let a=0,l,c="",d="";function h(){c&&(s===0?o.push({type:0,value:c}):s===1||s===2||s===3?(o.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&s!==2){n=s,s=4;continue}switch(s){case 0:l==="/"?(c&&h(),r()):l===":"?(h(),s=1):f();break;case 4:f(),s=n;break;case 1:l==="("?s=2:_b.test(l)?f():(h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:s=3:d+=l;break;case 3:h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,d="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${c}"`),h(),r(),i}function kb(e,t,s){const n=yb(wb(e.path),s),i=wt(n,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function Sb(e,t){const s=[],n=new Map;t=wc({strict:!1,end:!0,sensitive:!1},t);function i(h){return n.get(h)}function o(h,f,p){const m=!p,g=vc(h);g.aliasOf=p&&p.record;const b=wc(t,h),v=[g];if("alias"in h){const S=typeof h.alias=="string"?[h.alias]:h.alias;for(const M of S)v.push(vc(wt({},g,{components:p?p.record.components:g.components,path:M,aliasOf:p?p.record:g})))}let w,C;for(const S of v){const{path:M}=S;if(f&&M[0]!=="/"){const L=f.record.path,I=L[L.length-1]==="/"?"":"/";S.path=f.record.path+(M&&I+M)}if(w=kb(S,f,b),p?p.alias.push(w):(C=C||w,C!==w&&C.alias.push(w),m&&h.name&&!_c(w)&&r(h.name)),Eh(w)&&l(w),g.children){const L=g.children;for(let I=0;I<L.length;I++)o(L[I],w,p&&p.children[I])}p=p||w}return C?()=>{r(C)}:pi}function r(h){if(Ph(h)){const f=n.get(h);f&&(n.delete(h),s.splice(s.indexOf(f),1),f.children.forEach(r),f.alias.forEach(r))}else{const f=s.indexOf(h);f>-1&&(s.splice(f,1),h.record.name&&n.delete(h.record.name),h.children.forEach(r),h.alias.forEach(r))}}function a(){return s}function l(h){const f=Ab(h,s);s.splice(f,0,h),h.record.name&&!_c(h)&&n.set(h.record.name,h)}function c(h,f){let p,m={},g,b;if("name"in h&&h.name){if(p=n.get(h.name),!p)throw Ln(1,{location:h});b=p.record.name,m=wt(xc(f.params,p.keys.filter(C=>!C.optional).concat(p.parent?p.parent.keys.filter(C=>C.optional):[]).map(C=>C.name)),h.params&&xc(h.params,p.keys.map(C=>C.name))),g=p.stringify(m)}else if(h.path!=null)g=h.path,p=s.find(C=>C.re.test(g)),p&&(m=p.parse(g),b=p.record.name);else{if(p=f.name?n.get(f.name):s.find(C=>C.re.test(f.path)),!p)throw Ln(1,{location:h,currentLocation:f});b=p.record.name,m=wt({},f.params,h.params),g=p.stringify(m)}const v=[];let w=p;for(;w;)v.unshift(w.record),w=w.parent;return{name:b,path:g,params:m,matched:v,meta:Mb(v)}}e.forEach(h=>o(h));function d(){s.length=0,n.clear()}return{addRoute:o,resolve:c,removeRoute:r,clearRoutes:d,getRoutes:a,getRecordMatcher:i}}function xc(e,t){const s={};for(const n of t)n in e&&(s[n]=e[n]);return s}function vc(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Cb(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function Cb(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const n in e.components)t[n]=typeof s=="object"?s[n]:s;return t}function _c(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Mb(e){return e.reduce((t,s)=>wt(t,s.meta),{})}function wc(e,t){const s={};for(const n in e)s[n]=n in t?t[n]:e[n];return s}function Ab(e,t){let s=0,n=t.length;for(;s!==n;){const o=s+n>>1;Oh(e,t[o])<0?n=o:s=o+1}const i=Pb(e);return i&&(n=t.lastIndexOf(i,n-1)),n}function Pb(e){let t=e;for(;t=t.parent;)if(Eh(t)&&Oh(e,t)===0)return t}function Eh({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Tb(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<n.length;++i){const o=n[i].replace(wh," "),r=o.indexOf("="),a=Ei(r<0?o:o.slice(0,r)),l=r<0?null:Ei(o.slice(r+1));if(a in t){let c=t[a];Ve(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function kc(e){let t="";for(let s in e){const n=e[s];if(s=Gg(s),n==null){n!==void 0&&(t+=(t.length?"&":"")+s);continue}(Ve(n)?n.map(o=>o&&ma(o)):[n&&ma(n)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+s,o!=null&&(t+="="+o))})}return t}function Ob(e){const t={};for(const s in e){const n=e[s];n!==void 0&&(t[s]=Ve(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return t}const Eb=Symbol(""),Sc=Symbol(""),dl=Symbol(""),Dh=Symbol(""),ba=Symbol("");function Gn(){let e=[];function t(n){return e.push(n),()=>{const i=e.indexOf(n);i>-1&&e.splice(i,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function Ts(e,t,s,n,i,o=r=>r()){const r=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(Ln(4,{from:s,to:t})):f instanceof Error?l(f):mb(f)?l(Ln(2,{from:t,to:f})):(r&&n.enterCallbacks[i]===r&&typeof f=="function"&&r.push(f),a())},d=o(()=>e.call(n&&n.instances[i],t,s,c));let h=Promise.resolve(d);e.length<3&&(h=h.then(c)),h.catch(f=>l(f))})}function Nr(e,t,s,n,i=o=>o()){const o=[];for(const r of e)for(const a in r.components){let l=r.components[a];if(!(t!=="beforeRouteEnter"&&!r.instances[a]))if(vh(l)){const d=(l.__vccOpts||l)[t];d&&o.push(Ts(d,s,n,r,a,i))}else{let c=l();o.push(()=>c.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${a}" at "${r.path}"`);const h=jg(d)?d.default:d;r.mods[a]=d,r.components[a]=h;const p=(h.__vccOpts||h)[t];return p&&Ts(p,s,n,r,a,i)()}))}}return o}function Cc(e){const t=bs(dl),s=bs(Dh),n=Fe(()=>{const l=Mn(e.to);return t.resolve(l)}),i=Fe(()=>{const{matched:l}=n.value,{length:c}=l,d=l[c-1],h=s.matched;if(!d||!h.length)return-1;const f=h.findIndex(Rn.bind(null,d));if(f>-1)return f;const p=Mc(l[c-2]);return c>1&&Mc(d)===p&&h[h.length-1].path!==p?h.findIndex(Rn.bind(null,l[c-2])):f}),o=Fe(()=>i.value>-1&&Fb(s.params,n.value.params)),r=Fe(()=>i.value>-1&&i.value===s.matched.length-1&&Mh(s.params,n.value.params));function a(l={}){if(Lb(l)){const c=t[Mn(e.replace)?"replace":"push"](Mn(e.to)).catch(pi);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:n,href:Fe(()=>n.value.href),isActive:o,isExactActive:r,navigate:a}}function Db(e){return e.length===1?e[0]:e}const Ib=zu({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Cc,setup(e,{slots:t}){const s=rr(Cc(e)),{options:n}=bs(dl),i=Fe(()=>({[Ac(e.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[Ac(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const o=t.default&&Db(t.default(s));return e.custom?o:gh("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:i.value},o)}}}),Rb=Ib;function Lb(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Fb(e,t){for(const s in t){const n=t[s],i=e[s];if(typeof n=="string"){if(n!==i)return!1}else if(!Ve(i)||i.length!==n.length||n.some((o,r)=>o!==i[r]))return!1}return!0}function Mc(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Ac=(e,t,s)=>e??t??s,jb=zu({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const n=bs(ba),i=Fe(()=>e.route||n.value),o=bs(Sc,0),r=Fe(()=>{let c=Mn(o);const{matched:d}=i.value;let h;for(;(h=d[c])&&!h.components;)c++;return c}),a=Fe(()=>i.value.matched[r.value]);wo(Sc,Fe(()=>r.value+1)),wo(Eb,a),wo(ba,i);const l=Vp();return ko(()=>[l.value,a.value,e.name],([c,d,h],[f,p,m])=>{d&&(d.instances[h]=c,p&&p!==d&&c&&c===f&&(d.leaveGuards.size||(d.leaveGuards=p.leaveGuards),d.updateGuards.size||(d.updateGuards=p.updateGuards))),c&&d&&(!p||!Rn(d,p)||!f)&&(d.enterCallbacks[h]||[]).forEach(g=>g(c))},{flush:"post"}),()=>{const c=i.value,d=e.name,h=a.value,f=h&&h.components[d];if(!f)return Pc(s.default,{Component:f,route:c});const p=h.props[d],m=p?p===!0?c.params:typeof p=="function"?p(c):p:null,b=gh(f,wt({},m,t,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(h.instances[d]=null)},ref:l}));return Pc(s.default,{Component:b,route:c})||b}}});function Pc(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const Ub=jb;function Nb(e){const t=Sb(e.routes,e),s=e.parseQuery||Tb,n=e.stringifyQuery||kc,i=e.history,o=Gn(),r=Gn(),a=Gn(),l=zp(Ss);let c=Ss;_n&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=jr.bind(null,E=>""+E),h=jr.bind(null,Jg),f=jr.bind(null,Ei);function p(E,Y){let K,Q;return Ph(E)?(K=t.getRecordMatcher(E),Q=Y):Q=E,t.addRoute(Q,K)}function m(E){const Y=t.getRecordMatcher(E);Y&&t.removeRoute(Y)}function g(){return t.getRoutes().map(E=>E.record)}function b(E){return!!t.getRecordMatcher(E)}function v(E,Y){if(Y=wt({},Y||l.value),typeof E=="string"){const x=Ur(s,E,Y.path),A=t.resolve({path:x.path},Y),R=i.createHref(x.fullPath);return wt(x,A,{params:f(A.params),hash:Ei(x.hash),redirectedFrom:void 0,href:R})}let K;if(E.path!=null)K=wt({},E,{path:Ur(s,E.path,Y.path).path});else{const x=wt({},E.params);for(const A in x)x[A]==null&&delete x[A];K=wt({},E,{params:h(x)}),Y.params=h(Y.params)}const Q=t.resolve(K,Y),_t=E.hash||"";Q.params=d(f(Q.params));const Ut=Zg(n,wt({},E,{hash:Kg(_t),path:Q.path})),y=i.createHref(Ut);return wt({fullPath:Ut,hash:_t,query:n===kc?Ob(E.query):E.query||{}},Q,{redirectedFrom:void 0,href:y})}function w(E){return typeof E=="string"?Ur(s,E,l.value.path):wt({},E)}function C(E,Y){if(c!==E)return Ln(8,{from:Y,to:E})}function S(E){return I(E)}function M(E){return S(wt(w(E),{replace:!0}))}function L(E){const Y=E.matched[E.matched.length-1];if(Y&&Y.redirect){const{redirect:K}=Y;let Q=typeof K=="function"?K(E):K;return typeof Q=="string"&&(Q=Q.includes("?")||Q.includes("#")?Q=w(Q):{path:Q},Q.params={}),wt({query:E.query,hash:E.hash,params:Q.path!=null?{}:E.params},Q)}}function I(E,Y){const K=c=v(E),Q=l.value,_t=E.state,Ut=E.force,y=E.replace===!0,x=L(K);if(x)return I(wt(w(x),{state:typeof x=="object"?wt({},_t,x.state):_t,force:Ut,replace:y}),Y||K);const A=K;A.redirectedFrom=Y;let R;return!Ut&&tb(n,Q,K)&&(R=Ln(16,{to:A,from:Q}),ae(Q,Q,!0,!1)),(R?Promise.resolve(R):it(A,Q)).catch(T=>is(T)?is(T,2)?T:re(T):ut(T,A,Q)).then(T=>{if(T){if(is(T,2))return I(wt({replace:y},w(T.to),{state:typeof T.to=="object"?wt({},_t,T.to.state):_t,force:Ut}),Y||A)}else T=dt(A,Q,!0,y,_t);return rt(A,Q,T),T})}function $(E,Y){const K=C(E,Y);return K?Promise.reject(K):Promise.resolve()}function X(E){const Y=ue.values().next().value;return Y&&typeof Y.runWithContext=="function"?Y.runWithContext(E):E()}function it(E,Y){let K;const[Q,_t,Ut]=$b(E,Y);K=Nr(Q.reverse(),"beforeRouteLeave",E,Y);for(const x of Q)x.leaveGuards.forEach(A=>{K.push(Ts(A,E,Y))});const y=$.bind(null,E,Y);return K.push(y),zt(K).then(()=>{K=[];for(const x of o.list())K.push(Ts(x,E,Y));return K.push(y),zt(K)}).then(()=>{K=Nr(_t,"beforeRouteUpdate",E,Y);for(const x of _t)x.updateGuards.forEach(A=>{K.push(Ts(A,E,Y))});return K.push(y),zt(K)}).then(()=>{K=[];for(const x of Ut)if(x.beforeEnter)if(Ve(x.beforeEnter))for(const A of x.beforeEnter)K.push(Ts(A,E,Y));else K.push(Ts(x.beforeEnter,E,Y));return K.push(y),zt(K)}).then(()=>(E.matched.forEach(x=>x.enterCallbacks={}),K=Nr(Ut,"beforeRouteEnter",E,Y,X),K.push(y),zt(K))).then(()=>{K=[];for(const x of r.list())K.push(Ts(x,E,Y));return K.push(y),zt(K)}).catch(x=>is(x,8)?x:Promise.reject(x))}function rt(E,Y,K){a.list().forEach(Q=>X(()=>Q(E,Y,K)))}function dt(E,Y,K,Q,_t){const Ut=C(E,Y);if(Ut)return Ut;const y=Y===Ss,x=_n?history.state:{};K&&(Q||y?i.replace(E.fullPath,wt({scroll:y&&x&&x.scroll},_t)):i.push(E.fullPath,_t)),l.value=E,ae(E,Y,K,y),re()}let At;function Wt(){At||(At=i.listen((E,Y,K)=>{if(!We.listening)return;const Q=v(E),_t=L(Q);if(_t){I(wt(_t,{replace:!0,force:!0}),Q).catch(pi);return}c=Q;const Ut=l.value;_n&&lb(pc(Ut.fullPath,K.delta),hr()),it(Q,Ut).catch(y=>is(y,12)?y:is(y,2)?(I(wt(w(y.to),{force:!0}),Q).then(x=>{is(x,20)&&!K.delta&&K.type===Di.pop&&i.go(-1,!1)}).catch(pi),Promise.reject()):(K.delta&&i.go(-K.delta,!1),ut(y,Q,Ut))).then(y=>{y=y||dt(Q,Ut,!1),y&&(K.delta&&!is(y,8)?i.go(-K.delta,!1):K.type===Di.pop&&is(y,20)&&i.go(-1,!1)),rt(Q,Ut,y)}).catch(pi)}))}let xt=Gn(),lt=Gn(),ot;function ut(E,Y,K){re(E);const Q=lt.list();return Q.length?Q.forEach(_t=>_t(E,Y,K)):console.error(E),Promise.reject(E)}function Tt(){return ot&&l.value!==Ss?Promise.resolve():new Promise((E,Y)=>{xt.add([E,Y])})}function re(E){return ot||(ot=!E,Wt(),xt.list().forEach(([Y,K])=>E?K(E):Y()),xt.reset()),E}function ae(E,Y,K,Q){const{scrollBehavior:_t}=e;if(!_n||!_t)return Promise.resolve();const Ut=!K&&cb(pc(E.fullPath,0))||(Q||!K)&&history.state&&history.state.scroll||null;return el().then(()=>_t(E,Y,Ut)).then(y=>y&&ab(y)).catch(y=>ut(y,E,Y))}const Bt=E=>i.go(E);let Te;const ue=new Set,We={currentRoute:l,listening:!0,addRoute:p,removeRoute:m,clearRoutes:t.clearRoutes,hasRoute:b,getRoutes:g,resolve:v,options:e,push:S,replace:M,go:Bt,back:()=>Bt(-1),forward:()=>Bt(1),beforeEach:o.add,beforeResolve:r.add,afterEach:a.add,onError:lt.add,isReady:Tt,install(E){const Y=this;E.component("RouterLink",Rb),E.component("RouterView",Ub),E.config.globalProperties.$router=Y,Object.defineProperty(E.config.globalProperties,"$route",{enumerable:!0,get:()=>Mn(l)}),_n&&!Te&&l.value===Ss&&(Te=!0,S(i.location).catch(_t=>{}));const K={};for(const _t in Ss)Object.defineProperty(K,_t,{get:()=>l.value[_t],enumerable:!0});E.provide(dl,Y),E.provide(Dh,Ru(K)),E.provide(ba,l);const Q=E.unmount;ue.add(E),E.unmount=function(){ue.delete(E),ue.size<1&&(c=Ss,At&&At(),At=null,l.value=Ss,Te=!1,ot=!1),Q()}}};function zt(E){return E.reduce((Y,K)=>Y.then(()=>X(K)),Promise.resolve())}return We}function $b(e,t){const s=[],n=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let r=0;r<o;r++){const a=t.matched[r];a&&(e.matched.find(c=>Rn(c,a))?n.push(a):s.push(a));const l=e.matched[r];l&&(t.matched.find(c=>Rn(c,l))||i.push(l))}return[s,n,i]}const Bb={name:"Navbar",data(){return{open:!1}},mounted(){window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},watch:{$route(){this.open=!1}},methods:{toggleMenu(){this.open=!this.open},handleScroll(){this.open&&(this.open=!1)}}},Vb={class:"flex items-center justify-between px-8 py-4 bg-white shadow relative"},zb={class:"hidden md:flex items-center space-x-4"},Hb={key:0,class:"absolute top-full left-0 w-full bg-white shadow-md md:hidden flex flex-col items-start space-y-2 py-4 px-8"};function Wb(e,t,s,n,i,o){const r=H("router-link");return _(),k("nav",Vb,[D(r,{to:"/",class:"text-xl font-bold text-blue-600"},{default:st(()=>t[5]||(t[5]=[tt("Agenda Zen")])),_:1,__:[5]}),u("button",{onClick:t[0]||(t[0]=(...a)=>o.toggleMenu&&o.toggleMenu(...a)),class:"md:hidden focus:outline-none"},t[6]||(t[6]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])),u("div",zb,[D(r,{to:"/buscar",class:"text-blue-600 hover:underline"},{default:st(()=>t[7]||(t[7]=[tt("Buscar")])),_:1,__:[7]}),D(r,{to:"/planos",class:"text-blue-600 hover:underline"},{default:st(()=>t[8]||(t[8]=[tt("Planos")])),_:1,__:[8]}),D(r,{to:"/contato",class:"text-blue-600 hover:underline"},{default:st(()=>t[9]||(t[9]=[tt("Contato")])),_:1,__:[9]}),D(r,{to:"/login",class:"btn"},{default:st(()=>t[10]||(t[10]=[tt("Login")])),_:1,__:[10]})]),i.open?(_(),k("div",Hb,[D(r,{onClick:t[1]||(t[1]=a=>i.open=!1),to:"/buscar",class:"text-blue-600 hover:underline"},{default:st(()=>t[11]||(t[11]=[tt("Buscar")])),_:1,__:[11]}),D(r,{onClick:t[2]||(t[2]=a=>i.open=!1),to:"/planos",class:"text-blue-600 hover:underline"},{default:st(()=>t[12]||(t[12]=[tt("Planos")])),_:1,__:[12]}),D(r,{onClick:t[3]||(t[3]=a=>i.open=!1),to:"/contato",class:"text-blue-600 hover:underline"},{default:st(()=>t[13]||(t[13]=[tt("Contato")])),_:1,__:[13]}),D(r,{onClick:t[4]||(t[4]=a=>i.open=!1),to:"/login",class:"btn"},{default:st(()=>t[14]||(t[14]=[tt("Login")])),_:1,__:[14]})])):W("",!0)])}const ze=mt(Bb,[["render",Wb]]),qb="/hero-illustration.png",Kb={name:"HeroBanner",data(){return{timeLeft:300,intervalId:null}},computed:{formattedTime(){const e=Math.floor(this.timeLeft/60).toString().padStart(2,"0"),t=(this.timeLeft%60).toString().padStart(2,"0");return`${e}:${t}`}},mounted(){this.intervalId=setInterval(()=>{this.timeLeft>0?this.timeLeft--:clearInterval(this.intervalId)},1e3)},beforeUnmount(){clearInterval(this.intervalId)}},Gb={class:"text-center py-20"},Yb={class:"max-w-4xl mx-auto px-4"},Jb={class:"grid grid-cols-1 md:grid-cols-2 items-center gap-8"},Xb={class:"space-x-4"},Qb={class:"mt-6 text-2xl text-blue-600 font-semibold"};function Zb(e,t,s,n,i,o){const r=H("router-link");return _(),k("section",Gb,[u("div",Yb,[u("div",Jb,[u("div",null,[t[2]||(t[2]=u("h1",{class:"text-4xl font-bold text-blue-800 mb-4"},"Sua agenda digital simples e profissional",-1)),t[3]||(t[3]=u("p",{class:"text-gray-600 text-lg mb-6"},"Perfeita para psiclogos, terapeutas, dentistas, cabeleireiros e mais",-1)),u("div",Xb,[D(r,{to:"/login",class:"bg-white border border-blue-600 text-blue-600 px-6 py-2 rounded hover:bg-blue-100"},{default:st(()=>t[0]||(t[0]=[tt("Entrar")])),_:1,__:[0]}),D(r,{to:"/cadastro",class:"btn"},{default:st(()=>t[1]||(t[1]=[tt("Criar conta")])),_:1,__:[1]})]),u("div",Qb," Tempo restante: "+P(o.formattedTime),1)]),t[4]||(t[4]=u("div",null,[u("img",{src:qb,alt:"Ilustrao profissional usando a plataforma",class:"w-full h-auto mx-auto"})],-1))])])])}const t0=mt(Kb,[["render",Zb]]),rs="/icons/check.svg",e0={name:"FeaturesSection"},s0={class:"py-16 px-8"};function n0(e,t,s,n,i,o){return _(),k("section",s0,t[0]||(t[0]=[ln('<h2 class="text-2xl font-bold text-center mb-8">Funcionalidades</h2><ul class="max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-4 text-gray-700 text-lg"><li class="flex items-start"><img src="'+rs+'" alt="" class="w-6 h-6 mt-1 mr-2"><span>Cadastro e autenticao de usurios</span></li><li class="flex items-start"><img src="'+rs+'" alt="" class="w-6 h-6 mt-1 mr-2"><span>Gesto de clientes, servios e salas</span></li><li class="flex items-start"><img src="'+rs+'" alt="" class="w-6 h-6 mt-1 mr-2"><span>Controle de agendamentos em lista, calendrio ou semana</span></li><li class="flex items-start"><img src="'+rs+'" alt="" class="w-6 h-6 mt-1 mr-2"><span>Dashboard com estatsticas e grficos</span></li><li class="flex items-start"><img src="'+rs+'" alt="" class="w-6 h-6 mt-1 mr-2"><span>Configurao de perfil pblico com link personalizado</span></li><li class="flex items-start"><img src="'+rs+'" alt="" class="w-6 h-6 mt-1 mr-2"><span>Gerao de comprovantes de atendimento</span></li><li class="flex items-start"><img src="'+rs+'" alt="" class="w-6 h-6 mt-1 mr-2"><span>Lembretes automticos para seus clientes</span></li><li class="flex items-start"><img src="'+rs+'" alt="" class="w-6 h-6 mt-1 mr-2"><span>Pagamentos via Pix de forma prtica e segura</span></li></ul>',2)]))}const i0=mt(e0,[["render",n0]]),o0="/about-illustration.png",r0={name:"AboutSection"},a0={class:"px-8 py-16"};function l0(e,t,s,n,i,o){return _(),k("section",a0,t[0]||(t[0]=[u("div",{class:"max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 items-center"},[u("div",null,[u("img",{src:o0,alt:"Ilustrao sobre agendamento",class:"w-full h-auto mx-auto"})]),u("div",null,[u("h2",{class:"text-2xl font-bold mb-4"},"O que  o Agenda Zen?"),u("p",{class:"text-gray-700 text-lg"}," O Agenda Zen  uma plataforma pensada para profissionais que trabalham com agendamentos. Criamos uma soluo simples, bonita e eficiente para divulgar seus servios, aceitar agendamentos online, enviar lembretes automticos e receber pagamentos por Pix  tudo sem complicao. ")])],-1)]))}const c0=mt(r0,[["render",l0]]),d0={name:"Footer"},u0={class:"bg-gray-100 text-center text-sm text-gray-500 py-6 space-y-2"},h0={class:"flex flex-wrap justify-center space-x-2"};function f0(e,t,s,n,i,o){const r=H("router-link");return _(),k("footer",u0,[t[9]||(t[9]=u("div",{class:"space-x-4 text-blue-600"},[u("a",{href:"https://www.instagram.com/agendazen_",target:"_blank",class:"hover:underline"},"Instagram"),u("a",{href:"https://www.facebook.com/agenda.zen",target:"_blank",class:"hover:underline"},"Facebook"),u("a",{href:"https://x.com/agenda_zen",target:"_blank",class:"hover:underline"},"X")],-1)),u("div",h0,[D(r,{to:"/termos-de-uso",class:"hover:underline"},{default:st(()=>t[0]||(t[0]=[tt("Termos de uso")])),_:1,__:[0]}),t[5]||(t[5]=u("span",null,"|",-1)),D(r,{to:"/planos",class:"hover:underline"},{default:st(()=>t[1]||(t[1]=[tt("Planos")])),_:1,__:[1]}),t[6]||(t[6]=u("span",null,"|",-1)),D(r,{to:"/contato",class:"hover:underline"},{default:st(()=>t[2]||(t[2]=[tt("Contato")])),_:1,__:[2]}),t[7]||(t[7]=u("span",null,"|",-1)),D(r,{to:"/faq",class:"hover:underline"},{default:st(()=>t[3]||(t[3]=[tt("FAQ")])),_:1,__:[3]}),t[8]||(t[8]=u("span",null,"|",-1)),D(r,{to:"/politica-de-privacidade",class:"hover:underline"},{default:st(()=>t[4]||(t[4]=[tt("Poltica de privacidade")])),_:1,__:[4]})]),t[10]||(t[10]=u("p",null," 2025 Agenda Zen  Todos os direitos reservados",-1))])}const He=mt(d0,[["render",f0]]),p0={name:"Home",components:{Navbar:ze,HeroBanner:t0,FeaturesSection:i0,AboutSection:c0,Footer:He}};function m0(e,t,s,n,i,o){const r=H("Navbar"),a=H("HeroBanner"),l=H("FeaturesSection"),c=H("AboutSection"),d=H("Footer");return _(),k(J,null,[D(r),D(a),D(l),D(c),D(d)],64)}const g0=mt(p0,[["render",m0]]),b0="modulepreload",y0=function(e){return"/"+e},Tc={},Fn=function(t,s,n){if(!s||s.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(s.map(o=>{if(o=y0(o),o in Tc)return;Tc[o]=!0;const r=o.endsWith(".css"),a=r?'[rel="stylesheet"]':"";if(!!n)for(let d=i.length-1;d>=0;d--){const h=i[d];if(h.href===o&&(!r||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const c=document.createElement("link");if(c.rel=r?"stylesheet":b0,r||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),r)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=o,window.dispatchEvent(r),!r.defaultPrevented)throw o})},x0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>Fn(()=>Promise.resolve().then(()=>Vn),void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)};class ul extends Error{constructor(t,s="FunctionsError",n){super(t),this.name=s,this.context=n}}class v0 extends ul{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class _0 extends ul{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class w0 extends ul{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ya;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ya||(ya={}));var k0=globalThis&&globalThis.__awaiter||function(e,t,s,n){function i(o){return o instanceof s?o:new s(function(r){r(o)})}return new(s||(s=Promise))(function(o,r){function a(d){try{c(n.next(d))}catch(h){r(h)}}function l(d){try{c(n.throw(d))}catch(h){r(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class S0{constructor(t,{headers:s={},customFetch:n,region:i=ya.Any}={}){this.url=t,this.headers=s,this.region=i,this.fetch=x0(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var n;return k0(this,void 0,void 0,function*(){try{const{headers:i,method:o,body:r}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;r&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&r instanceof Blob||r instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=r):typeof r=="string"?(a["Content-Type"]="text/plain",c=r):typeof FormData<"u"&&r instanceof FormData?c=r:(a["Content-Type"]="application/json",c=JSON.stringify(r)));const d=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(m=>{throw new v0(m)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new _0(d);if(!d.ok)throw new w0(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield d.json():f==="application/octet-stream"?p=yield d.blob():f==="text/event-stream"?p=d:f==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(i){return{data:null,error:i}}})}}var Ie=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gE(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function C0(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var s=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(s,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),s}var me={},hl={},fr={},Ki={},pr={},mr={},M0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},jn=M0();const A0=jn.fetch,Ih=jn.fetch.bind(jn),Rh=jn.Headers,P0=jn.Request,T0=jn.Response,Vn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Rh,Request:P0,Response:T0,default:Ih,fetch:A0},Symbol.toStringTag,{value:"Module"})),O0=C0(Vn);var gr={};Object.defineProperty(gr,"__esModule",{value:!0});let E0=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};gr.default=E0;var Lh=Ie&&Ie.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mr,"__esModule",{value:!0});const D0=Lh(O0),I0=Lh(gr);let R0=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=D0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,s){return this.headers=Object.assign({},this.headers),this.headers[t]=s,this}then(t,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var r,a,l;let c=null,d=null,h=null,f=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){const v=await o.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=v:d=JSON.parse(v))}const g=(r=this.headers.Prefer)===null||r===void 0?void 0:r.match(/count=(exact|planned|estimated)/),b=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await o.text();try{c=JSON.parse(g),Array.isArray(c)&&o.status===404&&(d=[],c=null,f=200,p="OK")}catch{o.status===404&&g===""?(f=204,p="No Content"):c={message:g}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,p="OK"),c&&this.shouldThrowOnError)throw new I0.default(c)}return{error:c,data:d,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(i=i.catch(o=>{var r,a,l;return{error:{message:`${(r=o==null?void 0:o.name)!==null&&r!==void 0?r:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o==null?void 0:o.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,s)}returns(){return this}overrideTypes(){return this}};mr.default=R0;var L0=Ie&&Ie.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pr,"__esModule",{value:!0});const F0=L0(mr);let j0=class extends F0.default{select(t){let s=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!s?"":(i==='"'&&(s=!s),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:s=!0,nullsFirst:n,foreignTable:i,referencedTable:o=i}={}){const r=o?`${o}.order`:"order",a=this.url.searchParams.get(r);return this.url.searchParams.set(r,`${a?`${a},`:""}${t}.${s?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:s,referencedTable:n=s}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,s,{foreignTable:n,referencedTable:i=n}={}){const o=typeof i>"u"?"offset":`${i}.offset`,r=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(r,`${s-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:s=!1,settings:n=!1,buffers:i=!1,wal:o=!1,format:r="text"}={}){var a;const l=[t?"analyze":null,s?"verbose":null,n?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${r}; for="${c}"; options=${l};`,r==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};pr.default=j0;var U0=Ie&&Ie.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ki,"__esModule",{value:!0});const N0=U0(pr);let $0=class extends N0.default{eq(t,s){return this.url.searchParams.append(t,`eq.${s}`),this}neq(t,s){return this.url.searchParams.append(t,`neq.${s}`),this}gt(t,s){return this.url.searchParams.append(t,`gt.${s}`),this}gte(t,s){return this.url.searchParams.append(t,`gte.${s}`),this}lt(t,s){return this.url.searchParams.append(t,`lt.${s}`),this}lte(t,s){return this.url.searchParams.append(t,`lte.${s}`),this}like(t,s){return this.url.searchParams.append(t,`like.${s}`),this}likeAllOf(t,s){return this.url.searchParams.append(t,`like(all).{${s.join(",")}}`),this}likeAnyOf(t,s){return this.url.searchParams.append(t,`like(any).{${s.join(",")}}`),this}ilike(t,s){return this.url.searchParams.append(t,`ilike.${s}`),this}ilikeAllOf(t,s){return this.url.searchParams.append(t,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(t,s){return this.url.searchParams.append(t,`ilike(any).{${s.join(",")}}`),this}is(t,s){return this.url.searchParams.append(t,`is.${s}`),this}in(t,s){const n=Array.from(new Set(s)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cs.{${s.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(s)}`),this}containedBy(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cd.{${s.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(s)}`),this}rangeGt(t,s){return this.url.searchParams.append(t,`sr.${s}`),this}rangeGte(t,s){return this.url.searchParams.append(t,`nxl.${s}`),this}rangeLt(t,s){return this.url.searchParams.append(t,`sl.${s}`),this}rangeLte(t,s){return this.url.searchParams.append(t,`nxr.${s}`),this}rangeAdjacent(t,s){return this.url.searchParams.append(t,`adj.${s}`),this}overlaps(t,s){return typeof s=="string"?this.url.searchParams.append(t,`ov.${s}`):this.url.searchParams.append(t,`ov.{${s.join(",")}}`),this}textSearch(t,s,{config:n,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const r=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${r}.${s}`),this}match(t){return Object.entries(t).forEach(([s,n])=>{this.url.searchParams.append(s,`eq.${n}`)}),this}not(t,s,n){return this.url.searchParams.append(t,`not.${s}.${n}`),this}or(t,{foreignTable:s,referencedTable:n=s}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,s,n){return this.url.searchParams.append(t,`${s}.${n}`),this}};Ki.default=$0;var B0=Ie&&Ie.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(fr,"__esModule",{value:!0});const Yn=B0(Ki);let V0=class{constructor(t,{headers:s={},schema:n,fetch:i}){this.url=t,this.headers=s,this.schema=n,this.fetch=i}select(t,{head:s=!1,count:n}={}){const i=s?"HEAD":"GET";let o=!1;const r=(t??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",r),n&&(this.headers.Prefer=`count=${n}`),new Yn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:s,defaultToNull:n=!0}={}){const i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const r=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(r.length>0){const a=[...new Set(r)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Yn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:s,ignoreDuplicates:n=!1,count:i,defaultToNull:o=!0}={}){const r="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new Yn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:s}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),this.headers.Prefer=i.join(","),new Yn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const s="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Yn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};fr.default=V0;var br={},yr={};Object.defineProperty(yr,"__esModule",{value:!0});yr.version=void 0;yr.version="0.0.0-automated";Object.defineProperty(br,"__esModule",{value:!0});br.DEFAULT_HEADERS=void 0;const z0=yr;br.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${z0.version}`};var Fh=Ie&&Ie.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hl,"__esModule",{value:!0});const H0=Fh(fr),W0=Fh(Ki),q0=br;let K0=class jh{constructor(t,{headers:s={},schema:n,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},q0.DEFAULT_HEADERS),s),this.schemaName=n,this.fetch=i}from(t){const s=new URL(`${this.url}/${t}`);return new H0.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new jh(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,s={},{head:n=!1,get:i=!1,count:o}={}){let r;const a=new URL(`${this.url}/rpc/${t}`);let l;n||i?(r=n?"HEAD":"GET",Object.entries(s).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(r="POST",l=s);const c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new W0.default({method:r,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};hl.default=K0;var zn=Ie&&Ie.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(me,"__esModule",{value:!0});me.PostgrestError=me.PostgrestBuilder=me.PostgrestTransformBuilder=me.PostgrestFilterBuilder=me.PostgrestQueryBuilder=me.PostgrestClient=void 0;const Uh=zn(hl);me.PostgrestClient=Uh.default;const Nh=zn(fr);me.PostgrestQueryBuilder=Nh.default;const $h=zn(Ki);me.PostgrestFilterBuilder=$h.default;const Bh=zn(pr);me.PostgrestTransformBuilder=Bh.default;const Vh=zn(mr);me.PostgrestBuilder=Vh.default;const zh=zn(gr);me.PostgrestError=zh.default;var G0=me.default={PostgrestClient:Uh.default,PostgrestQueryBuilder:Nh.default,PostgrestFilterBuilder:$h.default,PostgrestTransformBuilder:Bh.default,PostgrestBuilder:Vh.default,PostgrestError:zh.default};const{PostgrestClient:Y0,PostgrestQueryBuilder:wE,PostgrestFilterBuilder:kE,PostgrestTransformBuilder:SE,PostgrestBuilder:CE,PostgrestError:ME}=G0,J0="2.11.2",X0={"X-Client-Info":`realtime-js/${J0}`},Q0="1.0.0",Hh=1e4,Z0=1e3;var On;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(On||(On={}));var we;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(we||(we={}));var Le;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Le||(Le={}));var xa;(function(e){e.websocket="websocket"})(xa||(xa={}));var sn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(sn||(sn={}));class ty{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,s,n)}_decodeBroadcast(t,s,n){const i=s.getUint8(1),o=s.getUint8(2);let r=this.HEADER_LENGTH+2;const a=n.decode(t.slice(r,r+i));r=r+i;const l=n.decode(t.slice(r,r+o));r=r+o;const c=JSON.parse(n.decode(t.slice(r,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Wh{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Et;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Et||(Et={}));const Oc=(e,t,s={})=>{var n;const i=(n=s.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,r)=>(o[r]=ey(r,e,t,i),o),{})},ey=(e,t,s,n)=>{const i=t.find(a=>a.name===e),o=i==null?void 0:i.type,r=s[e];return o&&!n.includes(o)?qh(o,r):va(r)},qh=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return oy(t,s)}switch(e){case Et.bool:return sy(t);case Et.float4:case Et.float8:case Et.int2:case Et.int4:case Et.int8:case Et.numeric:case Et.oid:return ny(t);case Et.json:case Et.jsonb:return iy(t);case Et.timestamp:return ry(t);case Et.abstime:case Et.date:case Et.daterange:case Et.int4range:case Et.int8range:case Et.money:case Et.reltime:case Et.text:case Et.time:case Et.timestamptz:case Et.timetz:case Et.tsrange:case Et.tstzrange:return va(t);default:return va(t)}},va=e=>e,sy=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ny=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},iy=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},oy=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,n=e[s];if(e[0]==="{"&&n==="}"){let o;const r=e.slice(1,s);try{o=JSON.parse("["+r+"]")}catch{o=r?r.split(","):[]}return o.map(a=>qh(t,a))}return e},ry=e=>typeof e=="string"?e.replace(" ","T"):e,Kh=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class $r{constructor(t,s,n={},i=Hh){this.channel=t,this.event=s,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var n;return this._hasReceived(t)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ec;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ec||(Ec={}));class gi{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:o,onLeave:r,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=gi.syncState(this.state,i,o,r),this.pendingDiffs.forEach(l=>{this.state=gi.syncDiff(this.state,l,o,r)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{const{onJoin:o,onLeave:r,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=gi.syncDiff(this.state,i,o,r),a())}),this.onJoin((i,o,r)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:r})}),this.onLeave((i,o,r)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,n,i){const o=this.cloneDeep(t),r=this.transformState(s),a={},l={};return this.map(o,(c,d)=>{r[c]||(l[c]=d)}),this.map(r,(c,d)=>{const h=o[c];if(h){const f=d.map(b=>b.presence_ref),p=h.map(b=>b.presence_ref),m=d.filter(b=>p.indexOf(b.presence_ref)<0),g=h.filter(b=>f.indexOf(b.presence_ref)<0);m.length>0&&(a[c]=m),g.length>0&&(l[c]=g)}else a[c]=d}),this.syncDiff(o,{joins:a,leaves:l},n,i)}static syncDiff(t,s,n,i){const{joins:o,leaves:r}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;const d=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),d.length>0){const h=t[a].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);t[a].unshift(...f)}n(a,d,l)}),this.map(r,(a,l)=>{let c=t[a];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=c,i(a,c,l),c.length===0&&delete t[a]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(n=>s(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,n)=>{const i=t[n];return"metas"in i?s[n]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):s[n]=i,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Dc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Dc||(Dc={}));var Ic;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ic||(Ic={}));var ds;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ds||(ds={}));class fl{constructor(t,s={config:{}},n){this.topic=t,this.params=s,this.socket=n,this.bindings={},this.state=we.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new $r(this,Le.join,this.params,this.timeout),this.rejoinTimer=new Wh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=we.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=we.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Le.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new gi(this),this.broadcastEndpointURL=Kh(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:r,private:a}}=this.params;this._onError(d=>t==null?void 0:t(ds.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(ds.CLOSED));const l={},c={broadcast:o,presence:r,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(ds.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,m=[];for(let g=0;g<p;g++){const b=f[g],{filter:{event:v,schema:w,table:C,filter:S}}=b,M=d&&d[g];if(M&&M.event===v&&M.schema===w&&M.table===C&&M.filter===S)m.push(Object.assign(Object.assign({},b),{id:M.id}));else{this.unsubscribe(),t==null||t(ds.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(ds.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(ds.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ds.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,n){return this._on(t,s,n)}async send(t,s={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:r}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:r,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var r,a,l;const c=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(r=this.params)===null||r===void 0?void 0:r.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=we.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Le.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const i=new $r(this,Le.leave,{},t);i.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(t,s,n){const i=new AbortController,o=setTimeout(()=>i.abort(),n),r=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:i.signal}));return clearTimeout(o),r}_push(t,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new $r(this,t,s,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,s,n){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,n){var i,o;const r=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=Le;if(n&&[a,l,c,d].indexOf(r)>=0&&n!==this._joinRef())return;let f=this._onMessage(r,s,n);if(s&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(r)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var m,g,b;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((b=(g=p.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===r}).map(p=>p.callback(f,n)):(o=this.bindings[r])===null||o===void 0||o.filter(p=>{var m,g,b,v,w,C;if(["broadcast","presence","postgres_changes"].includes(r))if("id"in p){const S=p.id,M=(m=p.filter)===null||m===void 0?void 0:m.event;return S&&((g=s.ids)===null||g===void 0?void 0:g.includes(S))&&(M==="*"||(M==null?void 0:M.toLocaleLowerCase())===((b=s.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const S=(w=(v=p==null?void 0:p.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return S==="*"||S===((C=s==null?void 0:s.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===r}).map(p=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:g,table:b,commit_timestamp:v,type:w,errors:C}=m;f=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:v,eventType:w,new:{},old:{},errors:C}),this._getPayloadRecords(m))}p.callback(f,n)})}_isClosed(){return this.state===we.closed}_isJoined(){return this.state===we.joined}_isJoining(){return this.state===we.joining}_isLeaving(){return this.state===we.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,n){const i=t.toLocaleLowerCase(),o={type:i,filter:s,callback:n};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,s){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&fl.isEqual(i.filter,s))}),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const n in t)if(t[n]!==s[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Le.close,{},t)}_onError(t){this._on(Le.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=we.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=Oc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=Oc(t.columns,t.old_record)),s}}const ay=()=>{},ly=typeof WebSocket<"u",cy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class dy{constructor(t,s){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=X0,this.params={},this.timeout=Hh,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ay,this.conn=null,this.sendBuffer=[],this.serializer=new ty,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let r;return o?r=o:typeof fetch>"u"?r=(...a)=>Fn(()=>Promise.resolve().then(()=>Vn),void 0).then(({default:l})=>l(...a)):r=fetch,(...a)=>r(...a)},this.endPoint=`${t}/${xa.websocket}`,this.httpEndpoint=Kh(t),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const i=(n=s==null?void 0:s.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(o,r)=>r(JSON.stringify(o)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Wh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(ly){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new uy(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Fn(()=>import("./browser-74b99cb3.js").then(t=>t.b),[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Q0}))}disconnect(t,s){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),t}log(t,s,n){this.logger(t,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case On.connecting:return sn.Connecting;case On.open:return sn.Open;case On.closing:return sn.Closing;default:return sn.Closed}}isConnected(){return this.connectionState()===sn.Open}channel(t,s={config:{}}){const n=new fl(`realtime:${t}`,s,this);return this.channels.push(n),n}push(t){const{topic:s,event:n,payload:i,ref:o}=t,r=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${n} (${o})`,i),this.isConnected()?r():this.sendBuffer.push(r)}async setAuth(t=null){let s=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let n=null;try{n=JSON.parse(atob(s.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=s,this.channels.forEach(i=>{s&&i.updateJoinPayload({access_token:s}),i.joinedOnce&&i._isJoined()&&i._push(Le.access_token,{access_token:s})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Z0,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,s=>{let{topic:n,event:i,payload:o,ref:r}=s;r&&r===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${i} ${r&&"("+r+")"||""}`,o),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(i,o,r)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Le.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(s);return`${t}${n}${i}`}_workerObjectUrl(t){let s;if(t)s=t;else{const n=new Blob([cy],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}}class uy{constructor(t,s,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=On.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class pl extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Kt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class hy extends pl{constructor(t,s){super(t),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class _a extends pl{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var fy=globalThis&&globalThis.__awaiter||function(e,t,s,n){function i(o){return o instanceof s?o:new s(function(r){r(o)})}return new(s||(s=Promise))(function(o,r){function a(d){try{c(n.next(d))}catch(h){r(h)}}function l(d){try{c(n.throw(d))}catch(h){r(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const Gh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>Fn(()=>Promise.resolve().then(()=>Vn),void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)},py=()=>fy(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Fn(()=>Promise.resolve().then(()=>Vn),void 0)).Response:Response}),wa=e=>{if(Array.isArray(e))return e.map(s=>wa(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,n])=>{const i=s.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=wa(n)}),t};var hn=globalThis&&globalThis.__awaiter||function(e,t,s,n){function i(o){return o instanceof s?o:new s(function(r){r(o)})}return new(s||(s=Promise))(function(o,r){function a(d){try{c(n.next(d))}catch(h){r(h)}}function l(d){try{c(n.throw(d))}catch(h){r(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const Br=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),my=(e,t,s)=>hn(void 0,void 0,void 0,function*(){const n=yield py();e instanceof n&&!(s!=null&&s.noResolveJson)?e.json().then(i=>{t(new hy(Br(i),e.status||500))}).catch(i=>{t(new _a(Br(i),i))}):t(new _a(Br(e),e))}),gy=(e,t,s,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),s))};function Gi(e,t,s,n,i,o){return hn(this,void 0,void 0,function*(){return new Promise((r,a)=>{e(s,gy(t,n,i,o)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>r(l)).catch(l=>my(l,a,n))})})}function Wo(e,t,s,n){return hn(this,void 0,void 0,function*(){return Gi(e,"GET",t,s,n)})}function Os(e,t,s,n,i){return hn(this,void 0,void 0,function*(){return Gi(e,"POST",t,n,i,s)})}function by(e,t,s,n,i){return hn(this,void 0,void 0,function*(){return Gi(e,"PUT",t,n,i,s)})}function yy(e,t,s,n){return hn(this,void 0,void 0,function*(){return Gi(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),n)})}function Yh(e,t,s,n,i){return hn(this,void 0,void 0,function*(){return Gi(e,"DELETE",t,n,i,s)})}var he=globalThis&&globalThis.__awaiter||function(e,t,s,n){function i(o){return o instanceof s?o:new s(function(r){r(o)})}return new(s||(s=Promise))(function(o,r){function a(d){try{c(n.next(d))}catch(h){r(h)}}function l(d){try{c(n.throw(d))}catch(h){r(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const xy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Rc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class vy{constructor(t,s={},n,i){this.url=t,this.headers=s,this.bucketId=n,this.fetch=Gh(i)}uploadOrUpdate(t,s,n,i){return he(this,void 0,void 0,function*(){try{let o;const r=Object.assign(Object.assign({},Rc),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(r.upsert)});const l=r.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",r.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",r.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=n,a["cache-control"]=`max-age=${r.cacheControl}`,a["content-type"]=r.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(s),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:o,headers:a},r!=null&&r.duplex?{duplex:r.duplex}:{})),f=yield h.json();return h.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(o){if(Kt(o))return{data:null,error:o};throw o}})}upload(t,s,n){return he(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,n)})}uploadToSignedUrl(t,s,n,i){return he(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),r=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${r}`);a.searchParams.set("token",s);try{let l;const c=Object.assign({upsert:Rc.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),f=yield h.json();return h.ok?{data:{path:o,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(Kt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,s){return he(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);s!=null&&s.upsert&&(i["x-upsert"]="true");const o=yield Os(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),r=new URL(this.url+o.url),a=r.searchParams.get("token");if(!a)throw new pl("No token returned by API");return{data:{signedUrl:r.toString(),path:t,token:a},error:null}}catch(n){if(Kt(n))return{data:null,error:n};throw n}})}update(t,s,n){return he(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,n)})}move(t,s,n){return he(this,void 0,void 0,function*(){try{return{data:yield Os(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Kt(i))return{data:null,error:i};throw i}})}copy(t,s,n){return he(this,void 0,void 0,function*(){try{return{data:{path:(yield Os(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Kt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,s,n){return he(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield Os(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:s},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const r=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${r}`)},{data:o,error:null}}catch(i){if(Kt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,s,n){return he(this,void 0,void 0,function*(){try{const i=yield Os(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(r=>Object.assign(Object.assign({},r),{signedUrl:r.signedURL?encodeURI(`${this.url}${r.signedURL}${o}`):null})),error:null}}catch(i){if(Kt(i))return{data:null,error:i};throw i}})}download(t,s){return he(this,void 0,void 0,function*(){const i=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),r=o?`?${o}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Wo(this.fetch,`${this.url}/${i}/${a}${r}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Kt(a))return{data:null,error:a};throw a}})}info(t){return he(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const n=yield Wo(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:wa(n),error:null}}catch(n){if(Kt(n))return{data:null,error:n};throw n}})}exists(t){return he(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield yy(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Kt(n)&&n instanceof _a){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,s){const n=this._getFinalPath(t),i=[],o=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";o!==""&&i.push(o);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(t){return he(this,void 0,void 0,function*(){try{return{data:yield Yh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(Kt(s))return{data:null,error:s};throw s}})}list(t,s,n){return he(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},xy),s),{prefix:t||""});return{data:yield Os(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Kt(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const _y="2.7.1",wy={"X-Client-Info":`storage-js/${_y}`};var mn=globalThis&&globalThis.__awaiter||function(e,t,s,n){function i(o){return o instanceof s?o:new s(function(r){r(o)})}return new(s||(s=Promise))(function(o,r){function a(d){try{c(n.next(d))}catch(h){r(h)}}function l(d){try{c(n.throw(d))}catch(h){r(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class ky{constructor(t,s={},n){this.url=t,this.headers=Object.assign(Object.assign({},wy),s),this.fetch=Gh(n)}listBuckets(){return mn(this,void 0,void 0,function*(){try{return{data:yield Wo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Kt(t))return{data:null,error:t};throw t}})}getBucket(t){return mn(this,void 0,void 0,function*(){try{return{data:yield Wo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(Kt(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return mn(this,void 0,void 0,function*(){try{return{data:yield Os(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Kt(n))return{data:null,error:n};throw n}})}updateBucket(t,s){return mn(this,void 0,void 0,function*(){try{return{data:yield by(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Kt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return mn(this,void 0,void 0,function*(){try{return{data:yield Os(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Kt(s))return{data:null,error:s};throw s}})}deleteBucket(t){return mn(this,void 0,void 0,function*(){try{return{data:yield Yh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(Kt(s))return{data:null,error:s};throw s}})}}class Sy extends ky{constructor(t,s={},n){super(t,s,n)}from(t){return new vy(this.url,this.headers,t,this.fetch)}}const Cy="2.49.8";let si="";typeof Deno<"u"?si="deno":typeof document<"u"?si="web":typeof navigator<"u"&&navigator.product==="ReactNative"?si="react-native":si="node";const My={"X-Client-Info":`supabase-js-${si}/${Cy}`},Ay={headers:My},Py={schema:"public"},Ty={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Oy={};var Ey=globalThis&&globalThis.__awaiter||function(e,t,s,n){function i(o){return o instanceof s?o:new s(function(r){r(o)})}return new(s||(s=Promise))(function(o,r){function a(d){try{c(n.next(d))}catch(h){r(h)}}function l(d){try{c(n.throw(d))}catch(h){r(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const Dy=e=>{let t;return e?t=e:typeof fetch>"u"?t=Ih:t=fetch,(...s)=>t(...s)},Iy=()=>typeof Headers>"u"?Rh:Headers,Ry=(e,t,s)=>{const n=Dy(s),i=Iy();return(o,r)=>Ey(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new i(r==null?void 0:r.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(o,Object.assign(Object.assign({},r),{headers:c}))})};var Ly=globalThis&&globalThis.__awaiter||function(e,t,s,n){function i(o){return o instanceof s?o:new s(function(r){r(o)})}return new(s||(s=Promise))(function(o,r){function a(d){try{c(n.next(d))}catch(h){r(h)}}function l(d){try{c(n.throw(d))}catch(h){r(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};function Fy(e){return e.endsWith("/")?e:e+"/"}function jy(e,t){var s,n;const{db:i,auth:o,realtime:r,global:a}=e,{db:l,auth:c,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},d),r),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Ly(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const Jh="2.69.1",wn=30*1e3,ka=3,Vr=ka*wn,Uy="http://localhost:9999",Ny="supabase.auth.token",$y={"X-Client-Info":`gotrue-js/${Jh}`},Sa="X-Supabase-Api-Version",Xh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},By=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Vy=6e5;class ml extends Error{constructor(t,s,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function ft(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class zy extends ml{constructor(t,s,n){super(t,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function Hy(e){return ft(e)&&e.name==="AuthApiError"}class Qh extends ml{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class Vs extends ml{constructor(t,s,n,i){super(t,n,i),this.name=s,this.status=n}}class Cs extends Vs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Wy(e){return ft(e)&&e.name==="AuthSessionMissingError"}class zr extends Vs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class eo extends Vs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class so extends Vs{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function qy(e){return ft(e)&&e.name==="AuthImplicitGrantRedirectError"}class Lc extends Vs{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ca extends Vs{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function Hr(e){return ft(e)&&e.name==="AuthRetryableFetchError"}class Fc extends Vs{constructor(t,s,n){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}class bi extends Vs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const jc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Uc=` 	
\r=`.split(""),Ky=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Uc.length;t+=1)e[Uc[t].charCodeAt(0)]=-2;for(let t=0;t<jc.length;t+=1)e[jc[t].charCodeAt(0)]=t;return e})();function Zh(e,t,s){const n=Ky[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Nc(e){const t=[],s=r=>{t.push(String.fromCodePoint(r))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=r=>{Jy(r,n,s)};for(let r=0;r<e.length;r+=1)Zh(e.charCodeAt(r),i,o);return t.join("")}function Gy(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Yy(e,t){for(let s=0;s<e.length;s+=1){let n=e.charCodeAt(s);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(s+1)-56320&65535|i)+65536,s+=1}Gy(n,t)}}function Jy(e,t,s){if(t.utf8seq===0){if(e<=127){s(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function Xy(e){const t=[],s={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Zh(e.charCodeAt(i),s,n);return new Uint8Array(t)}function Qy(e){const t=[];return Yy(e,s=>t.push(s)),new Uint8Array(t)}function Zy(e){return Math.round(Date.now()/1e3)+e}function tx(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ge=()=>typeof window<"u"&&typeof document<"u",Ks={tested:!1,writable:!1},yi=()=>{if(!Ge())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ks.tested)return Ks.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ks.tested=!0,Ks.writable=!0}catch{Ks.tested=!0,Ks.writable=!1}return Ks.writable};function ex(e){const t={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return s.searchParams.forEach((n,i)=>{t[i]=n}),t}const tf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>Fn(()=>Promise.resolve().then(()=>Vn),void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)},sx=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ef=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},no=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},io=async(e,t)=>{await e.removeItem(t)};class xr{constructor(){this.promise=new xr.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}xr.promiseConstructor=Promise;function Wr(e){const t=e.split(".");if(t.length!==3)throw new bi("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!By.test(t[n]))throw new bi("JWT not in base64url format");return{header:JSON.parse(Nc(t[0])),payload:JSON.parse(Nc(t[1])),signature:Xy(t[2]),raw:{header:t[0],payload:t[1]}}}async function nx(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function ix(e,t){return new Promise((n,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const r=await e(o);if(!t(o,null,r)){n(r);return}}catch(r){if(!t(o,r)){i(r);return}}})()})}function ox(e){return("0"+e.toString(16)).substr(-2)}function rx(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let i="";for(let o=0;o<56;o++)i+=s.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,ox).join("")}async function ax(e){const s=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",s),i=new Uint8Array(n);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function lx(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await ax(e);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gn(e,t,s=!1){const n=rx();let i=n;s&&(i+="/PASSWORD_RECOVERY"),await ef(e,`${t}-code-verifier`,i);const o=await lx(n);return[o,n===o?"plain":"s256"]}const cx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function dx(e){const t=e.headers.get(Sa);if(!t||!t.match(cx))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function ux(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function hx(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var fx=globalThis&&globalThis.__rest||function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(s[n[i]]=e[n[i]]);return s};const Zs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),px=[502,503,504];async function $c(e){var t;if(!sx(e))throw new Ca(Zs(e),0);if(px.includes(e.status))throw new Ca(Zs(e),e.status);let s;try{s=await e.json()}catch(o){throw new Qh(Zs(o),o)}let n;const i=dx(e);if(i&&i.getTime()>=Xh["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new Fc(Zs(s),e.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Cs}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((o,r)=>o&&typeof r=="string",!0))throw new Fc(Zs(s),e.status,s.weak_password.reasons);throw new zy(Zs(s),e.status||500,n)}const mx=(e,t,s,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),s))};async function bt(e,t,s,n){var i;const o=Object.assign({},n==null?void 0:n.headers);o[Sa]||(o[Sa]=Xh["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const r=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(r.redirect_to=n.redirectTo);const a=Object.keys(r).length?"?"+new URLSearchParams(r).toString():"",l=await gx(e,t,s+a,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function gx(e,t,s,n,i,o){const r=mx(t,n,i,o);let a;try{a=await e(s,Object.assign({},r))}catch(l){throw console.error(l),new Ca(Zs(l),0)}if(a.ok||await $c(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await $c(l)}}function Ms(e){var t;let s=null;vx(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=Zy(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:n},error:null}}function Bc(e){const t=Ms(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ds(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function bx(e){return{data:e,error:null}}function yx(e){const{action_link:t,email_otp:s,hashed_token:n,redirect_to:i,verification_type:o}=e,r=fx(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:s,hashed_token:n,redirect_to:i,verification_type:o},l=Object.assign({},r);return{data:{properties:a,user:l},error:null}}function xx(e){return e}function vx(e){return e.access_token&&e.refresh_token&&e.expires_in}var _x=globalThis&&globalThis.__rest||function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(s[n[i]]=e[n[i]]);return s};class wx{constructor({url:t="",headers:s={},fetch:n}){this.url=t,this.headers=s,this.fetch=tf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s="global"){try{return await bt(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ft(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,s={}){try{return await bt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Ds})}catch(n){if(ft(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:s}=t,n=_x(t,["options"]),i=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await bt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:yx,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(ft(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await bt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ds})}catch(s){if(ft(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,n,i,o,r,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await bt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:xx});if(d.error)throw d.error;const h=await d.json(),f=(r=d.headers.get("x-total-count"))!==null&&r!==void 0?r:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(m.split(";")[1].split("=")[1]);c[`${b}Page`]=g}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(ft(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await bt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ds})}catch(s){if(ft(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){try{return await bt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Ds})}catch(n){if(ft(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,s=!1){try{return await bt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Ds})}catch(n){if(ft(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:s,error:n}=await bt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:s,error:n}}catch(s){if(ft(s))return{data:null,error:s};throw s}}async _deleteFactor(t){try{return{data:await bt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(ft(s))return{data:null,error:s};throw s}}}const kx={getItem:e=>yi()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{yi()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{yi()&&globalThis.localStorage.removeItem(e)}};function Vc(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}function Sx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const bn={debug:!!(globalThis&&yi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class sf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Cx extends sf{}async function Mx(e,t,s){bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),bn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await s()}finally{bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Cx(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(bn.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Sx();const Ax={url:Uy,storageKey:Ny,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$y,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function zc(e,t,s){return await s()}class Ii{constructor(t){var s,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ii.nextInstanceID,Ii.nextInstanceID+=1,this.instanceID>0&&Ge()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Ax),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new wx({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=tf(i.fetch),this.lock=i.lock||zc,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ge()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Mx:this.lock=zc,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:yi()?this.storage=kx:(this.memoryStorage={},this.storage=Vc(this.memoryStorage)):(this.memoryStorage={},this.storage=Vc(this.memoryStorage)),Ge()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Jh}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=ex(window.location.href);let n="none";if(this._isImplicitGrantCallback(s)?n="implicit":await this._isPKCECallback(s)&&(n="pkce"),Ge()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:o}=await this._getSessionFromURL(s,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),qy(o)){const l=(t=o.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:r,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",r,"redirect type",a),await this._saveSession(r),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ft(s)?{error:s}:{error:new Qh("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,n,i;try{const o=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ms}),{data:r,error:a}=o;if(a||!r)return{data:{user:null,session:null},error:a};const l=r.session,c=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(ft(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var s,n,i;try{let o;if("email"in t){const{email:d,password:h,options:f}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await gn(this.storage,this.storageKey)),o=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:m},xform:Ms})}else if("phone"in t){const{phone:d,password:h,options:f}=t;o=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ms})}else throw new eo("You must provide either an email or phone number and a password");const{data:r,error:a}=o;if(a||!r)return{data:{user:null,session:null},error:a};const l=r.session,c=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(ft(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let s;if("email"in t){const{email:o,password:r,options:a}=t;s=await bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:r,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Bc})}else if("phone"in t){const{phone:o,password:r,options:a}=t;s=await bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:r,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Bc})}else throw new eo("You must provide either an email or phone number and a password");const{data:n,error:i}=s;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new zr}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(s){if(ft(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,n,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const s=await no(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(s??"").split("/");try{const{data:o,error:r}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ms});if(await io(this.storage,`${this.storageKey}-code-verifier`),r)throw r;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new zr}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:r})}catch(o){if(ft(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:s,provider:n,token:i,access_token:o,nonce:r}=t,a=await bt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:o,nonce:r,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ms}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new zr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(s){if(ft(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,n,i,o,r;try{if("email"in t){const{email:a,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await gn(this.storage,this.storageKey));const{error:h}=await bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:d}=await bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(r=l==null?void 0:l.channel)!==null&&r!==void 0?r:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new eo("You must provide either an email or phone number.")}catch(a){if(ft(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var s,n;try{let i,o;"options"in t&&(i=(s=t.options)===null||s===void 0?void 0:s.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:r,error:a}=await bt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Ms});if(a)throw a;if(!r)throw new Error("An error occurred on token verification.");const l=r.session,c=r.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ft(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var s,n,i;try{let o=null,r=null;return this.flowType==="pkce"&&([o,r]=await gn(this.storage,this.storageKey)),await bt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:r}),headers:this.headers,xform:bx})}catch(o){if(ft(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:n}=t;if(n)throw n;if(!s)throw new Cs;const{error:i}=await bt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(ft(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:o}=t,{error:r}=await bt(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:r}}else if("phone"in t){const{phone:n,type:i,options:o}=t,{data:r,error:a}=await bt(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:r==null?void 0:r.message_id},error:a}}throw new eo("You must provide either an email or phone number and a type")}catch(s){if(ft(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await no(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Vr:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let r=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,d)=>(!r&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:t},error:null}}const{session:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ds}):await this._useSession(async s=>{var n,i,o;const{data:r,error:a}=s;if(a)throw a;return!(!((n=r.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Cs}:await bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=r.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Ds})})}catch(s){if(ft(s))return Wy(s)&&(await this._removeSession(),await io(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async n=>{const{data:i,error:o}=n;if(o)throw o;if(!i.session)throw new Cs;const r=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await gn(this.storage,this.storageKey));const{data:c,error:d}=await bt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:r.access_token,xform:Ds});if(d)throw d;return r.user=c.user,await this._saveSession(r),await this._notifyAllSubscribers("USER_UPDATED",r),{data:{user:r.user},error:null}})}catch(n){if(ft(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Cs;const s=Date.now()/1e3;let n=s,i=!0,o=null;const{payload:r}=Wr(t.access_token);if(r.exp&&(n=r.exp,i=n<=s),i){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(s){if(ft(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var n;if(!t){const{data:r,error:a}=s;if(a)throw a;t=(n=r.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Cs;const{session:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(ft(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!Ge())throw new so("No browser detected.");if(t.error||t.error_description||t.error_code)throw new so(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Lc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new so("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Lc("No code detected.");const{data:w,error:C}=await this._exchangeCodeForSession(t.code);if(C)throw C;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:o,refresh_token:r,expires_in:a,expires_at:l,token_type:c}=t;if(!o||!a||!r||!c)throw new so("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const p=f-d;p*1e3<=wn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const m=f-h;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,d);const{data:g,error:b}=await this._getUser(o);if(b)throw b;const v={provider_token:n,provider_refresh_token:i,access_token:o,expires_in:h,expires_at:f,refresh_token:r,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(ft(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await no(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:i,error:o}=s;if(o)return{error:o};const r=(n=i.session)===null||n===void 0?void 0:n.access_token;if(r){const{error:a}=await this.admin.signOut(r,t);if(a&&!(Hy(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await io(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=tx(),n={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async s=>{var n,i;try{const{data:{session:o},error:r}=s;if(r)throw r;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,s={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await gn(this.storage,this.storageKey,!0));try{return await bt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(o){if(ft(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(ft(s))return{data:null,error:s};throw s}}async linkIdentity(t){var s;try{const{data:n,error:i}=await this._useSession(async o=>{var r,a,l,c,d;const{data:h,error:f}=o;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await bt(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Ge()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ft(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async s=>{var n,i;const{data:o,error:r}=s;if(r)throw r;return await bt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(s){if(ft(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await ix(async i=>(i>0&&await nx(200*Math.pow(2,i-1)),this._debug(s,"refreshing attempt",i),await bt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ms})),(i,o)=>{const r=200*Math.pow(2,i);return o&&Hr(o)&&Date.now()+r-n<wn})}catch(n){if(this._debug(s,"error",n),ft(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",n),Ge()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await no(this.storage,this.storageKey);if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Vr;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${Vr}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),Hr(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var s,n;if(!t)throw new Cs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new xr;const{data:o,error:r}=await this._refreshAccessToken(t);if(r)throw r;if(!o.session)throw new Cs;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(i,"error",o),ft(o)){const r={session:null,error:o};return Hr(o)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(r),r}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,s,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:s});const o=[],r=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,s)}catch(l){o.push(l)}});if(await Promise.all(r),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ef(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await io(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ge()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),wn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/wn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${wn}ms, refresh threshold is ${ka} ticks`),i<=ka&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof sf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ge()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,n){const i=[`provider=${encodeURIComponent(s)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,r]=await gn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(r)}`});i.push(a.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);i.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var n;const{data:i,error:o}=s;return o?{data:null,error:o}:await bt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(ft(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var n,i;const{data:o,error:r}=s;if(r)return{data:null,error:r};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await bt(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(ft(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const{data:r,error:a}=await bt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+r.expires_in},r)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",r),{data:r,error:a})})}catch(s){if(ft(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:i,error:o}=s;return o?{data:null,error:o}:await bt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(ft(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const n=(t==null?void 0:t.factors)||[],i=n.filter(r=>r.factor_type==="totp"&&r.status==="verified"),o=n.filter(r=>r.factor_type==="phone"&&r.status==="verified");return{data:{all:n,totp:i,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,n;const{data:{session:i},error:o}=t;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:r}=Wr(i.access_token);let a=null;r.aal&&(a=r.aal);let l=a;((n=(s=i.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=r.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,s={keys:[]}){let n=s.keys.find(r=>r.kid===t);if(n||(n=this.jwks.keys.find(r=>r.kid===t),n&&this.jwks_cached_at+Vy>Date.now()))return n;const{data:i,error:o}=await bt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!i.keys||i.keys.length===0)throw new bi("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),n=i.keys.find(r=>r.kid===t),!n)throw new bi("No matching signing key found in JWKS");return n}async getClaims(t,s={keys:[]}){try{let n=t;if(!n){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};n=p.session.access_token}const{header:i,payload:o,signature:r,raw:{header:a,payload:l}}=Wr(n);if(ux(o.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:o,header:i,signature:r},error:null}}const c=hx(i.alg),d=await this.fetchJwk(i.kid,s),h=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,r,Qy(`${a}.${l}`)))throw new bi("Invalid JWT signature");return{data:{claims:o,header:i,signature:r},error:null}}catch(n){if(ft(n))return{data:null,error:n};throw n}}}Ii.nextInstanceID=0;const Px=Ii;class Tx extends Px{constructor(t){super(t)}}var Ox=globalThis&&globalThis.__awaiter||function(e,t,s,n){function i(o){return o instanceof s?o:new s(function(r){r(o)})}return new(s||(s=Promise))(function(o,r){function a(d){try{c(n.next(d))}catch(h){r(h)}}function l(d){try{c(n.throw(d))}catch(h){r(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class Ex{constructor(t,s,n){var i,o,r;if(this.supabaseUrl=t,this.supabaseKey=s,!t)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=Fy(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:Py,realtime:Oy,auth:Object.assign(Object.assign({},Ty),{storageKey:c}),global:Ay},h=jy(n??{},d);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((r=h.auth)!==null&&r!==void 0?r:{},this.headers,h.global.fetch),this.fetch=Ry(s,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Y0(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new S0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Sy(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},n={}){return this.rest.rpc(t,s,n)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return Ox(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(s=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:n,storage:i,storageKey:o,flowType:r,lock:a,debug:l},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Tx({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:o,autoRefreshToken:t,persistSession:s,detectSessionInUrl:n,storage:i,flowType:r,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new dy(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,s,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Dx=(e,t,s)=>new Ex(e,t,s),Ix="https://nivvbndswqkjnifvkauf.supabase.co",Rx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5pdnZibmRzd3Fram5pZnZrYXVmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc4NTAzMzEsImV4cCI6MjA2MzQyNjMzMX0.UocPLAEg1htKV7ZivlqRR3GZhDDCNi1jSseGikVpYv4",N=Dx(Ix,Rx);function nf(e){const t=e.replace(/\D/g,"").slice(0,11),s=t.slice(0,3),n=t.slice(3,6),i=t.slice(6,9),o=t.slice(9,11);return t.length<=3?t:t.length<=6?`${s}.${t.slice(3)}`:t.length<=9?`${s}.${n}.${t.slice(6)}`:`${s}.${n}.${i}-${o}`}function of(e){const t=e.replace(/\D/g,"").slice(0,8),s=t.slice(0,5),n=t.slice(5);return t.length<=5?t:`${s}-${n}`}function ss(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}const Lx={name:"Signup",components:{Navbar:ze,Footer:He},data(){return{name:"",email:"",password:""}},methods:{async handleSignup(){if(!this.name){alert("Informe o nome");return}if(this.email&&!ss(this.email)){alert("E-mail invlido");return}const{data:e,error:t}=await N.auth.signUp({email:this.email,password:this.password,options:{data:{name:this.name,display_name:this.name}}});alert(t?"Erro ao cadastrar: "+t.message:"Cadastro realizado! Verifique seu e-mail para ativar a conta.")}}},Fx={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 px-4"},jx={class:"bg-white p-10 rounded-2xl shadow-xl w-full max-w-lg"},Ux={class:"mt-6 text-center text-sm text-gray-500"};function Nx(e,t,s,n,i,o){const r=H("Navbar"),a=H("router-link"),l=H("Footer");return _(),k(J,null,[D(r),u("section",Fx,[u("div",jx,[t[10]||(t[10]=u("div",{class:"mb-8 text-center"},[u("h2",{class:"text-3xl font-extrabold text-blue-700"},"Crie sua conta"),u("p",{class:"text-gray-500"},"Comece agora a organizar seus atendimentos com praticidade")],-1)),u("form",{onSubmit:t[3]||(t[3]=ie((...c)=>o.handleSignup&&o.handleSignup(...c),["prevent"])),class:"space-y-5"},[u("div",null,[t[4]||(t[4]=u("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"name"},"Nome",-1)),O(u("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>i.name=c),type:"text",id:"name",placeholder:"Seu nome",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[j,i.name]])]),u("div",null,[t[5]||(t[5]=u("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"email"},"E-mail",-1)),O(u("input",{"onUpdate:modelValue":t[1]||(t[1]=c=>i.email=c),type:"email",id:"email",placeholder:"seu@email.com",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[j,i.email]])]),u("div",null,[t[6]||(t[6]=u("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"password"},"Senha",-1)),O(u("input",{"onUpdate:modelValue":t[2]||(t[2]=c=>i.password=c),type:"password",id:"password",placeholder:"********",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[j,i.password]])]),t[7]||(t[7]=u("button",{type:"submit",class:"btn w-full"},"Cadastrar",-1))],32),u("p",Ux,[t[9]||(t[9]=tt(" J tem uma conta? ")),D(a,{to:"/login",class:"text-blue-600 hover:underline"},{default:st(()=>t[8]||(t[8]=[tt("Entrar")])),_:1,__:[8]})])])]),D(l)],64)}const $x=mt(Lx,[["render",Nx]]),Bx={name:"Login",components:{Navbar:ze,Footer:He},data(){return{email:"",password:"",loginError:""}},methods:{async handleLogin(){if(this.loginError="",this.email&&!ss(this.email)){this.loginError="E-mail invlido";return}const{error:e}=await N.auth.signInWithPassword({email:this.email,password:this.password});e?e.message&&e.message.toLowerCase().includes("confirm")?alert("Voc precisa confirmar o e-mail antes de acessar o sistema."):this.loginError="E-mail ou senha invlidos":this.$router.push("/dashboard")},async handleGoogleLogin(){const{error:e}=await N.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/#/dashboard"}});e&&alert("Erro ao entrar com Google: "+e.message)},clearError(){this.loginError=""}}},Vx={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-100 to-blue-100 px-4"},zx={class:"bg-white p-10 rounded-2xl shadow-xl w-full max-w-lg"},Hx={key:0,class:"text-red-600 text-center text-sm"},Wx={class:"mt-6 text-center text-sm text-gray-500"};function qx(e,t,s,n,i,o){const r=H("Navbar"),a=H("router-link"),l=H("Footer");return _(),k(J,null,[D(r),u("section",Vx,[u("div",zx,[t[11]||(t[11]=u("div",{class:"mb-8 text-center"},[u("h2",{class:"text-3xl font-extrabold text-blue-700"},"Entrar"),u("p",{class:"text-gray-500"},"Acesse sua conta do Agenda Zen")],-1)),u("form",{onSubmit:t[5]||(t[5]=ie((...c)=>o.handleLogin&&o.handleLogin(...c),["prevent"])),class:"space-y-5"},[u("div",null,[t[6]||(t[6]=u("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"email"},"E-mail",-1)),O(u("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>i.email=c),onInput:t[1]||(t[1]=(...c)=>o.clearError&&o.clearError(...c)),type:"email",id:"email",placeholder:"seu@email.com",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,544),[[j,i.email]])]),u("div",null,[t[7]||(t[7]=u("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"password"},"Senha",-1)),O(u("input",{"onUpdate:modelValue":t[2]||(t[2]=c=>i.password=c),onInput:t[3]||(t[3]=(...c)=>o.clearError&&o.clearError(...c)),type:"password",id:"password",placeholder:"********",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,544),[[j,i.password]])]),i.loginError?(_(),k("p",Hx,P(i.loginError),1)):W("",!0),t[8]||(t[8]=u("button",{type:"submit",class:"btn w-full"},"Entrar",-1)),u("button",{type:"button",onClick:t[4]||(t[4]=(...c)=>o.handleGoogleLogin&&o.handleGoogleLogin(...c)),class:"w-full bg-red-500 text-white font-semibold py-3 rounded-lg hover:bg-red-600 transition duration-200"},"Entrar com Google")],32),u("p",Wx,[t[10]||(t[10]=tt(" Ainda no tem conta? ")),D(a,{to:"/cadastro",class:"text-blue-600 hover:underline"},{default:st(()=>t[9]||(t[9]=[tt("Criar agora")])),_:1,__:[9]})])])]),D(l)],64)}const Kx=mt(Bx,[["render",qx]]);function vr(e){const t=e.replace(/\D/g,"").slice(0,11),s=t.slice(0,2);if(t.length<=2)return t?`(${s}`:"";if(t.length<=6){const o=t.slice(2);return`(${s}) ${o}`}if(t.length<=10){const o=t.slice(2,6),r=t.slice(6);return`(${s}) ${o}${r?`-${r}`:""}`}const n=t.slice(2,7),i=t.slice(7);return`(${s}) ${n}-${i}`}function Ma(e){return e.replace(/\D/g,"")}const Gx={name:"Onboarding",data(){return{userId:null,step:1,form:{businessName:"",phone:"",email:""},agenda:{startTime:"",endTime:"",daysOfWeek:[]},serviceForm:{name:"",duration:"",price:""},services:[],daysOfWeekOptions:[{value:"0",label:"Domingo"},{value:"1",label:"Segunda"},{value:"2",label:"Tera"},{value:"3",label:"Quarta"},{value:"4",label:"Quinta"},{value:"5",label:"Sexta"},{value:"6",label:"Sbado"}]}},methods:{phoneMask:vr,generateSlug(e){return e?e.toLowerCase().normalize("NFD").replace(/\p{Diacritic}/gu,"").replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""):""},async next(){this.step===1?(await this.saveProfile(),this.step++):this.step===2?(await this.saveAgenda(),this.step++):this.step===3&&(await this.saveServices(),this.step++)},prev(){this.step>1&&this.step--},async saveProfile(){if(this.form.email&&!ss(this.form.email)){alert("E-mail invlido");return}const e={id:this.userId,business_name:this.form.businessName,slug:this.generateSlug(this.form.businessName),phone:this.form.phone,email:this.form.email};await N.from("profiles").upsert(e,{onConflict:["id"]})},async saveAgenda(){const e={id:this.userId,start_time:this.agenda.startTime,end_time:this.agenda.endTime,week_days:this.agenda.daysOfWeek.join(",")};await N.from("profiles").upsert(e,{onConflict:["id"]})},async saveServices(){for(const e of this.services)await N.from("services").insert({name:e.name,duration:e.duration,price:parseFloat(e.price),user_id:this.userId})},addService(){this.serviceForm.name&&(this.services.push({name:this.serviceForm.name,duration:this.serviceForm.duration,price:this.serviceForm.price}),this.serviceForm={name:"",duration:"",price:""})},removeService(e){this.services.splice(e,1)},formatPrice(e){return e==null||e===""?"":Number(e).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}},async mounted(){const{data:{user:e}}=await N.auth.getUser();if(!e){this.$router.push("/login");return}this.userId=e.id}},Yx={class:"min-h-screen flex bg-gray-100 items-center justify-center p-4"},Jx={class:"bg-white p-6 rounded-lg shadow w-full max-w-2xl"},Xx={key:0,class:"space-y-4"},Qx={key:1,class:"space-y-4"},Zx={class:"mt-1 space-y-1"},tv=["value"],ev={key:2,class:"space-y-4"},sv={class:"flex justify-end"},nv={class:"mt-4 space-y-1"},iv=["onClick"],ov={key:3,class:"space-y-4 text-center"},rv={key:4,class:"flex justify-between mt-6"},av={key:5,class:"flex justify-center mt-6"};function lv(e,t,s,n,i,o){return _(),k("div",Yx,[u("div",Jx,[i.step===1?(_(),k("div",Xx,[t[17]||(t[17]=u("h2",{class:"text-xl font-semibold mb-4"},"Bem-vindo! Vamos comear pelo seu perfil.",-1)),u("div",null,[t[14]||(t[14]=u("label",{class:"block text-sm font-medium text-gray-700"},"Nome Comercial",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=r=>i.form.businessName=r),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.form.businessName]])]),u("div",null,[t[15]||(t[15]=u("label",{class:"block text-sm font-medium text-gray-700"},"Telefone",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=r=>i.form.phone=r),onInput:t[2]||(t[2]=r=>i.form.phone=o.phoneMask(i.form.phone)),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,544),[[j,i.form.phone]])]),u("div",null,[t[16]||(t[16]=u("label",{class:"block text-sm font-medium text-gray-700"},"E-mail",-1)),O(u("input",{type:"email","onUpdate:modelValue":t[3]||(t[3]=r=>i.form.email=r),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.form.email]])])])):i.step===2?(_(),k("div",Qx,[t[21]||(t[21]=u("h2",{class:"text-xl font-semibold mb-4"},"Horrios de atendimento",-1)),u("div",null,[t[18]||(t[18]=u("label",{class:"block text-sm font-medium text-gray-700"},"Incio",-1)),O(u("input",{type:"time","onUpdate:modelValue":t[4]||(t[4]=r=>i.agenda.startTime=r),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.agenda.startTime]])]),u("div",null,[t[19]||(t[19]=u("label",{class:"block text-sm font-medium text-gray-700"},"Fim",-1)),O(u("input",{type:"time","onUpdate:modelValue":t[5]||(t[5]=r=>i.agenda.endTime=r),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.agenda.endTime]])]),u("div",null,[t[20]||(t[20]=u("label",{class:"block text-sm font-medium text-gray-700"},"Dias da semana",-1)),u("div",Zx,[(_(!0),k(J,null,pt(i.daysOfWeekOptions,r=>(_(),k("label",{key:r.value,class:"flex items-center space-x-2"},[O(u("input",{type:"checkbox",value:r.value,"onUpdate:modelValue":t[6]||(t[6]=a=>i.agenda.daysOfWeek=a)},null,8,tv),[[ll,i.agenda.daysOfWeek]]),u("span",null,P(r.label),1)]))),128))])])])):i.step===3?(_(),k("div",ev,[t[25]||(t[25]=u("h2",{class:"text-xl font-semibold mb-4"},"Cadastre seus servios",-1)),u("div",null,[t[22]||(t[22]=u("label",{class:"block text-sm font-medium text-gray-700"},"Nome",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=r=>i.serviceForm.name=r),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.serviceForm.name]])]),u("div",null,[t[23]||(t[23]=u("label",{class:"block text-sm font-medium text-gray-700"},"Durao",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=r=>i.serviceForm.duration=r),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.serviceForm.duration]])]),u("div",null,[t[24]||(t[24]=u("label",{class:"block text-sm font-medium text-gray-700"},"Valor",-1)),O(u("input",{type:"number",step:"0.01","onUpdate:modelValue":t[9]||(t[9]=r=>i.serviceForm.price=r),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.serviceForm.price]])]),u("div",sv,[u("button",{onClick:t[10]||(t[10]=(...r)=>o.addService&&o.addService(...r)),class:"btn"},"Adicionar")]),u("ul",nv,[(_(!0),k(J,null,pt(i.services,(r,a)=>(_(),k("li",{key:a,class:"flex justify-between"},[u("span",null,P(r.name)+" - "+P(r.duration)+"min - "+P(o.formatPrice(r.price)),1),u("button",{onClick:l=>o.removeService(a),class:"text-red-600 hover:underline"},"Remover",8,iv)]))),128))])])):i.step===4?(_(),k("div",ov,t[26]||(t[26]=[u("h2",{class:"text-2xl font-semibold"},"Pronto!",-1),u("p",null,"Seu cadastro inicial est concludo.",-1),u("p",{class:"text-lg"},"Bem-vindo ao Agenda Zen!",-1)]))):W("",!0),i.step<4?(_(),k("div",rv,[i.step>1?(_(),k("button",{key:0,onClick:t[11]||(t[11]=(...r)=>o.prev&&o.prev(...r)),class:"px-4 py-2 border rounded"},"Voltar")):W("",!0),u("button",{onClick:t[12]||(t[12]=(...r)=>o.next&&o.next(...r)),class:"btn ml-auto"},P(i.step===3?"Finalizar":"Prximo"),1)])):(_(),k("div",av,[u("button",{onClick:t[13]||(t[13]=r=>e.$router.push("/dashboard")),class:"btn"},"Ir para o Dashboard")]))])])}const cv=mt(Gx,[["render",lv]]),dv={name:"Sidebar",props:{isOpen:{type:Boolean,default:!0}}},uv={class:"space-y-6 mt-8"},hv={class:"space-y-2"},fv={class:"space-y-2"},pv={class:"space-y-2"},mv={class:"space-y-2"},gv={class:"space-y-2"};function bv(e,t,s,n,i,o){const r=H("router-link");return _(),k("div",null,[s.isOpen?(_(),k("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:t[0]||(t[0]=a=>e.$emit("close"))})):W("",!0),u("aside",{class:be(["fixed inset-y-0 left-0 transform bg-white shadow-md transition-all duration-200 z-50 md:relative overflow-hidden flex flex-col min-h-screen",s.isOpen?"w-64 p-6 translate-x-0":"w-0 p-0 -translate-x-full"])},[u("button",{class:"absolute top-4 right-4 text-gray-600 focus:outline-none",onClick:t[1]||(t[1]=a=>e.$emit("close"))},t[2]||(t[2]=[u("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])),t[19]||(t[19]=u("h2",{class:"text-2xl font-bold text-blue-600 mb-6"},"Agenda Zen",-1)),u("nav",uv,[u("div",hv,[t[5]||(t[5]=u("h3",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wide"},"Atendimento",-1)),D(r,{to:"/dashboard",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:st(()=>t[3]||(t[3]=[u("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l9-9 9 9M4 10v10a1 1 0 001 1h3m10-11v10a1 1 0 01-1 1h-3m-6 0h6"})],-1),u("span",null,"Incio",-1)])),_:1,__:[3]}),D(r,{to:"/agendamentos",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:st(()=>t[4]||(t[4]=[u("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2","stroke-width":"2"}),u("line",{x1:"16",y1:"2",x2:"16",y2:"6","stroke-width":"2"}),u("line",{x1:"8",y1:"2",x2:"8",y2:"6","stroke-width":"2"}),u("line",{x1:"3",y1:"10",x2:"21",y2:"10","stroke-width":"2"})],-1),u("span",null,"Atendimento",-1)])),_:1,__:[4]})]),u("div",fv,[t[9]||(t[9]=u("h3",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wide"},"Cadastros",-1)),D(r,{to:"/clientes",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:st(()=>t[6]||(t[6]=[u("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("circle",{cx:"12",cy:"7",r:"4","stroke-width":"2"}),u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 21v-2a6 6 0 0112 0v2"})],-1),u("span",null,"Clientes",-1)])),_:1,__:[6]}),D(r,{to:"/servicos",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:st(()=>t[7]||(t[7]=[u("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2","stroke-width":"2"}),u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V5a4 4 0 018 0v2"})],-1),u("span",null,"Servios",-1)])),_:1,__:[7]}),D(r,{to:"/salas",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:st(()=>t[8]||(t[8]=[u("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2","stroke-width":"2"}),u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 3v18M15 3v18M3 9h18M3 15h18"})],-1),u("span",null,"Salas",-1)])),_:1,__:[8]})]),u("div",pv,[t[11]||(t[11]=u("h3",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wide"},"Relatrios",-1)),D(r,{to:"/faturamento",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:st(()=>t[10]||(t[10]=[u("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3v18h18M9 17v-4M13 17v-8M17 17V7"})],-1),u("span",null,"Faturamento",-1)])),_:1,__:[10]})]),u("div",mv,[t[14]||(t[14]=u("h3",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wide"},"Pagamentos",-1)),D(r,{to:"/comprovantes",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:st(()=>t[12]||(t[12]=[u("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01"})],-1),u("span",null,"Comprovantes",-1)])),_:1,__:[12]}),D(r,{to:"/templates",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:st(()=>t[13]||(t[13]=[u("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4h16v4H4V4zm0 6h16v10H4V10z"})],-1),u("span",null,"Templates",-1)])),_:1,__:[13]})]),u("div",gv,[t[18]||(t[18]=u("h3",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wide"},"Conta",-1)),D(r,{to:"/configuracao",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:st(()=>t[15]||(t[15]=[u("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("circle",{cx:"12",cy:"8",r:"4","stroke-width":"2"}),u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 21v-2a6 6 0 0112 0v2"})],-1),u("span",null,"Perfil",-1)])),_:1,__:[15]}),D(r,{to:"/usuarios",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:st(()=>t[16]||(t[16]=[u("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("circle",{cx:"12",cy:"8",r:"4","stroke-width":"2"}),u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 21v-2a6 6 0 0112 0v2"})],-1),u("span",null,"Usurios",-1)])),_:1,__:[16]}),D(r,{to:"/minha-assinatura",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:st(()=>t[17]||(t[17]=[u("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2",ry:"2","stroke-width":"2"}),u("line",{x1:"3",y1:"9",x2:"21",y2:"9","stroke-width":"2"})],-1),u("span",null,"Minha Assinatura",-1)])),_:1,__:[17]})])])],2)])}const Ae=mt(dv,[["render",bv]]),yv={name:"HeaderUser",props:{title:{type:String,default:"Agenda Zen"}},data(){return{userName:null,showMenu:!1}},async mounted(){var t,s;const{data:{user:e}}=await N.auth.getUser();if(!e)this.$router.push("/login");else{const n=((t=e.user_metadata)==null?void 0:t.display_name)||((s=e.user_metadata)==null?void 0:s.name);this.userName=n&&n.trim()!==""?n:e.email}},methods:{toggleMenu(){this.showMenu=!this.showMenu},async handleLogout(){this.showMenu=!1,await N.auth.signOut(),this.$router.push("/")}}},xv={class:"flex justify-between items-center mb-8"},vv={class:"text-2xl font-semibold text-gray-800"},_v={key:0,class:"relative"},wv={class:"text-gray-600"},kv={key:0,class:"absolute right-0 mt-2 w-48 bg-white border rounded shadow-md"};function Sv(e,t,s,n,i,o){const r=H("router-link");return _(),k("header",xv,[u("h1",vv,P(s.title),1),i.userName?(_(),k("div",_v,[u("button",{onClick:t[0]||(t[0]=(...a)=>o.toggleMenu&&o.toggleMenu(...a)),class:"flex items-center space-x-2 focus:outline-none"},[t[3]||(t[3]=u("svg",{class:"w-5 h-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("circle",{cx:"12",cy:"8",r:"4","stroke-width":"2"}),u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 21v-2a6 6 0 0112 0v2"})],-1)),u("span",wv,P(i.userName),1),(_(),k("svg",{class:be(["w-4 h-4 text-gray-600 transition-transform",{"rotate-180":i.showMenu}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},t[2]||(t[2]=[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),i.showMenu?(_(),k("div",kv,[D(r,{to:"/",class:"block px-4 py-2 hover:bg-gray-100"},{default:st(()=>t[4]||(t[4]=[tt("Incio")])),_:1,__:[4]}),D(r,{to:"/configuracao",class:"block px-4 py-2 hover:bg-gray-100"},{default:st(()=>t[5]||(t[5]=[tt("Perfil")])),_:1,__:[5]}),D(r,{to:"/usuarios",class:"block px-4 py-2 hover:bg-gray-100"},{default:st(()=>t[6]||(t[6]=[tt("Usurios")])),_:1,__:[6]}),D(r,{to:"/minha-assinatura",class:"block px-4 py-2 hover:bg-gray-100"},{default:st(()=>t[7]||(t[7]=[tt("Assinatura")])),_:1,__:[7]}),u("button",{onClick:t[1]||(t[1]=(...a)=>o.handleLogout&&o.handleLogout(...a)),class:"w-full text-left px-4 py-2 hover:bg-gray-100"},"Sair")])):W("",!0)])):W("",!0)])}const Pe=mt(yv,[["render",Sv]]),Cv={name:"Modal"},Mv={class:"bg-white p-6 rounded-lg shadow-lg w-full max-w-lg md:max-w-2xl max-h-[90vh] overflow-y-auto"};function Av(e,t,s,n,i,o){return _(),k("div",{class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:t[0]||(t[0]=ie(r=>e.$emit("close"),["self"]))},[u("div",Mv,[mm(e.$slots,"default")])])}const zs=mt(Cv,[["render",Av]]),Pv={name:"WeekView",props:{appointments:{type:Array,required:!0},getClientName:{type:Function,required:!0}},data(){const e=new Date,t=new Date(e);return t.setDate(e.getDate()-(e.getDay()+6)%7),{weekStart:t,daysOfWeek:["Seg","Ter","Qua","Qui","Sex","Sb","Dom"],startTime:"00:00",endTime:"23:00",dailySchedule:null,timeSlots:[],currentLineTop:0,lineInterval:null}},computed:{weekEnd(){const e=new Date(this.weekStart);return e.setDate(e.getDate()+6),e},showCurrentLine(){const e=this.timeSlots.length*64,t=new Date,s=t.getHours()*60+t.getMinutes(),[n,i]=this.startTime.split(":").map(Number),[o,r]=this.endTime.split(":").map(Number),a=n*60+i,l=o*60+r,c=s>=a&&s<=l,d=this.currentLineTop>=0&&this.currentLineTop<=e;return c&&d}},methods:{generateTimeSlots(){const e=Math.max(0,parseInt(this.startTime.split(":")[0])-1),t=Math.min(23,parseInt(this.endTime.split(":")[0])+1);this.timeSlots=[];for(let s=e;s<=t;s++)this.timeSlots.push(`${String(s).padStart(2,"0")}:00`)},formatDate(e){const t=String(e.getMonth()+1).padStart(2,"0");return`${String(e.getDate()).padStart(2,"0")}/${t}`},formatISO(e){const t=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");return`${e.getFullYear()}-${t}-${s}`},getDateOfDay(e){const t=new Date(this.weekStart);return t.setDate(t.getDate()+e),t},getAppointmentsForSlot(e,t){const s=this.formatISO(this.getDateOfDay(e)),n=parseInt(t.split(":")[0]);return this.appointments.filter(i=>i.date===s&&parseInt(i.time.substring(0,2))===n).sort((i,o)=>i.time.localeCompare(o.time))},updateCurrentLine(){if(this.timeSlots.length===0)return;const e=parseInt(this.timeSlots[0].split(":")[0]),t=new Date,n=(t.getHours()+t.getMinutes()/60-e)*64;this.currentLineTop=n},prevWeek(){const e=new Date(this.weekStart);e.setDate(e.getDate()-7),this.weekStart=e},nextWeek(){const e=new Date(this.weekStart);e.setDate(e.getDate()+7),this.weekStart=e},isToday(e){const t=new Date;return this.getDateOfDay(e).toDateString()===t.toDateString()}},watch:{startTime(){this.generateTimeSlots(),this.$nextTick(this.updateCurrentLine)},endTime(){this.generateTimeSlots(),this.$nextTick(this.updateCurrentLine)}},async mounted(){const{data:{user:e}}=await N.auth.getUser();if(e){const{data:t}=await N.from("profiles").select("start_time, end_time, daily_schedule").eq("id",e.id).single();if(t)if(t.daily_schedule){this.dailySchedule=typeof t.daily_schedule=="string"?JSON.parse(t.daily_schedule):t.daily_schedule;const s=Object.values(this.dailySchedule).filter(n=>n&&n.enabled&&n.start&&n.end);s.length&&(this.startTime=s.reduce((n,i)=>!n||i.start<n?i.start:n,null),this.endTime=s.reduce((n,i)=>!n||i.end>n?i.end:n,null))}else t.start_time&&(this.startTime=t.start_time),t.end_time&&(this.endTime=t.end_time)}this.generateTimeSlots(),this.updateCurrentLine(),this.lineInterval=setInterval(this.updateCurrentLine,6e4)},beforeUnmount(){this.lineInterval&&clearInterval(this.lineInterval)}},Tv={class:"bg-white rounded-lg shadow overflow-hidden"},Ov={class:"flex justify-between items-center px-4 py-2 border-b bg-gray-50"},Ev={class:"font-semibold"},Dv={class:"relative overflow-x-auto"},Iv={ref:"grid",class:"grid gap-px text-sm bg-gray-100",style:{gridTemplateColumns:"64px repeat(7, 1fr)"}},Rv={class:"font-semibold text-right pr-1 border bg-gray-50"},Lv=["onClick"];function Fv(e,t,s,n,i,o){return _(),k("div",Tv,[u("div",Ov,[u("button",{onClick:t[0]||(t[0]=(...r)=>o.prevWeek&&o.prevWeek(...r)),class:"p-1 rounded hover:bg-gray-200"},t[2]||(t[2]=[u("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),u("div",Ev,P(o.formatDate(i.weekStart))+" - "+P(o.formatDate(o.weekEnd)),1),u("button",{onClick:t[1]||(t[1]=(...r)=>o.nextWeek&&o.nextWeek(...r)),class:"p-1 rounded hover:bg-gray-200"},t[3]||(t[3]=[u("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))]),u("div",Dv,[o.showCurrentLine?(_(),k("div",{key:0,class:"absolute left-0 right-0 border-t-2 border-blue-500 pointer-events-none",style:ir({top:i.currentLineTop+"px"})},null,4)):W("",!0),u("div",Iv,[t[4]||(t[4]=u("div",{class:"bg-gray-50"},null,-1)),(_(!0),k(J,null,pt(i.daysOfWeek,(r,a)=>(_(),k("div",{key:r,class:be(["font-semibold text-center border px-1 bg-gray-50",{"bg-blue-50 border-l-4 border-blue-500":o.isToday(a)}])},P(r),3))),128)),(_(!0),k(J,null,pt(i.timeSlots,r=>(_(),k(J,{key:r},[u("div",Rv,P(r),1),(_(),k(J,null,pt(7,a=>u("div",{key:r+"-"+a,class:be(["border h-16 p-1 overflow-auto bg-white",{"bg-blue-50":o.isToday(a-1)}])},[u("ul",null,[(_(!0),k(J,null,pt(o.getAppointmentsForSlot(a-1,r),l=>(_(),k("li",{key:l.id,class:"text-xs truncate cursor-pointer",onClick:c=>e.$emit("select",l)},P(l.time)+" - "+P(s.getClientName(l.client_id)),9,Lv))),128))])],2)),64))],64))),128))],512)])])}const rf=mt(Pv,[["render",Fv]]);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Yi(e){return e+.5|0}const Is=(e,t,s)=>Math.max(Math.min(e,s),t);function ni(e){return Is(Yi(e*2.55),0,255)}function Us(e){return Is(Yi(e*255),0,255)}function us(e){return Is(Yi(e/2.55)/100,0,1)}function Hc(e){return Is(Yi(e*100),0,100)}const Oe={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Aa=[..."0123456789ABCDEF"],jv=e=>Aa[e&15],Uv=e=>Aa[(e&240)>>4]+Aa[e&15],oo=e=>(e&240)>>4===(e&15),Nv=e=>oo(e.r)&&oo(e.g)&&oo(e.b)&&oo(e.a);function $v(e){var t=e.length,s;return e[0]==="#"&&(t===4||t===5?s={r:255&Oe[e[1]]*17,g:255&Oe[e[2]]*17,b:255&Oe[e[3]]*17,a:t===5?Oe[e[4]]*17:255}:(t===7||t===9)&&(s={r:Oe[e[1]]<<4|Oe[e[2]],g:Oe[e[3]]<<4|Oe[e[4]],b:Oe[e[5]]<<4|Oe[e[6]],a:t===9?Oe[e[7]]<<4|Oe[e[8]]:255})),s}const Bv=(e,t)=>e<255?t(e):"";function Vv(e){var t=Nv(e)?jv:Uv;return e?"#"+t(e.r)+t(e.g)+t(e.b)+Bv(e.a,t):void 0}const zv=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function af(e,t,s){const n=t*Math.min(s,1-s),i=(o,r=(o+e/30)%12)=>s-n*Math.max(Math.min(r-3,9-r,1),-1);return[i(0),i(8),i(4)]}function Hv(e,t,s){const n=(i,o=(i+e/60)%6)=>s-s*t*Math.max(Math.min(o,4-o,1),0);return[n(5),n(3),n(1)]}function Wv(e,t,s){const n=af(e,1,.5);let i;for(t+s>1&&(i=1/(t+s),t*=i,s*=i),i=0;i<3;i++)n[i]*=1-t-s,n[i]+=t;return n}function qv(e,t,s,n,i){return e===i?(t-s)/n+(t<s?6:0):t===i?(s-e)/n+2:(e-t)/n+4}function gl(e){const s=e.r/255,n=e.g/255,i=e.b/255,o=Math.max(s,n,i),r=Math.min(s,n,i),a=(o+r)/2;let l,c,d;return o!==r&&(d=o-r,c=a>.5?d/(2-o-r):d/(o+r),l=qv(s,n,i,d,o),l=l*60+.5),[l|0,c||0,a]}function bl(e,t,s,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,s,n)).map(Us)}function yl(e,t,s){return bl(af,e,t,s)}function Kv(e,t,s){return bl(Wv,e,t,s)}function Gv(e,t,s){return bl(Hv,e,t,s)}function lf(e){return(e%360+360)%360}function Yv(e){const t=zv.exec(e);let s=255,n;if(!t)return;t[5]!==n&&(s=t[6]?ni(+t[5]):Us(+t[5]));const i=lf(+t[2]),o=+t[3]/100,r=+t[4]/100;return t[1]==="hwb"?n=Kv(i,o,r):t[1]==="hsv"?n=Gv(i,o,r):n=yl(i,o,r),{r:n[0],g:n[1],b:n[2],a:s}}function Jv(e,t){var s=gl(e);s[0]=lf(s[0]+t),s=yl(s),e.r=s[0],e.g=s[1],e.b=s[2]}function Xv(e){if(!e)return;const t=gl(e),s=t[0],n=Hc(t[1]),i=Hc(t[2]);return e.a<255?`hsla(${s}, ${n}%, ${i}%, ${us(e.a)})`:`hsl(${s}, ${n}%, ${i}%)`}const Wc={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},qc={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Qv(){const e={},t=Object.keys(qc),s=Object.keys(Wc);let n,i,o,r,a;for(n=0;n<t.length;n++){for(r=a=t[n],i=0;i<s.length;i++)o=s[i],a=a.replace(o,Wc[o]);o=parseInt(qc[r],16),e[a]=[o>>16&255,o>>8&255,o&255]}return e}let ro;function Zv(e){ro||(ro=Qv(),ro.transparent=[0,0,0,0]);const t=ro[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const t_=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function e_(e){const t=t_.exec(e);let s=255,n,i,o;if(t){if(t[7]!==n){const r=+t[7];s=t[8]?ni(r):Is(r*255,0,255)}return n=+t[1],i=+t[3],o=+t[5],n=255&(t[2]?ni(n):Is(n,0,255)),i=255&(t[4]?ni(i):Is(i,0,255)),o=255&(t[6]?ni(o):Is(o,0,255)),{r:n,g:i,b:o,a:s}}}function s_(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${us(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const qr=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,yn=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function n_(e,t,s){const n=yn(us(e.r)),i=yn(us(e.g)),o=yn(us(e.b));return{r:Us(qr(n+s*(yn(us(t.r))-n))),g:Us(qr(i+s*(yn(us(t.g))-i))),b:Us(qr(o+s*(yn(us(t.b))-o))),a:e.a+s*(t.a-e.a)}}function ao(e,t,s){if(e){let n=gl(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*s,t===0?360:1)),n=yl(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function cf(e,t){return e&&Object.assign(t||{},e)}function Kc(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Us(e[3]))):(t=cf(e,{r:0,g:0,b:0,a:1}),t.a=Us(t.a)),t}function i_(e){return e.charAt(0)==="r"?e_(e):Yv(e)}class Ri{constructor(t){if(t instanceof Ri)return t;const s=typeof t;let n;s==="object"?n=Kc(t):s==="string"&&(n=$v(t)||Zv(t)||i_(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=cf(this._rgb);return t&&(t.a=us(t.a)),t}set rgb(t){this._rgb=Kc(t)}rgbString(){return this._valid?s_(this._rgb):void 0}hexString(){return this._valid?Vv(this._rgb):void 0}hslString(){return this._valid?Xv(this._rgb):void 0}mix(t,s){if(t){const n=this.rgb,i=t.rgb;let o;const r=s===o?.5:s,a=2*r-1,l=n.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;o=1-c,n.r=255&c*n.r+o*i.r+.5,n.g=255&c*n.g+o*i.g+.5,n.b=255&c*n.b+o*i.b+.5,n.a=r*n.a+(1-r)*i.a,this.rgb=n}return this}interpolate(t,s){return t&&(this._rgb=n_(this._rgb,t._rgb,s)),this}clone(){return new Ri(this.rgb)}alpha(t){return this._rgb.a=Us(t),this}clearer(t){const s=this._rgb;return s.a*=1-t,this}greyscale(){const t=this._rgb,s=Yi(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=s,this}opaquer(t){const s=this._rgb;return s.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return ao(this._rgb,2,t),this}darken(t){return ao(this._rgb,2,-t),this}saturate(t){return ao(this._rgb,1,t),this}desaturate(t){return ao(this._rgb,1,-t),this}rotate(t){return Jv(this._rgb,t),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function os(){}const o_=(()=>{let e=0;return()=>e++})();function gt(e){return e==null}function Lt(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function yt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function $t(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function ke(e,t){return $t(e)?e:t}function ht(e,t){return typeof e>"u"?t:e}const r_=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,df=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function It(e,t,s){if(e&&typeof e.call=="function")return e.apply(s,t)}function Mt(e,t,s,n){let i,o,r;if(Lt(e))if(o=e.length,n)for(i=o-1;i>=0;i--)t.call(s,e[i],i);else for(i=0;i<o;i++)t.call(s,e[i],i);else if(yt(e))for(r=Object.keys(e),o=r.length,i=0;i<o;i++)t.call(s,e[r[i]],r[i])}function qo(e,t){let s,n,i,o;if(!e||!t||e.length!==t.length)return!1;for(s=0,n=e.length;s<n;++s)if(i=e[s],o=t[s],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function Ko(e){if(Lt(e))return e.map(Ko);if(yt(e)){const t=Object.create(null),s=Object.keys(e),n=s.length;let i=0;for(;i<n;++i)t[s[i]]=Ko(e[s[i]]);return t}return e}function uf(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function a_(e,t,s,n){if(!uf(e))return;const i=t[e],o=s[e];yt(i)&&yt(o)?Li(i,o,n):t[e]=Ko(o)}function Li(e,t,s){const n=Lt(t)?t:[t],i=n.length;if(!yt(e))return e;s=s||{};const o=s.merger||a_;let r;for(let a=0;a<i;++a){if(r=n[a],!yt(r))continue;const l=Object.keys(r);for(let c=0,d=l.length;c<d;++c)o(l[c],e,r,s)}return e}function xi(e,t){return Li(e,t,{merger:l_})}function l_(e,t,s){if(!uf(e))return;const n=t[e],i=s[e];yt(n)&&yt(i)?xi(n,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Ko(i))}const Gc={"":e=>e,x:e=>e.x,y:e=>e.y};function c_(e){const t=e.split("."),s=[];let n="";for(const i of t)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}function d_(e){const t=c_(e);return s=>{for(const n of t){if(n==="")break;s=s&&s[n]}return s}}function $s(e,t){return(Gc[t]||(Gc[t]=d_(t)))(e)}function xl(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Fi=e=>typeof e<"u",Bs=e=>typeof e=="function",Yc=(e,t)=>{if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0};function u_(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const jt=Math.PI,Ft=2*jt,h_=Ft+jt,Go=Number.POSITIVE_INFINITY,f_=jt/180,Vt=jt/2,Gs=jt/4,Jc=jt*2/3,Rs=Math.log10,ts=Math.sign;function vi(e,t,s){return Math.abs(e-t)<s}function Xc(e){const t=Math.round(e);e=vi(e,t,e/1e3)?t:e;const s=Math.pow(10,Math.floor(Rs(e))),n=e/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function p_(e){const t=[],s=Math.sqrt(e);let n;for(n=1;n<s;n++)e%n===0&&(t.push(n),t.push(e/n));return s===(s|0)&&t.push(s),t.sort((i,o)=>i-o).pop(),t}function m_(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Un(e){return!m_(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function g_(e,t){const s=Math.round(e);return s-t<=e&&s+t>=e}function hf(e,t,s){let n,i,o;for(n=0,i=e.length;n<i;n++)o=e[n][s],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function je(e){return e*(jt/180)}function vl(e){return e*(180/jt)}function Qc(e){if(!$t(e))return;let t=1,s=0;for(;Math.round(e*t)/t!==e;)t*=10,s++;return s}function ff(e,t){const s=t.x-e.x,n=t.y-e.y,i=Math.sqrt(s*s+n*n);let o=Math.atan2(n,s);return o<-.5*jt&&(o+=Ft),{angle:o,distance:i}}function Pa(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function b_(e,t){return(e-t+h_)%Ft-jt}function Se(e){return(e%Ft+Ft)%Ft}function ji(e,t,s,n){const i=Se(e),o=Se(t),r=Se(s),a=Se(o-i),l=Se(r-i),c=Se(i-o),d=Se(i-r);return i===o||i===r||n&&o===r||a>l&&c<d}function Gt(e,t,s){return Math.max(t,Math.min(s,e))}function y_(e){return Gt(e,-32768,32767)}function ps(e,t,s,n=1e-6){return e>=Math.min(t,s)-n&&e<=Math.max(t,s)+n}function _l(e,t,s){s=s||(r=>e[r]<t);let n=e.length-1,i=0,o;for(;n-i>1;)o=i+n>>1,s(o)?i=o:n=o;return{lo:i,hi:n}}const ms=(e,t,s,n)=>_l(e,s,n?i=>{const o=e[i][t];return o<s||o===s&&e[i+1][t]===s}:i=>e[i][t]<s),x_=(e,t,s)=>_l(e,s,n=>e[n][t]>=s);function v_(e,t,s){let n=0,i=e.length;for(;n<i&&e[n]<t;)n++;for(;i>n&&e[i-1]>s;)i--;return n>0||i<e.length?e.slice(n,i):e}const pf=["push","pop","shift","splice","unshift"];function __(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),pf.forEach(s=>{const n="_onData"+xl(s),i=e[s];Object.defineProperty(e,s,{configurable:!0,enumerable:!1,value(...o){const r=i.apply(this,o);return e._chartjs.listeners.forEach(a=>{typeof a[n]=="function"&&a[n](...o)}),r}})})}function Zc(e,t){const s=e._chartjs;if(!s)return;const n=s.listeners,i=n.indexOf(t);i!==-1&&n.splice(i,1),!(n.length>0)&&(pf.forEach(o=>{delete e[o]}),delete e._chartjs)}function mf(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const gf=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function bf(e,t){let s=[],n=!1;return function(...i){s=i,n||(n=!0,gf.call(window,()=>{n=!1,e.apply(t,s)}))}}function w_(e,t){let s;return function(...n){return t?(clearTimeout(s),s=setTimeout(e,t,n)):e.apply(this,n),t}}const wl=e=>e==="start"?"left":e==="end"?"right":"center",Zt=(e,t,s)=>e==="start"?t:e==="end"?s:(t+s)/2,k_=(e,t,s,n)=>e===(n?"left":"right")?s:e==="center"?(t+s)/2:t;function yf(e,t,s){const n=t.length;let i=0,o=n;if(e._sorted){const{iScale:r,vScale:a,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=r.axis,{min:h,max:f,minDefined:p,maxDefined:m}=r.getUserBounds();if(p){if(i=Math.min(ms(l,d,h).lo,s?n:ms(t,d,r.getPixelForValue(h)).lo),c){const g=l.slice(0,i+1).reverse().findIndex(b=>!gt(b[a.axis]));i-=Math.max(0,g)}i=Gt(i,0,n-1)}if(m){let g=Math.max(ms(l,r.axis,f,!0).hi+1,s?0:ms(t,d,r.getPixelForValue(f),!0).hi+1);if(c){const b=l.slice(g-1).findIndex(v=>!gt(v[a.axis]));g+=Math.max(0,b)}o=Gt(g,i,n)-i}else o=n-i}return{start:i,count:o}}function xf(e){const{xScale:t,yScale:s,_scaleRanges:n}=e,i={xmin:t.min,xmax:t.max,ymin:s.min,ymax:s.max};if(!n)return e._scaleRanges=i,!0;const o=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==s.min||n.ymax!==s.max;return Object.assign(n,i),o}const lo=e=>e===0||e===1,td=(e,t,s)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Ft/s)),ed=(e,t,s)=>Math.pow(2,-10*e)*Math.sin((e-t)*Ft/s)+1,_i={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Vt)+1,easeOutSine:e=>Math.sin(e*Vt),easeInOutSine:e=>-.5*(Math.cos(jt*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>lo(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>lo(e)?e:td(e,.075,.3),easeOutElastic:e=>lo(e)?e:ed(e,.075,.3),easeInOutElastic(e){return lo(e)?e:e<.5?.5*td(e*2,.1125,.45):.5+.5*ed(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-_i.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?_i.easeInBounce(e*2)*.5:_i.easeOutBounce(e*2-1)*.5+.5};function kl(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function sd(e){return kl(e)?e:new Ri(e)}function Kr(e){return kl(e)?e:new Ri(e).saturate(.5).darken(.1).hexString()}const S_=["x","y","borderWidth","radius","tension"],C_=["color","borderColor","backgroundColor"];function M_(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:C_},numbers:{type:"number",properties:S_}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function A_(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const nd=new Map;function P_(e,t){t=t||{};const s=e+JSON.stringify(t);let n=nd.get(s);return n||(n=new Intl.NumberFormat(e,t),nd.set(s,n)),n}function Ji(e,t,s){return P_(t,s).format(e)}const vf={values(e){return Lt(e)?e:""+e},numeric(e,t,s){if(e===0)return"0";const n=this.chart.options.locale;let i,o=e;if(s.length>1){const c=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),o=T_(e,s)}const r=Rs(Math.abs(o)),a=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Ji(e,n,l)},logarithmic(e,t,s){if(e===0)return"0";const n=s[t].significand||e/Math.pow(10,Math.floor(Rs(e)));return[1,2,3,5,10,15].includes(n)||t>.8*s.length?vf.numeric.call(this,e,t,s):""}};function T_(e,t){let s=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(s)>=1&&e!==Math.floor(e)&&(s=e-Math.floor(e)),s}var _r={formatters:vf};function O_(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,s)=>s.lineWidth,tickColor:(t,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:_r.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const cn=Object.create(null),Ta=Object.create(null);function wi(e,t){if(!t)return e;const s=t.split(".");for(let n=0,i=s.length;n<i;++n){const o=s[n];e=e[o]||(e[o]=Object.create(null))}return e}function Gr(e,t,s){return typeof t=="string"?Li(wi(e,t),s):Li(wi(e,""),t)}class E_{constructor(t,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>Kr(i.backgroundColor),this.hoverBorderColor=(n,i)=>Kr(i.borderColor),this.hoverColor=(n,i)=>Kr(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(s)}set(t,s){return Gr(this,t,s)}get(t){return wi(this,t)}describe(t,s){return Gr(Ta,t,s)}override(t,s){return Gr(cn,t,s)}route(t,s,n,i){const o=wi(this,t),r=wi(this,n),a="_"+s;Object.defineProperties(o,{[a]:{value:o[s],writable:!0},[s]:{enumerable:!0,get(){const l=this[a],c=r[i];return yt(l)?Object.assign({},c,l):ht(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(s=>s(this))}}var Nt=new E_({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[M_,A_,O_]);function D_(e){return!e||gt(e.size)||gt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function Yo(e,t,s,n,i){let o=t[i];return o||(o=t[i]=e.measureText(i).width,s.push(i)),o>n&&(n=o),n}function I_(e,t,s,n){n=n||{};let i=n.data=n.data||{},o=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(i=n.data={},o=n.garbageCollect=[],n.font=t),e.save(),e.font=t;let r=0;const a=s.length;let l,c,d,h,f;for(l=0;l<a;l++)if(h=s[l],h!=null&&!Lt(h))r=Yo(e,i,o,r,h);else if(Lt(h))for(c=0,d=h.length;c<d;c++)f=h[c],f!=null&&!Lt(f)&&(r=Yo(e,i,o,r,f));e.restore();const p=o.length/2;if(p>s.length){for(l=0;l<p;l++)delete i[o[l]];o.splice(0,p)}return r}function Ys(e,t,s){const n=e.currentDevicePixelRatio,i=s!==0?Math.max(s/2,.5):0;return Math.round((t-i)*n)/n+i}function id(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Oa(e,t,s,n){_f(e,t,s,n,null)}function _f(e,t,s,n,i){let o,r,a,l,c,d,h,f;const p=t.pointStyle,m=t.rotation,g=t.radius;let b=(m||0)*f_;if(p&&typeof p=="object"&&(o=p.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(s,n),e.rotate(b),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),p){default:i?e.ellipse(s,n,i/2,g,0,0,Ft):e.arc(s,n,g,0,Ft),e.closePath();break;case"triangle":d=i?i/2:g,e.moveTo(s+Math.sin(b)*d,n-Math.cos(b)*g),b+=Jc,e.lineTo(s+Math.sin(b)*d,n-Math.cos(b)*g),b+=Jc,e.lineTo(s+Math.sin(b)*d,n-Math.cos(b)*g),e.closePath();break;case"rectRounded":c=g*.516,l=g-c,r=Math.cos(b+Gs)*l,h=Math.cos(b+Gs)*(i?i/2-c:l),a=Math.sin(b+Gs)*l,f=Math.sin(b+Gs)*(i?i/2-c:l),e.arc(s-h,n-a,c,b-jt,b-Vt),e.arc(s+f,n-r,c,b-Vt,b),e.arc(s+h,n+a,c,b,b+Vt),e.arc(s-f,n+r,c,b+Vt,b+jt),e.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*g,d=i?i/2:l,e.rect(s-d,n-l,2*d,2*l);break}b+=Gs;case"rectRot":h=Math.cos(b)*(i?i/2:g),r=Math.cos(b)*g,a=Math.sin(b)*g,f=Math.sin(b)*(i?i/2:g),e.moveTo(s-h,n-a),e.lineTo(s+f,n-r),e.lineTo(s+h,n+a),e.lineTo(s-f,n+r),e.closePath();break;case"crossRot":b+=Gs;case"cross":h=Math.cos(b)*(i?i/2:g),r=Math.cos(b)*g,a=Math.sin(b)*g,f=Math.sin(b)*(i?i/2:g),e.moveTo(s-h,n-a),e.lineTo(s+h,n+a),e.moveTo(s+f,n-r),e.lineTo(s-f,n+r);break;case"star":h=Math.cos(b)*(i?i/2:g),r=Math.cos(b)*g,a=Math.sin(b)*g,f=Math.sin(b)*(i?i/2:g),e.moveTo(s-h,n-a),e.lineTo(s+h,n+a),e.moveTo(s+f,n-r),e.lineTo(s-f,n+r),b+=Gs,h=Math.cos(b)*(i?i/2:g),r=Math.cos(b)*g,a=Math.sin(b)*g,f=Math.sin(b)*(i?i/2:g),e.moveTo(s-h,n-a),e.lineTo(s+h,n+a),e.moveTo(s+f,n-r),e.lineTo(s-f,n+r);break;case"line":r=i?i/2:Math.cos(b)*g,a=Math.sin(b)*g,e.moveTo(s-r,n-a),e.lineTo(s+r,n+a);break;case"dash":e.moveTo(s,n),e.lineTo(s+Math.cos(b)*(i?i/2:g),n+Math.sin(b)*g);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function gs(e,t,s){return s=s||.5,!t||e&&e.x>t.left-s&&e.x<t.right+s&&e.y>t.top-s&&e.y<t.bottom+s}function wr(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function kr(e){e.restore()}function R_(e,t,s,n,i){if(!t)return e.lineTo(s.x,s.y);if(i==="middle"){const o=(t.x+s.x)/2;e.lineTo(o,t.y),e.lineTo(o,s.y)}else i==="after"!=!!n?e.lineTo(t.x,s.y):e.lineTo(s.x,t.y);e.lineTo(s.x,s.y)}function L_(e,t,s,n){if(!t)return e.lineTo(s.x,s.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?s.cp2x:s.cp1x,n?s.cp2y:s.cp1y,s.x,s.y)}function F_(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),gt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function j_(e,t,s,n,i){if(i.strikethrough||i.underline){const o=e.measureText(n),r=t-o.actualBoundingBoxLeft,a=t+o.actualBoundingBoxRight,l=s-o.actualBoundingBoxAscent,c=s+o.actualBoundingBoxDescent,d=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(r,d),e.lineTo(a,d),e.stroke()}}function U_(e,t){const s=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=s}function dn(e,t,s,n,i,o={}){const r=Lt(t)?t:[t],a=o.strokeWidth>0&&o.strokeColor!=="";let l,c;for(e.save(),e.font=i.string,F_(e,o),l=0;l<r.length;++l)c=r[l],o.backdrop&&U_(e,o.backdrop),a&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),gt(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(c,s,n,o.maxWidth)),e.fillText(c,s,n,o.maxWidth),j_(e,s,n,c,o),n+=Number(i.lineHeight);e.restore()}function Ui(e,t){const{x:s,y:n,w:i,h:o,radius:r}=t;e.arc(s+r.topLeft,n+r.topLeft,r.topLeft,1.5*jt,jt,!0),e.lineTo(s,n+o-r.bottomLeft),e.arc(s+r.bottomLeft,n+o-r.bottomLeft,r.bottomLeft,jt,Vt,!0),e.lineTo(s+i-r.bottomRight,n+o),e.arc(s+i-r.bottomRight,n+o-r.bottomRight,r.bottomRight,Vt,0,!0),e.lineTo(s+i,n+r.topRight),e.arc(s+i-r.topRight,n+r.topRight,r.topRight,0,-Vt,!0),e.lineTo(s+r.topLeft,n)}const N_=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,$_=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function B_(e,t){const s=(""+e).match(N_);if(!s||s[1]==="normal")return t*1.2;switch(e=+s[2],s[3]){case"px":return e;case"%":e/=100;break}return t*e}const V_=e=>+e||0;function Sl(e,t){const s={},n=yt(t),i=n?Object.keys(t):t,o=yt(e)?n?r=>ht(e[r],e[t[r]]):r=>e[r]:()=>e;for(const r of i)s[r]=V_(o(r));return s}function wf(e){return Sl(e,{top:"y",right:"x",bottom:"y",left:"x"})}function rn(e){return Sl(e,["topLeft","topRight","bottomLeft","bottomRight"])}function oe(e){const t=wf(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function qt(e,t){e=e||{},t=t||Nt.font;let s=ht(e.size,t.size);typeof s=="string"&&(s=parseInt(s,10));let n=ht(e.style,t.style);n&&!(""+n).match($_)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:ht(e.family,t.family),lineHeight:B_(ht(e.lineHeight,t.lineHeight),s),size:s,style:n,weight:ht(e.weight,t.weight),string:""};return i.string=D_(i),i}function ii(e,t,s,n){let i=!0,o,r,a;for(o=0,r=e.length;o<r;++o)if(a=e[o],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),i=!1),s!==void 0&&Lt(a)&&(a=a[s%a.length],i=!1),a!==void 0))return n&&!i&&(n.cacheable=!1),a}function z_(e,t,s){const{min:n,max:i}=e,o=df(t,(i-n)/2),r=(a,l)=>s&&a===0?0:a+l;return{min:r(n,-Math.abs(o)),max:r(i,o)}}function Hs(e,t){return Object.assign(Object.create(e),t)}function Cl(e,t=[""],s,n,i=()=>e[0]){const o=s||e;typeof n>"u"&&(n=Mf("_fallback",e));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:n,_getTarget:i,override:a=>Cl([a,...e],t,o,n)};return new Proxy(r,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return Sf(a,l,()=>X_(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return rd(a).includes(l)},ownKeys(a){return rd(a)},set(a,l,c){const d=a._storage||(a._storage=i());return a[l]=d[l]=c,delete a._keys,!0}})}function Nn(e,t,s,n){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:s,_stack:new Set,_descriptors:kf(e,n),setContext:o=>Nn(e,o,s,n),override:o=>Nn(e.override(o),t,s,n)};return new Proxy(i,{deleteProperty(o,r){return delete o[r],delete e[r],!0},get(o,r,a){return Sf(o,r,()=>W_(o,r,a))},getOwnPropertyDescriptor(o,r){return o._descriptors.allKeys?Reflect.has(e,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,r)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,r){return Reflect.has(e,r)},ownKeys(){return Reflect.ownKeys(e)},set(o,r,a){return e[r]=a,delete o[r],!0}})}function kf(e,t={scriptable:!0,indexable:!0}){const{_scriptable:s=t.scriptable,_indexable:n=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:s,indexable:n,isScriptable:Bs(s)?s:()=>s,isIndexable:Bs(n)?n:()=>n}}const H_=(e,t)=>e?e+xl(t):t,Ml=(e,t)=>yt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Sf(e,t,s){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const n=s();return e[t]=n,n}function W_(e,t,s){const{_proxy:n,_context:i,_subProxy:o,_descriptors:r}=e;let a=n[t];return Bs(a)&&r.isScriptable(t)&&(a=q_(t,a,e,s)),Lt(a)&&a.length&&(a=K_(t,a,e,r.isIndexable)),Ml(t,a)&&(a=Nn(a,i,o&&o[t],r)),a}function q_(e,t,s,n){const{_proxy:i,_context:o,_subProxy:r,_stack:a}=s;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(o,r||n);return a.delete(e),Ml(e,l)&&(l=Al(i._scopes,i,e,l)),l}function K_(e,t,s,n){const{_proxy:i,_context:o,_subProxy:r,_descriptors:a}=s;if(typeof o.index<"u"&&n(e))return t[o.index%t.length];if(yt(t[0])){const l=t,c=i._scopes.filter(d=>d!==l);t=[];for(const d of l){const h=Al(c,i,e,d);t.push(Nn(h,o,r&&r[e],a))}}return t}function Cf(e,t,s){return Bs(e)?e(t,s):e}const G_=(e,t)=>e===!0?t:typeof e=="string"?$s(t,e):void 0;function Y_(e,t,s,n,i){for(const o of t){const r=G_(s,o);if(r){e.add(r);const a=Cf(r._fallback,s,i);if(typeof a<"u"&&a!==s&&a!==n)return a}else if(r===!1&&typeof n<"u"&&s!==n)return null}return!1}function Al(e,t,s,n){const i=t._rootScopes,o=Cf(t._fallback,s,n),r=[...e,...i],a=new Set;a.add(n);let l=od(a,r,s,o||s,n);return l===null||typeof o<"u"&&o!==s&&(l=od(a,r,o,l,n),l===null)?!1:Cl(Array.from(a),[""],i,o,()=>J_(t,s,n))}function od(e,t,s,n,i){for(;s;)s=Y_(e,t,s,n,i);return s}function J_(e,t,s){const n=e._getTarget();t in n||(n[t]={});const i=n[t];return Lt(i)&&yt(s)?s:i||{}}function X_(e,t,s,n){let i;for(const o of t)if(i=Mf(H_(o,e),s),typeof i<"u")return Ml(e,i)?Al(s,n,e,i):i}function Mf(e,t){for(const s of t){if(!s)continue;const n=s[e];if(typeof n<"u")return n}}function rd(e){let t=e._keys;return t||(t=e._keys=Q_(e._scopes)),t}function Q_(e){const t=new Set;for(const s of e)for(const n of Object.keys(s).filter(i=>!i.startsWith("_")))t.add(n);return Array.from(t)}function Af(e,t,s,n){const{iScale:i}=e,{key:o="r"}=this._parsing,r=new Array(n);let a,l,c,d;for(a=0,l=n;a<l;++a)c=a+s,d=t[c],r[a]={r:i.parse($s(d,o),c)};return r}const Z_=Number.EPSILON||1e-14,$n=(e,t)=>t<e.length&&!e[t].skip&&e[t],Pf=e=>e==="x"?"y":"x";function tw(e,t,s,n){const i=e.skip?t:e,o=t,r=s.skip?t:s,a=Pa(o,i),l=Pa(r,o);let c=a/(a+l),d=l/(a+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const h=n*c,f=n*d;return{previous:{x:o.x-h*(r.x-i.x),y:o.y-h*(r.y-i.y)},next:{x:o.x+f*(r.x-i.x),y:o.y+f*(r.y-i.y)}}}function ew(e,t,s){const n=e.length;let i,o,r,a,l,c=$n(e,0);for(let d=0;d<n-1;++d)if(l=c,c=$n(e,d+1),!(!l||!c)){if(vi(t[d],0,Z_)){s[d]=s[d+1]=0;continue}i=s[d]/t[d],o=s[d+1]/t[d],a=Math.pow(i,2)+Math.pow(o,2),!(a<=9)&&(r=3/Math.sqrt(a),s[d]=i*r*t[d],s[d+1]=o*r*t[d])}}function sw(e,t,s="x"){const n=Pf(s),i=e.length;let o,r,a,l=$n(e,0);for(let c=0;c<i;++c){if(r=a,a=l,l=$n(e,c+1),!a)continue;const d=a[s],h=a[n];r&&(o=(d-r[s])/3,a[`cp1${s}`]=d-o,a[`cp1${n}`]=h-o*t[c]),l&&(o=(l[s]-d)/3,a[`cp2${s}`]=d+o,a[`cp2${n}`]=h+o*t[c])}}function nw(e,t="x"){const s=Pf(t),n=e.length,i=Array(n).fill(0),o=Array(n);let r,a,l,c=$n(e,0);for(r=0;r<n;++r)if(a=l,l=c,c=$n(e,r+1),!!l){if(c){const d=c[t]-l[t];i[r]=d!==0?(c[s]-l[s])/d:0}o[r]=a?c?ts(i[r-1])!==ts(i[r])?0:(i[r-1]+i[r])/2:i[r-1]:i[r]}ew(e,i,o),sw(e,o,t)}function co(e,t,s){return Math.max(Math.min(e,s),t)}function iw(e,t){let s,n,i,o,r,a=gs(e[0],t);for(s=0,n=e.length;s<n;++s)r=o,o=a,a=s<n-1&&gs(e[s+1],t),o&&(i=e[s],r&&(i.cp1x=co(i.cp1x,t.left,t.right),i.cp1y=co(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=co(i.cp2x,t.left,t.right),i.cp2y=co(i.cp2y,t.top,t.bottom)))}function ow(e,t,s,n,i){let o,r,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")nw(e,i);else{let c=n?e[e.length-1]:e[0];for(o=0,r=e.length;o<r;++o)a=e[o],l=tw(c,a,e[Math.min(o+1,r-(n?0:1))%r],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&iw(e,s)}function Pl(){return typeof window<"u"&&typeof document<"u"}function Tl(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Jo(e,t,s){let n;return typeof e=="string"?(n=parseInt(e,10),e.indexOf("%")!==-1&&(n=n/100*t.parentNode[s])):n=e,n}const Sr=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function rw(e,t){return Sr(e).getPropertyValue(t)}const aw=["top","right","bottom","left"];function an(e,t,s){const n={};s=s?"-"+s:"";for(let i=0;i<4;i++){const o=aw[i];n[o]=parseFloat(e[t+"-"+o+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const lw=(e,t,s)=>(e>0||t>0)&&(!s||!s.shadowRoot);function cw(e,t){const s=e.touches,n=s&&s.length?s[0]:e,{offsetX:i,offsetY:o}=n;let r=!1,a,l;if(lw(i,o,e.target))a=i,l=o;else{const c=t.getBoundingClientRect();a=n.clientX-c.left,l=n.clientY-c.top,r=!0}return{x:a,y:l,box:r}}function tn(e,t){if("native"in e)return e;const{canvas:s,currentDevicePixelRatio:n}=t,i=Sr(s),o=i.boxSizing==="border-box",r=an(i,"padding"),a=an(i,"border","width"),{x:l,y:c,box:d}=cw(e,s),h=r.left+(d&&a.left),f=r.top+(d&&a.top);let{width:p,height:m}=t;return o&&(p-=r.width+a.width,m-=r.height+a.height),{x:Math.round((l-h)/p*s.width/n),y:Math.round((c-f)/m*s.height/n)}}function dw(e,t,s){let n,i;if(t===void 0||s===void 0){const o=e&&Tl(e);if(!o)t=e.clientWidth,s=e.clientHeight;else{const r=o.getBoundingClientRect(),a=Sr(o),l=an(a,"border","width"),c=an(a,"padding");t=r.width-c.width-l.width,s=r.height-c.height-l.height,n=Jo(a.maxWidth,o,"clientWidth"),i=Jo(a.maxHeight,o,"clientHeight")}}return{width:t,height:s,maxWidth:n||Go,maxHeight:i||Go}}const uo=e=>Math.round(e*10)/10;function uw(e,t,s,n){const i=Sr(e),o=an(i,"margin"),r=Jo(i.maxWidth,e,"clientWidth")||Go,a=Jo(i.maxHeight,e,"clientHeight")||Go,l=dw(e,t,s);let{width:c,height:d}=l;if(i.boxSizing==="content-box"){const f=an(i,"border","width"),p=an(i,"padding");c-=p.width+f.width,d-=p.height+f.height}return c=Math.max(0,c-o.width),d=Math.max(0,n?c/n:d-o.height),c=uo(Math.min(c,r,l.maxWidth)),d=uo(Math.min(d,a,l.maxHeight)),c&&!d&&(d=uo(c/2)),(t!==void 0||s!==void 0)&&n&&l.height&&d>l.height&&(d=l.height,c=uo(Math.floor(d*n))),{width:c,height:d}}function ad(e,t,s){const n=t||1,i=Math.floor(e.height*n),o=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const r=e.canvas;return r.style&&(s||!r.style.height&&!r.style.width)&&(r.style.height=`${e.height}px`,r.style.width=`${e.width}px`),e.currentDevicePixelRatio!==n||r.height!==i||r.width!==o?(e.currentDevicePixelRatio=n,r.height=i,r.width=o,e.ctx.setTransform(n,0,0,n,0,0),!0):!1}const hw=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Pl()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function ld(e,t){const s=rw(e,t),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function en(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:e.y+s*(t.y-e.y)}}function fw(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:n==="middle"?s<.5?e.y:t.y:n==="after"?s<1?e.y:t.y:s>0?t.y:e.y}}function pw(e,t,s,n){const i={x:e.cp2x,y:e.cp2y},o={x:t.cp1x,y:t.cp1y},r=en(e,i,s),a=en(i,o,s),l=en(o,t,s),c=en(r,a,s),d=en(a,l,s);return en(c,d,s)}const mw=function(e,t){return{x(s){return e+e+t-s},setWidth(s){t=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,n){return s-n},leftForLtr(s,n){return s-n}}},gw=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function En(e,t,s){return e?mw(t,s):gw()}function Tf(e,t){let s,n;(t==="ltr"||t==="rtl")&&(s=e.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",t,"important"),e.prevTextDirection=n)}function Of(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Ef(e){return e==="angle"?{between:ji,compare:b_,normalize:Se}:{between:ps,compare:(t,s)=>t-s,normalize:t=>t}}function cd({start:e,end:t,count:s,loop:n,style:i}){return{start:e%s,end:t%s,loop:n&&(t-e+1)%s===0,style:i}}function bw(e,t,s){const{property:n,start:i,end:o}=s,{between:r,normalize:a}=Ef(n),l=t.length;let{start:c,end:d,loop:h}=e,f,p;if(h){for(c+=l,d+=l,f=0,p=l;f<p&&r(a(t[c%l][n]),i,o);++f)c--,d--;c%=l,d%=l}return d<c&&(d+=l),{start:c,end:d,loop:h,style:e.style}}function Df(e,t,s){if(!s)return[e];const{property:n,start:i,end:o}=s,r=t.length,{compare:a,between:l,normalize:c}=Ef(n),{start:d,end:h,loop:f,style:p}=bw(e,t,s),m=[];let g=!1,b=null,v,w,C;const S=()=>l(i,C,v)&&a(i,C)!==0,M=()=>a(o,v)===0||l(o,C,v),L=()=>g||S(),I=()=>!g||M();for(let $=d,X=d;$<=h;++$)w=t[$%r],!w.skip&&(v=c(w[n]),v!==C&&(g=l(v,i,o),b===null&&L()&&(b=a(v,i)===0?$:X),b!==null&&I()&&(m.push(cd({start:b,end:$,loop:f,count:r,style:p})),b=null),X=$,C=v));return b!==null&&m.push(cd({start:b,end:h,loop:f,count:r,style:p})),m}function If(e,t){const s=[],n=e.segments;for(let i=0;i<n.length;i++){const o=Df(n[i],e.points,t);o.length&&s.push(...o)}return s}function yw(e,t,s,n){let i=0,o=t-1;if(s&&!n)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,s&&(o+=i);o>i&&e[o%t].skip;)o--;return o%=t,{start:i,end:o}}function xw(e,t,s,n){const i=e.length,o=[];let r=t,a=e[t],l;for(l=t+1;l<=s;++l){const c=e[l%i];c.skip||c.stop?a.skip||(n=!1,o.push({start:t%i,end:(l-1)%i,loop:n}),t=r=c.stop?l:null):(r=l,a.skip&&(t=l)),a=c}return r!==null&&o.push({start:t%i,end:r%i,loop:n}),o}function vw(e,t){const s=e.points,n=e.options.spanGaps,i=s.length;if(!i)return[];const o=!!e._loop,{start:r,end:a}=yw(s,i,o,n);if(n===!0)return dd(e,[{start:r,end:a,loop:o}],s,t);const l=a<r?a+i:a,c=!!e._fullLoop&&r===0&&a===i-1;return dd(e,xw(s,r,l,c),s,t)}function dd(e,t,s,n){return!n||!n.setContext||!s?t:_w(e,t,s,n)}function _w(e,t,s,n){const i=e._chart.getContext(),o=ud(e.options),{_datasetIndex:r,options:{spanGaps:a}}=e,l=s.length,c=[];let d=o,h=t[0].start,f=h;function p(m,g,b,v){const w=a?-1:1;if(m!==g){for(m+=l;s[m%l].skip;)m-=w;for(;s[g%l].skip;)g+=w;m%l!==g%l&&(c.push({start:m%l,end:g%l,loop:b,style:v}),d=v,h=g%l)}}for(const m of t){h=a?h:m.start;let g=s[h%l],b;for(f=h+1;f<=m.end;f++){const v=s[f%l];b=ud(n.setContext(Hs(i,{type:"segment",p0:g,p1:v,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:r}))),ww(b,d)&&p(h,f-1,m.loop,d),g=v,d=b}h<f-1&&p(h,f-1,m.loop,d)}return c}function ud(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function ww(e,t){if(!t)return!1;const s=[],n=function(i,o){return kl(o)?(s.includes(o)||s.push(o),s.indexOf(o)):o};return JSON.stringify(e,n)!==JSON.stringify(t,n)}function ho(e,t,s){return e.options.clip?e[s]:t[s]}function kw(e,t){const{xScale:s,yScale:n}=e;return s&&n?{left:ho(s,t,"left"),right:ho(s,t,"right"),top:ho(n,t,"top"),bottom:ho(n,t,"bottom")}:t}function Rf(e,t){const s=t._clip;if(s.disabled)return!1;const n=kw(t,e.chartArea);return{left:s.left===!1?0:n.left-(s.left===!0?0:s.left),right:s.right===!1?e.width:n.right+(s.right===!0?0:s.right),top:s.top===!1?0:n.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?e.height:n.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Sw{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,s,n,i){const o=s.listeners[i],r=s.duration;o.forEach(a=>a({chart:t,initial:s.initial,numSteps:r,currentStep:Math.min(n-s.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=gf.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let s=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const o=n.items;let r=o.length-1,a=!1,l;for(;r>=0;--r)l=o[r],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(t),a=!0):(o[r]=o[o.length-1],o.pop());a&&(i.draw(),this._notify(i,n,t,"progress")),o.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),s+=o.length}),this._lastDate=t,s===0&&(this._running=!1)}_getAnims(t){const s=this._charts;let n=s.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(t,n)),n}listen(t,s,n){this._getAnims(t).listeners[s].push(n)}add(t,s){!s||!s.length||this._getAnims(t).items.push(...s)}has(t){return this._getAnims(t).items.length>0}start(t){const s=this._charts.get(t);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const s=this._charts.get(t);return!(!s||!s.running||!s.items.length)}stop(t){const s=this._charts.get(t);if(!s||!s.items.length)return;const n=s.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();s.items=[],this._notify(t,s,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var as=new Sw;const hd="transparent",Cw={boolean(e,t,s){return s>.5?t:e},color(e,t,s){const n=sd(e||hd),i=n.valid&&sd(t||hd);return i&&i.valid?i.mix(n,s).hexString():t},number(e,t,s){return e+(t-e)*s}};class Mw{constructor(t,s,n,i){const o=s[n];i=ii([t.to,i,o,t.from]);const r=ii([t.from,o,i]);this._active=!0,this._fn=t.fn||Cw[t.type||typeof r],this._easing=_i[t.easing]||_i.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=s,this._prop=n,this._from=r,this._to=i,this._promises=void 0}active(){return this._active}update(t,s,n){if(this._active){this._notify(!1);const i=this._target[this._prop],o=n-this._start,r=this._duration-o;this._start=n,this._duration=Math.floor(Math.max(r,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=ii([t.to,s,i,t.from]),this._from=ii([t.from,i,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const s=t-this._start,n=this._duration,i=this._prop,o=this._from,r=this._loop,a=this._to;let l;if(this._active=o!==a&&(r||s<n),!this._active){this._target[i]=a,this._notify(!0);return}if(s<0){this._target[i]=o;return}l=s/n%2,l=r&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(o,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((s,n)=>{t.push({res:s,rej:n})})}_notify(t){const s=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][s]()}}class Lf{constructor(t,s){this._chart=t,this._properties=new Map,this.configure(s)}configure(t){if(!yt(t))return;const s=Object.keys(Nt.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const o=t[i];if(!yt(o))return;const r={};for(const a of s)r[a]=o[a];(Lt(o.properties)&&o.properties||[i]).forEach(a=>{(a===i||!n.has(a))&&n.set(a,r)})})}_animateOptions(t,s){const n=s.options,i=Pw(t,n);if(!i)return[];const o=this._createAnimations(i,n);return n.$shared&&Aw(t.options.$animations,n).then(()=>{t.options=n},()=>{}),o}_createAnimations(t,s){const n=this._properties,i=[],o=t.$animations||(t.$animations={}),r=Object.keys(s),a=Date.now();let l;for(l=r.length-1;l>=0;--l){const c=r[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(t,s));continue}const d=s[c];let h=o[c];const f=n.get(c);if(h)if(f&&h.active()){h.update(f,d,a);continue}else h.cancel();if(!f||!f.duration){t[c]=d;continue}o[c]=h=new Mw(f,t,c,d),i.push(h)}return i}update(t,s){if(this._properties.size===0){Object.assign(t,s);return}const n=this._createAnimations(t,s);if(n.length)return as.add(this._chart,n),!0}}function Aw(e,t){const s=[],n=Object.keys(t);for(let i=0;i<n.length;i++){const o=e[n[i]];o&&o.active()&&s.push(o.wait())}return Promise.all(s)}function Pw(e,t){if(!t)return;let s=e.options;if(!s){e.options=t;return}return s.$shared&&(e.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function fd(e,t){const s=e&&e.options||{},n=s.reverse,i=s.min===void 0?t:0,o=s.max===void 0?t:0;return{start:n?o:i,end:n?i:o}}function Tw(e,t,s){if(s===!1)return!1;const n=fd(e,s),i=fd(t,s);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function Ow(e){let t,s,n,i;return yt(e)?(t=e.top,s=e.right,n=e.bottom,i=e.left):t=s=n=i=e,{top:t,right:s,bottom:n,left:i,disabled:e===!1}}function Ff(e,t){const s=[],n=e._getSortedDatasetMetas(t);let i,o;for(i=0,o=n.length;i<o;++i)s.push(n[i].index);return s}function pd(e,t,s,n={}){const i=e.keys,o=n.mode==="single";let r,a,l,c;if(t===null)return;let d=!1;for(r=0,a=i.length;r<a;++r){if(l=+i[r],l===s){if(d=!0,n.all)continue;break}c=e.values[l],$t(c)&&(o||t===0||ts(t)===ts(c))&&(t+=c)}return!d&&!n.all?0:t}function Ew(e,t){const{iScale:s,vScale:n}=t,i=s.axis==="x"?"x":"y",o=n.axis==="x"?"x":"y",r=Object.keys(e),a=new Array(r.length);let l,c,d;for(l=0,c=r.length;l<c;++l)d=r[l],a[l]={[i]:d,[o]:e[d]};return a}function Yr(e,t){const s=e&&e.options.stacked;return s||s===void 0&&t.stack!==void 0}function Dw(e,t,s){return`${e.id}.${t.id}.${s.stack||s.type}`}function Iw(e){const{min:t,max:s,minDefined:n,maxDefined:i}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:i?s:Number.POSITIVE_INFINITY}}function Rw(e,t,s){const n=e[t]||(e[t]={});return n[s]||(n[s]={})}function md(e,t,s,n){for(const i of t.getMatchingVisibleMetas(n).reverse()){const o=e[i.index];if(s&&o>0||!s&&o<0)return i.index}return null}function gd(e,t){const{chart:s,_cachedMeta:n}=e,i=s._stacks||(s._stacks={}),{iScale:o,vScale:r,index:a}=n,l=o.axis,c=r.axis,d=Dw(o,r,n),h=t.length;let f;for(let p=0;p<h;++p){const m=t[p],{[l]:g,[c]:b}=m,v=m._stacks||(m._stacks={});f=v[c]=Rw(i,d,g),f[a]=b,f._top=md(f,r,!0,n.type),f._bottom=md(f,r,!1,n.type);const w=f._visualValues||(f._visualValues={});w[a]=b}}function Jr(e,t){const s=e.scales;return Object.keys(s).filter(n=>s[n].axis===t).shift()}function Lw(e,t){return Hs(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Fw(e,t,s){return Hs(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:s,index:t,mode:"default",type:"data"})}function Jn(e,t){const s=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const i of t){const o=i._stacks;if(!o||o[n]===void 0||o[n][s]===void 0)return;delete o[n][s],o[n]._visualValues!==void 0&&o[n]._visualValues[s]!==void 0&&delete o[n]._visualValues[s]}}}const Xr=e=>e==="reset"||e==="none",bd=(e,t)=>t?e:Object.assign({},e),jw=(e,t,s)=>e&&!t.hidden&&t._stacked&&{keys:Ff(s,!0),values:null};class $e{constructor(t,s){this.chart=t,this._ctx=t.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Yr(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Jn(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,s=this._cachedMeta,n=this.getDataset(),i=(h,f,p,m)=>h==="x"?f:h==="r"?m:p,o=s.xAxisID=ht(n.xAxisID,Jr(t,"x")),r=s.yAxisID=ht(n.yAxisID,Jr(t,"y")),a=s.rAxisID=ht(n.rAxisID,Jr(t,"r")),l=s.indexAxis,c=s.iAxisID=i(l,o,r,a),d=s.vAxisID=i(l,r,o,a);s.xScale=this.getScaleForId(o),s.yScale=this.getScaleForId(r),s.rScale=this.getScaleForId(a),s.iScale=this.getScaleForId(c),s.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const s=this._cachedMeta;return t===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Zc(this._data,this),t._stacked&&Jn(t)}_dataCheck(){const t=this.getDataset(),s=t.data||(t.data=[]),n=this._data;if(yt(s)){const i=this._cachedMeta;this._data=Ew(s,i)}else if(n!==s){if(n){Zc(n,this);const i=this._cachedMeta;Jn(i),i._parsed=[]}s&&Object.isExtensible(s)&&__(s,this),this._syncList=[],this._data=s}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const s=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const o=s._stacked;s._stacked=Yr(s.vScale,s),s.stack!==n.stack&&(i=!0,Jn(s),s.stack=n.stack),this._resyncElements(t),(i||o!==s._stacked)&&(gd(this,s._parsed),s._stacked=Yr(s.vScale,s))}configure(){const t=this.chart.config,s=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),s,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,s){const{_cachedMeta:n,_data:i}=this,{iScale:o,_stacked:r}=n,a=o.axis;let l=t===0&&s===i.length?!0:n._sorted,c=t>0&&n._parsed[t-1],d,h,f;if(this._parsing===!1)n._parsed=i,n._sorted=!0,f=i;else{Lt(i[t])?f=this.parseArrayData(n,i,t,s):yt(i[t])?f=this.parseObjectData(n,i,t,s):f=this.parsePrimitiveData(n,i,t,s);const p=()=>h[a]===null||c&&h[a]<c[a];for(d=0;d<s;++d)n._parsed[d+t]=h=f[d],l&&(p()&&(l=!1),c=h);n._sorted=l}r&&gd(this,f)}parsePrimitiveData(t,s,n,i){const{iScale:o,vScale:r}=t,a=o.axis,l=r.axis,c=o.getLabels(),d=o===r,h=new Array(i);let f,p,m;for(f=0,p=i;f<p;++f)m=f+n,h[f]={[a]:d||o.parse(c[m],m),[l]:r.parse(s[m],m)};return h}parseArrayData(t,s,n,i){const{xScale:o,yScale:r}=t,a=new Array(i);let l,c,d,h;for(l=0,c=i;l<c;++l)d=l+n,h=s[d],a[l]={x:o.parse(h[0],d),y:r.parse(h[1],d)};return a}parseObjectData(t,s,n,i){const{xScale:o,yScale:r}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let d,h,f,p;for(d=0,h=i;d<h;++d)f=d+n,p=s[f],c[d]={x:o.parse($s(p,a),f),y:r.parse($s(p,l),f)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,s,n){const i=this.chart,o=this._cachedMeta,r=s[t.axis],a={keys:Ff(i,!0),values:s._stacks[t.axis]._visualValues};return pd(a,r,o.index,{mode:n})}updateRangeFromParsed(t,s,n,i){const o=n[s.axis];let r=o===null?NaN:o;const a=i&&n._stacks[s.axis];i&&a&&(i.values=a,r=pd(i,o,this._cachedMeta.index)),t.min=Math.min(t.min,r),t.max=Math.max(t.max,r)}getMinMax(t,s){const n=this._cachedMeta,i=n._parsed,o=n._sorted&&t===n.iScale,r=i.length,a=this._getOtherScale(t),l=jw(s,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=Iw(a);let f,p;function m(){p=i[f];const g=p[a.axis];return!$t(p[t.axis])||d>g||h<g}for(f=0;f<r&&!(!m()&&(this.updateRangeFromParsed(c,t,p,l),o));++f);if(o){for(f=r-1;f>=0;--f)if(!m()){this.updateRangeFromParsed(c,t,p,l);break}}return c}getAllParsedValues(t){const s=this._cachedMeta._parsed,n=[];let i,o,r;for(i=0,o=s.length;i<o;++i)r=s[i][t.axis],$t(r)&&n.push(r);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const s=this._cachedMeta,n=s.iScale,i=s.vScale,o=this.getParsed(t);return{label:n?""+n.getLabelForValue(o[n.axis]):"",value:i?""+i.getLabelForValue(o[i.axis]):""}}_update(t){const s=this._cachedMeta;this.update(t||"default"),s._clip=Ow(ht(this.options.clip,Tw(s.xScale,s.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,s=this.chart,n=this._cachedMeta,i=n.data||[],o=s.chartArea,r=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let d;for(n.dataset&&n.dataset.draw(t,o,a,l),d=a;d<a+l;++d){const h=i[d];h.hidden||(h.active&&c?r.push(h):h.draw(t,o))}for(d=0;d<r.length;++d)r[d].draw(t,o)}getStyle(t,s){const n=s?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,s,n){const i=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const r=this._cachedMeta.data[t];o=r.$context||(r.$context=Fw(this.getContext(),t,r)),o.parsed=this.getParsed(t),o.raw=i.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=Lw(this.chart.getContext(),this.index)),o.dataset=i,o.index=o.datasetIndex=this.index;return o.active=!!s,o.mode=n,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,s){return this._resolveElementOptions(this.dataElementType.id,s,t)}_resolveElementOptions(t,s="default",n){const i=s==="active",o=this._cachedDataOpts,r=t+"-"+s,a=o[r],l=this.enableOptionSharing&&Fi(n);if(a)return bd(a,l);const c=this.chart.config,d=c.datasetElementScopeKeys(this._type,t),h=i?[`${t}Hover`,"hover",t,""]:[t,""],f=c.getOptionScopes(this.getDataset(),d),p=Object.keys(Nt.elements[t]),m=()=>this.getContext(n,i,s),g=c.resolveNamedOptions(f,p,m,h);return g.$shared&&(g.$shared=l,o[r]=Object.freeze(bd(g,l))),g}_resolveAnimations(t,s,n){const i=this.chart,o=this._cachedDataOpts,r=`animation-${s}`,a=o[r];if(a)return a;let l;if(i.options.animation!==!1){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,s),f=d.getOptionScopes(this.getDataset(),h);l=d.createResolver(f,this.getContext(t,n,s))}const c=new Lf(i,l&&l.animations);return l&&l._cacheable&&(o[r]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,s){return!s||Xr(t)||this.chart._animationsDisabled}_getSharedOptions(t,s){const n=this.resolveDataElementOptions(t,s),i=this._sharedOptions,o=this.getSharedOptions(n),r=this.includeOptions(s,o)||o!==i;return this.updateSharedOptions(o,s,n),{sharedOptions:o,includeOptions:r}}updateElement(t,s,n,i){Xr(i)?Object.assign(t,n):this._resolveAnimations(s,i).update(t,n)}updateSharedOptions(t,s,n){t&&!Xr(s)&&this._resolveAnimations(void 0,s).update(t,n)}_setStyle(t,s,n,i){t.active=i;const o=this.getStyle(s,i);this._resolveAnimations(s,n,i).update(t,{options:!i&&this.getSharedOptions(o)||o})}removeHoverStyle(t,s,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,s,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const s=this._data,n=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=n.length,o=s.length,r=Math.min(o,i);r&&this.parse(0,r),o>i?this._insertElements(i,o-i,t):o<i&&this._removeElements(o,i-o)}_insertElements(t,s,n=!0){const i=this._cachedMeta,o=i.data,r=t+s;let a;const l=c=>{for(c.length+=s,a=c.length-1;a>=r;a--)c[a]=c[a-s]};for(l(o),a=t;a<r;++a)o[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(t,s),n&&this.updateElements(o,t,s,"reset")}updateElements(t,s,n,i){}_removeElements(t,s){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,s);n._stacked&&Jn(n,i)}n.data.splice(t,s)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[s,n,i]=t;this[s](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,s){s&&this._sync(["_removeElements",t,s]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}B($e,"defaults",{}),B($e,"datasetElementType",null),B($e,"dataElementType",null);function Uw(e,t){if(!e._cache.$bar){const s=e.getMatchingVisibleMetas(t);let n=[];for(let i=0,o=s.length;i<o;i++)n=n.concat(s[i].controller.getAllParsedValues(e));e._cache.$bar=mf(n.sort((i,o)=>i-o))}return e._cache.$bar}function Nw(e){const t=e.iScale,s=Uw(t,e.type);let n=t._length,i,o,r,a;const l=()=>{r===32767||r===-32768||(Fi(a)&&(n=Math.min(n,Math.abs(r-a)||n)),a=r)};for(i=0,o=s.length;i<o;++i)r=t.getPixelForValue(s[i]),l();for(a=void 0,i=0,o=t.ticks.length;i<o;++i)r=t.getPixelForTick(i),l();return n}function $w(e,t,s,n){const i=s.barThickness;let o,r;return gt(i)?(o=t.min*s.categoryPercentage,r=s.barPercentage):(o=i*n,r=1),{chunk:o/n,ratio:r,start:t.pixels[e]-o/2}}function Bw(e,t,s,n){const i=t.pixels,o=i[e];let r=e>0?i[e-1]:null,a=e<i.length-1?i[e+1]:null;const l=s.categoryPercentage;r===null&&(r=o-(a===null?t.end-t.start:a-o)),a===null&&(a=o+o-r);const c=o-(o-Math.min(r,a))/2*l;return{chunk:Math.abs(a-r)/2*l/n,ratio:s.barPercentage,start:c}}function Vw(e,t,s,n){const i=s.parse(e[0],n),o=s.parse(e[1],n),r=Math.min(i,o),a=Math.max(i,o);let l=r,c=a;Math.abs(r)>Math.abs(a)&&(l=a,c=r),t[s.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:o,min:r,max:a}}function jf(e,t,s,n){return Lt(e)?Vw(e,t,s,n):t[s.axis]=s.parse(e,n),t}function yd(e,t,s,n){const i=e.iScale,o=e.vScale,r=i.getLabels(),a=i===o,l=[];let c,d,h,f;for(c=s,d=s+n;c<d;++c)f=t[c],h={},h[i.axis]=a||i.parse(r[c],c),l.push(jf(f,h,o,c));return l}function Qr(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function zw(e,t,s){return e!==0?ts(e):(t.isHorizontal()?1:-1)*(t.min>=s?1:-1)}function Hw(e){let t,s,n,i,o;return e.horizontal?(t=e.base>e.x,s="left",n="right"):(t=e.base<e.y,s="bottom",n="top"),t?(i="end",o="start"):(i="start",o="end"),{start:s,end:n,reverse:t,top:i,bottom:o}}function Ww(e,t,s,n){let i=t.borderSkipped;const o={};if(!i){e.borderSkipped=o;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:r,end:a,reverse:l,top:c,bottom:d}=Hw(e);i==="middle"&&s&&(e.enableBorderRadius=!0,(s._top||0)===n?i=c:(s._bottom||0)===n?i=d:(o[xd(d,r,a,l)]=!0,i=c)),o[xd(i,r,a,l)]=!0,e.borderSkipped=o}function xd(e,t,s,n){return n?(e=qw(e,t,s),e=vd(e,s,t)):e=vd(e,t,s),e}function qw(e,t,s){return e===t?s:e===s?t:e}function vd(e,t,s){return e==="start"?t:e==="end"?s:e}function Kw(e,{inflateAmount:t},s){e.inflateAmount=t==="auto"?s===1?.33:0:t}class Ao extends $e{parsePrimitiveData(t,s,n,i){return yd(t,s,n,i)}parseArrayData(t,s,n,i){return yd(t,s,n,i)}parseObjectData(t,s,n,i){const{iScale:o,vScale:r}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=o.axis==="x"?a:l,d=r.axis==="x"?a:l,h=[];let f,p,m,g;for(f=n,p=n+i;f<p;++f)g=s[f],m={},m[o.axis]=o.parse($s(g,c),f),h.push(jf($s(g,d),m,r,f));return h}updateRangeFromParsed(t,s,n,i){super.updateRangeFromParsed(t,s,n,i);const o=n._custom;o&&s===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const s=this._cachedMeta,{iScale:n,vScale:i}=s,o=this.getParsed(t),r=o._custom,a=Qr(r)?"["+r.start+", "+r.end+"]":""+i.getLabelForValue(o[i.axis]);return{label:""+n.getLabelForValue(o[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,t)}updateElements(t,s,n,i){const o=i==="reset",{index:r,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(s,i);for(let p=s;p<s+n;p++){const m=this.getParsed(p),g=o||gt(m[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),b=this._calculateBarIndexPixels(p,d),v=(m._stacks||{})[a.axis],w={horizontal:c,base:g.base,enableBorderRadius:!v||Qr(m._custom)||r===v._top||r===v._bottom,x:c?g.head:b.center,y:c?b.center:g.head,height:c?b.size:Math.abs(g.size),width:c?Math.abs(g.size):b.size};f&&(w.options=h||this.resolveDataElementOptions(p,t[p].active?"active":i));const C=w.options||t[p].options;Ww(w,C,v,r),Kw(w,C,d.ratio),this.updateElement(t[p],p,w,i)}}_getStacks(t,s){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),o=n.options.stacked,r=[],a=this._cachedMeta.controller.getParsed(s),l=a&&a[n.axis],c=d=>{const h=d._parsed.find(p=>p[n.axis]===l),f=h&&h[d.vScale.axis];if(gt(f)||isNaN(f))return!0};for(const d of i)if(!(s!==void 0&&c(d))&&((o===!1||r.indexOf(d.stack)===-1||o===void 0&&d.stack===void 0)&&r.push(d.stack),d.index===t))break;return r.length||r.push(void 0),r}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,s,n){const i=this._getStacks(t,n),o=s!==void 0?i.indexOf(s):-1;return o===-1?i.length-1:o}_getRuler(){const t=this.options,s=this._cachedMeta,n=s.iScale,i=[];let o,r;for(o=0,r=s.data.length;o<r;++o)i.push(n.getPixelForValue(this.getParsed(o)[n.axis],o));const a=t.barThickness;return{min:a||Nw(s),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:s,_stacked:n,index:i},options:{base:o,minBarLength:r}}=this,a=o||0,l=this.getParsed(t),c=l._custom,d=Qr(c);let h=l[s.axis],f=0,p=n?this.applyStack(s,l,n):h,m,g;p!==h&&(f=p-h,p=h),d&&(h=c.barStart,p=c.barEnd-c.barStart,h!==0&&ts(h)!==ts(c.barEnd)&&(f=0),f+=h);const b=!gt(o)&&!d?o:f;let v=s.getPixelForValue(b);if(this.chart.getDataVisibility(t)?m=s.getPixelForValue(f+p):m=v,g=m-v,Math.abs(g)<r){g=zw(g,s,a)*r,h===a&&(v-=g/2);const w=s.getPixelForDecimal(0),C=s.getPixelForDecimal(1),S=Math.min(w,C),M=Math.max(w,C);v=Math.max(Math.min(v,M),S),m=v+g,n&&!d&&(l._stacks[s.axis]._visualValues[i]=s.getValueForPixel(m)-s.getValueForPixel(v))}if(v===s.getPixelForValue(a)){const w=ts(g)*s.getLineWidthForValue(a)/2;v+=w,g-=w}return{size:g,base:v,head:m,center:m+g/2}}_calculateBarIndexPixels(t,s){const n=s.scale,i=this.options,o=i.skipNull,r=ht(i.maxBarThickness,1/0);let a,l;if(s.grouped){const c=o?this._getStackCount(t):s.stackCount,d=i.barThickness==="flex"?Bw(t,s,i,c):$w(t,s,i,c),h=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);a=d.start+d.chunk*h+d.chunk/2,l=Math.min(r,d.chunk*d.ratio)}else a=n.getPixelForValue(this.getParsed(t)[n.axis],t),l=Math.min(r,s.min*s.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,s=t.vScale,n=t.data,i=n.length;let o=0;for(;o<i;++o)this.getParsed(o)[s.axis]!==null&&!n[o].hidden&&n[o].draw(this._ctx)}}B(Ao,"id","bar"),B(Ao,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),B(Ao,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Po extends $e{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,s,n,i){const o=super.parsePrimitiveData(t,s,n,i);for(let r=0;r<o.length;r++)o[r]._custom=this.resolveDataElementOptions(r+n).radius;return o}parseArrayData(t,s,n,i){const o=super.parseArrayData(t,s,n,i);for(let r=0;r<o.length;r++){const a=s[n+r];o[r]._custom=ht(a[2],this.resolveDataElementOptions(r+n).radius)}return o}parseObjectData(t,s,n,i){const o=super.parseObjectData(t,s,n,i);for(let r=0;r<o.length;r++){const a=s[n+r];o[r]._custom=ht(a&&a.r&&+a.r,this.resolveDataElementOptions(r+n).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let s=0;for(let n=t.length-1;n>=0;--n)s=Math.max(s,t[n].size(this.resolveDataElementOptions(n))/2);return s>0&&s}getLabelAndValue(t){const s=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:o}=s,r=this.getParsed(t),a=i.getLabelForValue(r.x),l=o.getLabelForValue(r.y),c=r._custom;return{label:n[t]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(t){const s=this._cachedMeta.data;this.updateElements(s,0,s.length,t)}updateElements(t,s,n,i){const o=i==="reset",{iScale:r,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(s,i),d=r.axis,h=a.axis;for(let f=s;f<s+n;f++){const p=t[f],m=!o&&this.getParsed(f),g={},b=g[d]=o?r.getPixelForDecimal(.5):r.getPixelForValue(m[d]),v=g[h]=o?a.getBasePixel():a.getPixelForValue(m[h]);g.skip=isNaN(b)||isNaN(v),c&&(g.options=l||this.resolveDataElementOptions(f,p.active?"active":i),o&&(g.options.radius=0)),this.updateElement(p,f,g,i)}}resolveDataElementOptions(t,s){const n=this.getParsed(t);let i=super.resolveDataElementOptions(t,s);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const o=i.radius;return s!=="active"&&(i.radius=0),i.radius+=ht(n&&n._custom,o),i}}B(Po,"id","bubble"),B(Po,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),B(Po,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Gw(e,t,s){let n=1,i=1,o=0,r=0;if(t<Ft){const a=e,l=a+t,c=Math.cos(a),d=Math.sin(a),h=Math.cos(l),f=Math.sin(l),p=(C,S,M)=>ji(C,a,l,!0)?1:Math.max(S,S*s,M,M*s),m=(C,S,M)=>ji(C,a,l,!0)?-1:Math.min(S,S*s,M,M*s),g=p(0,c,h),b=p(Vt,d,f),v=m(jt,c,h),w=m(jt+Vt,d,f);n=(g-v)/2,i=(b-w)/2,o=-(g+v)/2,r=-(b+w)/2}return{ratioX:n,ratioY:i,offsetX:o,offsetY:r}}class nn extends $e{constructor(t,s){super(t,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,s){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let o=l=>+n[l];if(yt(n[t])){const{key:l="value"}=this._parsing;o=c=>+$s(n[c],l)}let r,a;for(r=t,a=t+s;r<a;++r)i._parsed[r]=o(r)}}_getRotation(){return je(this.options.rotation-90)}_getCircumference(){return je(this.options.circumference)}_getRotationExtents(){let t=Ft,s=-Ft;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,o=i._getRotation(),r=i._getCircumference();t=Math.min(t,o),s=Math.max(s,o+r)}return{rotation:t,circumference:s-t}}update(t){const s=this.chart,{chartArea:n}=s,i=this._cachedMeta,o=i.data,r=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-r)/2,0),l=Math.min(r_(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:m,offsetY:g}=Gw(h,d,l),b=(n.width-r)/f,v=(n.height-r)/p,w=Math.max(Math.min(b,v)/2,0),C=df(this.options.radius,w),S=Math.max(C*l,0),M=(C-S)/this._getVisibleDatasetWeightTotal();this.offsetX=m*C,this.offsetY=g*C,i.total=this.calculateTotal(),this.outerRadius=C-M*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-M*c,0),this.updateElements(o,0,o.length,t)}_circumference(t,s){const n=this.options,i=this._cachedMeta,o=this._getCircumference();return s&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*o/Ft)}updateElements(t,s,n,i){const o=i==="reset",r=this.chart,a=r.chartArea,c=r.options.animation,d=(a.left+a.right)/2,h=(a.top+a.bottom)/2,f=o&&c.animateScale,p=f?0:this.innerRadius,m=f?0:this.outerRadius,{sharedOptions:g,includeOptions:b}=this._getSharedOptions(s,i);let v=this._getRotation(),w;for(w=0;w<s;++w)v+=this._circumference(w,o);for(w=s;w<s+n;++w){const C=this._circumference(w,o),S=t[w],M={x:d+this.offsetX,y:h+this.offsetY,startAngle:v,endAngle:v+C,circumference:C,outerRadius:m,innerRadius:p};b&&(M.options=g||this.resolveDataElementOptions(w,S.active?"active":i)),v+=C,this.updateElement(S,w,M,i)}}calculateTotal(){const t=this._cachedMeta,s=t.data;let n=0,i;for(i=0;i<s.length;i++){const o=t._parsed[i];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(i)&&!s[i].hidden&&(n+=Math.abs(o))}return n}calculateCircumference(t){const s=this._cachedMeta.total;return s>0&&!isNaN(t)?Ft*(Math.abs(t)/s):0}getLabelAndValue(t){const s=this._cachedMeta,n=this.chart,i=n.data.labels||[],o=Ji(s._parsed[t],n.options.locale);return{label:i[t]||"",value:o}}getMaxBorderWidth(t){let s=0;const n=this.chart;let i,o,r,a,l;if(!t){for(i=0,o=n.data.datasets.length;i<o;++i)if(n.isDatasetVisible(i)){r=n.getDatasetMeta(i),t=r.data,a=r.controller;break}}if(!t)return 0;for(i=0,o=t.length;i<o;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(s=Math.max(s,l.borderWidth||0,l.hoverBorderWidth||0));return s}getMaxOffset(t){let s=0;for(let n=0,i=t.length;n<i;++n){const o=this.resolveDataElementOptions(n);s=Math.max(s,o.offset||0,o.hoverOffset||0)}return s}_getRingWeightOffset(t){let s=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(s+=this._getRingWeight(n));return s}_getRingWeight(t){return Math.max(ht(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}B(nn,"id","doughnut"),B(nn,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),B(nn,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),B(nn,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const s=t.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return s.labels.map((o,r)=>{const l=t.getDatasetMeta(0).controller.getStyle(r);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}})}return[]}},onClick(t,s,n){n.chart.toggleDataVisibility(s.index),n.chart.update()}}}});class To extends $e{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const s=this._cachedMeta,{dataset:n,data:i=[],_dataset:o}=s,r=this.chart._animationsDisabled;let{start:a,count:l}=yf(s,i,r);this._drawStart=a,this._drawCount=l,xf(s)&&(a=0,l=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!o._decimated,n.points=i;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!r,options:c},t),this.updateElements(i,a,l,t)}updateElements(t,s,n,i){const o=i==="reset",{iScale:r,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(s,i),f=r.axis,p=a.axis,{spanGaps:m,segment:g}=this.options,b=Un(m)?m:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||o||i==="none",w=s+n,C=t.length;let S=s>0&&this.getParsed(s-1);for(let M=0;M<C;++M){const L=t[M],I=v?L:{};if(M<s||M>=w){I.skip=!0;continue}const $=this.getParsed(M),X=gt($[p]),it=I[f]=r.getPixelForValue($[f],M),rt=I[p]=o||X?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,$,l):$[p],M);I.skip=isNaN(it)||isNaN(rt)||X,I.stop=M>0&&Math.abs($[f]-S[f])>b,g&&(I.parsed=$,I.raw=c.data[M]),h&&(I.options=d||this.resolveDataElementOptions(M,L.active?"active":i)),v||this.updateElement(L,M,I,i),S=$}}getMaxOverflow(){const t=this._cachedMeta,s=t.dataset,n=s.options&&s.options.borderWidth||0,i=t.data||[];if(!i.length)return n;const o=i[0].size(this.resolveDataElementOptions(0)),r=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,o,r)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}B(To,"id","line"),B(To,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),B(To,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class ki extends $e{constructor(t,s){super(t,s),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const s=this._cachedMeta,n=this.chart,i=n.data.labels||[],o=Ji(s._parsed[t].r,n.options.locale);return{label:i[t]||"",value:o}}parseObjectData(t,s,n,i){return Af.bind(this)(t,s,n,i)}update(t){const s=this._cachedMeta.data;this._updateRadius(),this.updateElements(s,0,s.length,t)}getMinMax(){const t=this._cachedMeta,s={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((n,i)=>{const o=this.getParsed(i).r;!isNaN(o)&&this.chart.getDataVisibility(i)&&(o<s.min&&(s.min=o),o>s.max&&(s.max=o))}),s}_updateRadius(){const t=this.chart,s=t.chartArea,n=t.options,i=Math.min(s.right-s.left,s.bottom-s.top),o=Math.max(i/2,0),r=Math.max(n.cutoutPercentage?o/100*n.cutoutPercentage:1,0),a=(o-r)/t.getVisibleDatasetCount();this.outerRadius=o-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,s,n,i){const o=i==="reset",r=this.chart,l=r.options.animation,c=this._cachedMeta.rScale,d=c.xCenter,h=c.yCenter,f=c.getIndexAngle(0)-.5*jt;let p=f,m;const g=360/this.countVisibleElements();for(m=0;m<s;++m)p+=this._computeAngle(m,i,g);for(m=s;m<s+n;m++){const b=t[m];let v=p,w=p+this._computeAngle(m,i,g),C=r.getDataVisibility(m)?c.getDistanceFromCenterForValue(this.getParsed(m).r):0;p=w,o&&(l.animateScale&&(C=0),l.animateRotate&&(v=w=f));const S={x:d,y:h,innerRadius:0,outerRadius:C,startAngle:v,endAngle:w,options:this.resolveDataElementOptions(m,b.active?"active":i)};this.updateElement(b,m,S,i)}}countVisibleElements(){const t=this._cachedMeta;let s=0;return t.data.forEach((n,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&s++}),s}_computeAngle(t,s,n){return this.chart.getDataVisibility(t)?je(this.resolveDataElementOptions(t,s).angle||n):0}}B(ki,"id","polarArea"),B(ki,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),B(ki,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const s=t.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return s.labels.map((o,r)=>{const l=t.getDatasetMeta(0).controller.getStyle(r);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}})}return[]}},onClick(t,s,n){n.chart.toggleDataVisibility(s.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Ea extends nn{}B(Ea,"id","pie"),B(Ea,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Oo extends $e{getLabelAndValue(t){const s=this._cachedMeta.vScale,n=this.getParsed(t);return{label:s.getLabels()[t],value:""+s.getLabelForValue(n[s.axis])}}parseObjectData(t,s,n,i){return Af.bind(this)(t,s,n,i)}update(t){const s=this._cachedMeta,n=s.dataset,i=s.data||[],o=s.iScale.getLabels();if(n.points=i,t!=="resize"){const r=this.resolveDatasetElementOptions(t);this.options.showLine||(r.borderWidth=0);const a={_loop:!0,_fullLoop:o.length===i.length,options:r};this.updateElement(n,void 0,a,t)}this.updateElements(i,0,i.length,t)}updateElements(t,s,n,i){const o=this._cachedMeta.rScale,r=i==="reset";for(let a=s;a<s+n;a++){const l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":i),d=o.getPointPositionForValue(a,this.getParsed(a).r),h=r?o.xCenter:d.x,f=r?o.yCenter:d.y,p={x:h,y:f,angle:d.angle,skip:isNaN(h)||isNaN(f),options:c};this.updateElement(l,a,p,i)}}}B(Oo,"id","radar"),B(Oo,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),B(Oo,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Eo extends $e{getLabelAndValue(t){const s=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:o}=s,r=this.getParsed(t),a=i.getLabelForValue(r.x),l=o.getLabelForValue(r.y);return{label:n[t]||"",value:"("+a+", "+l+")"}}update(t){const s=this._cachedMeta,{data:n=[]}=s,i=this.chart._animationsDisabled;let{start:o,count:r}=yf(s,n,i);if(this._drawStart=o,this._drawCount=r,xf(s)&&(o=0,r=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=s;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=n;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},t)}else this.datasetElementType&&(delete s.dataset,this.datasetElementType=!1);this.updateElements(n,o,r,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,s,n,i){const o=i==="reset",{iScale:r,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,d=this.resolveDataElementOptions(s,i),h=this.getSharedOptions(d),f=this.includeOptions(i,h),p=r.axis,m=a.axis,{spanGaps:g,segment:b}=this.options,v=Un(g)?g:Number.POSITIVE_INFINITY,w=this.chart._animationsDisabled||o||i==="none";let C=s>0&&this.getParsed(s-1);for(let S=s;S<s+n;++S){const M=t[S],L=this.getParsed(S),I=w?M:{},$=gt(L[m]),X=I[p]=r.getPixelForValue(L[p],S),it=I[m]=o||$?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,L,l):L[m],S);I.skip=isNaN(X)||isNaN(it)||$,I.stop=S>0&&Math.abs(L[p]-C[p])>v,b&&(I.parsed=L,I.raw=c.data[S]),f&&(I.options=h||this.resolveDataElementOptions(S,M.active?"active":i)),w||this.updateElement(M,S,I,i),C=L}this.updateSharedOptions(h,i,d)}getMaxOverflow(){const t=this._cachedMeta,s=t.data||[];if(!this.options.showLine){let a=0;for(let l=s.length-1;l>=0;--l)a=Math.max(a,s[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const n=t.dataset,i=n.options&&n.options.borderWidth||0;if(!s.length)return i;const o=s[0].size(this.resolveDataElementOptions(0)),r=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,o,r)/2}}B(Eo,"id","scatter"),B(Eo,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),B(Eo,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Yw=Object.freeze({__proto__:null,BarController:Ao,BubbleController:Po,DoughnutController:nn,LineController:To,PieController:Ea,PolarAreaController:ki,RadarController:Oo,ScatterController:Eo});function Js(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ol{constructor(t){B(this,"options");this.options=t||{}}static override(t){Object.assign(Ol.prototype,t)}init(){}formats(){return Js()}parse(){return Js()}format(){return Js()}add(){return Js()}diff(){return Js()}startOf(){return Js()}endOf(){return Js()}}var Jw={_date:Ol};function Xw(e,t,s,n){const{controller:i,data:o,_sorted:r}=e,a=i._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&r&&o.length){const c=a._reversePixels?x_:ms;if(n){if(i._sharedOptions){const d=o[0],h=typeof d.getRange=="function"&&d.getRange(t);if(h){const f=c(o,t,s-h),p=c(o,t,s+h);return{lo:f.lo,hi:p.hi}}}}else{const d=c(o,t,s);if(l){const{vScale:h}=i._cachedMeta,{_parsed:f}=e,p=f.slice(0,d.lo+1).reverse().findIndex(g=>!gt(g[h.axis]));d.lo-=Math.max(0,p);const m=f.slice(d.hi).findIndex(g=>!gt(g[h.axis]));d.hi+=Math.max(0,m)}return d}}return{lo:0,hi:o.length-1}}function Xi(e,t,s,n,i){const o=e.getSortedVisibleDatasetMetas(),r=s[t];for(let a=0,l=o.length;a<l;++a){const{index:c,data:d}=o[a],{lo:h,hi:f}=Xw(o[a],t,r,i);for(let p=h;p<=f;++p){const m=d[p];m.skip||n(m,c,p)}}}function Qw(e){const t=e.indexOf("x")!==-1,s=e.indexOf("y")!==-1;return function(n,i){const o=t?Math.abs(n.x-i.x):0,r=s?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}}function Zr(e,t,s,n,i){const o=[];return!i&&!e.isPointInArea(t)||Xi(e,s,t,function(a,l,c){!i&&!gs(a,e.chartArea,0)||a.inRange(t.x,t.y,n)&&o.push({element:a,datasetIndex:l,index:c})},!0),o}function Zw(e,t,s,n){let i=[];function o(r,a,l){const{startAngle:c,endAngle:d}=r.getProps(["startAngle","endAngle"],n),{angle:h}=ff(r,{x:t.x,y:t.y});ji(h,c,d)&&i.push({element:r,datasetIndex:a,index:l})}return Xi(e,s,t,o),i}function t1(e,t,s,n,i,o){let r=[];const a=Qw(s);let l=Number.POSITIVE_INFINITY;function c(d,h,f){const p=d.inRange(t.x,t.y,i);if(n&&!p)return;const m=d.getCenterPoint(i);if(!(!!o||e.isPointInArea(m))&&!p)return;const b=a(t,m);b<l?(r=[{element:d,datasetIndex:h,index:f}],l=b):b===l&&r.push({element:d,datasetIndex:h,index:f})}return Xi(e,s,t,c),r}function ta(e,t,s,n,i,o){return!o&&!e.isPointInArea(t)?[]:s==="r"&&!n?Zw(e,t,s,i):t1(e,t,s,n,i,o)}function _d(e,t,s,n,i){const o=[],r=s==="x"?"inXRange":"inYRange";let a=!1;return Xi(e,s,t,(l,c,d)=>{l[r]&&l[r](t[s],i)&&(o.push({element:l,datasetIndex:c,index:d}),a=a||l.inRange(t.x,t.y,i))}),n&&!a?[]:o}var e1={evaluateInteractionItems:Xi,modes:{index(e,t,s,n){const i=tn(t,e),o=s.axis||"x",r=s.includeInvisible||!1,a=s.intersect?Zr(e,i,o,n,r):ta(e,i,o,!1,n,r),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const d=a[0].index,h=c.data[d];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:d})}),l):[]},dataset(e,t,s,n){const i=tn(t,e),o=s.axis||"xy",r=s.includeInvisible||!1;let a=s.intersect?Zr(e,i,o,n,r):ta(e,i,o,!1,n,r);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let d=0;d<c.length;++d)a.push({element:c[d],datasetIndex:l,index:d})}return a},point(e,t,s,n){const i=tn(t,e),o=s.axis||"xy",r=s.includeInvisible||!1;return Zr(e,i,o,n,r)},nearest(e,t,s,n){const i=tn(t,e),o=s.axis||"xy",r=s.includeInvisible||!1;return ta(e,i,o,s.intersect,n,r)},x(e,t,s,n){const i=tn(t,e);return _d(e,i,"x",s.intersect,n)},y(e,t,s,n){const i=tn(t,e);return _d(e,i,"y",s.intersect,n)}}};const Uf=["left","top","right","bottom"];function Xn(e,t){return e.filter(s=>s.pos===t)}function wd(e,t){return e.filter(s=>Uf.indexOf(s.pos)===-1&&s.box.axis===t)}function Qn(e,t){return e.sort((s,n)=>{const i=t?n:s,o=t?s:n;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function s1(e){const t=[];let s,n,i,o,r,a;for(s=0,n=(e||[]).length;s<n;++s)i=e[s],{position:o,options:{stack:r,stackWeight:a=1}}=i,t.push({index:s,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:r&&o+r,stackWeight:a});return t}function n1(e){const t={};for(const s of e){const{stack:n,pos:i,stackWeight:o}=s;if(!n||!Uf.includes(i))continue;const r=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=o}return t}function i1(e,t){const s=n1(e),{vBoxMaxWidth:n,hBoxMaxHeight:i}=t;let o,r,a;for(o=0,r=e.length;o<r;++o){a=e[o];const{fullSize:l}=a.box,c=s[a.stack],d=c&&a.stackWeight/c.weight;a.horizontal?(a.width=d?d*n:l&&t.availableWidth,a.height=i):(a.width=n,a.height=d?d*i:l&&t.availableHeight)}return s}function o1(e){const t=s1(e),s=Qn(t.filter(c=>c.box.fullSize),!0),n=Qn(Xn(t,"left"),!0),i=Qn(Xn(t,"right")),o=Qn(Xn(t,"top"),!0),r=Qn(Xn(t,"bottom")),a=wd(t,"x"),l=wd(t,"y");return{fullSize:s,leftAndTop:n.concat(o),rightAndBottom:i.concat(l).concat(r).concat(a),chartArea:Xn(t,"chartArea"),vertical:n.concat(i).concat(l),horizontal:o.concat(r).concat(a)}}function kd(e,t,s,n){return Math.max(e[s],t[s])+Math.max(e[n],t[n])}function Nf(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function r1(e,t,s,n){const{pos:i,box:o}=s,r=e.maxPadding;if(!yt(i)){s.size&&(e[i]-=s.size);const h=n[s.stack]||{size:0,count:1};h.size=Math.max(h.size,s.horizontal?o.height:o.width),s.size=h.size/h.count,e[i]+=s.size}o.getPadding&&Nf(r,o.getPadding());const a=Math.max(0,t.outerWidth-kd(r,e,"left","right")),l=Math.max(0,t.outerHeight-kd(r,e,"top","bottom")),c=a!==e.w,d=l!==e.h;return e.w=a,e.h=l,s.horizontal?{same:c,other:d}:{same:d,other:c}}function a1(e){const t=e.maxPadding;function s(n){const i=Math.max(t[n]-e[n],0);return e[n]+=i,i}e.y+=s("top"),e.x+=s("left"),s("right"),s("bottom")}function l1(e,t){const s=t.maxPadding;function n(i){const o={left:0,top:0,right:0,bottom:0};return i.forEach(r=>{o[r]=Math.max(t[r],s[r])}),o}return n(e?["left","right"]:["top","bottom"])}function oi(e,t,s,n){const i=[];let o,r,a,l,c,d;for(o=0,r=e.length,c=0;o<r;++o){a=e[o],l=a.box,l.update(a.width||t.w,a.height||t.h,l1(a.horizontal,t));const{same:h,other:f}=r1(t,s,a,n);c|=h&&i.length,d=d||f,l.fullSize||i.push(a)}return c&&oi(i,t,s,n)||d}function fo(e,t,s,n,i){e.top=s,e.left=t,e.right=t+n,e.bottom=s+i,e.width=n,e.height=i}function Sd(e,t,s,n){const i=s.padding;let{x:o,y:r}=t;for(const a of e){const l=a.box,c=n[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/c.weight||1;if(a.horizontal){const h=t.w*d,f=c.size||l.height;Fi(c.start)&&(r=c.start),l.fullSize?fo(l,i.left,r,s.outerWidth-i.right-i.left,f):fo(l,t.left+c.placed,r,h,f),c.start=r,c.placed+=h,r=l.bottom}else{const h=t.h*d,f=c.size||l.width;Fi(c.start)&&(o=c.start),l.fullSize?fo(l,o,i.top,f,s.outerHeight-i.bottom-i.top):fo(l,o,t.top+c.placed,f,h),c.start=o,c.placed+=h,o=l.right}}t.x=o,t.y=r}var se={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(s){t.draw(s)}}]},e.boxes.push(t)},removeBox(e,t){const s=e.boxes?e.boxes.indexOf(t):-1;s!==-1&&e.boxes.splice(s,1)},configure(e,t,s){t.fullSize=s.fullSize,t.position=s.position,t.weight=s.weight},update(e,t,s,n){if(!e)return;const i=oe(e.options.layout.padding),o=Math.max(t-i.width,0),r=Math.max(s-i.height,0),a=o1(e.boxes),l=a.vertical,c=a.horizontal;Mt(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const d=l.reduce((g,b)=>b.box.options&&b.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:s,padding:i,availableWidth:o,availableHeight:r,vBoxMaxWidth:o/2/d,hBoxMaxHeight:r/2}),f=Object.assign({},i);Nf(f,oe(n));const p=Object.assign({maxPadding:f,w:o,h:r,x:i.left,y:i.top},i),m=i1(l.concat(c),h);oi(a.fullSize,p,h,m),oi(l,p,h,m),oi(c,p,h,m)&&oi(l,p,h,m),a1(p),Sd(a.leftAndTop,p,h,m),p.x+=p.w,p.y+=p.h,Sd(a.rightAndBottom,p,h,m),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Mt(a.chartArea,g=>{const b=g.box;Object.assign(b,e.chartArea),b.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class $f{acquireContext(t,s){}releaseContext(t){return!1}addEventListener(t,s,n){}removeEventListener(t,s,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,s,n,i){return s=Math.max(0,s||t.width),n=n||t.height,{width:s,height:Math.max(0,i?Math.floor(s/i):n)}}isAttached(t){return!0}updateConfig(t){}}class c1 extends $f{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Do="$chartjs",d1={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Cd=e=>e===null||e==="";function u1(e,t){const s=e.style,n=e.getAttribute("height"),i=e.getAttribute("width");if(e[Do]={initial:{height:n,width:i,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",Cd(i)){const o=ld(e,"width");o!==void 0&&(e.width=o)}if(Cd(n))if(e.style.height==="")e.height=e.width/(t||2);else{const o=ld(e,"height");o!==void 0&&(e.height=o)}return e}const Bf=hw?{passive:!0}:!1;function h1(e,t,s){e&&e.addEventListener(t,s,Bf)}function f1(e,t,s){e&&e.canvas&&e.canvas.removeEventListener(t,s,Bf)}function p1(e,t){const s=d1[e.type]||e.type,{x:n,y:i}=tn(e,t);return{type:s,chart:t,native:e,x:n!==void 0?n:null,y:i!==void 0?i:null}}function Xo(e,t){for(const s of e)if(s===t||s.contains(t))return!0}function m1(e,t,s){const n=e.canvas,i=new MutationObserver(o=>{let r=!1;for(const a of o)r=r||Xo(a.addedNodes,n),r=r&&!Xo(a.removedNodes,n);r&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}function g1(e,t,s){const n=e.canvas,i=new MutationObserver(o=>{let r=!1;for(const a of o)r=r||Xo(a.removedNodes,n),r=r&&!Xo(a.addedNodes,n);r&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}const Ni=new Map;let Md=0;function Vf(){const e=window.devicePixelRatio;e!==Md&&(Md=e,Ni.forEach((t,s)=>{s.currentDevicePixelRatio!==e&&t()}))}function b1(e,t){Ni.size||window.addEventListener("resize",Vf),Ni.set(e,t)}function y1(e){Ni.delete(e),Ni.size||window.removeEventListener("resize",Vf)}function x1(e,t,s){const n=e.canvas,i=n&&Tl(n);if(!i)return;const o=bf((a,l)=>{const c=i.clientWidth;s(a,l),c<i.clientWidth&&s()},window),r=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,d=l.contentRect.height;c===0&&d===0||o(c,d)});return r.observe(i),b1(e,o),r}function ea(e,t,s){s&&s.disconnect(),t==="resize"&&y1(e)}function v1(e,t,s){const n=e.canvas,i=bf(o=>{e.ctx!==null&&s(p1(o,e))},e);return h1(n,t,i),i}class _1 extends $f{acquireContext(t,s){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(u1(t,s),n):null}releaseContext(t){const s=t.canvas;if(!s[Do])return!1;const n=s[Do].initial;["height","width"].forEach(o=>{const r=n[o];gt(r)?s.removeAttribute(o):s.setAttribute(o,r)});const i=n.style||{};return Object.keys(i).forEach(o=>{s.style[o]=i[o]}),s.width=s.width,delete s[Do],!0}addEventListener(t,s,n){this.removeEventListener(t,s);const i=t.$proxies||(t.$proxies={}),r={attach:m1,detach:g1,resize:x1}[s]||v1;i[s]=r(t,s,n)}removeEventListener(t,s){const n=t.$proxies||(t.$proxies={}),i=n[s];if(!i)return;({attach:ea,detach:ea,resize:ea}[s]||f1)(t,s,i),n[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,s,n,i){return uw(t,s,n,i)}isAttached(t){const s=t&&Tl(t);return!!(s&&s.isConnected)}}function w1(e){return!Pl()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?c1:_1}var vo;let ks=(vo=class{constructor(){B(this,"x");B(this,"y");B(this,"active",!1);B(this,"options");B(this,"$animations")}tooltipPosition(t){const{x:s,y:n}=this.getProps(["x","y"],t);return{x:s,y:n}}hasValue(){return Un(this.x)&&Un(this.y)}getProps(t,s){const n=this.$animations;if(!s||!n)return this;const i={};return t.forEach(o=>{i[o]=n[o]&&n[o].active()?n[o]._to:this[o]}),i}},B(vo,"defaults",{}),B(vo,"defaultRoutes"),vo);function k1(e,t){const s=e.options.ticks,n=S1(e),i=Math.min(s.maxTicksLimit||n,n),o=s.major.enabled?M1(t):[],r=o.length,a=o[0],l=o[r-1],c=[];if(r>i)return A1(t,c,o,r/i),c;const d=C1(o,t,i);if(r>0){let h,f;const p=r>1?Math.round((l-a)/(r-1)):null;for(po(t,c,d,gt(p)?0:a-p,a),h=0,f=r-1;h<f;h++)po(t,c,d,o[h],o[h+1]);return po(t,c,d,l,gt(p)?t.length:l+p),c}return po(t,c,d),c}function S1(e){const t=e.options.offset,s=e._tickSize(),n=e._length/s+(t?0:1),i=e._maxLength/s;return Math.floor(Math.min(n,i))}function C1(e,t,s){const n=P1(e),i=t.length/s;if(!n)return Math.max(i,1);const o=p_(n);for(let r=0,a=o.length-1;r<a;r++){const l=o[r];if(l>i)return l}return Math.max(i,1)}function M1(e){const t=[];let s,n;for(s=0,n=e.length;s<n;s++)e[s].major&&t.push(s);return t}function A1(e,t,s,n){let i=0,o=s[0],r;for(n=Math.ceil(n),r=0;r<e.length;r++)r===o&&(t.push(e[r]),i++,o=s[i*n])}function po(e,t,s,n,i){const o=ht(n,0),r=Math.min(ht(i,e.length),e.length);let a=0,l,c,d;for(s=Math.ceil(s),i&&(l=i-n,s=l/Math.floor(l/s)),d=o;d<0;)a++,d=Math.round(o+a*s);for(c=Math.max(o,0);c<r;c++)c===d&&(t.push(e[c]),a++,d=Math.round(o+a*s))}function P1(e){const t=e.length;let s,n;if(t<2)return!1;for(n=e[0],s=1;s<t;++s)if(e[s]-e[s-1]!==n)return!1;return n}const T1=e=>e==="left"?"right":e==="right"?"left":e,Ad=(e,t,s)=>t==="top"||t==="left"?e[t]+s:e[t]-s,Pd=(e,t)=>Math.min(t||e,e);function Td(e,t){const s=[],n=e.length/t,i=e.length;let o=0;for(;o<i;o+=n)s.push(e[Math.floor(o)]);return s}function O1(e,t,s){const n=e.ticks.length,i=Math.min(t,n-1),o=e._startPixel,r=e._endPixel,a=1e-6;let l=e.getPixelForTick(i),c;if(!(s&&(n===1?c=Math.max(l-o,r-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(i-1))/2,l+=i<t?c:-c,l<o-a||l>r+a)))return l}function E1(e,t){Mt(e,s=>{const n=s.gc,i=n.length/2;let o;if(i>t){for(o=0;o<i;++o)delete s.data[n[o]];n.splice(0,i)}})}function Zn(e){return e.drawTicks?e.tickLength:0}function Od(e,t){if(!e.display)return 0;const s=qt(e.font,t),n=oe(e.padding);return(Lt(e.text)?e.text.length:1)*s.lineHeight+n.height}function D1(e,t){return Hs(e,{scale:t,type:"scale"})}function I1(e,t,s){return Hs(e,{tick:s,index:t,type:"tick"})}function R1(e,t,s){let n=wl(e);return(s&&t!=="right"||!s&&t==="right")&&(n=T1(n)),n}function L1(e,t,s,n){const{top:i,left:o,bottom:r,right:a,chart:l}=e,{chartArea:c,scales:d}=l;let h=0,f,p,m;const g=r-i,b=a-o;if(e.isHorizontal()){if(p=Zt(n,o,a),yt(s)){const v=Object.keys(s)[0],w=s[v];m=d[v].getPixelForValue(w)+g-t}else s==="center"?m=(c.bottom+c.top)/2+g-t:m=Ad(e,s,t);f=a-o}else{if(yt(s)){const v=Object.keys(s)[0],w=s[v];p=d[v].getPixelForValue(w)-b+t}else s==="center"?p=(c.left+c.right)/2-b+t:p=Ad(e,s,t);m=Zt(n,r,i),h=s==="left"?-Vt:Vt}return{titleX:p,titleY:m,maxWidth:f,rotation:h}}class fn extends ks{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,s){return t}getUserBounds(){let{_userMin:t,_userMax:s,_suggestedMin:n,_suggestedMax:i}=this;return t=ke(t,Number.POSITIVE_INFINITY),s=ke(s,Number.NEGATIVE_INFINITY),n=ke(n,Number.POSITIVE_INFINITY),i=ke(i,Number.NEGATIVE_INFINITY),{min:ke(t,n),max:ke(s,i),minDefined:$t(t),maxDefined:$t(s)}}getMinMax(t){let{min:s,max:n,minDefined:i,maxDefined:o}=this.getUserBounds(),r;if(i&&o)return{min:s,max:n};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)r=a[l].controller.getMinMax(this,t),i||(s=Math.min(s,r.min)),o||(n=Math.max(n,r.max));return s=o&&s>n?n:s,n=i&&s>n?s:n,{min:ke(s,ke(n,s)),max:ke(n,ke(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){It(this.options.beforeUpdate,[this])}update(t,s,n){const{beginAtZero:i,grace:o,ticks:r}=this.options,a=r.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=s,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=z_(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Td(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||r.source==="auto")&&(this.ticks=k1(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,s,n;this.isHorizontal()?(s=this.left,n=this.right):(s=this.top,n=this.bottom,t=!t),this._startPixel=s,this._endPixel=n,this._reversePixels=t,this._length=n-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){It(this.options.afterUpdate,[this])}beforeSetDimensions(){It(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){It(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),It(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){It(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const s=this.options.ticks;let n,i,o;for(n=0,i=t.length;n<i;n++)o=t[n],o.label=It(s.callback,[o.value,n,t],this)}afterTickToLabelConversion(){It(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){It(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,s=t.ticks,n=Pd(this.ticks.length,t.ticks.maxTicksLimit),i=s.minRotation||0,o=s.maxRotation;let r=i,a,l,c;if(!this._isVisible()||!s.display||i>=o||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const d=this._getLabelSizes(),h=d.widest.width,f=d.highest.height,p=Gt(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/n:p/(n-1),h+6>a&&(a=p/(n-(t.offset?.5:1)),l=this.maxHeight-Zn(t.grid)-s.padding-Od(t.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),r=vl(Math.min(Math.asin(Gt((d.highest.height+6)/a,-1,1)),Math.asin(Gt(l/c,-1,1))-Math.asin(Gt(f/c,-1,1)))),r=Math.max(i,Math.min(o,r))),this.labelRotation=r}afterCalculateLabelRotation(){It(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){It(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:s,options:{ticks:n,title:i,grid:o}}=this,r=this._isVisible(),a=this.isHorizontal();if(r){const l=Od(i,s.options.font);if(a?(t.width=this.maxWidth,t.height=Zn(o)+l):(t.height=this.maxHeight,t.width=Zn(o)+l),n.display&&this.ticks.length){const{first:c,last:d,widest:h,highest:f}=this._getLabelSizes(),p=n.padding*2,m=je(this.labelRotation),g=Math.cos(m),b=Math.sin(m);if(a){const v=n.mirror?0:b*h.width+g*f.height;t.height=Math.min(this.maxHeight,t.height+v+p)}else{const v=n.mirror?0:g*h.width+b*f.height;t.width=Math.min(this.maxWidth,t.width+v+p)}this._calculatePadding(c,d,b,g)}}this._handleMargins(),a?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,s,n,i){const{ticks:{align:o,padding:r},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;l?c?(f=i*t.width,p=n*s.height):(f=n*t.height,p=i*s.width):o==="start"?p=s.width:o==="end"?f=t.width:o!=="inner"&&(f=t.width/2,p=s.width/2),this.paddingLeft=Math.max((f-d+r)*this.width/(this.width-d),0),this.paddingRight=Math.max((p-h+r)*this.width/(this.width-h),0)}else{let d=s.height/2,h=t.height/2;o==="start"?(d=0,h=t.height):o==="end"&&(d=s.height,h=0),this.paddingTop=d+r,this.paddingBottom=h+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){It(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:s}=this.options;return s==="top"||s==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let s,n;for(s=0,n=t.length;s<n;s++)gt(t[s].label)&&(t.splice(s,1),n--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const s=this.options.ticks.sampleSize;let n=this.ticks;s<n.length&&(n=Td(n,s)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,s,n){const{ctx:i,_longestTextCache:o}=this,r=[],a=[],l=Math.floor(s/Pd(s,n));let c=0,d=0,h,f,p,m,g,b,v,w,C,S,M;for(h=0;h<s;h+=l){if(m=t[h].label,g=this._resolveTickFontOptions(h),i.font=b=g.string,v=o[b]=o[b]||{data:{},gc:[]},w=g.lineHeight,C=S=0,!gt(m)&&!Lt(m))C=Yo(i,v.data,v.gc,C,m),S=w;else if(Lt(m))for(f=0,p=m.length;f<p;++f)M=m[f],!gt(M)&&!Lt(M)&&(C=Yo(i,v.data,v.gc,C,M),S+=w);r.push(C),a.push(S),c=Math.max(C,c),d=Math.max(S,d)}E1(o,s);const L=r.indexOf(c),I=a.indexOf(d),$=X=>({width:r[X]||0,height:a[X]||0});return{first:$(0),last:$(s-1),widest:$(L),highest:$(I),widths:r,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,s){return NaN}getValueForPixel(t){}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const s=this._startPixel+t*this._length;return y_(this._alignToPixels?Ys(this.chart,s,0):s)}getDecimalForPixel(t){const s=(t-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:s}=this;return t<0&&s<0?s:t>0&&s>0?t:0}getContext(t){const s=this.ticks||[];if(t>=0&&t<s.length){const n=s[t];return n.$context||(n.$context=I1(this.getContext(),t,n))}return this.$context||(this.$context=D1(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,s=je(this.labelRotation),n=Math.abs(Math.cos(s)),i=Math.abs(Math.sin(s)),o=this._getLabelSizes(),r=t.autoSkipPadding||0,a=o?o.widest.width+r:0,l=o?o.highest.height+r:0;return this.isHorizontal()?l*n>a*i?a/n:l/i:l*i<a*n?l/n:a/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const s=this.axis,n=this.chart,i=this.options,{grid:o,position:r,border:a}=i,l=o.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=Zn(o),p=[],m=a.setContext(this.getContext()),g=m.display?m.width:0,b=g/2,v=function(lt){return Ys(n,lt,g)};let w,C,S,M,L,I,$,X,it,rt,dt,At;if(r==="top")w=v(this.bottom),I=this.bottom-f,X=w-b,rt=v(t.top)+b,At=t.bottom;else if(r==="bottom")w=v(this.top),rt=t.top,At=v(t.bottom)-b,I=w+b,X=this.top+f;else if(r==="left")w=v(this.right),L=this.right-f,$=w-b,it=v(t.left)+b,dt=t.right;else if(r==="right")w=v(this.left),it=t.left,dt=v(t.right)-b,L=w+b,$=this.left+f;else if(s==="x"){if(r==="center")w=v((t.top+t.bottom)/2+.5);else if(yt(r)){const lt=Object.keys(r)[0],ot=r[lt];w=v(this.chart.scales[lt].getPixelForValue(ot))}rt=t.top,At=t.bottom,I=w+b,X=I+f}else if(s==="y"){if(r==="center")w=v((t.left+t.right)/2);else if(yt(r)){const lt=Object.keys(r)[0],ot=r[lt];w=v(this.chart.scales[lt].getPixelForValue(ot))}L=w-b,$=L-f,it=t.left,dt=t.right}const Wt=ht(i.ticks.maxTicksLimit,h),xt=Math.max(1,Math.ceil(h/Wt));for(C=0;C<h;C+=xt){const lt=this.getContext(C),ot=o.setContext(lt),ut=a.setContext(lt),Tt=ot.lineWidth,re=ot.color,ae=ut.dash||[],Bt=ut.dashOffset,Te=ot.tickWidth,ue=ot.tickColor,We=ot.tickBorderDash||[],zt=ot.tickBorderDashOffset;S=O1(this,C,l),S!==void 0&&(M=Ys(n,S,Tt),c?L=$=it=dt=M:I=X=rt=At=M,p.push({tx1:L,ty1:I,tx2:$,ty2:X,x1:it,y1:rt,x2:dt,y2:At,width:Tt,color:re,borderDash:ae,borderDashOffset:Bt,tickWidth:Te,tickColor:ue,tickBorderDash:We,tickBorderDashOffset:zt}))}return this._ticksLength=h,this._borderValue=w,p}_computeLabelItems(t){const s=this.axis,n=this.options,{position:i,ticks:o}=n,r=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:d,mirror:h}=o,f=Zn(n.grid),p=f+d,m=h?-d:p,g=-je(this.labelRotation),b=[];let v,w,C,S,M,L,I,$,X,it,rt,dt,At="middle";if(i==="top")L=this.bottom-m,I=this._getXAxisLabelAlignment();else if(i==="bottom")L=this.top+m,I=this._getXAxisLabelAlignment();else if(i==="left"){const xt=this._getYAxisLabelAlignment(f);I=xt.textAlign,M=xt.x}else if(i==="right"){const xt=this._getYAxisLabelAlignment(f);I=xt.textAlign,M=xt.x}else if(s==="x"){if(i==="center")L=(t.top+t.bottom)/2+p;else if(yt(i)){const xt=Object.keys(i)[0],lt=i[xt];L=this.chart.scales[xt].getPixelForValue(lt)+p}I=this._getXAxisLabelAlignment()}else if(s==="y"){if(i==="center")M=(t.left+t.right)/2-p;else if(yt(i)){const xt=Object.keys(i)[0],lt=i[xt];M=this.chart.scales[xt].getPixelForValue(lt)}I=this._getYAxisLabelAlignment(f).textAlign}s==="y"&&(l==="start"?At="top":l==="end"&&(At="bottom"));const Wt=this._getLabelSizes();for(v=0,w=a.length;v<w;++v){C=a[v],S=C.label;const xt=o.setContext(this.getContext(v));$=this.getPixelForTick(v)+o.labelOffset,X=this._resolveTickFontOptions(v),it=X.lineHeight,rt=Lt(S)?S.length:1;const lt=rt/2,ot=xt.color,ut=xt.textStrokeColor,Tt=xt.textStrokeWidth;let re=I;r?(M=$,I==="inner"&&(v===w-1?re=this.options.reverse?"left":"right":v===0?re=this.options.reverse?"right":"left":re="center"),i==="top"?c==="near"||g!==0?dt=-rt*it+it/2:c==="center"?dt=-Wt.highest.height/2-lt*it+it:dt=-Wt.highest.height+it/2:c==="near"||g!==0?dt=it/2:c==="center"?dt=Wt.highest.height/2-lt*it:dt=Wt.highest.height-rt*it,h&&(dt*=-1),g!==0&&!xt.showLabelBackdrop&&(M+=it/2*Math.sin(g))):(L=$,dt=(1-rt)*it/2);let ae;if(xt.showLabelBackdrop){const Bt=oe(xt.backdropPadding),Te=Wt.heights[v],ue=Wt.widths[v];let We=dt-Bt.top,zt=0-Bt.left;switch(At){case"middle":We-=Te/2;break;case"bottom":We-=Te;break}switch(I){case"center":zt-=ue/2;break;case"right":zt-=ue;break;case"inner":v===w-1?zt-=ue:v>0&&(zt-=ue/2);break}ae={left:zt,top:We,width:ue+Bt.width,height:Te+Bt.height,color:xt.backdropColor}}b.push({label:S,font:X,textOffset:dt,options:{rotation:g,color:ot,strokeColor:ut,strokeWidth:Tt,textAlign:re,textBaseline:At,translation:[M,L],backdrop:ae}})}return b}_getXAxisLabelAlignment(){const{position:t,ticks:s}=this.options;if(-je(this.labelRotation))return t==="top"?"left":"right";let i="center";return s.align==="start"?i="left":s.align==="end"?i="right":s.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:s,ticks:{crossAlign:n,mirror:i,padding:o}}=this.options,r=this._getLabelSizes(),a=t+o,l=r.widest.width;let c,d;return s==="left"?i?(d=this.right+o,n==="near"?c="left":n==="center"?(c="center",d+=l/2):(c="right",d+=l)):(d=this.right-a,n==="near"?c="right":n==="center"?(c="center",d-=l/2):(c="left",d=this.left)):s==="right"?i?(d=this.left+o,n==="near"?c="right":n==="center"?(c="center",d-=l/2):(c="left",d-=l)):(d=this.left+a,n==="near"?c="left":n==="center"?(c="center",d+=l/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:s},left:n,top:i,width:o,height:r}=this;s&&(t.save(),t.fillStyle=s,t.fillRect(n,i,o,r),t.restore())}getLineWidthForValue(t){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const i=this.ticks.findIndex(o=>o.value===t);return i>=0?s.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const s=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,r;const a=(l,c,d)=>{!d.width||!d.color||(n.save(),n.lineWidth=d.width,n.strokeStyle=d.color,n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(s.display)for(o=0,r=i.length;o<r;++o){const l=i[o];s.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),s.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:s,options:{border:n,grid:i}}=this,o=n.setContext(this.getContext()),r=n.display?o.width:0;if(!r)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,d,h,f;this.isHorizontal()?(c=Ys(t,this.left,r)-r/2,d=Ys(t,this.right,a)+a/2,h=f=l):(h=Ys(t,this.top,r)-r/2,f=Ys(t,this.bottom,a)+a/2,c=d=l),s.save(),s.lineWidth=o.width,s.strokeStyle=o.color,s.beginPath(),s.moveTo(c,h),s.lineTo(d,f),s.stroke(),s.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&wr(n,i);const o=this.getLabelItems(t);for(const r of o){const a=r.options,l=r.font,c=r.label,d=r.textOffset;dn(n,c,0,d,l,a)}i&&kr(n)}drawTitle(){const{ctx:t,options:{position:s,title:n,reverse:i}}=this;if(!n.display)return;const o=qt(n.font),r=oe(n.padding),a=n.align;let l=o.lineHeight/2;s==="bottom"||s==="center"||yt(s)?(l+=r.bottom,Lt(n.text)&&(l+=o.lineHeight*(n.text.length-1))):l+=r.top;const{titleX:c,titleY:d,maxWidth:h,rotation:f}=L1(this,l,s,a);dn(t,n.text,0,0,o,{color:n.color,maxWidth:h,rotation:f,textAlign:R1(a,s,i),textBaseline:"middle",translation:[c,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,s=t.ticks&&t.ticks.z||0,n=ht(t.grid&&t.grid.z,-1),i=ht(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==fn.prototype.draw?[{z:s,draw:o=>{this.draw(o)}}]:[{z:n,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:s,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const s=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let o,r;for(o=0,r=s.length;o<r;++o){const a=s[o];a[n]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){const s=this.options.ticks.setContext(this.getContext(t));return qt(s.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class mo{constructor(t,s,n){this.type=t,this.scope=s,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const s=Object.getPrototypeOf(t);let n;U1(s)&&(n=this.register(s));const i=this.items,o=t.id,r=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in i||(i[o]=t,F1(t,r,n),this.override&&Nt.override(t.id,t.overrides)),r}get(t){return this.items[t]}unregister(t){const s=this.items,n=t.id,i=this.scope;n in s&&delete s[n],i&&n in Nt[i]&&(delete Nt[i][n],this.override&&delete cn[n])}}function F1(e,t,s){const n=Li(Object.create(null),[s?Nt.get(s):{},Nt.get(t),e.defaults]);Nt.set(t,n),e.defaultRoutes&&j1(t,e.defaultRoutes),e.descriptors&&Nt.describe(t,e.descriptors)}function j1(e,t){Object.keys(t).forEach(s=>{const n=s.split("."),i=n.pop(),o=[e].concat(n).join("."),r=t[s].split("."),a=r.pop(),l=r.join(".");Nt.route(o,i,l,a)})}function U1(e){return"id"in e&&"defaults"in e}class N1{constructor(){this.controllers=new mo($e,"datasets",!0),this.elements=new mo(ks,"elements"),this.plugins=new mo(Object,"plugins"),this.scales=new mo(fn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,s,n){[...s].forEach(i=>{const o=n||this._getRegistryForType(i);n||o.isForType(i)||o===this.plugins&&i.id?this._exec(t,o,i):Mt(i,r=>{const a=n||this._getRegistryForType(r);this._exec(t,a,r)})})}_exec(t,s,n){const i=xl(t);It(n["before"+i],[],n),s[t](n),It(n["after"+i],[],n)}_getRegistryForType(t){for(let s=0;s<this._typedRegistries.length;s++){const n=this._typedRegistries[s];if(n.isForType(t))return n}return this.plugins}_get(t,s,n){const i=s.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return i}}var Xe=new N1;class $1{constructor(){this._init=[]}notify(t,s,n,i){s==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=i?this._descriptors(t).filter(i):this._descriptors(t),r=this._notify(o,t,s,n);return s==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),r}_notify(t,s,n,i){i=i||{};for(const o of t){const r=o.plugin,a=r[n],l=[s,i,o.options];if(It(a,l,r)===!1&&i.cancelable)return!1}return!0}invalidate(){gt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),s}_createDescriptors(t,s){const n=t&&t.config,i=ht(n.options&&n.options.plugins,{}),o=B1(n);return i===!1&&!s?[]:z1(t,o,i,s)}_notifyStateChanges(t){const s=this._oldCache||[],n=this._cache,i=(o,r)=>o.filter(a=>!r.some(l=>a.plugin.id===l.plugin.id));this._notify(i(s,n),t,"stop"),this._notify(i(n,s),t,"start")}}function B1(e){const t={},s=[],n=Object.keys(Xe.plugins.items);for(let o=0;o<n.length;o++)s.push(Xe.getPlugin(n[o]));const i=e.plugins||[];for(let o=0;o<i.length;o++){const r=i[o];s.indexOf(r)===-1&&(s.push(r),t[r.id]=!0)}return{plugins:s,localIds:t}}function V1(e,t){return!t&&e===!1?null:e===!0?{}:e}function z1(e,{plugins:t,localIds:s},n,i){const o=[],r=e.getContext();for(const a of t){const l=a.id,c=V1(n[l],i);c!==null&&o.push({plugin:a,options:H1(e.config,{plugin:a,local:s[l]},c,r)})}return o}function H1(e,{plugin:t,local:s},n,i){const o=e.pluginScopeKeys(t),r=e.getOptionScopes(n,o);return s&&t.defaults&&r.push(t.defaults),e.createResolver(r,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Da(e,t){const s=Nt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||s.indexAxis||"x"}function W1(e,t){let s=e;return e==="_index_"?s=t:e==="_value_"&&(s=t==="x"?"y":"x"),s}function q1(e,t){return e===t?"_index_":"_value_"}function Ed(e){if(e==="x"||e==="y"||e==="r")return e}function K1(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Ia(e,...t){if(Ed(e))return e;for(const s of t){const n=s.axis||K1(s.position)||e.length>1&&Ed(e[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Dd(e,t,s){if(s[t+"AxisID"]===e)return{axis:t}}function G1(e,t){if(t.data&&t.data.datasets){const s=t.data.datasets.filter(n=>n.xAxisID===e||n.yAxisID===e);if(s.length)return Dd(e,"x",s[0])||Dd(e,"y",s[0])}return{}}function Y1(e,t){const s=cn[e.type]||{scales:{}},n=t.scales||{},i=Da(e.type,t),o=Object.create(null);return Object.keys(n).forEach(r=>{const a=n[r];if(!yt(a))return console.error(`Invalid scale configuration for scale: ${r}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${r}`);const l=Ia(r,a,G1(r,e),Nt.scales[a.type]),c=q1(l,i),d=s.scales||{};o[r]=xi(Object.create(null),[{axis:l},a,d[l],d[c]])}),e.data.datasets.forEach(r=>{const a=r.type||e.type,l=r.indexAxis||Da(a,t),d=(cn[a]||{}).scales||{};Object.keys(d).forEach(h=>{const f=W1(h,l),p=r[f+"AxisID"]||f;o[p]=o[p]||Object.create(null),xi(o[p],[{axis:f},n[p],d[h]])})}),Object.keys(o).forEach(r=>{const a=o[r];xi(a,[Nt.scales[a.type],Nt.scale])}),o}function zf(e){const t=e.options||(e.options={});t.plugins=ht(t.plugins,{}),t.scales=Y1(e,t)}function Hf(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function J1(e){return e=e||{},e.data=Hf(e.data),zf(e),e}const Id=new Map,Wf=new Set;function go(e,t){let s=Id.get(e);return s||(s=t(),Id.set(e,s),Wf.add(s)),s}const ti=(e,t,s)=>{const n=$s(t,s);n!==void 0&&e.add(n)};class X1{constructor(t){this._config=J1(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Hf(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),zf(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return go(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,s){return go(`${t}.transition.${s}`,()=>[[`datasets.${t}.transitions.${s}`,`transitions.${s}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,s){return go(`${t}-${s}`,()=>[[`datasets.${t}.elements.${s}`,`datasets.${t}`,`elements.${s}`,""]])}pluginScopeKeys(t){const s=t.id,n=this.type;return go(`${n}-plugin-${s}`,()=>[[`plugins.${s}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,s){const n=this._scopeCache;let i=n.get(t);return(!i||s)&&(i=new Map,n.set(t,i)),i}getOptionScopes(t,s,n){const{options:i,type:o}=this,r=this._cachedScopes(t,n),a=r.get(s);if(a)return a;const l=new Set;s.forEach(d=>{t&&(l.add(t),d.forEach(h=>ti(l,t,h))),d.forEach(h=>ti(l,i,h)),d.forEach(h=>ti(l,cn[o]||{},h)),d.forEach(h=>ti(l,Nt,h)),d.forEach(h=>ti(l,Ta,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Wf.has(s)&&r.set(s,c),c}chartOptionScopes(){const{options:t,type:s}=this;return[t,cn[s]||{},Nt.datasets[s]||{},{type:s},Nt,Ta]}resolveNamedOptions(t,s,n,i=[""]){const o={$shared:!0},{resolver:r,subPrefixes:a}=Rd(this._resolverCache,t,i);let l=r;if(Z1(r,s)){o.$shared=!1,n=Bs(n)?n():n;const c=this.createResolver(t,n,a);l=Nn(r,n,c)}for(const c of s)o[c]=l[c];return o}createResolver(t,s,n=[""],i){const{resolver:o}=Rd(this._resolverCache,t,n);return yt(s)?Nn(o,s,void 0,i):o}}function Rd(e,t,s){let n=e.get(t);n||(n=new Map,e.set(t,n));const i=s.join();let o=n.get(i);return o||(o={resolver:Cl(t,s),subPrefixes:s.filter(a=>!a.toLowerCase().includes("hover"))},n.set(i,o)),o}const Q1=e=>yt(e)&&Object.getOwnPropertyNames(e).some(t=>Bs(e[t]));function Z1(e,t){const{isScriptable:s,isIndexable:n}=kf(e);for(const i of t){const o=s(i),r=n(i),a=(r||o)&&e[i];if(o&&(Bs(a)||Q1(a))||r&&Lt(a))return!0}return!1}var tk="4.4.9";const ek=["top","bottom","left","right","chartArea"];function Ld(e,t){return e==="top"||e==="bottom"||ek.indexOf(e)===-1&&t==="x"}function Fd(e,t){return function(s,n){return s[e]===n[e]?s[t]-n[t]:s[e]-n[e]}}function jd(e){const t=e.chart,s=t.options.animation;t.notifyPlugins("afterRender"),It(s&&s.onComplete,[e],t)}function sk(e){const t=e.chart,s=t.options.animation;It(s&&s.onProgress,[e],t)}function qf(e){return Pl()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Io={},Ud=e=>{const t=qf(e);return Object.values(Io).filter(s=>s.canvas===t).pop()};function nk(e,t,s){const n=Object.keys(e);for(const i of n){const o=+i;if(o>=t){const r=e[i];delete e[i],(s>0||o>t)&&(e[o+s]=r)}}}function ik(e,t,s,n){return!s||e.type==="mouseout"?null:n?t:e}class Ze{static register(...t){Xe.add(...t),Nd()}static unregister(...t){Xe.remove(...t),Nd()}constructor(t,s){const n=this.config=new X1(s),i=qf(t),o=Ud(i);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const r=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||w1(i)),this.platform.updateConfig(n);const a=this.platform.acquireContext(i,r.aspectRatio),l=a&&a.canvas,c=l&&l.height,d=l&&l.width;if(this.id=o_(),this.ctx=a,this.canvas=l,this.width=d,this.height=c,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new $1,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=w_(h=>this.update(h),r.resizeDelay||0),this._dataChanges=[],Io[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}as.listen(this,"complete",jd),as.listen(this,"progress",sk),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:s},width:n,height:i,_aspectRatio:o}=this;return gt(t)?s&&o?o:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Xe}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ad(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return id(this.canvas,this.ctx),this}stop(){return as.stop(this),this}resize(t,s){as.running(this)?this._resizeBeforeDraw={width:t,height:s}:this._resize(t,s)}_resize(t,s){const n=this.options,i=this.canvas,o=n.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(i,t,s,o),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,ad(this,a,!0)&&(this.notifyPlugins("resize",{size:r}),It(n.onResize,[this,r],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};Mt(s,(n,i)=>{n.id=i})}buildOrUpdateScales(){const t=this.options,s=t.scales,n=this.scales,i=Object.keys(n).reduce((r,a)=>(r[a]=!1,r),{});let o=[];s&&(o=o.concat(Object.keys(s).map(r=>{const a=s[r],l=Ia(r,a),c=l==="r",d=l==="x";return{options:a,dposition:c?"chartArea":d?"bottom":"left",dtype:c?"radialLinear":d?"category":"linear"}}))),Mt(o,r=>{const a=r.options,l=a.id,c=Ia(l,a),d=ht(a.type,r.dtype);(a.position===void 0||Ld(a.position,c)!==Ld(r.dposition))&&(a.position=r.dposition),i[l]=!0;let h=null;if(l in n&&n[l].type===d)h=n[l];else{const f=Xe.getScale(d);h=new f({id:l,type:d,ctx:this.ctx,chart:this}),n[h.id]=h}h.init(a,t)}),Mt(i,(r,a)=>{r||delete n[a]}),Mt(n,r=>{se.configure(this,r,r.options),se.addBox(this,r)})}_updateMetasets(){const t=this._metasets,s=this.data.datasets.length,n=t.length;if(t.sort((i,o)=>i.index-o.index),n>s){for(let i=s;i<n;++i)this._destroyDatasetMeta(i);t.splice(s,n-s)}this._sortedMetasets=t.slice(0).sort(Fd("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:s}}=this;t.length>s.length&&delete this._stacks,t.forEach((n,i)=>{s.filter(o=>o===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],s=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=s.length;n<i;n++){const o=s[n];let r=this.getDatasetMeta(n);const a=o.type||this.config.type;if(r.type&&r.type!==a&&(this._destroyDatasetMeta(n),r=this.getDatasetMeta(n)),r.type=a,r.indexAxis=o.indexAxis||Da(a,this.options),r.order=o.order||0,r.index=n,r.label=""+o.label,r.visible=this.isDatasetVisible(n),r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{const l=Xe.getController(a),{datasetElementType:c,dataElementType:d}=Nt.datasets[a];Object.assign(l,{dataElementType:Xe.getElement(d),datasetElementType:c&&Xe.getElement(c)}),r.controller=new l(this,n),t.push(r.controller)}}return this._updateMetasets(),t}_resetElements(){Mt(this.data.datasets,(t,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const s=this.config;s.update();const n=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let c=0,d=this.data.datasets.length;c<d;c++){const{controller:h}=this.getDatasetMeta(c),f=!i&&o.indexOf(h)===-1;h.buildOrUpdateElements(f),r=Math.max(+h.getMaxOverflow(),r)}r=this._minPadding=n.layout.autoPadding?r:0,this._updateLayout(r),i||Mt(o,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Fd("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Mt(this.scales,t=>{se.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,s=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!Yc(s,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,s=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:o}of s){const r=n==="_removeElements"?-o:o;nk(t,i,r)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const s=this.data.datasets.length,n=o=>new Set(t.filter(r=>r[0]===o).map((r,a)=>a+","+r.splice(1).join(","))),i=n(0);for(let o=1;o<s;o++)if(!Yc(i,n(o)))return;return Array.from(i).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;se.update(this,this.width,this.height,t);const s=this.chartArea,n=s.width<=0||s.height<=0;this._layers=[],Mt(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,o)=>{i._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let s=0,n=this.data.datasets.length;s<n;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,n=this.data.datasets.length;s<n;++s)this._updateDataset(s,Bs(t)?t({datasetIndex:s}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,s){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(s),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(as.has(this)?this.attached&&!as.running(this)&&as.start(this):(this.draw(),jd({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(t=0;t<s.length&&s[t].z<=0;++t)s[t].draw(this.chartArea);for(this._drawDatasets();t<s.length;++t)s[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const s=this._sortedMetasets,n=[];let i,o;for(i=0,o=s.length;i<o;++i){const r=s[i];(!t||r.visible)&&n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let s=t.length-1;s>=0;--s)this._drawDataset(t[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const s=this.ctx,n={meta:t,index:t.index,cancelable:!0},i=Rf(this,t);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&wr(s,i),t.controller.draw(),i&&kr(s),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(t){return gs(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,s,n,i){const o=e1.modes[s];return typeof o=="function"?o(this,t,n,i):[]}getDatasetMeta(t){const s=this.data.datasets[t],n=this._metasets;let i=n.filter(o=>o&&o._dataset===s).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:t,_dataset:s,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=Hs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const s=this.data.datasets[t];if(!s)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!s.hidden}setDatasetVisibility(t,s){const n=this.getDatasetMeta(t);n.hidden=!s}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,s,n){const i=n?"show":"hide",o=this.getDatasetMeta(t),r=o.controller._resolveAnimations(void 0,i);Fi(s)?(o.data[s].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),r.update(o,{visible:n}),this.update(a=>a.datasetIndex===t?i:void 0))}hide(t,s){this._updateVisibility(t,s,!1)}show(t,s){this._updateVisibility(t,s,!0)}_destroyDatasetMeta(t){const s=this._metasets[t];s&&s.controller&&s.controller._destroy(),delete this._metasets[t]}_stop(){let t,s;for(this.stop(),as.remove(this),t=0,s=this.data.datasets.length;t<s;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:s}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),id(t,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete Io[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,s=this.platform,n=(o,r)=>{s.addEventListener(this,o,r),t[o]=r},i=(o,r,a)=>{o.offsetX=r,o.offsetY=a,this._eventHandler(o)};Mt(this.options.events,o=>n(o,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,s=this.platform,n=(l,c)=>{s.addEventListener(this,l,c),t[l]=c},i=(l,c)=>{t[l]&&(s.removeEventListener(this,l,c),delete t[l])},o=(l,c)=>{this.canvas&&this.resize(l,c)};let r;const a=()=>{i("attach",a),this.attached=!0,this.resize(),n("resize",o),n("detach",r)};r=()=>{this.attached=!1,i("resize",o),this._stop(),this._resize(0,0),n("attach",a)},s.isAttached(this.canvas)?a():r()}unbindEvents(){Mt(this._listeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._listeners={},Mt(this._responsiveListeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,s,n){const i=n?"set":"remove";let o,r,a,l;for(s==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){r=t[a];const c=r&&this.getDatasetMeta(r.datasetIndex).controller;c&&c[i+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const s=this._active||[],n=t.map(({datasetIndex:o,index:r})=>{const a=this.getDatasetMeta(o);if(!a)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:a.data[r],index:r}});!qo(n,s)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,s))}notifyPlugins(t,s,n){return this._plugins.notify(this,t,s,n)}isPluginEnabled(t){return this._plugins._cache.filter(s=>s.plugin.id===t).length===1}_updateHoverStyles(t,s,n){const i=this.options.hover,o=(l,c)=>l.filter(d=>!c.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),r=o(s,t),a=n?t:o(t,s);r.length&&this.updateHoverStyle(r,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(t,s){const n={event:t,replay:s,cancelable:!0,inChartArea:this.isPointInArea(t)},i=r=>(r.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const o=this._handleEvent(t,s,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(o||n.changed)&&this.render(),this}_handleEvent(t,s,n){const{_active:i=[],options:o}=this,r=s,a=this._getActiveElements(t,i,n,r),l=u_(t),c=ik(t,this._lastEvent,n,l);n&&(this._lastEvent=null,It(o.onHover,[t,a,this],this),l&&It(o.onClick,[t,a,this],this));const d=!qo(a,i);return(d||s)&&(this._active=a,this._updateHoverStyles(a,i,s)),this._lastEvent=c,d}_getActiveElements(t,s,n,i){if(t.type==="mouseout")return[];if(!n)return s;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,i)}}B(Ze,"defaults",Nt),B(Ze,"instances",Io),B(Ze,"overrides",cn),B(Ze,"registry",Xe),B(Ze,"version",tk),B(Ze,"getChart",Ud);function Nd(){return Mt(Ze.instances,e=>e._plugins.invalidate())}function ok(e,t,s){const{startAngle:n,pixelMargin:i,x:o,y:r,outerRadius:a,innerRadius:l}=t;let c=i/a;e.beginPath(),e.arc(o,r,a,n-c,s+c),l>i?(c=i/l,e.arc(o,r,l,s+c,n-c,!0)):e.arc(o,r,i,s+Vt,n-Vt),e.closePath(),e.clip()}function rk(e){return Sl(e,["outerStart","outerEnd","innerStart","innerEnd"])}function ak(e,t,s,n){const i=rk(e.options.borderRadius),o=(s-t)/2,r=Math.min(o,n*t/2),a=l=>{const c=(s-Math.min(o,l))*n/2;return Gt(l,0,Math.min(o,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Gt(i.innerStart,0,r),innerEnd:Gt(i.innerEnd,0,r)}}function xn(e,t,s,n){return{x:s+e*Math.cos(t),y:n+e*Math.sin(t)}}function Qo(e,t,s,n,i,o){const{x:r,y:a,startAngle:l,pixelMargin:c,innerRadius:d}=t,h=Math.max(t.outerRadius+n+s-c,0),f=d>0?d+n+s+c:0;let p=0;const m=i-l;if(n){const xt=d>0?d-n:0,lt=h>0?h-n:0,ot=(xt+lt)/2,ut=ot!==0?m*ot/(ot+n):m;p=(m-ut)/2}const g=Math.max(.001,m*h-s/jt)/h,b=(m-g)/2,v=l+b+p,w=i-b-p,{outerStart:C,outerEnd:S,innerStart:M,innerEnd:L}=ak(t,f,h,w-v),I=h-C,$=h-S,X=v+C/I,it=w-S/$,rt=f+M,dt=f+L,At=v+M/rt,Wt=w-L/dt;if(e.beginPath(),o){const xt=(X+it)/2;if(e.arc(r,a,h,X,xt),e.arc(r,a,h,xt,it),S>0){const Tt=xn($,it,r,a);e.arc(Tt.x,Tt.y,S,it,w+Vt)}const lt=xn(dt,w,r,a);if(e.lineTo(lt.x,lt.y),L>0){const Tt=xn(dt,Wt,r,a);e.arc(Tt.x,Tt.y,L,w+Vt,Wt+Math.PI)}const ot=(w-L/f+(v+M/f))/2;if(e.arc(r,a,f,w-L/f,ot,!0),e.arc(r,a,f,ot,v+M/f,!0),M>0){const Tt=xn(rt,At,r,a);e.arc(Tt.x,Tt.y,M,At+Math.PI,v-Vt)}const ut=xn(I,v,r,a);if(e.lineTo(ut.x,ut.y),C>0){const Tt=xn(I,X,r,a);e.arc(Tt.x,Tt.y,C,v-Vt,X)}}else{e.moveTo(r,a);const xt=Math.cos(X)*h+r,lt=Math.sin(X)*h+a;e.lineTo(xt,lt);const ot=Math.cos(it)*h+r,ut=Math.sin(it)*h+a;e.lineTo(ot,ut)}e.closePath()}function lk(e,t,s,n,i){const{fullCircles:o,startAngle:r,circumference:a}=t;let l=t.endAngle;if(o){Qo(e,t,s,n,l,i);for(let c=0;c<o;++c)e.fill();isNaN(a)||(l=r+(a%Ft||Ft))}return Qo(e,t,s,n,l,i),e.fill(),l}function ck(e,t,s,n,i){const{fullCircles:o,startAngle:r,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:d,borderDash:h,borderDashOffset:f}=l,p=l.borderAlign==="inner";if(!c)return;e.setLineDash(h||[]),e.lineDashOffset=f,p?(e.lineWidth=c*2,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let m=t.endAngle;if(o){Qo(e,t,s,n,m,i);for(let g=0;g<o;++g)e.stroke();isNaN(a)||(m=r+(a%Ft||Ft))}p&&ok(e,t,m),o||(Qo(e,t,s,n,m,i),e.stroke())}class ri extends ks{constructor(s){super();B(this,"circumference");B(this,"endAngle");B(this,"fullCircles");B(this,"innerRadius");B(this,"outerRadius");B(this,"pixelMargin");B(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,n,i){const o=this.getProps(["x","y"],i),{angle:r,distance:a}=ff(o,{x:s,y:n}),{startAngle:l,endAngle:c,innerRadius:d,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),p=(this.options.spacing+this.options.borderWidth)/2,m=ht(f,c-l),g=ji(r,l,c)&&l!==c,b=m>=Ft||g,v=ps(a,d+p,h+p);return b&&v}getCenterPoint(s){const{x:n,y:i,startAngle:o,endAngle:r,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:c,spacing:d}=this.options,h=(o+r)/2,f=(a+l+d+c)/2;return{x:n+Math.cos(h)*f,y:i+Math.sin(h)*f}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:n,circumference:i}=this,o=(n.offset||0)/4,r=(n.spacing||0)/2,a=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>Ft?Math.floor(i/Ft):0,i===0||this.innerRadius<0||this.outerRadius<0)return;s.save();const l=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(l)*o,Math.sin(l)*o);const c=1-Math.sin(Math.min(jt,i||0)),d=o*c;s.fillStyle=n.backgroundColor,s.strokeStyle=n.borderColor,lk(s,this,d,r,a),ck(s,this,d,r,a),s.restore()}}B(ri,"id","arc"),B(ri,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),B(ri,"defaultRoutes",{backgroundColor:"backgroundColor"}),B(ri,"descriptors",{_scriptable:!0,_indexable:s=>s!=="borderDash"});function Kf(e,t,s=t){e.lineCap=ht(s.borderCapStyle,t.borderCapStyle),e.setLineDash(ht(s.borderDash,t.borderDash)),e.lineDashOffset=ht(s.borderDashOffset,t.borderDashOffset),e.lineJoin=ht(s.borderJoinStyle,t.borderJoinStyle),e.lineWidth=ht(s.borderWidth,t.borderWidth),e.strokeStyle=ht(s.borderColor,t.borderColor)}function dk(e,t,s){e.lineTo(s.x,s.y)}function uk(e){return e.stepped?R_:e.tension||e.cubicInterpolationMode==="monotone"?L_:dk}function Gf(e,t,s={}){const n=e.length,{start:i=0,end:o=n-1}=s,{start:r,end:a}=t,l=Math.max(i,r),c=Math.min(o,a),d=i<r&&o<r||i>a&&o>a;return{count:n,start:l,loop:t.loop,ilen:c<l&&!d?n+c-l:c-l}}function hk(e,t,s,n){const{points:i,options:o}=t,{count:r,start:a,loop:l,ilen:c}=Gf(i,s,n),d=uk(o);let{move:h=!0,reverse:f}=n||{},p,m,g;for(p=0;p<=c;++p)m=i[(a+(f?c-p:p))%r],!m.skip&&(h?(e.moveTo(m.x,m.y),h=!1):d(e,g,m,f,o.stepped),g=m);return l&&(m=i[(a+(f?c:0))%r],d(e,g,m,f,o.stepped)),!!l}function fk(e,t,s,n){const i=t.points,{count:o,start:r,ilen:a}=Gf(i,s,n),{move:l=!0,reverse:c}=n||{};let d=0,h=0,f,p,m,g,b,v;const w=S=>(r+(c?a-S:S))%o,C=()=>{g!==b&&(e.lineTo(d,b),e.lineTo(d,g),e.lineTo(d,v))};for(l&&(p=i[w(0)],e.moveTo(p.x,p.y)),f=0;f<=a;++f){if(p=i[w(f)],p.skip)continue;const S=p.x,M=p.y,L=S|0;L===m?(M<g?g=M:M>b&&(b=M),d=(h*d+S)/++h):(C(),e.lineTo(S,M),m=L,h=0,g=b=M),v=M}C()}function Ra(e){const t=e.options,s=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!s?fk:hk}function pk(e){return e.stepped?fw:e.tension||e.cubicInterpolationMode==="monotone"?pw:en}function mk(e,t,s,n){let i=t._path;i||(i=t._path=new Path2D,t.path(i,s,n)&&i.closePath()),Kf(e,t.options),e.stroke(i)}function gk(e,t,s,n){const{segments:i,options:o}=t,r=Ra(t);for(const a of i)Kf(e,o,a.style),e.beginPath(),r(e,t,a,{start:s,end:s+n-1})&&e.closePath(),e.stroke()}const bk=typeof Path2D=="function";function yk(e,t,s,n){bk&&!t.options.segment?mk(e,t,s,n):gk(e,t,s,n)}class Ls extends ks{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,s){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;ow(this._points,n,t,i,s),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=vw(this,this.options.segment))}first(){const t=this.segments,s=this.points;return t.length&&s[t[0].start]}last(){const t=this.segments,s=this.points,n=t.length;return n&&s[t[n-1].end]}interpolate(t,s){const n=this.options,i=t[s],o=this.points,r=If(this,{property:s,start:i,end:i});if(!r.length)return;const a=[],l=pk(n);let c,d;for(c=0,d=r.length;c<d;++c){const{start:h,end:f}=r[c],p=o[h],m=o[f];if(p===m){a.push(p);continue}const g=Math.abs((i-p[s])/(m[s]-p[s])),b=l(p,m,g,n.stepped);b[s]=t[s],a.push(b)}return a.length===1?a[0]:a}pathSegment(t,s,n){return Ra(this)(t,this,s,n)}path(t,s,n){const i=this.segments,o=Ra(this);let r=this._loop;s=s||0,n=n||this.points.length-s;for(const a of i)r&=o(t,this,a,{start:s,end:s+n-1});return!!r}draw(t,s,n,i){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),yk(t,this,n,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}B(Ls,"id","line"),B(Ls,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),B(Ls,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),B(Ls,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function $d(e,t,s,n){const i=e.options,{[s]:o}=e.getProps([s],n);return Math.abs(t-o)<i.radius+i.hitRadius}class Ro extends ks{constructor(s){super();B(this,"parsed");B(this,"skip");B(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,n,i){const o=this.options,{x:r,y:a}=this.getProps(["x","y"],i);return Math.pow(s-r,2)+Math.pow(n-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(s,n){return $d(this,s,"x",n)}inYRange(s,n){return $d(this,s,"y",n)}getCenterPoint(s){const{x:n,y:i}=this.getProps(["x","y"],s);return{x:n,y:i}}size(s){s=s||this.options||{};let n=s.radius||0;n=Math.max(n,n&&s.hoverRadius||0);const i=n&&s.borderWidth||0;return(n+i)*2}draw(s,n){const i=this.options;this.skip||i.radius<.1||!gs(this,n,this.size(i)/2)||(s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.fillStyle=i.backgroundColor,Oa(s,i,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}B(Ro,"id","point"),B(Ro,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),B(Ro,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Yf(e,t){const{x:s,y:n,base:i,width:o,height:r}=e.getProps(["x","y","base","width","height"],t);let a,l,c,d,h;return e.horizontal?(h=r/2,a=Math.min(s,i),l=Math.max(s,i),c=n-h,d=n+h):(h=o/2,a=s-h,l=s+h,c=Math.min(n,i),d=Math.max(n,i)),{left:a,top:c,right:l,bottom:d}}function Fs(e,t,s,n){return e?0:Gt(t,s,n)}function xk(e,t,s){const n=e.options.borderWidth,i=e.borderSkipped,o=wf(n);return{t:Fs(i.top,o.top,0,s),r:Fs(i.right,o.right,0,t),b:Fs(i.bottom,o.bottom,0,s),l:Fs(i.left,o.left,0,t)}}function vk(e,t,s){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,o=rn(i),r=Math.min(t,s),a=e.borderSkipped,l=n||yt(i);return{topLeft:Fs(!l||a.top||a.left,o.topLeft,0,r),topRight:Fs(!l||a.top||a.right,o.topRight,0,r),bottomLeft:Fs(!l||a.bottom||a.left,o.bottomLeft,0,r),bottomRight:Fs(!l||a.bottom||a.right,o.bottomRight,0,r)}}function _k(e){const t=Yf(e),s=t.right-t.left,n=t.bottom-t.top,i=xk(e,s/2,n/2),o=vk(e,s/2,n/2);return{outer:{x:t.left,y:t.top,w:s,h:n,radius:o},inner:{x:t.left+i.l,y:t.top+i.t,w:s-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function sa(e,t,s,n){const i=t===null,o=s===null,a=e&&!(i&&o)&&Yf(e,n);return a&&(i||ps(t,a.left,a.right))&&(o||ps(s,a.top,a.bottom))}function wk(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function kk(e,t){e.rect(t.x,t.y,t.w,t.h)}function na(e,t,s={}){const n=e.x!==s.x?-t:0,i=e.y!==s.y?-t:0,o=(e.x+e.w!==s.x+s.w?t:0)-n,r=(e.y+e.h!==s.y+s.h?t:0)-i;return{x:e.x+n,y:e.y+i,w:e.w+o,h:e.h+r,radius:e.radius}}class Lo extends ks{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:s,options:{borderColor:n,backgroundColor:i}}=this,{inner:o,outer:r}=_k(this),a=wk(r.radius)?Ui:kk;t.save(),(r.w!==o.w||r.h!==o.h)&&(t.beginPath(),a(t,na(r,s,o)),t.clip(),a(t,na(o,-s,r)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),a(t,na(o,s)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,s,n){return sa(this,t,s,n)}inXRange(t,s){return sa(this,t,null,s)}inYRange(t,s){return sa(this,null,t,s)}getCenterPoint(t){const{x:s,y:n,base:i,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(s+i)/2:s,y:o?n:(n+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}B(Lo,"id","bar"),B(Lo,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),B(Lo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Sk=Object.freeze({__proto__:null,ArcElement:ri,BarElement:Lo,LineElement:Ls,PointElement:Ro});const La=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Bd=La.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function Jf(e){return La[e%La.length]}function Xf(e){return Bd[e%Bd.length]}function Ck(e,t){return e.borderColor=Jf(t),e.backgroundColor=Xf(t),++t}function Mk(e,t){return e.backgroundColor=e.data.map(()=>Jf(t++)),t}function Ak(e,t){return e.backgroundColor=e.data.map(()=>Xf(t++)),t}function Pk(e){let t=0;return(s,n)=>{const i=e.getDatasetMeta(n).controller;i instanceof nn?t=Mk(s,t):i instanceof ki?t=Ak(s,t):i&&(t=Ck(s,t))}}function Vd(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function Tk(e){return e&&(e.borderColor||e.backgroundColor)}function Ok(){return Nt.borderColor!=="rgba(0,0,0,0.1)"||Nt.backgroundColor!=="rgba(0,0,0,0.1)"}var Ek={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,s){if(!s.enabled)return;const{data:{datasets:n},options:i}=e.config,{elements:o}=i,r=Vd(n)||Tk(i)||o&&Vd(o)||Ok();if(!s.forceOverride&&r)return;const a=Pk(e);n.forEach(a)}};function Dk(e,t,s,n,i){const o=i.samples||n;if(o>=s)return e.slice(t,t+s);const r=[],a=(s-2)/(o-2);let l=0;const c=t+s-1;let d=t,h,f,p,m,g;for(r[l++]=e[d],h=0;h<o-2;h++){let b=0,v=0,w;const C=Math.floor((h+1)*a)+1+t,S=Math.min(Math.floor((h+2)*a)+1,s)+t,M=S-C;for(w=C;w<S;w++)b+=e[w].x,v+=e[w].y;b/=M,v/=M;const L=Math.floor(h*a)+1+t,I=Math.min(Math.floor((h+1)*a)+1,s)+t,{x:$,y:X}=e[d];for(p=m=-1,w=L;w<I;w++)m=.5*Math.abs(($-b)*(e[w].y-X)-($-e[w].x)*(v-X)),m>p&&(p=m,f=e[w],g=w);r[l++]=f,d=g}return r[l++]=e[c],r}function Ik(e,t,s,n){let i=0,o=0,r,a,l,c,d,h,f,p,m,g;const b=[],v=t+s-1,w=e[t].x,S=e[v].x-w;for(r=t;r<t+s;++r){a=e[r],l=(a.x-w)/S*n,c=a.y;const M=l|0;if(M===d)c<m?(m=c,h=r):c>g&&(g=c,f=r),i=(o*i+a.x)/++o;else{const L=r-1;if(!gt(h)&&!gt(f)){const I=Math.min(h,f),$=Math.max(h,f);I!==p&&I!==L&&b.push({...e[I],x:i}),$!==p&&$!==L&&b.push({...e[$],x:i})}r>0&&L!==p&&b.push(e[L]),b.push(a),d=M,o=0,m=g=c,h=f=p=r}}return b}function Qf(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function zd(e){e.data.datasets.forEach(t=>{Qf(t)})}function Rk(e,t){const s=t.length;let n=0,i;const{iScale:o}=e,{min:r,max:a,minDefined:l,maxDefined:c}=o.getUserBounds();return l&&(n=Gt(ms(t,o.axis,r).lo,0,s-1)),c?i=Gt(ms(t,o.axis,a).hi+1,n,s)-n:i=s-n,{start:n,count:i}}var Lk={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,s)=>{if(!s.enabled){zd(e);return}const n=e.width;e.data.datasets.forEach((i,o)=>{const{_data:r,indexAxis:a}=i,l=e.getDatasetMeta(o),c=r||i.data;if(ii([a,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const d=e.scales[l.xAxisID];if(d.type!=="linear"&&d.type!=="time"||e.options.parsing)return;let{start:h,count:f}=Rk(l,c);const p=s.threshold||4*n;if(f<=p){Qf(i);return}gt(r)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let m;switch(s.algorithm){case"lttb":m=Dk(c,h,f,n,s);break;case"min-max":m=Ik(c,h,f,n);break;default:throw new Error(`Unsupported decimation algorithm '${s.algorithm}'`)}i._decimated=m})},destroy(e){zd(e)}};function Fk(e,t,s){const n=e.segments,i=e.points,o=t.points,r=[];for(const a of n){let{start:l,end:c}=a;c=El(l,c,i);const d=Fa(s,i[l],i[c],a.loop);if(!t.segments){r.push({source:a,target:d,start:i[l],end:i[c]});continue}const h=If(t,d);for(const f of h){const p=Fa(s,o[f.start],o[f.end],f.loop),m=Df(a,i,p);for(const g of m)r.push({source:g,target:f,start:{[s]:Hd(d,p,"start",Math.max)},end:{[s]:Hd(d,p,"end",Math.min)}})}}return r}function Fa(e,t,s,n){if(n)return;let i=t[e],o=s[e];return e==="angle"&&(i=Se(i),o=Se(o)),{property:e,start:i,end:o}}function jk(e,t){const{x:s=null,y:n=null}=e||{},i=t.points,o=[];return t.segments.forEach(({start:r,end:a})=>{a=El(r,a,i);const l=i[r],c=i[a];n!==null?(o.push({x:l.x,y:n}),o.push({x:c.x,y:n})):s!==null&&(o.push({x:s,y:l.y}),o.push({x:s,y:c.y}))}),o}function El(e,t,s){for(;t>e;t--){const n=s[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function Hd(e,t,s,n){return e&&t?n(e[s],t[s]):e?e[s]:t?t[s]:0}function Zf(e,t){let s=[],n=!1;return Lt(e)?(n=!0,s=e):s=jk(e,t),s.length?new Ls({points:s,options:{tension:0},_loop:n,_fullLoop:n}):null}function Wd(e){return e&&e.fill!==!1}function Uk(e,t,s){let i=e[t].fill;const o=[t];let r;if(!s)return i;for(;i!==!1&&o.indexOf(i)===-1;){if(!$t(i))return i;if(r=e[i],!r)return!1;if(r.visible)return i;o.push(i),i=r.fill}return!1}function Nk(e,t,s){const n=zk(e);if(yt(n))return isNaN(n.value)?!1:n;let i=parseFloat(n);return $t(i)&&Math.floor(i)===i?$k(n[0],t,i,s):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function $k(e,t,s,n){return(e==="-"||e==="+")&&(s=t+s),s===t||s<0||s>=n?!1:s}function Bk(e,t){let s=null;return e==="start"?s=t.bottom:e==="end"?s=t.top:yt(e)?s=t.getPixelForValue(e.value):t.getBasePixel&&(s=t.getBasePixel()),s}function Vk(e,t,s){let n;return e==="start"?n=s:e==="end"?n=t.options.reverse?t.min:t.max:yt(e)?n=e.value:n=t.getBaseValue(),n}function zk(e){const t=e.options,s=t.fill;let n=ht(s&&s.target,s);return n===void 0&&(n=!!t.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function Hk(e){const{scale:t,index:s,line:n}=e,i=[],o=n.segments,r=n.points,a=Wk(t,s);a.push(Zf({x:null,y:t.bottom},n));for(let l=0;l<o.length;l++){const c=o[l];for(let d=c.start;d<=c.end;d++)qk(i,r[d],a)}return new Ls({points:i,options:{}})}function Wk(e,t){const s=[],n=e.getMatchingVisibleMetas("line");for(let i=0;i<n.length;i++){const o=n[i];if(o.index===t)break;o.hidden||s.unshift(o.dataset)}return s}function qk(e,t,s){const n=[];for(let i=0;i<s.length;i++){const o=s[i],{first:r,last:a,point:l}=Kk(o,t,"x");if(!(!l||r&&a)){if(r)n.unshift(l);else if(e.push(l),!a)break}}e.push(...n)}function Kk(e,t,s){const n=e.interpolate(t,s);if(!n)return{};const i=n[s],o=e.segments,r=e.points;let a=!1,l=!1;for(let c=0;c<o.length;c++){const d=o[c],h=r[d.start][s],f=r[d.end][s];if(ps(i,h,f)){a=i===h,l=i===f;break}}return{first:a,last:l,point:n}}class tp{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,s,n){const{x:i,y:o,radius:r}=this;return s=s||{start:0,end:Ft},t.arc(i,o,r,s.end,s.start,!0),!n.bounds}interpolate(t){const{x:s,y:n,radius:i}=this,o=t.angle;return{x:s+Math.cos(o)*i,y:n+Math.sin(o)*i,angle:o}}}function Gk(e){const{chart:t,fill:s,line:n}=e;if($t(s))return Yk(t,s);if(s==="stack")return Hk(e);if(s==="shape")return!0;const i=Jk(e);return i instanceof tp?i:Zf(i,n)}function Yk(e,t){const s=e.getDatasetMeta(t);return s&&e.isDatasetVisible(t)?s.dataset:null}function Jk(e){return(e.scale||{}).getPointPositionForValue?Qk(e):Xk(e)}function Xk(e){const{scale:t={},fill:s}=e,n=Bk(s,t);if($t(n)){const i=t.isHorizontal();return{x:i?n:null,y:i?null:n}}return null}function Qk(e){const{scale:t,fill:s}=e,n=t.options,i=t.getLabels().length,o=n.reverse?t.max:t.min,r=Vk(s,t,o),a=[];if(n.grid.circular){const l=t.getPointPositionForValue(0,o);return new tp({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(r)})}for(let l=0;l<i;++l)a.push(t.getPointPositionForValue(l,r));return a}function ia(e,t,s){const n=Gk(t),{chart:i,index:o,line:r,scale:a,axis:l}=t,c=r.options,d=c.fill,h=c.backgroundColor,{above:f=h,below:p=h}=d||{},m=i.getDatasetMeta(o),g=Rf(i,m);n&&r.points.length&&(wr(e,s),Zk(e,{line:r,target:n,above:f,below:p,area:s,scale:a,axis:l,clip:g}),kr(e))}function Zk(e,t){const{line:s,target:n,above:i,below:o,area:r,scale:a,clip:l}=t,c=s._loop?"angle":t.axis;e.save(),c==="x"&&o!==i&&(qd(e,n,r.top),Kd(e,{line:s,target:n,color:i,scale:a,property:c,clip:l}),e.restore(),e.save(),qd(e,n,r.bottom)),Kd(e,{line:s,target:n,color:o,scale:a,property:c,clip:l}),e.restore()}function qd(e,t,s){const{segments:n,points:i}=t;let o=!0,r=!1;e.beginPath();for(const a of n){const{start:l,end:c}=a,d=i[l],h=i[El(l,c,i)];o?(e.moveTo(d.x,d.y),o=!1):(e.lineTo(d.x,s),e.lineTo(d.x,d.y)),r=!!t.pathSegment(e,a,{move:r}),r?e.closePath():e.lineTo(h.x,s)}e.lineTo(t.first().x,s),e.closePath(),e.clip()}function Kd(e,t){const{line:s,target:n,property:i,color:o,scale:r,clip:a}=t,l=Fk(s,n,i);for(const{source:c,target:d,start:h,end:f}of l){const{style:{backgroundColor:p=o}={}}=c,m=n!==!0;e.save(),e.fillStyle=p,t2(e,r,a,m&&Fa(i,h,f)),e.beginPath();const g=!!s.pathSegment(e,c);let b;if(m){g?e.closePath():Gd(e,n,f,i);const v=!!n.pathSegment(e,d,{move:g,reverse:!0});b=g&&v,b||Gd(e,n,h,i)}e.closePath(),e.fill(b?"evenodd":"nonzero"),e.restore()}}function t2(e,t,s,n){const i=t.chart.chartArea,{property:o,start:r,end:a}=n||{};if(o==="x"||o==="y"){let l,c,d,h;o==="x"?(l=r,c=i.top,d=a,h=i.bottom):(l=i.left,c=r,d=i.right,h=a),e.beginPath(),s&&(l=Math.max(l,s.left),d=Math.min(d,s.right),c=Math.max(c,s.top),h=Math.min(h,s.bottom)),e.rect(l,c,d-l,h-c),e.clip()}}function Gd(e,t,s,n){const i=t.interpolate(s,n);i&&e.lineTo(i.x,i.y)}var e2={id:"filler",afterDatasetsUpdate(e,t,s){const n=(e.data.datasets||[]).length,i=[];let o,r,a,l;for(r=0;r<n;++r)o=e.getDatasetMeta(r),a=o.dataset,l=null,a&&a.options&&a instanceof Ls&&(l={visible:e.isDatasetVisible(r),index:r,fill:Nk(a,r,n),chart:e,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,i.push(l);for(r=0;r<n;++r)l=i[r],!(!l||l.fill===!1)&&(l.fill=Uk(i,r,s.propagate))},beforeDraw(e,t,s){const n=s.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),o=e.chartArea;for(let r=i.length-1;r>=0;--r){const a=i[r].$filler;a&&(a.line.updateControlPoints(o,a.axis),n&&a.fill&&ia(e.ctx,a,o))}},beforeDatasetsDraw(e,t,s){if(s.drawTime!=="beforeDatasetsDraw")return;const n=e.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i){const o=n[i].$filler;Wd(o)&&ia(e.ctx,o,e.chartArea)}},beforeDatasetDraw(e,t,s){const n=t.meta.$filler;!Wd(n)||s.drawTime!=="beforeDatasetDraw"||ia(e.ctx,n,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Yd=(e,t)=>{let{boxHeight:s=t,boxWidth:n=t}=e;return e.usePointStyle&&(s=Math.min(s,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(t,s)}},s2=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Jd extends ks{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s,n){this.maxWidth=t,this.maxHeight=s,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let s=It(t.generateLabels,[this.chart],this)||[];t.filter&&(s=s.filter(n=>t.filter(n,this.chart.data))),t.sort&&(s=s.sort((n,i)=>t.sort(n,i,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:t,ctx:s}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,i=qt(n.font),o=i.size,r=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Yd(n,o);let c,d;s.font=i.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(r,o,a,l)+10):(d=this.maxHeight,c=this._fitCols(r,i,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,s,n,i){const{ctx:o,maxWidth:r,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],d=i+a;let h=t;o.textAlign="left",o.textBaseline="middle";let f=-1,p=-d;return this.legendItems.forEach((m,g)=>{const b=n+s/2+o.measureText(m.text).width;(g===0||c[c.length-1]+b+2*a>r)&&(h+=d,c[c.length-(g>0?0:1)]=0,p+=d,f++),l[g]={left:0,top:p,row:f,width:b,height:i},c[c.length-1]+=b+a}),h}_fitCols(t,s,n,i){const{ctx:o,maxHeight:r,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],d=r-t;let h=a,f=0,p=0,m=0,g=0;return this.legendItems.forEach((b,v)=>{const{itemWidth:w,itemHeight:C}=n2(n,s,o,b,i);v>0&&p+C+2*a>d&&(h+=f+a,c.push({width:f,height:p}),m+=f+a,g++,f=p=0),l[v]={left:m,top:p,col:g,width:w,height:C},f=Math.max(f,w),p+=C+a}),h+=f,c.push({width:f,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:n,labels:{padding:i},rtl:o}}=this,r=En(o,this.left,this.width);if(this.isHorizontal()){let a=0,l=Zt(n,this.left+i,this.right-this.lineWidths[a]);for(const c of s)a!==c.row&&(a=c.row,l=Zt(n,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+t+i,c.left=r.leftForLtr(r.x(l),c.width),l+=c.width+i}else{let a=0,l=Zt(n,this.top+t+i,this.bottom-this.columnSizes[a].height);for(const c of s)c.col!==a&&(a=c.col,l=Zt(n,this.top+t+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=r.leftForLtr(r.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;wr(t,this),this._draw(),kr(t)}}_draw(){const{options:t,columnSizes:s,lineWidths:n,ctx:i}=this,{align:o,labels:r}=t,a=Nt.color,l=En(t.rtl,this.left,this.width),c=qt(r.font),{padding:d}=r,h=c.size,f=h/2;let p;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:m,boxHeight:g,itemHeight:b}=Yd(r,h),v=function(L,I,$){if(isNaN(m)||m<=0||isNaN(g)||g<0)return;i.save();const X=ht($.lineWidth,1);if(i.fillStyle=ht($.fillStyle,a),i.lineCap=ht($.lineCap,"butt"),i.lineDashOffset=ht($.lineDashOffset,0),i.lineJoin=ht($.lineJoin,"miter"),i.lineWidth=X,i.strokeStyle=ht($.strokeStyle,a),i.setLineDash(ht($.lineDash,[])),r.usePointStyle){const it={radius:g*Math.SQRT2/2,pointStyle:$.pointStyle,rotation:$.rotation,borderWidth:X},rt=l.xPlus(L,m/2),dt=I+f;_f(i,it,rt,dt,r.pointStyleWidth&&m)}else{const it=I+Math.max((h-g)/2,0),rt=l.leftForLtr(L,m),dt=rn($.borderRadius);i.beginPath(),Object.values(dt).some(At=>At!==0)?Ui(i,{x:rt,y:it,w:m,h:g,radius:dt}):i.rect(rt,it,m,g),i.fill(),X!==0&&i.stroke()}i.restore()},w=function(L,I,$){dn(i,$.text,L,I+b/2,c,{strikethrough:$.hidden,textAlign:l.textAlign($.textAlign)})},C=this.isHorizontal(),S=this._computeTitleHeight();C?p={x:Zt(o,this.left+d,this.right-n[0]),y:this.top+d+S,line:0}:p={x:this.left+d,y:Zt(o,this.top+S+d,this.bottom-s[0].height),line:0},Tf(this.ctx,t.textDirection);const M=b+d;this.legendItems.forEach((L,I)=>{i.strokeStyle=L.fontColor,i.fillStyle=L.fontColor;const $=i.measureText(L.text).width,X=l.textAlign(L.textAlign||(L.textAlign=r.textAlign)),it=m+f+$;let rt=p.x,dt=p.y;l.setWidth(this.width),C?I>0&&rt+it+d>this.right&&(dt=p.y+=M,p.line++,rt=p.x=Zt(o,this.left+d,this.right-n[p.line])):I>0&&dt+M>this.bottom&&(rt=p.x=rt+s[p.line].width+d,p.line++,dt=p.y=Zt(o,this.top+S+d,this.bottom-s[p.line].height));const At=l.x(rt);if(v(At,dt,L),rt=k_(X,rt+m+f,C?rt+it:this.right,t.rtl),w(l.x(rt),dt,L),C)p.x+=it+d;else if(typeof L.text!="string"){const Wt=c.lineHeight;p.y+=ep(L,Wt)+d}else p.y+=M}),Of(this.ctx,t.textDirection)}drawTitle(){const t=this.options,s=t.title,n=qt(s.font),i=oe(s.padding);if(!s.display)return;const o=En(t.rtl,this.left,this.width),r=this.ctx,a=s.position,l=n.size/2,c=i.top+l;let d,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+c,h=Zt(t.align,h,this.right-f);else{const m=this.columnSizes.reduce((g,b)=>Math.max(g,b.height),0);d=c+Zt(t.align,this.top,this.bottom-m-t.labels.padding-this._computeTitleHeight())}const p=Zt(a,h,h+f);r.textAlign=o.textAlign(wl(a)),r.textBaseline="middle",r.strokeStyle=s.color,r.fillStyle=s.color,r.font=n.string,dn(r,s.text,p,d,n)}_computeTitleHeight(){const t=this.options.title,s=qt(t.font),n=oe(t.padding);return t.display?s.lineHeight+n.height:0}_getLegendItemAt(t,s){let n,i,o;if(ps(t,this.left,this.right)&&ps(s,this.top,this.bottom)){for(o=this.legendHitBoxes,n=0;n<o.length;++n)if(i=o[n],ps(t,i.left,i.left+i.width)&&ps(s,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(t){const s=this.options;if(!r2(t.type,s))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,o=s2(i,n);i&&!o&&It(s.onLeave,[t,i,this],this),this._hoveredItem=n,n&&!o&&It(s.onHover,[t,n,this],this)}else n&&It(s.onClick,[t,n,this],this)}}function n2(e,t,s,n,i){const o=i2(n,e,t,s),r=o2(i,n,t.lineHeight);return{itemWidth:o,itemHeight:r}}function i2(e,t,s,n){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((o,r)=>o.length>r.length?o:r)),t+s.size/2+n.measureText(i).width}function o2(e,t,s){let n=e;return typeof t.text!="string"&&(n=ep(t,s)),n}function ep(e,t){const s=e.text?e.text.length:0;return t*s}function r2(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var a2={id:"legend",_element:Jd,start(e,t,s){const n=e.legend=new Jd({ctx:e.ctx,options:s,chart:e});se.configure(e,n,s),se.addBox(e,n)},stop(e){se.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,s){const n=e.legend;se.configure(e,n,s),n.options=s},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,s){const n=t.datasetIndex,i=s.chart;i.isDatasetVisible(n)?(i.hide(n),t.hidden=!0):(i.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:i,color:o,useBorderRadius:r,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(s?0:void 0),d=oe(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:o,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:r&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Dl extends ks{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=s;const i=Lt(n.text)?n.text.length:1;this._padding=oe(n.padding);const o=i*qt(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:s,left:n,bottom:i,right:o,options:r}=this,a=r.align;let l=0,c,d,h;return this.isHorizontal()?(d=Zt(a,n,o),h=s+t,c=o-n):(r.position==="left"?(d=n+t,h=Zt(a,i,s),l=jt*-.5):(d=o-t,h=Zt(a,s,i),l=jt*.5),c=i-s),{titleX:d,titleY:h,maxWidth:c,rotation:l}}draw(){const t=this.ctx,s=this.options;if(!s.display)return;const n=qt(s.font),o=n.lineHeight/2+this._padding.top,{titleX:r,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(o);dn(t,s.text,0,0,n,{color:s.color,maxWidth:l,rotation:c,textAlign:wl(s.align),textBaseline:"middle",translation:[r,a]})}}function l2(e,t){const s=new Dl({ctx:e.ctx,options:t,chart:e});se.configure(e,s,t),se.addBox(e,s),e.titleBlock=s}var c2={id:"title",_element:Dl,start(e,t,s){l2(e,s)},stop(e){const t=e.titleBlock;se.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,s){const n=e.titleBlock;se.configure(e,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const bo=new WeakMap;var d2={id:"subtitle",start(e,t,s){const n=new Dl({ctx:e.ctx,options:s,chart:e});se.configure(e,n,s),se.addBox(e,n),bo.set(e,n)},stop(e){se.removeBox(e,bo.get(e)),bo.delete(e)},beforeUpdate(e,t,s){const n=bo.get(e);se.configure(e,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ai={average(e){if(!e.length)return!1;let t,s,n=new Set,i=0,o=0;for(t=0,s=e.length;t<s;++t){const a=e[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();n.add(l.x),i+=l.y,++o}}return o===0||n.size===0?!1:{x:[...n].reduce((a,l)=>a+l)/n.size,y:i/o}},nearest(e,t){if(!e.length)return!1;let s=t.x,n=t.y,i=Number.POSITIVE_INFINITY,o,r,a;for(o=0,r=e.length;o<r;++o){const l=e[o].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),d=Pa(t,c);d<i&&(i=d,a=l)}}if(a){const l=a.tooltipPosition();s=l.x,n=l.y}return{x:s,y:n}}};function Ye(e,t){return t&&(Lt(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function ls(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function u2(e,t){const{element:s,datasetIndex:n,index:i}=t,o=e.getDatasetMeta(n).controller,{label:r,value:a}=o.getLabelAndValue(i);return{chart:e,label:r,parsed:o.getParsed(i),raw:e.data.datasets[n].data[i],formattedValue:a,dataset:o.getDataset(),dataIndex:i,datasetIndex:n,element:s}}function Xd(e,t){const s=e.chart.ctx,{body:n,footer:i,title:o}=e,{boxWidth:r,boxHeight:a}=t,l=qt(t.bodyFont),c=qt(t.titleFont),d=qt(t.footerFont),h=o.length,f=i.length,p=n.length,m=oe(t.padding);let g=m.height,b=0,v=n.reduce((S,M)=>S+M.before.length+M.lines.length+M.after.length,0);if(v+=e.beforeBody.length+e.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),v){const S=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=p*S+(v-p)*l.lineHeight+(v-1)*t.bodySpacing}f&&(g+=t.footerMarginTop+f*d.lineHeight+(f-1)*t.footerSpacing);let w=0;const C=function(S){b=Math.max(b,s.measureText(S).width+w)};return s.save(),s.font=c.string,Mt(e.title,C),s.font=l.string,Mt(e.beforeBody.concat(e.afterBody),C),w=t.displayColors?r+2+t.boxPadding:0,Mt(n,S=>{Mt(S.before,C),Mt(S.lines,C),Mt(S.after,C)}),w=0,s.font=d.string,Mt(e.footer,C),s.restore(),b+=m.width,{width:b,height:g}}function h2(e,t){const{y:s,height:n}=t;return s<n/2?"top":s>e.height-n/2?"bottom":"center"}function f2(e,t,s,n){const{x:i,width:o}=n,r=s.caretSize+s.caretPadding;if(e==="left"&&i+o+r>t.width||e==="right"&&i-o-r<0)return!0}function p2(e,t,s,n){const{x:i,width:o}=s,{width:r,chartArea:{left:a,right:l}}=e;let c="center";return n==="center"?c=i<=(a+l)/2?"left":"right":i<=o/2?c="left":i>=r-o/2&&(c="right"),f2(c,e,t,s)&&(c="center"),c}function Qd(e,t,s){const n=s.yAlign||t.yAlign||h2(e,s);return{xAlign:s.xAlign||t.xAlign||p2(e,t,s,n),yAlign:n}}function m2(e,t){let{x:s,width:n}=e;return t==="right"?s-=n:t==="center"&&(s-=n/2),s}function g2(e,t,s){let{y:n,height:i}=e;return t==="top"?n+=s:t==="bottom"?n-=i+s:n-=i/2,n}function Zd(e,t,s,n){const{caretSize:i,caretPadding:o,cornerRadius:r}=e,{xAlign:a,yAlign:l}=s,c=i+o,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:p}=rn(r);let m=m2(t,a);const g=g2(t,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(d,f)+i:a==="right"&&(m+=Math.max(h,p)+i),{x:Gt(m,0,n.width-t.width),y:Gt(g,0,n.height-t.height)}}function yo(e,t,s){const n=oe(s.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-n.right:e.x+n.left}function tu(e){return Ye([],ls(e))}function b2(e,t,s){return Hs(e,{tooltip:t,tooltipItems:s,type:"tooltip"})}function eu(e,t){const s=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return s?e.override(s):e}const sp={beforeTitle:os,title(e){if(e.length>0){const t=e[0],s=t.chart.data.labels,n=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return s[t.dataIndex]}return""},afterTitle:os,beforeBody:os,beforeLabel:os,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const s=e.formattedValue;return gt(s)||(t+=s),t},labelColor(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:os,afterBody:os,beforeFooter:os,footer:os,afterFooter:os};function fe(e,t,s,n){const i=e[t].call(s,n);return typeof i>"u"?sp[t].call(s,n):i}class ja extends ks{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const s=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&s.options.animation&&n.animations,o=new Lf(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=b2(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,s){const{callbacks:n}=s,i=fe(n,"beforeTitle",this,t),o=fe(n,"title",this,t),r=fe(n,"afterTitle",this,t);let a=[];return a=Ye(a,ls(i)),a=Ye(a,ls(o)),a=Ye(a,ls(r)),a}getBeforeBody(t,s){return tu(fe(s.callbacks,"beforeBody",this,t))}getBody(t,s){const{callbacks:n}=s,i=[];return Mt(t,o=>{const r={before:[],lines:[],after:[]},a=eu(n,o);Ye(r.before,ls(fe(a,"beforeLabel",this,o))),Ye(r.lines,fe(a,"label",this,o)),Ye(r.after,ls(fe(a,"afterLabel",this,o))),i.push(r)}),i}getAfterBody(t,s){return tu(fe(s.callbacks,"afterBody",this,t))}getFooter(t,s){const{callbacks:n}=s,i=fe(n,"beforeFooter",this,t),o=fe(n,"footer",this,t),r=fe(n,"afterFooter",this,t);let a=[];return a=Ye(a,ls(i)),a=Ye(a,ls(o)),a=Ye(a,ls(r)),a}_createItems(t){const s=this._active,n=this.chart.data,i=[],o=[],r=[];let a=[],l,c;for(l=0,c=s.length;l<c;++l)a.push(u2(this.chart,s[l]));return t.filter&&(a=a.filter((d,h,f)=>t.filter(d,h,f,n))),t.itemSort&&(a=a.sort((d,h)=>t.itemSort(d,h,n))),Mt(a,d=>{const h=eu(t.callbacks,d);i.push(fe(h,"labelColor",this,d)),o.push(fe(h,"labelPointStyle",this,d)),r.push(fe(h,"labelTextColor",this,d))}),this.labelColors=i,this.labelPointStyles=o,this.labelTextColors=r,this.dataPoints=a,a}update(t,s){const n=this.options.setContext(this.getContext()),i=this._active;let o,r=[];if(!i.length)this.opacity!==0&&(o={opacity:0});else{const a=ai[n.position].call(this,i,this._eventPosition);r=this._createItems(n),this.title=this.getTitle(r,n),this.beforeBody=this.getBeforeBody(r,n),this.body=this.getBody(r,n),this.afterBody=this.getAfterBody(r,n),this.footer=this.getFooter(r,n);const l=this._size=Xd(this,n),c=Object.assign({},a,l),d=Qd(this.chart,n,c),h=Zd(n,c,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,o={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=r,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(t,s,n,i){const o=this.getCaretPosition(t,n,i);s.lineTo(o.x1,o.y1),s.lineTo(o.x2,o.y2),s.lineTo(o.x3,o.y3)}getCaretPosition(t,s,n){const{xAlign:i,yAlign:o}=this,{caretSize:r,cornerRadius:a}=n,{topLeft:l,topRight:c,bottomLeft:d,bottomRight:h}=rn(a),{x:f,y:p}=t,{width:m,height:g}=s;let b,v,w,C,S,M;return o==="center"?(S=p+g/2,i==="left"?(b=f,v=b-r,C=S+r,M=S-r):(b=f+m,v=b+r,C=S-r,M=S+r),w=b):(i==="left"?v=f+Math.max(l,d)+r:i==="right"?v=f+m-Math.max(c,h)-r:v=this.caretX,o==="top"?(C=p,S=C-r,b=v-r,w=v+r):(C=p+g,S=C+r,b=v+r,w=v-r),M=C),{x1:b,x2:v,x3:w,y1:C,y2:S,y3:M}}drawTitle(t,s,n){const i=this.title,o=i.length;let r,a,l;if(o){const c=En(n.rtl,this.x,this.width);for(t.x=yo(this,n.titleAlign,n),s.textAlign=c.textAlign(n.titleAlign),s.textBaseline="middle",r=qt(n.titleFont),a=n.titleSpacing,s.fillStyle=n.titleColor,s.font=r.string,l=0;l<o;++l)s.fillText(i[l],c.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+a,l+1===o&&(t.y+=n.titleMarginBottom-a)}}_drawColorBox(t,s,n,i,o){const r=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:l,boxWidth:c}=o,d=qt(o.bodyFont),h=yo(this,"left",o),f=i.x(h),p=l<d.lineHeight?(d.lineHeight-l)/2:0,m=s.y+p;if(o.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},b=i.leftForLtr(f,c)+c/2,v=m+l/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Oa(t,g,b,v),t.strokeStyle=r.borderColor,t.fillStyle=r.backgroundColor,Oa(t,g,b,v)}else{t.lineWidth=yt(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,t.strokeStyle=r.borderColor,t.setLineDash(r.borderDash||[]),t.lineDashOffset=r.borderDashOffset||0;const g=i.leftForLtr(f,c),b=i.leftForLtr(i.xPlus(f,1),c-2),v=rn(r.borderRadius);Object.values(v).some(w=>w!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Ui(t,{x:g,y:m,w:c,h:l,radius:v}),t.fill(),t.stroke(),t.fillStyle=r.backgroundColor,t.beginPath(),Ui(t,{x:b,y:m+1,w:c-2,h:l-2,radius:v}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(g,m,c,l),t.strokeRect(g,m,c,l),t.fillStyle=r.backgroundColor,t.fillRect(b,m+1,c-2,l-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,s,n){const{body:i}=this,{bodySpacing:o,bodyAlign:r,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:d}=n,h=qt(n.bodyFont);let f=h.lineHeight,p=0;const m=En(n.rtl,this.x,this.width),g=function($){s.fillText($,m.x(t.x+p),t.y+f/2),t.y+=f+o},b=m.textAlign(r);let v,w,C,S,M,L,I;for(s.textAlign=r,s.textBaseline="middle",s.font=h.string,t.x=yo(this,b,n),s.fillStyle=n.bodyColor,Mt(this.beforeBody,g),p=a&&b!=="right"?r==="center"?c/2+d:c+2+d:0,S=0,L=i.length;S<L;++S){for(v=i[S],w=this.labelTextColors[S],s.fillStyle=w,Mt(v.before,g),C=v.lines,a&&C.length&&(this._drawColorBox(s,t,S,m,n),f=Math.max(h.lineHeight,l)),M=0,I=C.length;M<I;++M)g(C[M]),f=h.lineHeight;Mt(v.after,g)}p=0,f=h.lineHeight,Mt(this.afterBody,g),t.y-=o}drawFooter(t,s,n){const i=this.footer,o=i.length;let r,a;if(o){const l=En(n.rtl,this.x,this.width);for(t.x=yo(this,n.footerAlign,n),t.y+=n.footerMarginTop,s.textAlign=l.textAlign(n.footerAlign),s.textBaseline="middle",r=qt(n.footerFont),s.fillStyle=n.footerColor,s.font=r.string,a=0;a<o;++a)s.fillText(i[a],l.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+n.footerSpacing}}drawBackground(t,s,n,i){const{xAlign:o,yAlign:r}=this,{x:a,y:l}=t,{width:c,height:d}=n,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:m}=rn(i.cornerRadius);s.fillStyle=i.backgroundColor,s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.beginPath(),s.moveTo(a+h,l),r==="top"&&this.drawCaret(t,s,n,i),s.lineTo(a+c-f,l),s.quadraticCurveTo(a+c,l,a+c,l+f),r==="center"&&o==="right"&&this.drawCaret(t,s,n,i),s.lineTo(a+c,l+d-m),s.quadraticCurveTo(a+c,l+d,a+c-m,l+d),r==="bottom"&&this.drawCaret(t,s,n,i),s.lineTo(a+p,l+d),s.quadraticCurveTo(a,l+d,a,l+d-p),r==="center"&&o==="left"&&this.drawCaret(t,s,n,i),s.lineTo(a,l+h),s.quadraticCurveTo(a,l,a+h,l),s.closePath(),s.fill(),i.borderWidth>0&&s.stroke()}_updateAnimationTarget(t){const s=this.chart,n=this.$animations,i=n&&n.x,o=n&&n.y;if(i||o){const r=ai[t.position].call(this,this._active,this._eventPosition);if(!r)return;const a=this._size=Xd(this,t),l=Object.assign({},r,this._size),c=Qd(s,t,l),d=Zd(t,l,c,s);(i._to!==d.x||o._to!==d.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(t){const s=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(s);const i={width:this.width,height:this.height},o={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const r=oe(s.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&a&&(t.save(),t.globalAlpha=n,this.drawBackground(o,t,i,s),Tf(t,s.textDirection),o.y+=r.top,this.drawTitle(o,t,s),this.drawBody(o,t,s),this.drawFooter(o,t,s),Of(t,s.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,s){const n=this._active,i=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),o=!qo(n,i),r=this._positionChanged(i,s);(o||r)&&(this._active=i,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,s,n=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,o=this._active||[],r=this._getActiveElements(t,o,s,n),a=this._positionChanged(r,t),l=s||!qo(r,o)||a;return l&&(this._active=r,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,s))),l}_getActiveElements(t,s,n,i){const o=this.options;if(t.type==="mouseout")return[];if(!i)return s.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const r=this.chart.getElementsAtEventForMode(t,o.mode,o,n);return o.reverse&&r.reverse(),r}_positionChanged(t,s){const{caretX:n,caretY:i,options:o}=this,r=ai[o.position].call(this,t,s);return r!==!1&&(n!==r.x||i!==r.y)}}B(ja,"positioners",ai);var y2={id:"tooltip",_element:ja,positioners:ai,afterInit(e,t,s){s&&(e.tooltip=new ja({chart:e,options:s}))},beforeUpdate(e,t,s){e.tooltip&&e.tooltip.initialize(s)},reset(e,t,s){e.tooltip&&e.tooltip.initialize(s)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const s={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",s)}},afterEvent(e,t){if(e.tooltip){const s=t.replay;e.tooltip.handleEvent(t.event,s,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:sp},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},x2=Object.freeze({__proto__:null,Colors:Ek,Decimation:Lk,Filler:e2,Legend:a2,SubTitle:d2,Title:c2,Tooltip:y2});const v2=(e,t,s,n)=>(typeof t=="string"?(s=e.push(t)-1,n.unshift({index:s,label:t})):isNaN(t)&&(s=null),s);function _2(e,t,s,n){const i=e.indexOf(t);if(i===-1)return v2(e,t,s,n);const o=e.lastIndexOf(t);return i!==o?s:i}const w2=(e,t)=>e===null?null:Gt(Math.round(e),0,t);function su(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Ua extends fn{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const s=this._addedLabels;if(s.length){const n=this.getLabels();for(const{index:i,label:o}of s)n[i]===o&&n.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,s){if(gt(t))return null;const n=this.getLabels();return s=isFinite(s)&&n[s]===t?s:_2(n,t,ht(s,t),this._addedLabels),w2(s,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),s||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,s=this.max,n=this.options.offset,i=[];let o=this.getLabels();o=t===0&&s===o.length-1?o:o.slice(t,s+1),this._valueRange=Math.max(o.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let r=t;r<=s;r++)i.push({value:r});return i}getLabelForValue(t){return su.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}B(Ua,"id","category"),B(Ua,"defaults",{ticks:{callback:su}});function k2(e,t){const s=[],{bounds:i,step:o,min:r,max:a,precision:l,count:c,maxTicks:d,maxDigits:h,includeBounds:f}=e,p=o||1,m=d-1,{min:g,max:b}=t,v=!gt(r),w=!gt(a),C=!gt(c),S=(b-g)/(h+1);let M=Xc((b-g)/m/p)*p,L,I,$,X;if(M<1e-14&&!v&&!w)return[{value:g},{value:b}];X=Math.ceil(b/M)-Math.floor(g/M),X>m&&(M=Xc(X*M/m/p)*p),gt(l)||(L=Math.pow(10,l),M=Math.ceil(M*L)/L),i==="ticks"?(I=Math.floor(g/M)*M,$=Math.ceil(b/M)*M):(I=g,$=b),v&&w&&o&&g_((a-r)/o,M/1e3)?(X=Math.round(Math.min((a-r)/M,d)),M=(a-r)/X,I=r,$=a):C?(I=v?r:I,$=w?a:$,X=c-1,M=($-I)/X):(X=($-I)/M,vi(X,Math.round(X),M/1e3)?X=Math.round(X):X=Math.ceil(X));const it=Math.max(Qc(M),Qc(I));L=Math.pow(10,gt(l)?it:l),I=Math.round(I*L)/L,$=Math.round($*L)/L;let rt=0;for(v&&(f&&I!==r?(s.push({value:r}),I<r&&rt++,vi(Math.round((I+rt*M)*L)/L,r,nu(r,S,e))&&rt++):I<r&&rt++);rt<X;++rt){const dt=Math.round((I+rt*M)*L)/L;if(w&&dt>a)break;s.push({value:dt})}return w&&f&&$!==a?s.length&&vi(s[s.length-1].value,a,nu(a,S,e))?s[s.length-1].value=a:s.push({value:a}):(!w||$===a)&&s.push({value:$}),s}function nu(e,t,{horizontal:s,minRotation:n}){const i=je(n),o=(s?Math.sin(i):Math.cos(i))||.001,r=.75*t*(""+e).length;return Math.min(t/o,r)}class Zo extends fn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,s){return gt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:s,maxDefined:n}=this.getUserBounds();let{min:i,max:o}=this;const r=l=>i=s?i:l,a=l=>o=n?o:l;if(t){const l=ts(i),c=ts(o);l<0&&c<0?a(0):l>0&&c>0&&r(0)}if(i===o){let l=o===0?1:Math.abs(o*.05);a(o+l),t||r(i-l)}this.min=i,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:s,stepSize:n}=t,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),s=s||11),s&&(i=Math.min(s,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,s=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},o=this._range||this,r=k2(i,o);return t.bounds==="ticks"&&hf(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const t=this.ticks;let s=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-s)/Math.max(t.length-1,1)/2;s-=i,n+=i}this._startValue=s,this._endValue=n,this._valueRange=n-s}getLabelForValue(t){return Ji(t,this.chart.options.locale,this.options.ticks.format)}}class Na extends Zo{determineDataLimits(){const{min:t,max:s}=this.getMinMax(!0);this.min=$t(t)?t:0,this.max=$t(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),s=t?this.width:this.height,n=je(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,o.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}B(Na,"id","linear"),B(Na,"defaults",{ticks:{callback:_r.formatters.numeric}});const $i=e=>Math.floor(Rs(e)),Xs=(e,t)=>Math.pow(10,$i(e)+t);function iu(e){return e/Math.pow(10,$i(e))===1}function ou(e,t,s){const n=Math.pow(10,s),i=Math.floor(e/n);return Math.ceil(t/n)-i}function S2(e,t){const s=t-e;let n=$i(s);for(;ou(e,t,n)>10;)n++;for(;ou(e,t,n)<10;)n--;return Math.min(n,$i(e))}function C2(e,{min:t,max:s}){t=ke(e.min,t);const n=[],i=$i(t);let o=S2(t,s),r=o<0?Math.pow(10,Math.abs(o)):1;const a=Math.pow(10,o),l=i>o?Math.pow(10,i):0,c=Math.round((t-l)*r)/r,d=Math.floor((t-l)/a/10)*a*10;let h=Math.floor((c-d)/Math.pow(10,o)),f=ke(e.min,Math.round((l+d+h*Math.pow(10,o))*r)/r);for(;f<s;)n.push({value:f,major:iu(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(o++,h=2,r=o>=0?1:r),f=Math.round((l+d+h*Math.pow(10,o))*r)/r;const p=ke(e.max,f);return n.push({value:p,major:iu(p),significand:h}),n}class $a extends fn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,s){const n=Zo.prototype.parse.apply(this,[t,s]);if(n===0){this._zero=!0;return}return $t(n)&&n>0?n:null}determineDataLimits(){const{min:t,max:s}=this.getMinMax(!0);this.min=$t(t)?Math.max(0,t):null,this.max=$t(s)?Math.max(0,s):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!$t(this._userMin)&&(this.min=t===Xs(this.min,0)?Xs(this.min,-1):Xs(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:s}=this.getUserBounds();let n=this.min,i=this.max;const o=a=>n=t?n:a,r=a=>i=s?i:a;n===i&&(n<=0?(o(1),r(10)):(o(Xs(n,-1)),r(Xs(i,1)))),n<=0&&o(Xs(i,-1)),i<=0&&r(Xs(n,1)),this.min=n,this.max=i}buildTicks(){const t=this.options,s={min:this._userMin,max:this._userMax},n=C2(s,this);return t.bounds==="ticks"&&hf(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return t===void 0?"0":Ji(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Rs(t),this._valueRange=Rs(this.max)-Rs(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Rs(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const s=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+s*this._valueRange)}}B($a,"id","logarithmic"),B($a,"defaults",{ticks:{callback:_r.formatters.logarithmic,major:{enabled:!0}}});function Ba(e){const t=e.ticks;if(t.display&&e.display){const s=oe(t.backdropPadding);return ht(t.font&&t.font.size,Nt.font.size)+s.height}return 0}function M2(e,t,s){return s=Lt(s)?s:[s],{w:I_(e,t.string,s),h:s.length*t.lineHeight}}function ru(e,t,s,n,i){return e===n||e===i?{start:t-s/2,end:t+s/2}:e<n||e>i?{start:t-s,end:t}:{start:t,end:t+s}}function A2(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},s=Object.assign({},t),n=[],i=[],o=e._pointLabels.length,r=e.options.pointLabels,a=r.centerPointLabels?jt/o:0;for(let l=0;l<o;l++){const c=r.setContext(e.getPointLabelContext(l));i[l]=c.padding;const d=e.getPointPosition(l,e.drawingArea+i[l],a),h=qt(c.font),f=M2(e.ctx,h,e._pointLabels[l]);n[l]=f;const p=Se(e.getIndexAngle(l)+a),m=Math.round(vl(p)),g=ru(m,d.x,f.w,0,180),b=ru(m,d.y,f.h,90,270);P2(s,t,p,g,b)}e.setCenterPoint(t.l-s.l,s.r-t.r,t.t-s.t,s.b-t.b),e._pointLabelItems=E2(e,n,i)}function P2(e,t,s,n,i){const o=Math.abs(Math.sin(s)),r=Math.abs(Math.cos(s));let a=0,l=0;n.start<t.l?(a=(t.l-n.start)/o,e.l=Math.min(e.l,t.l-a)):n.end>t.r&&(a=(n.end-t.r)/o,e.r=Math.max(e.r,t.r+a)),i.start<t.t?(l=(t.t-i.start)/r,e.t=Math.min(e.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/r,e.b=Math.max(e.b,t.b+l))}function T2(e,t,s){const n=e.drawingArea,{extra:i,additionalAngle:o,padding:r,size:a}=s,l=e.getPointPosition(t,n+i+r,o),c=Math.round(vl(Se(l.angle+Vt))),d=R2(l.y,a.h,c),h=D2(c),f=I2(l.x,a.w,h);return{visible:!0,x:l.x,y:d,textAlign:h,left:f,top:d,right:f+a.w,bottom:d+a.h}}function O2(e,t){if(!t)return!0;const{left:s,top:n,right:i,bottom:o}=e;return!(gs({x:s,y:n},t)||gs({x:s,y:o},t)||gs({x:i,y:n},t)||gs({x:i,y:o},t))}function E2(e,t,s){const n=[],i=e._pointLabels.length,o=e.options,{centerPointLabels:r,display:a}=o.pointLabels,l={extra:Ba(o)/2,additionalAngle:r?jt/i:0};let c;for(let d=0;d<i;d++){l.padding=s[d],l.size=t[d];const h=T2(e,d,l);n.push(h),a==="auto"&&(h.visible=O2(h,c),h.visible&&(c=h))}return n}function D2(e){return e===0||e===180?"center":e<180?"left":"right"}function I2(e,t,s){return s==="right"?e-=t:s==="center"&&(e-=t/2),e}function R2(e,t,s){return s===90||s===270?e-=t/2:(s>270||s<90)&&(e-=t),e}function L2(e,t,s){const{left:n,top:i,right:o,bottom:r}=s,{backdropColor:a}=t;if(!gt(a)){const l=rn(t.borderRadius),c=oe(t.backdropPadding);e.fillStyle=a;const d=n-c.left,h=i-c.top,f=o-n+c.width,p=r-i+c.height;Object.values(l).some(m=>m!==0)?(e.beginPath(),Ui(e,{x:d,y:h,w:f,h:p,radius:l}),e.fill()):e.fillRect(d,h,f,p)}}function F2(e,t){const{ctx:s,options:{pointLabels:n}}=e;for(let i=t-1;i>=0;i--){const o=e._pointLabelItems[i];if(!o.visible)continue;const r=n.setContext(e.getPointLabelContext(i));L2(s,r,o);const a=qt(r.font),{x:l,y:c,textAlign:d}=o;dn(s,e._pointLabels[i],l,c+a.lineHeight/2,a,{color:r.color,textAlign:d,textBaseline:"middle"})}}function np(e,t,s,n){const{ctx:i}=e;if(s)i.arc(e.xCenter,e.yCenter,t,0,Ft);else{let o=e.getPointPosition(0,t);i.moveTo(o.x,o.y);for(let r=1;r<n;r++)o=e.getPointPosition(r,t),i.lineTo(o.x,o.y)}}function j2(e,t,s,n,i){const o=e.ctx,r=t.circular,{color:a,lineWidth:l}=t;!r&&!n||!a||!l||s<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(i.dash||[]),o.lineDashOffset=i.dashOffset,o.beginPath(),np(e,s,r,n),o.closePath(),o.stroke(),o.restore())}function U2(e,t,s){return Hs(e,{label:s,index:t,type:"pointLabel"})}class li extends Zo{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=oe(Ba(this.options)/2),s=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+s/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(s,n)/2)}determineDataLimits(){const{min:t,max:s}=this.getMinMax(!1);this.min=$t(t)&&!isNaN(t)?t:0,this.max=$t(s)&&!isNaN(s)?s:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ba(this.options))}generateTickLabels(t){Zo.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((s,n)=>{const i=It(this.options.pointLabels.callback,[s,n],this);return i||i===0?i:""}).filter((s,n)=>this.chart.getDataVisibility(n))}fit(){const t=this.options;t.display&&t.pointLabels.display?A2(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,s,n,i){this.xCenter+=Math.floor((t-s)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,s,n,i))}getIndexAngle(t){const s=Ft/(this._pointLabels.length||1),n=this.options.startAngle||0;return Se(t*s+je(n))}getDistanceFromCenterForValue(t){if(gt(t))return NaN;const s=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*s:(t-this.min)*s}getValueForDistanceFromCenter(t){if(gt(t))return NaN;const s=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-s:this.min+s}getPointLabelContext(t){const s=this._pointLabels||[];if(t>=0&&t<s.length){const n=s[t];return U2(this.getContext(),t,n)}}getPointPosition(t,s,n=0){const i=this.getIndexAngle(t)-Vt+n;return{x:Math.cos(i)*s+this.xCenter,y:Math.sin(i)*s+this.yCenter,angle:i}}getPointPositionForValue(t,s){return this.getPointPosition(t,this.getDistanceFromCenterForValue(s))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:s,top:n,right:i,bottom:o}=this._pointLabelItems[t];return{left:s,top:n,right:i,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:s}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),np(this,this.getDistanceFromCenterForValue(this._endValue),s,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,s=this.options,{angleLines:n,grid:i,border:o}=s,r=this._pointLabels.length;let a,l,c;if(s.pointLabels.display&&F2(this,r),i.display&&this.ticks.forEach((d,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(d.value);const f=this.getContext(h),p=i.setContext(f),m=o.setContext(f);j2(this,p,l,r,m)}}),n.display){for(t.save(),a=r-1;a>=0;a--){const d=n.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:f}=d;!f||!h||(t.lineWidth=f,t.strokeStyle=h,t.setLineDash(d.borderDash),t.lineDashOffset=d.borderDashOffset,l=this.getDistanceFromCenterForValue(s.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,s=this.options,n=s.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let o,r;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!s.reverse)return;const c=n.setContext(this.getContext(l)),d=qt(c.font);if(o=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=d.string,r=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const h=oe(c.backdropPadding);t.fillRect(-r/2-h.left,-o-d.size/2-h.top,r+h.width,d.size+h.height)}dn(t,a.label,0,-o,d,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}B(li,"id","radialLinear"),B(li,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:_r.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),B(li,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),B(li,"descriptors",{angleLines:{_fallback:"grid"}});const Cr={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ge=Object.keys(Cr);function au(e,t){return e-t}function lu(e,t){if(gt(t))return null;const s=e._adapter,{parser:n,round:i,isoWeekday:o}=e._parseOpts;let r=t;return typeof n=="function"&&(r=n(r)),$t(r)||(r=typeof n=="string"?s.parse(r,n):s.parse(r)),r===null?null:(i&&(r=i==="week"&&(Un(o)||o===!0)?s.startOf(r,"isoWeek",o):s.startOf(r,i)),+r)}function cu(e,t,s,n){const i=ge.length;for(let o=ge.indexOf(e);o<i-1;++o){const r=Cr[ge[o]],a=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((s-t)/(a*r.size))<=n)return ge[o]}return ge[i-1]}function N2(e,t,s,n,i){for(let o=ge.length-1;o>=ge.indexOf(s);o--){const r=ge[o];if(Cr[r].common&&e._adapter.diff(i,n,r)>=t-1)return r}return ge[s?ge.indexOf(s):0]}function $2(e){for(let t=ge.indexOf(e)+1,s=ge.length;t<s;++t)if(Cr[ge[t]].common)return ge[t]}function du(e,t,s){if(!s)e[t]=!0;else if(s.length){const{lo:n,hi:i}=_l(s,t),o=s[n]>=t?s[n]:s[i];e[o]=!0}}function B2(e,t,s,n){const i=e._adapter,o=+i.startOf(t[0].value,n),r=t[t.length-1].value;let a,l;for(a=o;a<=r;a=+i.add(a,1,n))l=s[a],l>=0&&(t[l].major=!0);return t}function uu(e,t,s){const n=[],i={},o=t.length;let r,a;for(r=0;r<o;++r)a=t[r],i[a]=r,n.push({value:a,major:!1});return o===0||!s?n:B2(e,n,i,s)}class Bi extends fn{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,s={}){const n=t.time||(t.time={}),i=this._adapter=new Jw._date(t.adapters.date);i.init(s),xi(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=s.normalized}parse(t,s){return t===void 0?null:lu(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,s=this._adapter,n=t.time.unit||"day";let{min:i,max:o,minDefined:r,maxDefined:a}=this.getUserBounds();function l(c){!r&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(o=Math.max(o,c.max))}(!r||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=$t(i)&&!isNaN(i)?i:+s.startOf(Date.now(),n),o=$t(o)&&!isNaN(o)?o:+s.endOf(Date.now(),n)+1,this.min=Math.min(i,o-1),this.max=Math.max(i+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(s=t[0],n=t[t.length-1]),{min:s,max:n}}buildTicks(){const t=this.options,s=t.time,n=t.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const o=this.min,r=this.max,a=v_(i,o,r);return this._unit=s.unit||(n.autoSkip?cu(s.minUnit,this.min,this.max,this._getLabelCapacity(o)):N2(this,a.length,s.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:$2(this._unit),this.initOffsets(i),t.reverse&&a.reverse(),uu(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let s=0,n=0,i,o;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?s=1-i:s=(this.getDecimalForValue(t[1])-i)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?n=o:n=(o-this.getDecimalForValue(t[t.length-2]))/2);const r=t.length<3?.5:.25;s=Gt(s,0,r),n=Gt(n,0,r),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const t=this._adapter,s=this.min,n=this.max,i=this.options,o=i.time,r=o.unit||cu(o.minUnit,s,n,this._getLabelCapacity(s)),a=ht(i.ticks.stepSize,1),l=r==="week"?o.isoWeekday:!1,c=Un(l)||l===!0,d={};let h=s,f,p;if(c&&(h=+t.startOf(h,"isoWeek",l)),h=+t.startOf(h,c?"day":r),t.diff(n,s,r)>1e5*a)throw new Error(s+" and "+n+" are too far apart with stepSize of "+a+" "+r);const m=i.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<n;f=+t.add(f,a,r),p++)du(d,f,m);return(f===n||i.bounds==="ticks"||p===1)&&du(d,f,m),Object.keys(d).sort(au).map(g=>+g)}getLabelForValue(t){const s=this._adapter,n=this.options.time;return n.tooltipFormat?s.format(t,n.tooltipFormat):s.format(t,n.displayFormats.datetime)}format(t,s){const i=this.options.time.displayFormats,o=this._unit,r=s||i[o];return this._adapter.format(t,r)}_tickFormatFunction(t,s,n,i){const o=this.options,r=o.ticks.callback;if(r)return It(r,[t,s,n],this);const a=o.time.displayFormats,l=this._unit,c=this._majorUnit,d=l&&a[l],h=c&&a[c],f=n[s],p=c&&h&&f&&f.major;return this._adapter.format(t,i||(p?h:d))}generateTickLabels(t){let s,n,i;for(s=0,n=t.length;s<n;++s)i=t[s],i.label=this._tickFormatFunction(i.value,s,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const s=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((s.start+n)*s.factor)}getValueForPixel(t){const s=this._offsets,n=this.getDecimalForPixel(t)/s.factor-s.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const s=this.options.ticks,n=this.ctx.measureText(t).width,i=je(this.isHorizontal()?s.maxRotation:s.minRotation),o=Math.cos(i),r=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:n*o+a*r,h:n*r+a*o}}_getLabelCapacity(t){const s=this.options.time,n=s.displayFormats,i=n[s.unit]||n.millisecond,o=this._tickFormatFunction(t,0,uu(this,[t],this._majorUnit),i),r=this._getLabelSize(o),a=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],s,n;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(s=0,n=i.length;s<n;++s)t=t.concat(i[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let s,n;if(t.length)return t;const i=this.getLabels();for(s=0,n=i.length;s<n;++s)t.push(lu(this,i[s]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return mf(t.sort(au))}}B(Bi,"id","time"),B(Bi,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function xo(e,t,s){let n=0,i=e.length-1,o,r,a,l;s?(t>=e[n].pos&&t<=e[i].pos&&({lo:n,hi:i}=ms(e,"pos",t)),{pos:o,time:a}=e[n],{pos:r,time:l}=e[i]):(t>=e[n].time&&t<=e[i].time&&({lo:n,hi:i}=ms(e,"time",t)),{time:o,pos:a}=e[n],{time:r,pos:l}=e[i]);const c=r-o;return c?a+(l-a)*(t-o)/c:a}class Va extends Bi{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(t);this._minPos=xo(s,this.min),this._tableRange=xo(s,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:s,max:n}=this,i=[],o=[];let r,a,l,c,d;for(r=0,a=t.length;r<a;++r)c=t[r],c>=s&&c<=n&&i.push(c);if(i.length<2)return[{time:s,pos:0},{time:n,pos:1}];for(r=0,a=i.length;r<a;++r)d=i[r+1],l=i[r-1],c=i[r],Math.round((d+l)/2)!==c&&o.push({time:c,pos:r/(a-1)});return o}_generate(){const t=this.min,s=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(s)||n.length===1)&&n.push(s),n.sort((i,o)=>i-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const s=this.getDataTimestamps(),n=this.getLabelTimestamps();return s.length&&n.length?t=this.normalize(s.concat(n)):t=s.length?s:n,t=this._cache.all=t,t}getDecimalForValue(t){return(xo(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const s=this._offsets,n=this.getDecimalForPixel(t)/s.factor-s.end;return xo(this._table,n*this._tableRange+this._minPos,!0)}}B(Va,"id","timeseries"),B(Va,"defaults",Bi.defaults);var V2=Object.freeze({__proto__:null,CategoryScale:Ua,LinearScale:Na,LogarithmicScale:$a,RadialLinearScale:li,TimeScale:Bi,TimeSeriesScale:Va});const z2=[Yw,Sk,x2,V2];Ze.register(...z2);async function ip(){return await(await fetch("https://servicodados.ibge.gov.br/api/v1/localidades/estados?orderBy=nome")).json()}async function op(e){return e?await(await fetch(`https://servicodados.ibge.gov.br/api/v1/localidades/estados/${e}/municipios?orderBy=nome`)).json():[]}const H2={name:"Dashboard",components:{Sidebar:Ae,HeaderUser:Pe,Modal:zs,WeekView:rf},data(){return{userId:null,stats:{week:0,month:0,clients:0,newClients:0},upcomingAppointments:[],clients:[],services:[],topClients:[],sidebarOpen:window.innerWidth>=768,showClientModal:!1,showAppointmentModal:!1,showDetailsModal:!1,weekChart:null,weekCounts:[0,0,0,0,0,0,0],states:[],cities:[],clientForm:{name:"",email:"",phone:"",birthdate:"",cpf:"",cep:"",street:"",number:"",complement:"",neighborhood:"",stateId:"",cityId:""},appointmentForm:{date:"",time:"",clientId:"",serviceId:"",duration:"",description:""},selectedAppointment:null}},methods:{phoneMask:vr,cpfMask:nf,cepMask:of,async fetchStatesList(){this.states=await ip()},async fetchCitiesList(){this.cities=await op(this.clientForm.stateId)},async openClientModal(){await this.fetchStatesList(),this.clientForm.stateId&&await this.fetchCitiesList(),this.showClientModal=!0},async fetchStats(){const e=new Date,t=e.getDay(),s=new Date(e);s.setDate(e.getDate()-t),s.setHours(0,0,0,0);const n=new Date(e);n.setDate(e.getDate()+(6-t)),n.setHours(23,59,59,999);const i=s.toISOString().split("T")[0],o=n.toISOString().split("T")[0],r=new Date(e.getFullYear(),e.getMonth(),1),a=new Date(e.getFullYear(),e.getMonth()+1,0);a.setHours(23,59,59,999);const l=r.toISOString().split("T")[0],c=a.toISOString().split("T")[0],{data:d}=await N.from("appointments").select().eq("user_id",this.userId).gte("date",i).lte("date",o);this.stats.week=d?d.length:0;const h=[0,0,0,0,0,0,0];d&&d.forEach(m=>{const g=new Date(m.date);h[g.getDay()]++}),this.weekCounts=h;const{data:f}=await N.from("appointments").select().eq("user_id",this.userId).gte("date",l).lte("date",c);this.stats.month=f?f.length:0;const{data:p}=await N.from("clients").select().eq("user_id",this.userId);p&&(this.stats.clients=p.length,this.clients=p,this.stats.newClients=p.filter(m=>{const g=new Date(m.created_at);return g>=r&&g<=a}).length),await this.fetchTopClients(),this.$nextTick(()=>this.renderWeekChart())},async fetchUpcomingAppointments(){const e=new Date,t=e.getDay(),s=new Date(e);s.setDate(e.getDate()-t),s.setHours(0,0,0,0);const n=new Date(e);n.setDate(e.getDate()+(6-t)),n.setHours(23,59,59,999);const i=s.toISOString().split("T")[0],o=n.toISOString().split("T")[0],{data:r}=await N.from("appointments").select().eq("user_id",this.userId).gte("date",i).lte("date",o).order("date",{ascending:!0}).order("time",{ascending:!0});this.upcomingAppointments=r||[]},async fetchTopClients(){const{data:e}=await N.from("appointments").select("client_id").eq("user_id",this.userId),t={};e&&e.forEach(n=>{t[n.client_id]=(t[n.client_id]||0)+1});const s=Object.entries(t).sort((n,i)=>i[1]-n[1]).slice(0,5);this.topClients=s.map(([n,i])=>({id:n,count:i,name:this.getClientName(n)}))},renderWeekChart(){const e=this.$refs.weekChartCanvas.getContext("2d");this.weekChart&&this.weekChart.destroy(),this.weekChart=new Ze(e,{type:"bar",data:{labels:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],datasets:[{label:"Agendamentos",data:this.weekCounts,backgroundColor:"#6366f1",borderColor:"#4f46e5",borderWidth:1,borderRadius:4}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1}},y:{beginAtZero:!0,grid:{color:"#e5e7eb"}}}}})},getClientName(e){const t=this.clients.find(s=>s.id===e);return t?t.name:""},getServiceName(e){const t=this.services.find(s=>s.id===e);return t?t.name:""},openDetails(e){this.selectedAppointment=e,this.showDetailsModal=!0},closeDetails(){this.showDetailsModal=!1,this.selectedAppointment=null},async handleDeleteAppointment(e){if(!confirm("Tem certeza que deseja excluir este agendamento?"))return;const{error:s}=await N.from("appointments").delete().eq("id",e);s?alert("Erro ao excluir agendamento: "+s.message):(this.upcomingAppointments=this.upcomingAppointments.filter(n=>n.id!==e),this.selectedAppointment&&this.selectedAppointment.id===e&&this.closeDetails(),await this.fetchStats(),await this.fetchTopClients(),await this.fetchUpcomingAppointments())},async handleAddClient(){if(this.clientForm.email&&!ss(this.clientForm.email)){alert("E-mail invlido");return}const{data:e,error:t}=await N.from("clients").insert({name:this.clientForm.name,email:this.clientForm.email,phone:this.clientForm.phone,birthdate:this.clientForm.birthdate,cpf:this.clientForm.cpf,cep:this.clientForm.cep,street:this.clientForm.street,number:this.clientForm.number,complement:this.clientForm.complement,neighborhood:this.clientForm.neighborhood,state_id:this.clientForm.stateId,city_id:this.clientForm.cityId,user_id:this.userId}).select().single();if(t)alert("Erro ao salvar cliente: "+t.message);else{this.clients.push(e),this.clientForm={name:"",email:"",phone:"",birthdate:"",cpf:"",cep:"",street:"",number:"",complement:"",neighborhood:"",stateId:"",cityId:""},this.stats.clients+=1;const s=new Date(e.created_at),n=new Date(s.getFullYear(),s.getMonth(),1),i=new Date(s.getFullYear(),s.getMonth()+1,0);i.setHours(23,59,59,999),s>=n&&s<=i&&(this.stats.newClients+=1),await this.fetchTopClients(),alert("Cliente cadastrado!")}},async handleAddAppointment(){const{data:e,error:t}=await N.from("appointments").insert({date:this.appointmentForm.date,time:this.appointmentForm.time,client_id:this.appointmentForm.clientId,service_id:this.appointmentForm.serviceId,duration:this.appointmentForm.duration,description:this.appointmentForm.description,user_id:this.userId}).select().single();if(t)alert("Erro ao salvar agendamento: "+t.message);else{this.upcomingAppointments.push(e),this.showAppointmentModal=!1,this.appointmentForm={date:"",time:"",clientId:"",serviceId:"",duration:"",description:""},this.stats.week+=1,this.stats.month+=1;const s=new Date(e.date);this.weekCounts[s.getDay()]++,await this.fetchTopClients(),this.renderWeekChart()}}},watch:{"appointmentForm.serviceId"(e){const t=this.services.find(s=>s.id===e);t&&this.appointmentForm.duration===""&&(this.appointmentForm.duration=t.duration)},"clientForm.stateId"(){this.fetchCitiesList()}},async mounted(){const{data:{user:e}}=await N.auth.getUser();if(!e){this.$router.push("/login");return}this.userId=e.id,await this.fetchStats(),await this.fetchUpcomingAppointments();const{data:t}=await N.from("services").select().eq("user_id",this.userId);t&&(this.services=t),await this.fetchStatesList()}},W2={class:"min-h-screen flex bg-gray-50 relative"},q2={class:"flex-1 p-4 md:p-8 space-y-8"},K2={key:0,class:"flex items-center mb-4"},G2={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},Y2={class:"bg-white p-6 rounded-lg shadow-lg text-center"},J2={class:"text-2xl font-bold"},X2={class:"bg-white p-6 rounded-lg shadow-lg text-center"},Q2={class:"text-2xl font-bold"},Z2={class:"bg-white p-6 rounded-lg shadow-lg text-center"},tS={class:"text-2xl font-bold"},eS={class:"bg-white p-6 rounded-lg shadow-lg text-center"},sS={class:"text-2xl font-bold"},nS={class:"bg-white p-6 rounded-lg shadow-lg h-64"},iS={ref:"weekChartCanvas",class:"w-full h-full"},oS={class:"grid grid-cols-1 md:grid-cols-12 gap-6"},rS={class:"md:col-span-8"},aS={class:"flex items-center justify-between mb-4"},lS={class:"md:col-span-4 space-y-4"},cS={class:"bg-white p-4 rounded-lg shadow"},dS={class:"overflow-x-auto"},uS={class:"min-w-full text-left"},hS={class:"px-4 py-2"},fS={class:"px-4 py-2 text-right"},pS={key:0},mS=["value"],gS=["value"],bS={class:"flex justify-end space-x-2"},yS=["value"],xS=["value"],vS={class:"flex justify-end space-x-2"},_S={key:0,class:"space-y-1"},wS={class:"flex justify-center mt-4 space-x-2"};function kS(e,t,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser"),l=H("WeekView"),c=H("Modal");return _(),k("div",W2,[D(r,{"is-open":i.sidebarOpen,onClose:t[0]||(t[0]=d=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",q2,[i.sidebarOpen?W("",!0):(_(),k("div",K2,[u("button",{onClick:t[1]||(t[1]=d=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},t[33]||(t[33]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),D(a,{title:"Dashboard"}),u("section",G2,[u("div",Y2,[t[34]||(t[34]=u("p",{class:"text-sm text-gray-500"},"Agendamentos na semana",-1)),u("p",J2,P(i.stats.week),1)]),u("div",X2,[t[35]||(t[35]=u("p",{class:"text-sm text-gray-500"},"Agendamentos no ms",-1)),u("p",Q2,P(i.stats.month),1)]),u("div",Z2,[t[36]||(t[36]=u("p",{class:"text-sm text-gray-500"},"Clientes cadastrados",-1)),u("p",tS,P(i.stats.clients),1)]),u("div",eS,[t[37]||(t[37]=u("p",{class:"text-sm text-gray-500"},"Novos clientes no ms",-1)),u("p",sS,P(i.stats.newClients),1)])]),u("section",nS,[t[38]||(t[38]=u("h3",{class:"text-lg font-medium mb-4"},"Agendamentos na semana",-1)),u("canvas",iS,null,512)]),u("section",oS,[u("div",rS,[u("div",aS,[t[39]||(t[39]=u("h3",{class:"text-lg font-medium"},"Agenda da Semana",-1)),u("button",{onClick:t[2]||(t[2]=d=>i.showAppointmentModal=!0),class:"btn"},"Novo Agendamento")]),D(l,{appointments:i.upcomingAppointments,getClientName:o.getClientName,onSelect:o.openDetails},null,8,["appointments","getClientName","onSelect"])]),u("div",lS,[u("button",{onClick:t[3]||(t[3]=(...d)=>o.openClientModal&&o.openClientModal(...d)),class:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700"},"Novo Cliente"),u("div",cS,[t[42]||(t[42]=u("h4",{class:"font-medium mb-2"},"Clientes com mais agendamentos",-1)),u("div",dS,[u("table",uS,[t[41]||(t[41]=u("thead",{class:"bg-gray-50"},[u("tr",null,[u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Cliente"),u("th",{class:"px-4 py-2 font-medium text-gray-700 text-right"},"Agendamentos")])],-1)),u("tbody",null,[(_(!0),k(J,null,pt(i.topClients,d=>(_(),k("tr",{key:d.id,class:"border-b last:border-b-0"},[u("td",hS,P(d.name),1),u("td",fS,P(d.count),1)]))),128)),i.topClients.length===0?(_(),k("tr",pS,t[40]||(t[40]=[u("td",{colspan:"2",class:"px-4 py-6 text-center text-gray-500"},"Nenhum dado",-1)]))):W("",!0)])])])])])]),i.showClientModal?(_(),de(c,{key:1,onClose:t[21]||(t[21]=d=>i.showClientModal=!1)},{default:st(()=>[t[58]||(t[58]=u("h3",{class:"text-lg font-semibold mb-4"},"Adicionar Cliente",-1)),u("form",{onSubmit:t[20]||(t[20]=ie((...d)=>o.handleAddClient&&o.handleAddClient(...d),["prevent"])),class:"space-y-4"},[u("div",null,[t[43]||(t[43]=u("label",{class:"block text-sm font-medium text-gray-700"},"Nome",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=d=>i.clientForm.name=d),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.clientForm.name]])]),u("div",null,[t[44]||(t[44]=u("label",{class:"block text-sm font-medium text-gray-700"},"CPF",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=d=>i.clientForm.cpf=d),onInput:t[6]||(t[6]=d=>i.clientForm.cpf=o.cpfMask(i.clientForm.cpf)),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,544),[[j,i.clientForm.cpf]])]),u("div",null,[t[45]||(t[45]=u("label",{class:"block text-sm font-medium text-gray-700"},"Data de nascimento",-1)),O(u("input",{type:"date","onUpdate:modelValue":t[7]||(t[7]=d=>i.clientForm.birthdate=d),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.clientForm.birthdate]])]),u("div",null,[t[46]||(t[46]=u("label",{class:"block text-sm font-medium text-gray-700"},"E-mail",-1)),O(u("input",{type:"email","onUpdate:modelValue":t[8]||(t[8]=d=>i.clientForm.email=d),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.clientForm.email]])]),u("div",null,[t[47]||(t[47]=u("label",{class:"block text-sm font-medium text-gray-700"},"Telefone",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=d=>i.clientForm.phone=d),onInput:t[10]||(t[10]=d=>i.clientForm.phone=o.phoneMask(i.clientForm.phone)),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,544),[[j,i.clientForm.phone]])]),u("div",null,[t[48]||(t[48]=u("label",{class:"block text-sm font-medium text-gray-700"},"CEP",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[11]||(t[11]=d=>i.clientForm.cep=d),onInput:t[12]||(t[12]=d=>i.clientForm.cep=o.cepMask(i.clientForm.cep)),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,544),[[j,i.clientForm.cep]])]),u("div",null,[t[49]||(t[49]=u("label",{class:"block text-sm font-medium text-gray-700"},"Endereo",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[13]||(t[13]=d=>i.clientForm.street=d),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.clientForm.street]])]),u("div",null,[t[50]||(t[50]=u("label",{class:"block text-sm font-medium text-gray-700"},"Nmero",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[14]||(t[14]=d=>i.clientForm.number=d),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.clientForm.number]])]),u("div",null,[t[51]||(t[51]=u("label",{class:"block text-sm font-medium text-gray-700"},"Complemento",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[15]||(t[15]=d=>i.clientForm.complement=d),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.clientForm.complement]])]),u("div",null,[t[52]||(t[52]=u("label",{class:"block text-sm font-medium text-gray-700"},"Bairro",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[16]||(t[16]=d=>i.clientForm.neighborhood=d),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.clientForm.neighborhood]])]),u("div",null,[t[54]||(t[54]=u("label",{class:"block text-sm font-medium text-gray-700"},"Estado",-1)),O(u("select",{"onUpdate:modelValue":t[17]||(t[17]=d=>i.clientForm.stateId=d),class:"w-full mt-1 px-4 py-2 border rounded-md"},[t[53]||(t[53]=u("option",{disabled:"",value:""},"Selecione",-1)),(_(!0),k(J,null,pt(i.states,d=>(_(),k("option",{key:d.id,value:d.id},P(d.nome)+" ("+P(d.sigla)+")",9,mS))),128))],512),[[Me,i.clientForm.stateId]])]),u("div",null,[t[56]||(t[56]=u("label",{class:"block text-sm font-medium text-gray-700"},"Cidade",-1)),O(u("select",{"onUpdate:modelValue":t[18]||(t[18]=d=>i.clientForm.cityId=d),class:"w-full mt-1 px-4 py-2 border rounded-md"},[t[55]||(t[55]=u("option",{disabled:"",value:""},"Selecione",-1)),(_(!0),k(J,null,pt(i.cities,d=>(_(),k("option",{key:d.id,value:d.id},P(d.nome),9,gS))),128))],512),[[Me,i.clientForm.cityId]])]),u("div",bS,[u("button",{type:"button",onClick:t[19]||(t[19]=d=>i.showClientModal=!1),class:"px-4 py-2 rounded border"},"Cancelar"),t[57]||(t[57]=u("button",{type:"submit",class:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700"},"Salvar",-1))])],32)]),_:1,__:[58]})):W("",!0),i.showAppointmentModal?(_(),de(c,{key:2,onClose:t[30]||(t[30]=d=>i.showAppointmentModal=!1)},{default:st(()=>[t[68]||(t[68]=u("h3",{class:"text-lg font-semibold mb-4"},"Adicionar Agendamento",-1)),u("form",{onSubmit:t[29]||(t[29]=ie((...d)=>o.handleAddAppointment&&o.handleAddAppointment(...d),["prevent"])),class:"space-y-4"},[u("div",null,[t[59]||(t[59]=u("label",{class:"block text-sm font-medium text-gray-700"},"Data",-1)),O(u("input",{type:"date","onUpdate:modelValue":t[22]||(t[22]=d=>i.appointmentForm.date=d),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.appointmentForm.date]])]),u("div",null,[t[60]||(t[60]=u("label",{class:"block text-sm font-medium text-gray-700"},"Hora",-1)),O(u("input",{type:"time","onUpdate:modelValue":t[23]||(t[23]=d=>i.appointmentForm.time=d),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.appointmentForm.time]])]),u("div",null,[t[62]||(t[62]=u("label",{class:"block text-sm font-medium text-gray-700"},"Cliente",-1)),O(u("select",{"onUpdate:modelValue":t[24]||(t[24]=d=>i.appointmentForm.clientId=d),class:"w-full mt-1 px-4 py-2 border rounded-md"},[t[61]||(t[61]=u("option",{disabled:"",value:""},"Selecione um cliente",-1)),(_(!0),k(J,null,pt(i.clients,d=>(_(),k("option",{key:d.id,value:d.id},P(d.name),9,yS))),128))],512),[[Me,i.appointmentForm.clientId]])]),u("div",null,[t[64]||(t[64]=u("label",{class:"block text-sm font-medium text-gray-700"},"Servio",-1)),O(u("select",{"onUpdate:modelValue":t[25]||(t[25]=d=>i.appointmentForm.serviceId=d),class:"w-full mt-1 px-4 py-2 border rounded-md"},[t[63]||(t[63]=u("option",{disabled:"",value:""},"Selecione um servio",-1)),(_(!0),k(J,null,pt(i.services,d=>(_(),k("option",{key:d.id,value:d.id},P(d.name),9,xS))),128))],512),[[Me,i.appointmentForm.serviceId]])]),u("div",null,[t[65]||(t[65]=u("label",{class:"block text-sm font-medium text-gray-700"},"Durao (minutos)",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[26]||(t[26]=d=>i.appointmentForm.duration=d),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.appointmentForm.duration]])]),u("div",null,[t[66]||(t[66]=u("label",{class:"block text-sm font-medium text-gray-700"},"Descrio",-1)),O(u("textarea",{"onUpdate:modelValue":t[27]||(t[27]=d=>i.appointmentForm.description=d),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.appointmentForm.description]])]),u("div",vS,[u("button",{type:"button",onClick:t[28]||(t[28]=d=>i.showAppointmentModal=!1),class:"px-4 py-2 rounded border"},"Cancelar"),t[67]||(t[67]=u("button",{type:"submit",class:"btn"},"Salvar",-1))])],32)]),_:1,__:[68]})):W("",!0),i.showDetailsModal?(_(),de(c,{key:3,onClose:o.closeDetails},{default:st(()=>[t[75]||(t[75]=u("h3",{class:"text-lg font-semibold mb-4"},"Detalhes do Agendamento",-1)),i.selectedAppointment?(_(),k("div",_S,[u("p",null,[t[69]||(t[69]=u("strong",null,"Data:",-1)),tt(" "+P(i.selectedAppointment.date),1)]),u("p",null,[t[70]||(t[70]=u("strong",null,"Hora:",-1)),tt(" "+P(i.selectedAppointment.time),1)]),u("p",null,[t[71]||(t[71]=u("strong",null,"Cliente:",-1)),tt(" "+P(o.getClientName(i.selectedAppointment.client_id)),1)]),u("p",null,[t[72]||(t[72]=u("strong",null,"Servio:",-1)),tt(" "+P(o.getServiceName(i.selectedAppointment.service_id)),1)]),u("p",null,[t[73]||(t[73]=u("strong",null,"Durao:",-1)),tt(" "+P(i.selectedAppointment.duration),1)]),u("p",null,[t[74]||(t[74]=u("strong",null,"Descrio:",-1)),tt(" "+P(i.selectedAppointment.description),1)])])):W("",!0),u("div",wS,[u("button",{onClick:t[31]||(t[31]=d=>o.handleDeleteAppointment(i.selectedAppointment.id)),class:"btn btn-danger"},"Excluir"),u("button",{onClick:t[32]||(t[32]=(...d)=>o.closeDetails&&o.closeDetails(...d)),class:"px-4 py-2 rounded border"},"Fechar")])]),_:1,__:[75]},8,["onClose"])):W("",!0)])])}const SS=mt(H2,[["render",kS]]),CS={name:"Configuracao",components:{Sidebar:Ae,HeaderUser:Pe},data(){return{userId:null,sidebarOpen:window.innerWidth>=768,slug:"",activeTab:"perfil",form:{businessName:"",description:"",areaAtuacao:"",phone:"",whatsapp:"",email:"",address:"",instagram:"",facebook:"",youtube:"",x:"",imageUrl:""},agenda:{dailySchedule:{0:{enabled:!1,start:"",end:""},1:{enabled:!1,start:"",end:""},2:{enabled:!1,start:"",end:""},3:{enabled:!1,start:"",end:""},4:{enabled:!1,start:"",end:""},5:{enabled:!1,start:"",end:""},6:{enabled:!1,start:"",end:""}}},daysOfWeekOptions:[{value:"0",label:"Domingo"},{value:"1",label:"Segunda"},{value:"2",label:"Tera"},{value:"3",label:"Quarta"},{value:"4",label:"Quinta"},{value:"5",label:"Sexta"},{value:"6",label:"Sbado"}]}},methods:{phoneMask:vr,updateSlug(){this.slug=this.form.businessName.toLowerCase().normalize("NFD").replace(/\p{Diacritic}/gu,"").replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")},async handleSave(){if(this.form.email&&!ss(this.form.email)){alert("E-mail invlido");return}const e={id:this.userId,business_name:this.form.businessName,slug:this.slug,description:this.form.description,area_atuacao:this.form.areaAtuacao,phone:this.form.phone,whatsapp:this.form.whatsapp,email:this.form.email,address:this.form.address,instagram:this.form.instagram,facebook:this.form.facebook,youtube:this.form.youtube,x:this.form.x,image_url:this.form.imageUrl},{error:t}=await N.from("profiles").upsert(e,{onConflict:["id"]});alert(t?"Erro ao salvar dados: "+t.message:"Dados salvos com sucesso!")},async handleImageUpload(e){const t=e.target.files[0];if(!t)return;const s=t.name.split(".").pop(),n=`${this.userId}.${s}`,{error:i}=await N.storage.from("profile-images").upload(n,t,{upsert:!0});if(i){alert("Erro ao enviar imagem: "+i.message);return}const{data:{publicUrl:o}}=N.storage.from("profile-images").getPublicUrl(n);this.form.imageUrl=o},async handleSaveAgenda(){const e={start:null,end:null,days:[]};for(const[n,i]of Object.entries(this.agenda.dailySchedule))i.enabled&&i.start&&i.end&&(e.days.push(n),(!e.start||i.start<e.start)&&(e.start=i.start),(!e.end||i.end>e.end)&&(e.end=i.end));const t={id:this.userId,start_time:e.start,end_time:e.end,week_days:e.days.join(","),daily_schedule:this.agenda.dailySchedule},{error:s}=await N.from("profiles").upsert(t,{onConflict:["id"]});alert(s?"Erro ao salvar dados: "+s.message:"Dados salvos com sucesso!")}},async mounted(){const{data:{user:e}}=await N.auth.getUser();if(!e){this.$router.push("/login");return}this.userId=e.id;const{data:t,error:s}=await N.from("profiles").select().eq("id",this.userId).single();if(t){if(this.form={businessName:t.business_name||"",description:t.description||"",areaAtuacao:t.area_atuacao||"",phone:t.phone||"",whatsapp:t.whatsapp||"",email:t.email||"",address:t.address||"",instagram:t.instagram||"",facebook:t.facebook||"",youtube:t.youtube||"",x:t.x||"",imageUrl:t.image_url||""},this.agenda={dailySchedule:{0:{enabled:!1,start:"",end:""},1:{enabled:!1,start:"",end:""},2:{enabled:!1,start:"",end:""},3:{enabled:!1,start:"",end:""},4:{enabled:!1,start:"",end:""},5:{enabled:!1,start:"",end:""},6:{enabled:!1,start:"",end:""}}},t.daily_schedule)Object.assign(this.agenda.dailySchedule,typeof t.daily_schedule=="string"?JSON.parse(t.daily_schedule):t.daily_schedule);else{const n=t.week_days?t.week_days.split(","):[];for(const i of n)this.agenda.dailySchedule[i]={enabled:!0,start:t.start_time||"",end:t.end_time||""}}this.updateSlug()}}},MS={class:"min-h-screen flex bg-gray-100 relative"},AS={class:"flex-1 p-8"},PS={key:0,class:"flex items-center mb-4"},TS={class:"mb-6 space-x-2"},OS={class:"text-sm text-gray-500 mt-1"},ES={class:"font-mono"},DS=["href"],IS={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},RS={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},LS={key:0,class:"mt-2"},FS=["src"],jS={class:"mt-1 space-y-2"},US=["onUpdate:modelValue"],NS={class:"w-20"},$S=["onUpdate:modelValue"],BS=["onUpdate:modelValue"];function VS(e,t,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser"),l=H("router-link");return _(),k("div",MS,[D(r,{"is-open":i.sidebarOpen,onClose:t[0]||(t[0]=c=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",AS,[i.sidebarOpen?W("",!0):(_(),k("div",PS,[u("button",{onClick:t[1]||(t[1]=c=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},t[21]||(t[21]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),D(a,{title:"Configuraes"}),D(l,{to:"/onboarding",class:"text-blue-600 underline mb-4 inline-block"},{default:st(()=>t[22]||(t[22]=[tt("Refazer Onboarding")])),_:1,__:[22]}),u("nav",TS,[u("button",{onClick:t[2]||(t[2]=c=>i.activeTab="perfil"),class:be([i.activeTab==="perfil"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700","px-4 py-2 rounded-l"])},"Perfil",2),u("button",{onClick:t[3]||(t[3]=c=>i.activeTab="agenda"),class:be([i.activeTab==="agenda"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700","px-4 py-2 rounded-r"])},"Agenda",2)]),i.activeTab==="perfil"?(_(),k("form",{key:1,onSubmit:t[19]||(t[19]=ie((...c)=>o.handleSave&&o.handleSave(...c),["prevent"])),class:"space-y-6 max-w-3xl"},[u("div",null,[t[24]||(t[24]=u("label",{class:"block text-sm font-medium text-gray-700"},"Nome Comercial",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=c=>i.form.businessName=c),onInput:t[5]||(t[5]=(...c)=>o.updateSlug&&o.updateSlug(...c)),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,544),[[j,i.form.businessName]]),u("p",OS,[t[23]||(t[23]=tt(" Seu link pblico: ")),u("span",ES,"#/"+P(i.slug),1),u("a",{href:"#/"+i.slug,target:"_blank",class:"text-blue-600 hover:underline ml-2"},"Abrir pgina do cliente",8,DS)])]),u("div",null,[t[25]||(t[25]=u("label",{class:"block text-sm font-medium text-gray-700"},"Descrio do Estabelecimento",-1)),O(u("textarea",{"onUpdate:modelValue":t[6]||(t[6]=c=>i.form.description=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.form.description]])]),u("div",null,[t[27]||(t[27]=u("label",{class:"block text-sm font-medium text-gray-700"},"rea de Atuao",-1)),O(u("select",{"onUpdate:modelValue":t[7]||(t[7]=c=>i.form.areaAtuacao=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},t[26]||(t[26]=[ln('<option disabled value="">Selecione</option><option>Psicologia</option><option>Terapias Gerais</option><option>Psicopedagogia</option><option>Medicina</option><option>Coaching</option><option>Fonoaudiologia</option><option>Fisioterapia</option><option>Nutrio</option><option>Terapia Ocupacional</option>',10)]),512),[[Me,i.form.areaAtuacao]])]),u("div",IS,[u("div",null,[t[28]||(t[28]=u("label",{class:"block text-sm font-medium text-gray-700"},"Telefone de Contato",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=c=>i.form.phone=c),onInput:t[9]||(t[9]=c=>i.form.phone=o.phoneMask(i.form.phone)),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,544),[[j,i.form.phone]])]),u("div",null,[t[29]||(t[29]=u("label",{class:"block text-sm font-medium text-gray-700"},"WhatsApp",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[10]||(t[10]=c=>i.form.whatsapp=c),onInput:t[11]||(t[11]=c=>i.form.whatsapp=o.phoneMask(i.form.whatsapp)),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,544),[[j,i.form.whatsapp]])]),u("div",null,[t[30]||(t[30]=u("label",{class:"block text-sm font-medium text-gray-700"},"E-mail",-1)),O(u("input",{type:"email","onUpdate:modelValue":t[12]||(t[12]=c=>i.form.email=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.form.email]])]),u("div",null,[t[31]||(t[31]=u("label",{class:"block text-sm font-medium text-gray-700"},"Endereo",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[13]||(t[13]=c=>i.form.address=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.form.address]])])]),u("div",RS,[u("div",null,[t[32]||(t[32]=u("label",{class:"block text-sm font-medium text-gray-700"},"Instagram",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[14]||(t[14]=c=>i.form.instagram=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.form.instagram]])]),u("div",null,[t[33]||(t[33]=u("label",{class:"block text-sm font-medium text-gray-700"},"Facebook",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[15]||(t[15]=c=>i.form.facebook=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.form.facebook]])]),u("div",null,[t[34]||(t[34]=u("label",{class:"block text-sm font-medium text-gray-700"},"YouTube",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[16]||(t[16]=c=>i.form.youtube=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.form.youtube]])]),u("div",null,[t[35]||(t[35]=u("label",{class:"block text-sm font-medium text-gray-700"},"X (Twitter)",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[17]||(t[17]=c=>i.form.x=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.form.x]])])]),u("div",null,[t[36]||(t[36]=u("label",{class:"block text-sm font-medium text-gray-700"},"Imagem do Estabelecimento",-1)),u("input",{type:"file",accept:"image/*",onChange:t[18]||(t[18]=(...c)=>o.handleImageUpload&&o.handleImageUpload(...c)),class:"mt-1"},null,32),i.form.imageUrl?(_(),k("div",LS,[u("img",{src:i.form.imageUrl,alt:"Imagem do estabelecimento",class:"h-24 rounded-md"},null,8,FS)])):W("",!0)]),t[37]||(t[37]=u("div",null,[u("button",{type:"submit",class:"btn"},"Salvar")],-1))],32)):W("",!0),i.activeTab==="agenda"?(_(),k("form",{key:2,onSubmit:t[20]||(t[20]=ie((...c)=>o.handleSaveAgenda&&o.handleSaveAgenda(...c),["prevent"])),class:"space-y-6 max-w-3xl"},[u("div",null,[t[39]||(t[39]=u("label",{class:"block text-sm font-medium text-gray-700"},"Horrios por dia",-1)),u("div",jS,[(_(!0),k(J,null,pt(i.daysOfWeekOptions,c=>(_(),k("div",{key:c.value,class:"flex items-center space-x-2"},[O(u("input",{type:"checkbox","onUpdate:modelValue":d=>i.agenda.dailySchedule[c.value].enabled=d},null,8,US),[[ll,i.agenda.dailySchedule[c.value].enabled]]),u("span",NS,P(c.label),1),O(u("input",{type:"time","onUpdate:modelValue":d=>i.agenda.dailySchedule[c.value].start=d,class:"border rounded-md px-2 py-1"},null,8,$S),[[j,i.agenda.dailySchedule[c.value].start]]),t[38]||(t[38]=u("span",null,"-",-1)),O(u("input",{type:"time","onUpdate:modelValue":d=>i.agenda.dailySchedule[c.value].end=d,class:"border rounded-md px-2 py-1"},null,8,BS),[[j,i.agenda.dailySchedule[c.value].end]])]))),128))])]),t[40]||(t[40]=u("div",null,[u("button",{type:"submit",class:"btn"},"Salvar")],-1))],32)):W("",!0)])])}const zS=mt(CS,[["render",VS]]),HS={name:"Clientes",components:{Sidebar:Ae,HeaderUser:Pe,Modal:zs},data(){return{userId:null,showModal:!1,modalMode:"new",editingId:null,search:"",form:{name:"",email:"",phone:"",birthdate:"",cpf:"",cep:"",street:"",number:"",complement:"",neighborhood:"",stateId:"",cityId:""},states:[],cities:[],clients:[],sidebarOpen:window.innerWidth>=768,page:1,pageSize:10}},methods:{phoneMask:vr,digitsOnly:Ma,cpfMask:nf,cepMask:of,async fetchStatesList(){this.states=await ip()},async fetchCitiesList(){this.cities=await op(this.form.stateId)},async openModal(e,t="new"){this.modalMode=t,e?(this.editingId=e.id,this.form={name:e.name,email:e.email,phone:e.phone,birthdate:e.birthdate,cpf:e.cpf,cep:e.cep,street:e.street,number:e.number,complement:e.complement,neighborhood:e.neighborhood,stateId:e.state_id,cityId:e.city_id}):(this.editingId=null,this.form={name:"",email:"",phone:"",birthdate:"",cpf:"",cep:"",street:"",number:"",complement:"",neighborhood:"",stateId:"",cityId:""}),await this.fetchStatesList(),this.form.stateId&&await this.fetchCitiesList(),this.showModal=!0},closeModal(){this.showModal=!1,this.modalMode="new",this.editingId=null,this.form={name:"",email:"",phone:"",birthdate:"",cpf:"",cep:"",street:"",number:"",complement:"",neighborhood:"",stateId:"",cityId:""}},handleClose(){this.modalMode==="view"?this.closeModal():confirm("Tem certeza? Os dados no foram salvos e sero perdidos.")&&this.closeModal()},whatsappLink(e){return`https://wa.me/${Ma(e)}`},async handleSaveClient(){if(this.form.email&&!ss(this.form.email)){alert("E-mail invlido");return}let e,t;if(this.editingId?{data:e,error:t}=await N.from("clients").update({name:this.form.name,email:this.form.email,phone:this.form.phone,birthdate:this.form.birthdate,cpf:this.form.cpf,cep:this.form.cep,street:this.form.street,number:this.form.number,complement:this.form.complement,neighborhood:this.form.neighborhood,state_id:this.form.stateId,city_id:this.form.cityId}).eq("id",this.editingId).select().single():{data:e,error:t}=await N.from("clients").insert({name:this.form.name,email:this.form.email,phone:this.form.phone,birthdate:this.form.birthdate,cpf:this.form.cpf,cep:this.form.cep,street:this.form.street,number:this.form.number,complement:this.form.complement,neighborhood:this.form.neighborhood,state_id:this.form.stateId,city_id:this.form.cityId,user_id:this.userId}).select().single(),t)alert("Erro ao salvar cliente: "+t.message);else{if(this.editingId){const s=this.clients.findIndex(n=>n.id===this.editingId);s!==-1&&(this.clients[s]=e)}else this.clients.push(e);this.closeModal()}},async handleDeleteClient(e){if(!confirm("Tem certeza que deseja excluir este cliente?"))return;const{error:s}=await N.from("clients").delete().eq("id",e);s?alert("Erro ao excluir cliente: "+s.message):this.clients=this.clients.filter(n=>n.id!==e)},enableEdit(){this.modalMode="edit"},nextPage(){this.page<this.totalPages&&this.page++},prevPage(){this.page>1&&this.page--}},computed:{isReadOnly(){return this.modalMode==="view"},filteredClients(){const e=this.search.toLowerCase();return this.clients.filter(t=>t.name.toLowerCase().includes(e)||t.email.toLowerCase().includes(e)||t.phone.toLowerCase().includes(e))},paginatedClients(){const e=(this.page-1)*this.pageSize;return this.filteredClients.slice(e,e+this.pageSize)},totalPages(){return Math.max(1,Math.ceil(this.filteredClients.length/this.pageSize))}},watch:{search(){this.page=1},"form.stateId"(){this.fetchCitiesList()}},async mounted(){const{data:{user:e}}=await N.auth.getUser();if(!e){this.$router.push("/login");return}this.userId=e.id;const{data:t}=await N.from("clients").select().eq("user_id",this.userId);t&&(this.clients=t),await this.fetchStatesList()}},WS={class:"min-h-screen flex bg-gray-100 relative"},qS={class:"flex-1 p-4 md:p-8 space-y-6"},KS={key:0,class:"flex items-center mb-4"},GS={class:"bg-white p-4 rounded-lg shadow"},YS={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 space-y-4 sm:space-y-0"},JS={class:"flex flex-col sm:flex-row items-stretch sm:items-center w-full sm:w-auto space-y-2 sm:space-y-0 sm:space-x-3"},XS={class:"overflow-x-auto"},QS={class:"min-w-full text-left"},ZS={class:"px-4 py-2"},tC={class:"px-4 py-2"},eC={class:"px-4 py-2"},sC={class:"px-4 py-2 text-right space-x-2"},nC=["href"],iC=["onClick"],oC=["onClick"],rC={key:0},aC={class:"mt-4 flex justify-between items-center"},lC=["disabled"],cC={class:"text-sm"},dC=["disabled"],uC={class:"text-lg font-semibold mb-4"},hC=["disabled"],fC=["disabled"],pC=["disabled"],mC=["disabled"],gC=["disabled"],bC=["disabled"],yC=["disabled"],xC=["disabled"],vC=["disabled"],_C=["disabled"],wC=["disabled"],kC=["value"],SC=["disabled"],CC=["value"],MC={class:"flex justify-end space-x-2 md:col-span-2"},AC=["disabled"];function PC(e,t,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser"),l=H("Modal");return _(),k("div",WS,[D(r,{"is-open":i.sidebarOpen,onClose:t[0]||(t[0]=c=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",qS,[i.sidebarOpen?W("",!0):(_(),k("div",KS,[u("button",{onClick:t[1]||(t[1]=c=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},t[24]||(t[24]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),D(a,{title:"Clientes"}),u("section",GS,[u("div",YS,[t[25]||(t[25]=u("h3",{class:"text-lg font-medium"},"Clientes cadastrados",-1)),u("div",JS,[O(u("input",{"onUpdate:modelValue":t[2]||(t[2]=c=>i.search=c),type:"text",placeholder:"Buscar...",class:"border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 w-full sm:w-64"},null,512),[[j,i.search]]),u("button",{onClick:t[3]||(t[3]=(...c)=>o.openModal&&o.openModal(...c)),class:"btn w-full sm:w-auto"}," Novo Cliente ")])]),u("div",XS,[u("table",QS,[t[27]||(t[27]=u("thead",{class:"bg-gray-50"},[u("tr",null,[u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Nome"),u("th",{class:"px-4 py-2 font-medium text-gray-700"},"E-mail"),u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Telefone"),u("th",{class:"px-4 py-2"})])],-1)),u("tbody",null,[(_(!0),k(J,null,pt(o.paginatedClients,c=>(_(),k("tr",{key:c.id,class:"border-b last:border-b-0"},[u("td",ZS,P(c.name),1),u("td",tC,P(c.email),1),u("td",eC,P(o.phoneMask(c.phone)),1),u("td",sC,[u("a",{href:o.whatsappLink(c.phone),target:"_blank",rel:"noopener",class:"btn btn-sm btn-success"}," WhatsApp ",8,nC),u("button",{onClick:d=>o.openModal(c,"view"),class:"btn btn-sm"}," Visualizar ",8,iC),u("button",{onClick:d=>o.handleDeleteClient(c.id),class:"btn btn-sm btn-danger"}," Excluir ",8,oC)])]))),128)),o.filteredClients.length===0?(_(),k("tr",rC,t[26]||(t[26]=[u("td",{colspan:"4",class:"px-4 py-6 text-center text-gray-500"}," Nenhum cliente encontrado ",-1)]))):W("",!0)])]),u("div",aC,[u("button",{class:"px-3 py-1 border rounded",onClick:t[4]||(t[4]=(...c)=>o.prevPage&&o.prevPage(...c)),disabled:i.page===1}," Anterior ",8,lC),u("span",cC,"Pgina "+P(i.page)+" de "+P(o.totalPages),1),u("button",{class:"px-3 py-1 border rounded",onClick:t[5]||(t[5]=(...c)=>o.nextPage&&o.nextPage(...c)),disabled:i.page===o.totalPages}," Prxima ",8,dC)])])]),i.showModal?(_(),de(l,{key:1,onClose:o.handleClose},{default:st(()=>[u("h3",uC,P(i.modalMode==="new"?"Adicionar Cliente":"Cadastro do Cliente"),1),u("form",{onSubmit:t[23]||(t[23]=ie((...c)=>o.handleSaveClient&&o.handleSaveClient(...c),["prevent"])),class:"grid grid-cols-1 md:grid-cols-2 gap-4"},[u("div",null,[t[28]||(t[28]=u("label",{class:"block text-sm font-medium text-gray-700"},"Nome",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=c=>i.form.name=c),disabled:o.isReadOnly,class:"w-full mt-1 px-4 py-2 border rounded-md"},null,8,hC),[[j,i.form.name]])]),u("div",null,[t[29]||(t[29]=u("label",{class:"block text-sm font-medium text-gray-700"},"CPF",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=c=>i.form.cpf=c),disabled:o.isReadOnly,onInput:t[8]||(t[8]=c=>i.form.cpf=o.cpfMask(i.form.cpf)),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,40,fC),[[j,i.form.cpf]])]),u("div",null,[t[30]||(t[30]=u("label",{class:"block text-sm font-medium text-gray-700"},"Data de nascimento",-1)),O(u("input",{type:"date","onUpdate:modelValue":t[9]||(t[9]=c=>i.form.birthdate=c),disabled:o.isReadOnly,class:"w-full mt-1 px-4 py-2 border rounded-md"},null,8,pC),[[j,i.form.birthdate]])]),u("div",null,[t[31]||(t[31]=u("label",{class:"block text-sm font-medium text-gray-700"},"E-mail",-1)),O(u("input",{type:"email","onUpdate:modelValue":t[10]||(t[10]=c=>i.form.email=c),disabled:o.isReadOnly,class:"w-full mt-1 px-4 py-2 border rounded-md"},null,8,mC),[[j,i.form.email]])]),u("div",null,[t[32]||(t[32]=u("label",{class:"block text-sm font-medium text-gray-700"},"Telefone",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[11]||(t[11]=c=>i.form.phone=c),disabled:o.isReadOnly,onInput:t[12]||(t[12]=c=>i.form.phone=o.phoneMask(i.form.phone)),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,40,gC),[[j,i.form.phone]])]),u("div",null,[t[33]||(t[33]=u("label",{class:"block text-sm font-medium text-gray-700"},"CEP",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[13]||(t[13]=c=>i.form.cep=c),disabled:o.isReadOnly,onInput:t[14]||(t[14]=c=>i.form.cep=o.cepMask(i.form.cep)),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,40,bC),[[j,i.form.cep]])]),u("div",null,[t[34]||(t[34]=u("label",{class:"block text-sm font-medium text-gray-700"},"Endereo",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[15]||(t[15]=c=>i.form.street=c),disabled:o.isReadOnly,class:"w-full mt-1 px-4 py-2 border rounded-md"},null,8,yC),[[j,i.form.street]])]),u("div",null,[t[35]||(t[35]=u("label",{class:"block text-sm font-medium text-gray-700"},"Nmero",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[16]||(t[16]=c=>i.form.number=c),disabled:o.isReadOnly,class:"w-full mt-1 px-4 py-2 border rounded-md"},null,8,xC),[[j,i.form.number]])]),u("div",null,[t[36]||(t[36]=u("label",{class:"block text-sm font-medium text-gray-700"},"Complemento",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[17]||(t[17]=c=>i.form.complement=c),disabled:o.isReadOnly,class:"w-full mt-1 px-4 py-2 border rounded-md"},null,8,vC),[[j,i.form.complement]])]),u("div",null,[t[37]||(t[37]=u("label",{class:"block text-sm font-medium text-gray-700"},"Bairro",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[18]||(t[18]=c=>i.form.neighborhood=c),disabled:o.isReadOnly,class:"w-full mt-1 px-4 py-2 border rounded-md"},null,8,_C),[[j,i.form.neighborhood]])]),u("div",null,[t[39]||(t[39]=u("label",{class:"block text-sm font-medium text-gray-700"},"Estado",-1)),O(u("select",{"onUpdate:modelValue":t[19]||(t[19]=c=>i.form.stateId=c),disabled:o.isReadOnly,class:"w-full mt-1 px-4 py-2 border rounded-md"},[t[38]||(t[38]=u("option",{disabled:"",value:""},"Selecione",-1)),(_(!0),k(J,null,pt(i.states,c=>(_(),k("option",{key:c.id,value:c.id},P(c.nome)+" ("+P(c.sigla)+")",9,kC))),128))],8,wC),[[Me,i.form.stateId]])]),u("div",null,[t[41]||(t[41]=u("label",{class:"block text-sm font-medium text-gray-700"},"Cidade",-1)),O(u("select",{"onUpdate:modelValue":t[20]||(t[20]=c=>i.form.cityId=c),disabled:o.isReadOnly,class:"w-full mt-1 px-4 py-2 border rounded-md"},[t[40]||(t[40]=u("option",{disabled:"",value:""},"Selecione",-1)),(_(!0),k(J,null,pt(i.cities,c=>(_(),k("option",{key:c.id,value:c.id},P(c.nome),9,CC))),128))],8,SC),[[Me,i.form.cityId]])]),u("div",MC,[u("button",{type:"button",onClick:t[21]||(t[21]=(...c)=>o.handleClose&&o.handleClose(...c)),class:"px-4 py-2 rounded border"},"Fechar"),i.modalMode==="view"?(_(),k("button",{key:0,type:"button",onClick:t[22]||(t[22]=(...c)=>o.enableEdit&&o.enableEdit(...c)),class:"btn btn-success"},"Editar")):W("",!0),u("button",{type:"submit",class:"btn",disabled:o.isReadOnly},"Salvar",8,AC)])],32)]),_:1},8,["onClose"])):W("",!0)])])}const TC=mt(HS,[["render",PC]]),OC={name:"CalendarView",props:{appointments:{type:Array,required:!0},getClientName:{type:Function,required:!0}},data(){const e=new Date;return{currentYear:e.getFullYear(),currentMonth:e.getMonth(),monthNames:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],daysOfWeek:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"]}},computed:{daysInMonth(){return new Date(this.currentYear,this.currentMonth+1,0).getDate()},leadingBlanks(){return new Date(this.currentYear,this.currentMonth,1).getDay()}},methods:{prevMonth(){this.currentMonth===0?(this.currentMonth=11,this.currentYear--):this.currentMonth--},nextMonth(){this.currentMonth===11?(this.currentMonth=0,this.currentYear++):this.currentMonth++},goToCurrentMonth(){const e=new Date;this.currentYear=e.getFullYear(),this.currentMonth=e.getMonth()},getAppointmentsForDay(e){const t=String(this.currentMonth+1).padStart(2,"0"),s=String(e).padStart(2,"0"),n=`${this.currentYear}-${t}-${s}`;return this.appointments.filter(i=>i.date===n)},isToday(e){const t=new Date;return this.currentYear===t.getFullYear()&&this.currentMonth===t.getMonth()&&e===t.getDate()}}},EC={class:"bg-white rounded-lg shadow overflow-hidden"},DC={class:"flex justify-between items-center px-4 py-2 border-b bg-gray-50"},IC={class:"font-semibold"},RC={class:"grid grid-cols-7 gap-px text-sm bg-gray-100"},LC={class:"text-center font-medium"},FC=["onClick"];function jC(e,t,s,n,i,o){return _(),k("div",EC,[u("div",DC,[u("button",{onClick:t[0]||(t[0]=(...r)=>o.prevMonth&&o.prevMonth(...r)),class:"p-1 rounded hover:bg-gray-200"},t[2]||(t[2]=[u("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),u("div",IC,P(i.monthNames[i.currentMonth])+" "+P(i.currentYear),1),u("button",{onClick:t[1]||(t[1]=(...r)=>o.nextMonth&&o.nextMonth(...r)),class:"p-1 rounded hover:bg-gray-200"},t[3]||(t[3]=[u("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))]),u("div",RC,[(_(!0),k(J,null,pt(i.daysOfWeek,r=>(_(),k("div",{class:"font-semibold text-center bg-gray-50 p-1",key:r},P(r),1))),128)),(_(!0),k(J,null,pt(o.leadingBlanks,r=>(_(),k("div",{key:"b"+r,class:"bg-white h-24"}))),128)),(_(!0),k(J,null,pt(o.daysInMonth,r=>(_(),k("div",{key:r,class:be(["border border-gray-200 h-24 p-1 overflow-auto bg-white",{"bg-blue-50 border-l-4 border-blue-500":o.isToday(r)}])},[u("div",LC,P(r),1),u("ul",null,[(_(!0),k(J,null,pt(o.getAppointmentsForDay(r),a=>(_(),k("li",{key:a.id,class:"text-xs truncate cursor-pointer",onClick:l=>e.$emit("select",a)},P(a.time)+" - "+P(s.getClientName(a.client_id)),9,FC))),128))])],2))),128))])])}const UC=mt(OC,[["render",jC]]);async function hu(e){const{error:t}=await N.functions.invoke("send-appointment-email",{body:e});t&&console.error("Erro ao enviar email de agendamento:",t.message)}const NC={name:"Agendamentos",components:{Sidebar:Ae,HeaderUser:Pe,Modal:zs,CalendarView:UC,WeekView:rf},data(){return{userId:null,showModal:!1,editingId:null,viewMode:"week",form:{date:"",time:"",clientId:"",serviceId:"",roomId:"",duration:"",description:""},clients:[],services:[],rooms:[],appointments:[],selectedAppointment:null,showDetailsModal:!1,filterStartDate:"",filterEndDate:"",searchQuery:"",sortColumn:"",sortAsc:!0,showViewDropdown:!1,sidebarOpen:window.innerWidth>=768,schedule:{startTime:"",endTime:"",weekDays:[],dailySchedule:null},profileWhatsapp:""}},computed:{processedAppointments(){let e=this.appointments.slice();if(this.searchQuery){const t=this.searchQuery.toLowerCase();e=e.filter(s=>s.date.toLowerCase().includes(t)||s.time.toLowerCase().includes(t)||this.getClientName(s.client_id).toLowerCase().includes(t)||this.getServiceName(s.service_id).toLowerCase().includes(t)||s.description&&s.description.toLowerCase().includes(t))}return this.filterStartDate&&(e=e.filter(t=>t.date>=this.filterStartDate)),this.filterEndDate&&(e=e.filter(t=>t.date<=this.filterEndDate)),this.sortColumn&&e.sort((t,s)=>{let n,i;switch(this.sortColumn){case"client":n=this.getClientName(t.client_id),i=this.getClientName(s.client_id);break;case"service":n=this.getServiceName(t.service_id),i=this.getServiceName(s.service_id);break;case"datetime":n=t.date+" "+t.time,i=s.date+" "+s.time;break;default:n=t[this.sortColumn],i=s[this.sortColumn]}return n<i?this.sortAsc?-1:1:n>i?this.sortAsc?1:-1:0}),e}},methods:{openModal(e){e?(this.editingId=e.id,this.form={date:e.date,time:e.time,clientId:e.client_id,serviceId:e.service_id,roomId:e.room_id||"",duration:e.duration,description:e.description}):(this.editingId=null,this.form={date:"",time:"",clientId:"",serviceId:"",roomId:"",duration:"",description:""}),this.showModal=!0},closeModal(){this.showModal=!1,this.form={date:"",time:"",clientId:"",serviceId:"",roomId:"",duration:"",description:""},this.editingId=null},editFromDetails(){this.selectedAppointment&&(this.openModal(this.selectedAppointment),this.closeDetails())},closeDetails(){this.showDetailsModal=!1,this.selectedAppointment=null},isSlotAllowed(e,t){if(!e||!t)return!1;const s=new Date(e+"T12:00:00").getDay().toString();if(this.schedule.dailySchedule){const n=this.schedule.dailySchedule[s];return!n||!n.enabled||!n.start||!n.end?!1:t>=n.start&&t<=n.end}return!(this.schedule.weekDays.length&&(!this.schedule.weekDays.includes(s)||this.schedule.startTime&&t<this.schedule.startTime||this.schedule.endTime&&t>this.schedule.endTime))},async handleSaveAppointment(){if(!this.isSlotAllowed(this.form.date,this.form.time)){alert("Horrio fora do horrio de trabalho configurado");return}if(this.editingId){const{data:e,error:t}=await N.from("appointments").update({date:this.form.date,time:this.form.time,client_id:this.form.clientId,service_id:this.form.serviceId,room_id:this.form.roomId||null,duration:this.form.duration,description:this.form.description}).eq("id",this.editingId).select().single();if(t)alert("Erro ao atualizar agendamento: "+t.message);else{const s=this.appointments.findIndex(n=>n.id===this.editingId);s!==-1&&(this.appointments[s]=e),this.closeModal()}}else{const{data:e,error:t}=await N.from("appointments").insert({date:this.form.date,time:this.form.time,client_id:this.form.clientId,service_id:this.form.serviceId,room_id:this.form.roomId||null,duration:this.form.duration,description:this.form.description,user_id:this.userId}).select().single();if(t)alert("Erro ao salvar agendamento: "+t.message);else{this.appointments.push(e);const s=this.clients.find(o=>o.id===this.form.clientId),n=this.services.find(o=>o.id===this.form.serviceId),i=this.rooms.find(o=>o.id===this.form.roomId);await hu({to:s==null?void 0:s.email,subject:`Agendamento confirmado para ${this.form.date} s ${this.form.time}`,text:`Ol ${s==null?void 0:s.name},

Seu agendamento para ${n==null?void 0:n.name} foi confirmado para ${this.form.date} s ${this.form.time}.
${i?`Sala: ${i.name}
`:""}${i!=null&&i.google_meet_link?`Link: ${i.google_meet_link}
`:""}${this.form.description?`Observaes: ${this.form.description}`:""}`}),this.closeModal()}}},async handleDeleteAppointment(e){if(!confirm("Tem certeza que deseja excluir este agendamento?"))return;const{error:s}=await N.from("appointments").delete().eq("id",e);s?alert("Erro ao excluir agendamento: "+s.message):(this.appointments=this.appointments.filter(n=>n.id!==e),this.selectedAppointment&&this.selectedAppointment.id===e&&(this.showDetailsModal=!1,this.selectedAppointment=null))},getClientName(e){const t=this.clients.find(s=>s.id===e);return t?t.name:""},getClientEmail(e){const t=this.clients.find(s=>s.id===e);return t?t.email:""},getServiceName(e){const t=this.services.find(s=>s.id===e);return t?t.name:""},getRoomName(e){const t=this.rooms.find(s=>s.id===e);return t?t.name:""},getRoomLink(e){const t=this.rooms.find(s=>s.id===e);return t?t.google_meet_link:""},sortBy(e){this.sortColumn===e?this.sortAsc=!this.sortAsc:(this.sortColumn=e,this.sortAsc=!0)},setViewMode(e){this.viewMode=e,this.showViewDropdown=!1,e==="calendar"&&this.$refs.calendarView&&this.$refs.calendarView.goToCurrentMonth&&this.$refs.calendarView.goToCurrentMonth()},openDetails(e){this.selectedAppointment=e,this.showDetailsModal=!0},startAppointment(){this.selectedAppointment&&this.$router.push(`/atendimento/${this.selectedAppointment.id}`)},async cancelAppointment(){!this.selectedAppointment||!confirm("Tem certeza que deseja desmarcar este atendimento?")||(await this.handleDeleteAppointment(this.selectedAppointment.id),this.closeDetails())},markNoShow(){alert("Falta registrada para este atendimento.")},async sendConfirmationEmail(){const e=this.selectedAppointment;if(!e)return;const t=this.clients.find(i=>i.id===e.client_id),s=this.services.find(i=>i.id===e.service_id),n=this.rooms.find(i=>i.id===e.room_id);await hu({to:t==null?void 0:t.email,subject:`Agendamento confirmado para ${e.date} s ${e.time}`,text:`Ol ${t==null?void 0:t.name},

Seu agendamento para ${s==null?void 0:s.name} foi confirmado para ${e.date} s ${e.time}.
${n?`Sala: ${n.name}
`:""}${n!=null&&n.google_meet_link?`Link: ${n.google_meet_link}
`:""}${e.description?`Observaes: ${e.description}`:""}`})},sendConfirmationWhatsApp(){const e=this.selectedAppointment;if(!e)return;const t=this.clients.find(r=>r.id===e.client_id);if(!(t!=null&&t.phone)){alert("Cliente sem telefone cadastrado");return}const s=this.rooms.find(r=>r.id===e.room_id),n=`Ol ${t.name},

Passando para informar que seu agendamento est confirmado!

Segue os dados para consulta:
Cliente: ${t.name}
Data: ${e.date} - Hora: ${e.time}
Sala: ${(s==null?void 0:s.google_meet_link)||""}

Obrigado.

Est mensagem  uma mensagem automtica.`,o=`https://wa.me/${Ma(t.phone)}?text=${encodeURIComponent(n)}`;window.open(o,"_blank")},exportCSV(){const e=["Data","Hora","Cliente","Servio","Durao","Descrio"],t=this.appointments.map(o=>[o.date,o.time,this.getClientName(o.client_id),this.getServiceName(o.service_id),o.duration,(o.description||"").replace(/(\r\n|\n|\r)/g," ")]),s=[e.join(","),...t.map(o=>o.map(r=>`"${String(r).replace(/"/g,'""')}"`).join(","))].join(`
`),n=new Blob([s],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a");i.href=URL.createObjectURL(n),i.setAttribute("download","agendamentos.csv"),document.body.appendChild(i),i.click(),document.body.removeChild(i)},clearFilters(){this.searchQuery="",this.filterStartDate="",this.filterEndDate=""}},watch:{"form.serviceId"(e){const t=this.services.find(s=>s.id===e);t&&(!this.editingId||this.form.duration==="")&&(this.form.duration=t.duration)}},async mounted(){const{data:{user:e}}=await N.auth.getUser();if(!e){this.$router.push("/login");return}this.userId=e.id;const{data:t}=await N.from("clients").select().eq("user_id",this.userId);t&&(this.clients=t);const{data:s}=await N.from("services").select().eq("user_id",this.userId);s&&(this.services=s);const{data:n}=await N.from("rooms").select().eq("user_id",this.userId);n&&(this.rooms=n);const{data:i}=await N.from("profiles").select("start_time, end_time, week_days, daily_schedule, whatsapp").eq("id",this.userId).single();i&&(this.schedule.startTime=i.start_time||"",this.schedule.endTime=i.end_time||"",this.schedule.weekDays=i.week_days?i.week_days.split(","):[],this.schedule.dailySchedule=i.daily_schedule?typeof i.daily_schedule=="string"?JSON.parse(i.daily_schedule):i.daily_schedule:null,this.profileWhatsapp=i.whatsapp||"");const{data:o}=await N.from("appointments").select().eq("user_id",this.userId);o&&(this.appointments=o)}},$C={class:"min-h-screen flex bg-gray-100 relative"},BC={class:"flex-1 p-4 md:p-8"},VC={key:0,class:"flex items-center mb-4"},zC={class:"flex flex-col sm:flex-row sm:items-center mb-4 gap-2"},HC={class:"mb-4 flex items-center space-x-2"},WC={class:"relative"},qC={key:0,class:"absolute right-0 mt-2 w-32 bg-white border rounded shadow z-20"},KC={class:"text-lg font-semibold mb-4"},GC=["value"],YC=["value"],JC=["value"],XC={class:"flex justify-end space-x-2"},QC={class:"relative"},ZC={key:0,class:"space-y-1 border rounded-md p-4 bg-gray-50 text-gray-700"},tM={key:0},eM={key:1},sM=["href"],nM={class:"mt-4"},iM={class:"flex flex-wrap justify-center gap-2"},oM={class:"mt-4"},rM={class:"flex flex-wrap justify-center gap-2"},aM={class:"mt-8"},lM={class:"bg-white p-4 rounded-lg shadow"},cM={class:"overflow-x-auto"},dM={class:"min-w-full text-left"},uM={class:"bg-gray-50"},hM={key:0},fM={key:0},pM={key:0},mM={key:0},gM={key:0},bM={class:"px-4 py-2"},yM={class:"px-4 py-2"},xM={class:"px-4 py-2"},vM={class:"px-4 py-2"},_M={class:"px-4 py-2"},wM={class:"px-4 py-2"},kM={class:"px-4 py-2 text-right space-x-2"},SM=["onClick"],CM=["onClick"],MM={key:0},AM={class:"mt-8"},PM={class:"mt-8"};function TM(e,t,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser"),l=H("Modal"),c=H("CalendarView"),d=H("WeekView");return _(),k("div",$C,[D(r,{"is-open":i.sidebarOpen,onClose:t[0]||(t[0]=h=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",BC,[i.sidebarOpen?W("",!0):(_(),k("div",VC,[u("button",{onClick:t[1]||(t[1]=h=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},t[33]||(t[33]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),D(a,{title:"Agendamentos"}),u("section",null,[u("div",zC,[O(u("input",{"onUpdate:modelValue":t[2]||(t[2]=h=>i.searchQuery=h),type:"text",placeholder:"Buscar...",class:"border px-3 py-2 rounded-lg flex-grow sm:max-w-xs"},null,512),[[j,i.searchQuery]]),O(u("input",{"onUpdate:modelValue":t[3]||(t[3]=h=>i.filterStartDate=h),type:"date",class:"border px-3 py-2 rounded-lg"},null,512),[[j,i.filterStartDate]]),O(u("input",{"onUpdate:modelValue":t[4]||(t[4]=h=>i.filterEndDate=h),type:"date",class:"border px-3 py-2 rounded-lg"},null,512),[[j,i.filterEndDate]]),u("button",{onClick:t[5]||(t[5]=(...h)=>o.clearFilters&&o.clearFilters(...h)),class:"bg-gray-300 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-400 w-full sm:w-auto"},"Limpar"),u("button",{onClick:t[6]||(t[6]=h=>o.openModal()),class:"btn sm:ml-auto w-full sm:w-auto"},"Novo"),u("button",{onClick:t[7]||(t[7]=(...h)=>o.exportCSV&&o.exportCSV(...h)),class:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 w-full sm:w-auto"},"Exportar")]),u("div",HC,[t[34]||(t[34]=u("span",{class:"text-xs text-gray-600"},"Modo de exibio:",-1)),u("div",WC,[u("button",{onClick:t[8]||(t[8]=h=>i.showViewDropdown=!i.showViewDropdown),class:"px-4 py-2 bg-gray-200 rounded-lg"},P(i.viewMode==="list"?"Lista":i.viewMode==="calendar"?"Calendrio":"Semana"),1),i.showViewDropdown?(_(),k("div",qC,[u("button",{onClick:t[9]||(t[9]=h=>o.setViewMode("list")),class:"block w-full text-left px-4 py-2 hover:bg-gray-100"},"Lista"),u("button",{onClick:t[10]||(t[10]=h=>o.setViewMode("calendar")),class:"block w-full text-left px-4 py-2 hover:bg-gray-100"},"Calendrio"),u("button",{onClick:t[11]||(t[11]=h=>o.setViewMode("week")),class:"block w-full text-left px-4 py-2 hover:bg-gray-100"},"Semana")])):W("",!0)])]),i.showModal?(_(),de(l,{key:0,onClose:o.closeModal},{default:st(()=>[u("h3",KC,P(i.editingId?"Editar Agendamento":"Adicionar Agendamento"),1),u("form",{onSubmit:t[20]||(t[20]=ie((...h)=>o.handleSaveAppointment&&o.handleSaveAppointment(...h),["prevent"])),class:"space-y-4"},[u("div",null,[t[35]||(t[35]=u("label",{class:"block text-sm font-medium text-gray-700"},"Data",-1)),O(u("input",{type:"date","onUpdate:modelValue":t[12]||(t[12]=h=>i.form.date=h),class:"w-full mt-1 px-4 py-2 border rounded-lg"},null,512),[[j,i.form.date]])]),u("div",null,[t[36]||(t[36]=u("label",{class:"block text-sm font-medium text-gray-700"},"Hora",-1)),O(u("input",{type:"time","onUpdate:modelValue":t[13]||(t[13]=h=>i.form.time=h),class:"w-full mt-1 px-4 py-2 border rounded-lg"},null,512),[[j,i.form.time]])]),u("div",null,[t[38]||(t[38]=u("label",{class:"block text-sm font-medium text-gray-700"},"Cliente",-1)),O(u("select",{"onUpdate:modelValue":t[14]||(t[14]=h=>i.form.clientId=h),class:"w-full mt-1 px-4 py-2 border rounded-lg"},[t[37]||(t[37]=u("option",{disabled:"",value:""},"Selecione um cliente",-1)),(_(!0),k(J,null,pt(i.clients,h=>(_(),k("option",{key:h.id,value:h.id},P(h.name),9,GC))),128))],512),[[Me,i.form.clientId]])]),u("div",null,[t[40]||(t[40]=u("label",{class:"block text-sm font-medium text-gray-700"},"Servio",-1)),O(u("select",{"onUpdate:modelValue":t[15]||(t[15]=h=>i.form.serviceId=h),class:"w-full mt-1 px-4 py-2 border rounded-lg"},[t[39]||(t[39]=u("option",{disabled:"",value:""},"Selecione um servio",-1)),(_(!0),k(J,null,pt(i.services,h=>(_(),k("option",{key:h.id,value:h.id},P(h.name),9,YC))),128))],512),[[Me,i.form.serviceId]])]),u("div",null,[t[42]||(t[42]=u("label",{class:"block text-sm font-medium text-gray-700"},"Sala de Reunio",-1)),O(u("select",{"onUpdate:modelValue":t[16]||(t[16]=h=>i.form.roomId=h),class:"w-full mt-1 px-4 py-2 border rounded-lg"},[t[41]||(t[41]=u("option",{disabled:"",value:""},"Selecione uma sala",-1)),(_(!0),k(J,null,pt(i.rooms,h=>(_(),k("option",{key:h.id,value:h.id},P(h.name),9,JC))),128))],512),[[Me,i.form.roomId]])]),u("div",null,[t[43]||(t[43]=u("label",{class:"block text-sm font-medium text-gray-700"},"Durao (minutos)",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[17]||(t[17]=h=>i.form.duration=h),class:"w-full mt-1 px-4 py-2 border rounded-lg"},null,512),[[j,i.form.duration]])]),u("div",null,[t[44]||(t[44]=u("label",{class:"block text-sm font-medium text-gray-700"},"Descrio",-1)),O(u("textarea",{"onUpdate:modelValue":t[18]||(t[18]=h=>i.form.description=h),class:"w-full mt-1 px-4 py-2 border rounded-lg"},null,512),[[j,i.form.description]])]),u("div",XC,[u("button",{type:"button",onClick:t[19]||(t[19]=(...h)=>o.closeModal&&o.closeModal(...h)),class:"px-4 py-2 rounded border"},"Cancelar"),t[45]||(t[45]=u("button",{type:"submit",class:"btn"},"Salvar",-1))])],32)]),_:1},8,["onClose"])):W("",!0),i.showDetailsModal?(_(),de(l,{key:1,onClose:o.closeDetails},{default:st(()=>[u("div",QC,[u("button",{onClick:t[21]||(t[21]=(...h)=>o.closeDetails&&o.closeDetails(...h)),class:"absolute top-0 right-0 m-2 px-2 py-1 rounded border text-sm"}," Fechar "),t[55]||(t[55]=u("h3",{class:"text-lg font-semibold mb-4"},"Detalhes do Agendamento",-1)),i.selectedAppointment?(_(),k("div",ZC,[u("p",null,[t[46]||(t[46]=u("strong",null,"Data:",-1)),tt(" "+P(i.selectedAppointment.date),1)]),u("p",null,[t[47]||(t[47]=u("strong",null,"Hora:",-1)),tt(" "+P(i.selectedAppointment.time),1)]),u("p",null,[t[48]||(t[48]=u("strong",null,"Cliente:",-1)),tt(" "+P(o.getClientName(i.selectedAppointment.client_id)),1)]),u("p",null,[t[49]||(t[49]=u("strong",null,"Servio:",-1)),tt(" "+P(o.getServiceName(i.selectedAppointment.service_id)),1)]),u("p",null,[t[50]||(t[50]=u("strong",null,"Durao:",-1)),tt(" "+P(i.selectedAppointment.duration),1)]),u("p",null,[t[51]||(t[51]=u("strong",null,"Descrio:",-1)),tt(" "+P(i.selectedAppointment.description),1)]),i.selectedAppointment.room_id?(_(),k("p",tM,[t[52]||(t[52]=u("strong",null,"Sala:",-1)),tt(" "+P(o.getRoomName(i.selectedAppointment.room_id)),1)])):W("",!0),i.selectedAppointment.room_id&&o.getRoomLink(i.selectedAppointment.room_id)?(_(),k("p",eM,[u("a",{href:o.getRoomLink(i.selectedAppointment.room_id),target:"_blank",class:"text-blue-600 underline"},"Acessar Google Meet",8,sM)])):W("",!0)])):W("",!0),u("div",nM,[t[53]||(t[53]=u("h4",{class:"font-medium mb-2"},"Aes de atendimento",-1)),u("div",iM,[u("button",{onClick:t[22]||(t[22]=(...h)=>o.sendConfirmationWhatsApp&&o.sendConfirmationWhatsApp(...h)),class:"btn btn-success"},"Enviar confirmao"),u("button",{onClick:t[23]||(t[23]=(...h)=>o.cancelAppointment&&o.cancelAppointment(...h)),class:"btn btn-warning"},"Desmarcou atendimento"),u("button",{onClick:t[24]||(t[24]=(...h)=>o.markNoShow&&o.markNoShow(...h)),class:"btn btn-secondary"},"Faltou ao atendimento"),u("button",{onClick:t[25]||(t[25]=(...h)=>o.startAppointment&&o.startAppointment(...h)),class:"btn btn-primary"},"Iniciar atendimento")])]),u("div",oM,[t[54]||(t[54]=u("h4",{class:"font-medium mb-2"},"Aes de cadastro",-1)),u("div",rM,[u("button",{onClick:t[26]||(t[26]=(...h)=>o.editFromDetails&&o.editFromDetails(...h)),class:"btn"},"Editar"),u("button",{onClick:t[27]||(t[27]=h=>o.handleDeleteAppointment(i.selectedAppointment.id)),class:"btn btn-danger"},"Excluir")])])])]),_:1},8,["onClose"])):W("",!0),O(u("div",aM,[t[64]||(t[64]=u("h3",{class:"text-lg font-medium mb-4"},"Agendamentos",-1)),u("div",lM,[u("div",cM,[u("table",dM,[u("thead",uM,[u("tr",null,[u("th",{onClick:t[28]||(t[28]=h=>o.sortBy("datetime")),class:"px-4 py-2 font-medium text-gray-700 cursor-pointer"},[t[56]||(t[56]=tt(" Data/Hora ")),i.sortColumn==="datetime"?(_(),k("span",hM,P(i.sortAsc?"":""),1)):W("",!0)]),u("th",{onClick:t[29]||(t[29]=h=>o.sortBy("client")),class:"px-4 py-2 font-medium text-gray-700 cursor-pointer"},[t[57]||(t[57]=tt(" Cliente ")),i.sortColumn==="client"?(_(),k("span",fM,P(i.sortAsc?"":""),1)):W("",!0)]),u("th",{onClick:t[30]||(t[30]=h=>o.sortBy("service")),class:"px-4 py-2 font-medium text-gray-700 cursor-pointer"},[t[58]||(t[58]=tt(" Servio ")),i.sortColumn==="service"?(_(),k("span",pM,P(i.sortAsc?"":""),1)):W("",!0)]),t[61]||(t[61]=u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Sala",-1)),u("th",{onClick:t[31]||(t[31]=h=>o.sortBy("duration")),class:"px-4 py-2 font-medium text-gray-700 cursor-pointer"},[t[59]||(t[59]=tt(" Durao ")),i.sortColumn==="duration"?(_(),k("span",mM,P(i.sortAsc?"":""),1)):W("",!0)]),u("th",{onClick:t[32]||(t[32]=h=>o.sortBy("description")),class:"px-4 py-2 font-medium text-gray-700 cursor-pointer"},[t[60]||(t[60]=tt(" Descrio ")),i.sortColumn==="description"?(_(),k("span",gM,P(i.sortAsc?"":""),1)):W("",!0)]),t[62]||(t[62]=u("th",{class:"px-4 py-2"},null,-1))])]),u("tbody",null,[(_(!0),k(J,null,pt(o.processedAppointments,h=>(_(),k("tr",{key:h.id,class:"border-b last:border-b-0"},[u("td",bM,P(h.date)+" "+P(h.time),1),u("td",yM,P(o.getClientName(h.client_id)),1),u("td",xM,P(o.getServiceName(h.service_id)),1),u("td",vM,P(o.getRoomName(h.room_id)),1),u("td",_M,P(h.duration),1),u("td",wM,P(h.description),1),u("td",kM,[u("button",{onClick:f=>o.openModal(h),class:"btn btn-sm"},"Editar",8,SM),u("button",{onClick:f=>o.handleDeleteAppointment(h.id),class:"btn btn-sm btn-danger"},"Excluir",8,CM)])]))),128)),o.processedAppointments.length===0?(_(),k("tr",MM,t[63]||(t[63]=[u("td",{colspan:"7",class:"px-4 py-6 text-center text-gray-500"},"Nenhum agendamento encontrado",-1)]))):W("",!0)])])])])],512),[[Rr,i.viewMode==="list"]]),O(u("div",AM,[t[65]||(t[65]=u("h3",{class:"text-lg font-medium mb-4"},"Calendrio",-1)),D(c,{ref:"calendarView",appointments:o.processedAppointments,getClientName:o.getClientName,onSelect:o.openDetails},null,8,["appointments","getClientName","onSelect"])],512),[[Rr,i.viewMode==="calendar"]]),O(u("div",PM,[t[66]||(t[66]=u("h3",{class:"text-lg font-medium mb-4"},"Semana",-1)),D(d,{appointments:o.processedAppointments,getClientName:o.getClientName,onSelect:o.openDetails},null,8,["appointments","getClientName","onSelect"])],512),[[Rr,i.viewMode==="week"]])])])])}const OM=mt(NC,[["render",TM]]),EM={name:"Servicos",components:{Sidebar:Ae,HeaderUser:Pe,Modal:zs},data(){return{userId:null,showModal:!1,editingId:null,search:"",sidebarOpen:window.innerWidth>=768,form:{name:"",description:"",duration:"",price:""},services:[],page:1,pageSize:10}},methods:{openModal(e){e?(this.editingId=e.id,this.form={name:e.name,description:e.description,duration:e.duration,price:e.price}):(this.editingId=null,this.form={name:"",description:"",duration:"",price:""}),this.showModal=!0},closeModal(){this.showModal=!1,this.form={name:"",description:"",duration:"",price:""},this.editingId=null},async handleSaveService(){let e,t;if(this.editingId?{data:e,error:t}=await N.from("services").update({name:this.form.name,description:this.form.description,duration:this.form.duration,price:parseFloat(this.form.price)}).eq("id",this.editingId).select().single():{data:e,error:t}=await N.from("services").insert({name:this.form.name,description:this.form.description,duration:this.form.duration,price:parseFloat(this.form.price),user_id:this.userId}).select().single(),t)alert("Erro ao salvar servio: "+t.message);else{if(this.editingId){const s=this.services.findIndex(n=>n.id===this.editingId);s!==-1&&(this.services[s]=e)}else this.services.push(e);this.closeModal()}},async handleDeleteService(e){if(!confirm("Tem certeza que deseja excluir este servio?"))return;const{error:s}=await N.from("services").delete().eq("id",e);s?alert("Erro ao excluir servio: "+s.message):this.services=this.services.filter(n=>n.id!==e)},nextPage(){this.page<this.totalPages&&this.page++},prevPage(){this.page>1&&this.page--},formatPrice(e){return e==null||e===""?"":Number(e).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}},computed:{filteredServices(){const e=this.search.toLowerCase();return this.services.filter(t=>t.name.toLowerCase().includes(e)||(t.description||"").toLowerCase().includes(e)||(t.duration||"").toLowerCase().includes(e)||t.price!==null&&t.price.toString().includes(e))},paginatedServices(){const e=(this.page-1)*this.pageSize;return this.filteredServices.slice(e,e+this.pageSize)},totalPages(){return Math.max(1,Math.ceil(this.filteredServices.length/this.pageSize))}},watch:{search(){this.page=1}},async mounted(){const{data:{user:e}}=await N.auth.getUser();if(!e){this.$router.push("/login");return}this.userId=e.id;const{data:t}=await N.from("services").select().eq("user_id",this.userId);t&&(this.services=t)}},DM={class:"min-h-screen flex bg-gray-100 relative"},IM={class:"flex-1 p-4 md:p-8 space-y-6"},RM={key:0,class:"flex items-center mb-4"},LM={class:"bg-white p-4 rounded-lg shadow"},FM={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 space-y-4 sm:space-y-0"},jM={class:"flex flex-col sm:flex-row items-stretch sm:items-center w-full sm:w-auto space-y-2 sm:space-y-0 sm:space-x-3"},UM={class:"overflow-x-auto"},NM={class:"min-w-full text-left"},$M={class:"px-4 py-2"},BM={class:"px-4 py-2"},VM={class:"px-4 py-2"},zM={class:"px-4 py-2"},HM={class:"px-4 py-2 text-right space-x-2"},WM=["onClick"],qM=["onClick"],KM={key:0},GM={class:"mt-4 flex justify-between items-center"},YM=["disabled"],JM={class:"text-sm"},XM=["disabled"],QM={class:"text-lg font-semibold mb-4"},ZM={class:"flex justify-end space-x-2"};function tA(e,t,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser"),l=H("Modal");return _(),k("div",DM,[D(r,{"is-open":i.sidebarOpen,onClose:t[0]||(t[0]=c=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",IM,[i.sidebarOpen?W("",!0):(_(),k("div",RM,[u("button",{onClick:t[1]||(t[1]=c=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},t[12]||(t[12]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),D(a,{title:"Servios"}),u("section",LM,[u("div",FM,[t[13]||(t[13]=u("h3",{class:"text-lg font-medium"},"Servios cadastrados",-1)),u("div",jM,[O(u("input",{"onUpdate:modelValue":t[2]||(t[2]=c=>i.search=c),type:"text",placeholder:"Buscar...",class:"border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 w-full sm:w-64"},null,512),[[j,i.search]]),u("button",{onClick:t[3]||(t[3]=c=>o.openModal()),class:"btn w-full sm:w-auto"}," Novo Servio ")])]),u("div",UM,[u("table",NM,[t[15]||(t[15]=u("thead",{class:"bg-gray-50"},[u("tr",null,[u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Nome"),u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Descrio"),u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Durao"),u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Valor"),u("th",{class:"px-4 py-2"})])],-1)),u("tbody",null,[(_(!0),k(J,null,pt(o.paginatedServices,c=>(_(),k("tr",{key:c.id,class:"border-b last:border-b-0"},[u("td",$M,P(c.name),1),u("td",BM,P(c.description),1),u("td",VM,P(c.duration),1),u("td",zM,P(o.formatPrice(c.price)),1),u("td",HM,[u("button",{onClick:d=>o.openModal(c),class:"btn btn-sm"}," Editar ",8,WM),u("button",{onClick:d=>o.handleDeleteService(c.id),class:"btn btn-sm btn-danger"}," Excluir ",8,qM)])]))),128)),o.filteredServices.length===0?(_(),k("tr",KM,t[14]||(t[14]=[u("td",{colspan:"5",class:"px-4 py-6 text-center text-gray-500"}," Nenhum servio encontrado ",-1)]))):W("",!0)])]),u("div",GM,[u("button",{class:"px-3 py-1 border rounded",onClick:t[4]||(t[4]=(...c)=>o.prevPage&&o.prevPage(...c)),disabled:i.page===1}," Anterior ",8,YM),u("span",JM,"Pgina "+P(i.page)+" de "+P(o.totalPages),1),u("button",{class:"px-3 py-1 border rounded",onClick:t[5]||(t[5]=(...c)=>o.nextPage&&o.nextPage(...c)),disabled:i.page===o.totalPages}," Prxima ",8,XM)])])]),i.showModal?(_(),de(l,{key:1,onClose:o.closeModal},{default:st(()=>[u("h3",QM,P(i.editingId?"Editar Servio":"Adicionar Servio"),1),u("form",{onSubmit:t[11]||(t[11]=ie((...c)=>o.handleSaveService&&o.handleSaveService(...c),["prevent"])),class:"space-y-6"},[u("div",null,[t[16]||(t[16]=u("label",{class:"block text-sm font-medium text-gray-700"},"Nome",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=c=>i.form.name=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.form.name]])]),u("div",null,[t[17]||(t[17]=u("label",{class:"block text-sm font-medium text-gray-700"},"Descrio",-1)),O(u("textarea",{"onUpdate:modelValue":t[7]||(t[7]=c=>i.form.description=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.form.description]])]),u("div",null,[t[18]||(t[18]=u("label",{class:"block text-sm font-medium text-gray-700"},"Tempo de durao",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=c=>i.form.duration=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.form.duration]])]),u("div",null,[t[19]||(t[19]=u("label",{class:"block text-sm font-medium text-gray-700"},"Valor",-1)),O(u("input",{type:"number",step:"0.01","onUpdate:modelValue":t[9]||(t[9]=c=>i.form.price=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.form.price]])]),u("div",ZM,[u("button",{type:"button",onClick:t[10]||(t[10]=(...c)=>o.closeModal&&o.closeModal(...c)),class:"px-4 py-2 rounded border"},"Cancelar"),t[20]||(t[20]=u("button",{type:"submit",class:"btn"},"Salvar",-1))])],32)]),_:1},8,["onClose"])):W("",!0)])])}const eA=mt(EM,[["render",tA]]),sA={name:"Usuarios",components:{Sidebar:Ae,HeaderUser:Pe,Modal:zs},data(){return{form:{email:"",password:""},sidebarOpen:window.innerWidth>=768,userId:null,successMessage:"",errorMessage:"",users:[],search:"",showUserModal:!1,userModalMode:"new",selectedUserId:null,userForm:{email:"",password:""}}},methods:{async handleAddUser(){if(this.successMessage="",this.errorMessage="",this.form.email&&!ss(this.form.email)){this.errorMessage="E-mail invlido";return}const{data:{user:e}}=await N.auth.getUser(),{data:{session:t}}=await N.auth.getSession();let s=null;if(e){const{data:o}=await N.from("profiles").select("*").eq("id",e.id).single();s=o}const{data:n,error:i}=await N.auth.signUp({email:this.form.email,password:this.form.password});t&&await N.auth.setSession(t),i?this.errorMessage="Erro ao cadastrar usurio: "+i.message:(n!=null&&n.user&&s&&await N.from("profiles").insert({id:n.user.id,business_name:s.business_name,description:s.description,phone:s.phone,whatsapp:s.whatsapp,email:s.email,address:s.address,instagram:s.instagram,facebook:s.facebook,youtube:s.youtube,x:s.x,slug:s.slug}),this.successMessage="Usurio cadastrado! Verifique o e-mail para ativar a conta.",this.form={email:"",password:""},await this.fetchUsers())},openUserModal(e,t="new"){this.userModalMode=t,e?(this.selectedUserId=e.id,this.userForm={email:e.email,password:""}):(this.selectedUserId=null,this.userForm={email:"",password:""}),this.showUserModal=!0},handleUserClose(){this.userModalMode==="view"?this.closeUserModal():confirm("Tem certeza? Os dados no foram salvos e sero perdidos.")&&this.closeUserModal()},closeUserModal(){this.showUserModal=!1,this.userModalMode="new",this.selectedUserId=null,this.userForm={email:"",password:""}},enableUserEdit(){this.userModalMode="edit"},async handleSaveUser(){if(this.userModalMode!=="view"){if(this.userForm.email&&!ss(this.userForm.email)){alert("E-mail invlido");return}if(this.selectedUserId){const{error:e}=await N.from("profiles").update({email:this.userForm.email}).eq("id",this.selectedUserId);if(e)alert("Erro ao salvar usurio: "+e.message);else{const t=this.users.findIndex(s=>s.id===this.selectedUserId);t!==-1&&(this.users[t].email=this.userForm.email),this.closeUserModal()}}else this.form={email:this.userForm.email,password:this.userForm.password},await this.handleAddUser(),this.closeUserModal()}},async fetchUsers(){const{data:e}=await N.from("profiles").select("slug").eq("id",this.userId).single();if(e){const{data:t}=await N.from("profiles").select("id, email").eq("slug",e.slug);this.users=t||[]}}},computed:{isUserView(){return this.userModalMode==="view"},filteredUsers(){const e=this.search.toLowerCase();return this.users.filter(t=>t.id.toLowerCase().includes(e)||(t.email||"").toLowerCase().includes(e))}},async mounted(){const{data:{user:e}}=await N.auth.getUser();if(!e){this.$router.push("/login");return}this.userId=e.id,await this.fetchUsers()}},nA={class:"min-h-screen flex bg-gray-100 relative"},iA={class:"flex-1 p-8 space-y-6"},oA={key:0,class:"flex items-center mb-4"},rA={class:"bg-white p-4 rounded-lg shadow"},aA={key:0,class:"text-green-600 mt-4"},lA={key:1,class:"text-red-600 mt-4"},cA={class:"bg-white p-4 rounded-lg shadow"},dA={class:"flex justify-between items-center mb-4"},uA={class:"overflow-x-auto"},hA={class:"min-w-full text-left"},fA={class:"px-4 py-2"},pA={class:"px-4 py-2"},mA={class:"px-4 py-2 text-right"},gA=["onClick"],bA={key:0},yA={class:"text-lg font-semibold mb-4"},xA=["disabled"],vA=["disabled"],_A={class:"flex justify-end space-x-2"},wA=["disabled"];function kA(e,t,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser"),l=H("Modal");return _(),k("div",nA,[D(r,{"is-open":i.sidebarOpen,onClose:t[0]||(t[0]=c=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",iA,[i.sidebarOpen?W("",!0):(_(),k("div",oA,[u("button",{onClick:t[1]||(t[1]=c=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},t[11]||(t[11]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),D(a,{title:"Usurios"}),u("section",rA,[t[15]||(t[15]=u("h3",{class:"text-lg font-medium mb-4"},"Cadastrar novo usurio",-1)),u("form",{onSubmit:t[4]||(t[4]=ie((...c)=>o.handleAddUser&&o.handleAddUser(...c),["prevent"])),class:"space-y-4"},[u("div",null,[t[12]||(t[12]=u("label",{class:"block text-sm font-medium text-gray-700"},"E-mail",-1)),O(u("input",{type:"email","onUpdate:modelValue":t[2]||(t[2]=c=>i.form.email=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.form.email]])]),u("div",null,[t[13]||(t[13]=u("label",{class:"block text-sm font-medium text-gray-700"},"Senha",-1)),O(u("input",{type:"password","onUpdate:modelValue":t[3]||(t[3]=c=>i.form.password=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.form.password]])]),t[14]||(t[14]=u("div",{class:"flex justify-end"},[u("button",{type:"submit",class:"btn"},"Cadastrar")],-1))],32),i.successMessage?(_(),k("p",aA,P(i.successMessage),1)):W("",!0),i.errorMessage?(_(),k("p",lA,P(i.errorMessage),1)):W("",!0)]),u("section",cA,[u("div",dA,[t[16]||(t[16]=u("h3",{class:"text-lg font-medium"},"Usurios cadastrados",-1)),O(u("input",{"onUpdate:modelValue":t[5]||(t[5]=c=>i.search=c),type:"text",placeholder:"Buscar...",class:"border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[j,i.search]])]),u("div",uA,[u("table",hA,[t[18]||(t[18]=u("thead",{class:"bg-gray-50"},[u("tr",null,[u("th",{class:"px-4 py-2 font-medium text-gray-700"},"ID"),u("th",{class:"px-4 py-2 font-medium text-gray-700"},"E-mail"),u("th",{class:"px-4 py-2"})])],-1)),u("tbody",null,[(_(!0),k(J,null,pt(o.filteredUsers,c=>(_(),k("tr",{key:c.id,class:"border-b last:border-b-0"},[u("td",fA,P(c.id),1),u("td",pA,P(c.email),1),u("td",mA,[u("button",{onClick:d=>o.openUserModal(c,"view"),class:"btn btn-sm"},"Visualizar",8,gA)])]))),128)),o.filteredUsers.length===0?(_(),k("tr",bA,t[17]||(t[17]=[u("td",{colspan:"3",class:"px-4 py-6 text-center text-gray-500"},"Nenhum usurio encontrado",-1)]))):W("",!0)])])])]),i.showUserModal?(_(),de(l,{key:1,onClose:o.handleUserClose},{default:st(()=>[u("h3",yA,P(i.userModalMode==="new"?"Adicionar Usurio":"Cadastro de Usurio"),1),u("form",{onSubmit:t[10]||(t[10]=ie((...c)=>o.handleSaveUser&&o.handleSaveUser(...c),["prevent"])),class:"space-y-4"},[u("div",null,[t[19]||(t[19]=u("label",{class:"block text-sm font-medium text-gray-700"},"E-mail",-1)),O(u("input",{type:"email","onUpdate:modelValue":t[6]||(t[6]=c=>i.userForm.email=c),disabled:o.isUserView,class:"w-full mt-1 px-4 py-2 border rounded-md"},null,8,xA),[[j,i.userForm.email]])]),u("div",null,[t[20]||(t[20]=u("label",{class:"block text-sm font-medium text-gray-700"},"Senha",-1)),O(u("input",{type:"password","onUpdate:modelValue":t[7]||(t[7]=c=>i.userForm.password=c),disabled:o.isUserView,class:"w-full mt-1 px-4 py-2 border rounded-md"},null,8,vA),[[j,i.userForm.password]])]),u("div",_A,[u("button",{type:"button",onClick:t[8]||(t[8]=(...c)=>o.handleUserClose&&o.handleUserClose(...c)),class:"px-4 py-2 rounded border"},"Fechar"),i.userModalMode==="view"?(_(),k("button",{key:0,type:"button",onClick:t[9]||(t[9]=(...c)=>o.enableUserEdit&&o.enableUserEdit(...c)),class:"btn btn-success"},"Editar")):W("",!0),u("button",{type:"submit",class:"btn",disabled:o.isUserView},"Salvar",8,wA)])],32)]),_:1},8,["onClose"])):W("",!0)])])}const SA=mt(sA,[["render",kA]]),CA={name:"SearchProfiles",components:{Navbar:ze,Footer:He},data(){return{profiles:[],search:""}},computed:{filteredProfiles(){const e=this.search.toLowerCase();return this.profiles.filter(t=>t.business_name.toLowerCase().includes(e))}},async mounted(){const{data:e}=await N.from("profiles").select("id, business_name, description, slug, area_atuacao");e&&(this.profiles=e)}},MA={class:"min-h-screen bg-gradient-to-b from-white to-blue-50 py-10"},AA={class:"max-w-2xl mx-auto px-4"},PA={class:"mb-6 text-center"},TA={class:"space-y-4"},OA={class:"text-xl font-semibold text-blue-600"},EA={key:0,class:"text-sm text-gray-500"},DA={class:"text-gray-700 mb-2"},IA={key:0,class:"text-center text-gray-500 py-6"};function RA(e,t,s,n,i,o){const r=H("Navbar"),a=H("router-link"),l=H("Footer");return _(),k(J,null,[D(r),u("div",MA,[u("div",AA,[u("div",PA,[t[1]||(t[1]=u("h1",{class:"text-3xl font-extrabold text-blue-700 mb-4"},"Buscar perfis",-1)),O(u("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>i.search=c),type:"text",placeholder:"Digite o nome do estabelecimento",class:"w-full px-4 py-2 border rounded-md"},null,512),[[j,i.search]])]),u("ul",TA,[(_(!0),k(J,null,pt(o.filteredProfiles,c=>(_(),k("li",{key:c.id,class:"bg-white p-4 rounded-md shadow"},[u("h2",OA,P(c.business_name),1),c.area_atuacao?(_(),k("p",EA,P(c.area_atuacao),1)):W("",!0),u("p",DA,P(c.description),1),D(a,{to:"/"+c.slug,class:"text-blue-600 hover:underline"},{default:st(()=>t[2]||(t[2]=[tt(" Ver perfil ")])),_:2,__:[2]},1032,["to"])]))),128)),o.filteredProfiles.length===0?(_(),k("li",IA," Nenhum resultado encontrado ")):W("",!0)])])]),D(l)],64)}const LA=mt(CA,[["render",RA]]),rp="/icons/whatsapp.svg",FA={name:"PublicPage",data(){return{profile:null,services:[]}},computed:{whatsappLink(){var s;return`https://wa.me/${(((s=this.profile)==null?void 0:s.whatsapp)||"").replace(/\D/g,"")}`}},methods:{formatPrice(e){return e==null||e===""?"":Number(e).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}},async mounted(){const e=this.$route.params.slug,{data:t}=await N.from("profiles").select("*").eq("slug",e).single();if(t){this.profile=t;const{data:s}=await N.from("services").select().eq("user_id",t.id);this.services=s||[]}}},jA={class:"min-h-screen flex flex-col bg-white"},UA={key:0,class:"flex-1"},NA={class:"bg-blue-600 text-white py-12"},$A={class:"max-w-5xl mx-auto px-4 text-center space-y-4"},BA=["src"],VA={class:"text-4xl font-bold"},zA={key:0,class:"text-sm"},HA={class:"text-lg"},WA={class:"max-w-5xl mx-auto px-4 py-12 space-y-16"},qA={key:0,class:"grid gap-6 md:grid-cols-2"},KA={class:"text-lg font-medium text-blue-700"},GA={class:"text-sm text-gray-600"},YA={class:"text-sm text-gray-500 mt-1"},JA={class:"text-sm text-gray-500"},XA={key:1,class:"text-gray-500"},QA={class:"space-y-1 text-gray-700"},ZA=["href"],tP={key:2,class:"flex-1 flex items-center justify-center text-gray-500"},eP={key:3,class:"bg-gray-100 py-6"},sP={class:"max-w-5xl mx-auto px-4 text-center space-y-2"},nP={class:"space-x-4 text-blue-600"},iP=["href"],oP=["href"],rP=["href"],aP=["href"],lP={class:"text-sm text-gray-500"};function cP(e,t,s,n,i,o){return _(),k("div",jA,[i.profile?(_(),k("section",UA,[u("div",NA,[u("div",$A,[u("img",{src:i.profile.image_url||"/hero-illustration.png",alt:"Banner",class:"w-32 h-32 mx-auto rounded-full shadow-lg"},null,8,BA),u("h1",VA,P(i.profile.business_name),1),i.profile.area_atuacao?(_(),k("p",zA,P(i.profile.area_atuacao),1)):W("",!0),u("p",HA,P(i.profile.description),1)])]),u("div",WA,[u("div",null,[t[0]||(t[0]=u("h2",{class:"text-2xl font-semibold text-blue-600 mb-4"},"Servios",-1)),i.services.length?(_(),k("ul",qA,[(_(!0),k(J,null,pt(i.services,r=>(_(),k("li",{key:r.id,class:"p-4 bg-gray-50 border rounded-lg shadow"},[u("h3",KA,P(r.name),1),u("p",GA,P(r.description),1),u("p",YA,"Durao: "+P(r.duration),1),u("p",JA,"Valor: "+P(o.formatPrice(r.price)),1)]))),128))])):(_(),k("p",XA,"Nenhum servio cadastrado."))]),u("div",null,[t[5]||(t[5]=u("h2",{class:"text-2xl font-semibold text-blue-600 mb-4"},"Contato",-1)),u("ul",QA,[u("li",null,[t[1]||(t[1]=u("strong",null,"Telefone:",-1)),tt(" "+P(i.profile.phone),1)]),u("li",null,[t[2]||(t[2]=u("strong",null,"WhatsApp:",-1)),tt(" "+P(i.profile.whatsapp),1)]),u("li",null,[t[3]||(t[3]=u("strong",null,"Email:",-1)),tt(" "+P(i.profile.email),1)]),u("li",null,[t[4]||(t[4]=u("strong",null,"Endereo:",-1)),tt(" "+P(i.profile.address),1)])])])])])):W("",!0),i.profile&&i.profile.whatsapp?(_(),k("a",{key:1,href:o.whatsappLink,target:"_blank",rel:"noopener",class:"fixed bottom-4 right-4 bg-green-500 hover:bg-green-600 text-white p-4 rounded-full shadow-lg"},t[6]||(t[6]=[u("img",{src:rp,alt:"WhatsApp",class:"w-6 h-6"},null,-1)]),8,ZA)):(_(),k("div",tP,t[7]||(t[7]=[u("p",null,"Carregando perfil...",-1)]))),i.profile?(_(),k("footer",eP,[u("div",sP,[u("div",nP,[i.profile.instagram?(_(),k("a",{key:0,href:i.profile.instagram,class:"hover:underline"},"Instagram",8,iP)):W("",!0),i.profile.facebook?(_(),k("a",{key:1,href:i.profile.facebook,class:"hover:underline"},"Facebook",8,oP)):W("",!0),i.profile.youtube?(_(),k("a",{key:2,href:i.profile.youtube,class:"hover:underline"},"YouTube",8,rP)):W("",!0),i.profile.x?(_(),k("a",{key:3,href:i.profile.x,class:"hover:underline"},"X (Twitter)",8,aP)):W("",!0)]),u("p",lP," "+P(new Date().getFullYear())+" "+P(i.profile.business_name),1)])])):W("",!0)])}const dP=mt(FA,[["render",cP]]),uP={name:"Planos",components:{Navbar:ze,Footer:He}},hP={class:"max-w-5xl mx-auto px-4 py-16"},fP={class:"text-center mt-8"};function pP(e,t,s,n,i,o){const r=H("Navbar"),a=H("router-link"),l=H("Footer");return _(),k(J,null,[D(r),u("section",hP,[t[1]||(t[1]=ln('<h1 class="text-3xl font-bold text-center mb-8">Conhea nossos planos</h1><div class="bg-white p-4 rounded-lg shadow"><div class="overflow-x-auto"><table class="min-w-full text-left"><thead class="bg-gray-50"><tr><th class="px-4 py-2 font-medium text-gray-700">Recursos</th><th class="px-4 py-2 font-medium text-gray-700 text-center">Bsico</th><th class="px-4 py-2 font-medium text-gray-700 text-center">Beta</th></tr></thead><tbody><tr><td class="border-t px-4 py-2 text-gray-600">Valor</td><td class="border-t px-4 py-2 text-center font-semibold">Grtis</td><td class="border-t px-4 py-2 text-center font-semibold line-through text-gray-400">R$167,90</td></tr><tr class="bg-gray-50"><td class="border-t px-4 py-2 text-gray-600">Cadastro de pacientes</td><td class="border-t px-4 py-2 text-center">At 5 pacientes</td><td class="border-t px-4 py-2 text-center">Ilimitado</td></tr><tr><td class="border-t px-4 py-2 text-gray-600">Lembretes por e-mail</td><td class="border-t px-4 py-2 text-center"></td><td class="border-t px-4 py-2 text-center"></td></tr><tr class="bg-gray-50"><td class="border-t px-4 py-2 text-gray-600">Lembretes via WhatsApp</td><td class="border-t px-4 py-2 text-center line-through text-gray-400"></td><td class="border-t px-4 py-2 text-center"></td></tr><tr><td class="border-t px-4 py-2 text-gray-600">Customizao de domnio da pgina pblica</td><td class="border-t px-4 py-2 text-center line-through text-gray-400"></td><td class="border-t px-4 py-2 text-center"></td></tr><tr class="bg-gray-50"><td class="border-t px-4 py-2 text-gray-600">Pgina pblica sem banner do Agenda Zen</td><td class="border-t px-4 py-2 text-center line-through text-gray-400"></td><td class="border-t px-4 py-2 text-center"></td></tr><tr><td class="border-t px-4 py-2 text-gray-600">Gerao de recibos de atendimentos</td><td class="border-t px-4 py-2 text-center line-through text-gray-400"></td><td class="border-t px-4 py-2 text-center"></td></tr><tr class="bg-gray-50"><td class="border-t px-4 py-2 text-gray-600">Envio de recibos por e-mail automtico</td><td class="border-t px-4 py-2 text-center line-through text-gray-400"></td><td class="border-t px-4 py-2 text-center"></td></tr></tbody></table></div></div>',2)),u("div",fP,[D(a,{to:"/cadastro",class:"btn"},{default:st(()=>t[0]||(t[0]=[tt(" Contratar plano ")])),_:1,__:[0]})])]),D(l)],64)}const mP=mt(uP,[["render",pP]]),gP={name:"Salas",components:{Sidebar:Ae,HeaderUser:Pe,Modal:zs},data(){return{userId:null,showModal:!1,search:"",form:{name:"",googleMeetLink:""},rooms:[],sidebarOpen:window.innerWidth>=768,page:1,pageSize:10}},methods:{openModal(){this.showModal=!0},generateMeetLink(){const e=window.open("https://meet.google.com/new","_blank");setTimeout(()=>{try{this.form.googleMeetLink=e.location.href}catch{}},3e3)},async pasteFromClipboard(){try{const e=await navigator.clipboard.readText();this.form.googleMeetLink=e}catch{alert("No foi possvel acessar o contedo da rea de transferncia.")}},closeModal(){this.showModal=!1,this.form={name:"",googleMeetLink:""}},async handleAddRoom(){const{data:e,error:t}=await N.from("rooms").insert({name:this.form.name,google_meet_link:this.form.googleMeetLink,user_id:this.userId}).select().single();t?alert("Erro ao salvar sala: "+t.message):(this.rooms.push(e),this.closeModal())},async handleDeleteRoom(e){if(!confirm("Tem certeza que deseja excluir esta sala?"))return;const{error:s}=await N.from("rooms").delete().eq("id",e);s?alert("Erro ao excluir sala: "+s.message):this.rooms=this.rooms.filter(n=>n.id!==e)},nextPage(){this.page<this.totalPages&&this.page++},prevPage(){this.page>1&&this.page--}},computed:{filteredRooms(){const e=this.search.toLowerCase();return this.rooms.filter(t=>t.name.toLowerCase().includes(e)||t.google_meet_link&&t.google_meet_link.toLowerCase().includes(e))},paginatedRooms(){const e=(this.page-1)*this.pageSize;return this.filteredRooms.slice(e,e+this.pageSize)},totalPages(){return Math.max(1,Math.ceil(this.filteredRooms.length/this.pageSize))}},watch:{search(){this.page=1}},async mounted(){const{data:{user:e}}=await N.auth.getUser();if(!e){this.$router.push("/login");return}this.userId=e.id;const{data:t}=await N.from("rooms").select().eq("user_id",this.userId);t&&(this.rooms=t)}},bP={class:"min-h-screen flex bg-gray-100 relative"},yP={class:"flex-1 p-4 md:p-8 space-y-6"},xP={key:0,class:"flex items-center mb-4"},vP={class:"bg-white p-4 rounded-lg shadow"},_P={class:"flex justify-between items-center mb-4"},wP={class:"flex items-center space-x-3"},kP={class:"overflow-x-auto"},SP={class:"min-w-full text-left"},CP={class:"px-4 py-2"},MP={class:"px-4 py-2"},AP=["href"],PP={class:"px-4 py-2 text-right"},TP=["onClick"],OP={key:0},EP={class:"mt-4 flex justify-between items-center"},DP=["disabled"],IP={class:"text-sm"},RP=["disabled"],LP={class:"flex space-x-2 mt-1"},FP={class:"flex justify-end space-x-2"};function jP(e,t,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser"),l=H("Modal");return _(),k("div",bP,[D(r,{"is-open":i.sidebarOpen,onClose:t[0]||(t[0]=c=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",yP,[i.sidebarOpen?W("",!0):(_(),k("div",xP,[u("button",{onClick:t[1]||(t[1]=c=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},t[12]||(t[12]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),D(a,{title:"Salas"}),u("section",vP,[u("div",_P,[t[13]||(t[13]=u("h3",{class:"text-lg font-medium"},"Salas cadastradas",-1)),u("div",wP,[O(u("input",{"onUpdate:modelValue":t[2]||(t[2]=c=>i.search=c),type:"text",placeholder:"Buscar...",class:"border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[j,i.search]]),u("button",{onClick:t[3]||(t[3]=(...c)=>o.openModal&&o.openModal(...c)),class:"btn"}," Nova Sala ")])]),u("div",kP,[u("table",SP,[t[15]||(t[15]=u("thead",{class:"bg-gray-50"},[u("tr",null,[u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Nome"),u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Google Meet"),u("th",{class:"px-4 py-2"})])],-1)),u("tbody",null,[(_(!0),k(J,null,pt(o.paginatedRooms,c=>(_(),k("tr",{key:c.id,class:"border-b last:border-b-0"},[u("td",CP,P(c.name),1),u("td",MP,[c.google_meet_link?(_(),k("a",{key:0,href:c.google_meet_link,class:"text-blue-600 underline",target:"_blank"}," Link ",8,AP)):W("",!0)]),u("td",PP,[u("button",{onClick:d=>o.handleDeleteRoom(c.id),class:"btn btn-sm btn-danger"}," Excluir ",8,TP)])]))),128)),o.filteredRooms.length===0?(_(),k("tr",OP,t[14]||(t[14]=[u("td",{colspan:"3",class:"px-4 py-6 text-center text-gray-500"}," Nenhuma sala encontrada ",-1)]))):W("",!0)])]),u("div",EP,[u("button",{class:"px-3 py-1 border rounded",onClick:t[4]||(t[4]=(...c)=>o.prevPage&&o.prevPage(...c)),disabled:i.page===1}," Anterior ",8,DP),u("span",IP,"Pgina "+P(i.page)+" de "+P(o.totalPages),1),u("button",{class:"px-3 py-1 border rounded",onClick:t[5]||(t[5]=(...c)=>o.nextPage&&o.nextPage(...c)),disabled:i.page===o.totalPages}," Prxima ",8,RP)])])]),i.showModal?(_(),de(l,{key:1,onClose:o.closeModal},{default:st(()=>[t[20]||(t[20]=u("h3",{class:"text-lg font-semibold mb-4"},"Adicionar Sala",-1)),u("form",{onSubmit:t[11]||(t[11]=ie((...c)=>o.handleAddRoom&&o.handleAddRoom(...c),["prevent"])),class:"space-y-6"},[u("div",null,[t[16]||(t[16]=u("label",{class:"block text-sm font-medium text-gray-700"},"Nome",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=c=>i.form.name=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.form.name]])]),u("div",null,[t[17]||(t[17]=u("label",{class:"block text-sm font-medium text-gray-700"},"Link do Google Meet",-1)),u("div",LP,[O(u("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=c=>i.form.googleMeetLink=c),class:"flex-grow px-4 py-2 border rounded-md"},null,512),[[j,i.form.googleMeetLink]]),u("button",{type:"button",onClick:t[8]||(t[8]=(...c)=>o.generateMeetLink&&o.generateMeetLink(...c)),class:"btn"},"Gerar"),u("button",{type:"button",onClick:t[9]||(t[9]=(...c)=>o.pasteFromClipboard&&o.pasteFromClipboard(...c)),class:"btn"},"Paste")]),t[18]||(t[18]=u("p",{class:"text-xs text-gray-500 mt-2"}," Aps abrir a nova aba, copie o link da reunio e cole no campo acima. ",-1))]),u("div",FP,[u("button",{type:"button",onClick:t[10]||(t[10]=(...c)=>o.closeModal&&o.closeModal(...c)),class:"px-4 py-2 rounded border"},"Cancelar"),t[19]||(t[19]=u("button",{type:"submit",class:"btn"},"Salvar",-1))])],32)]),_:1,__:[20]},8,["onClose"])):W("",!0)])])}const UP=mt(gP,[["render",jP]]),NP={name:"Comprovantes",components:{Sidebar:Ae,HeaderUser:Pe,Modal:zs},data(){return{userId:null,sidebarOpen:window.innerWidth>=768,templates:[],receipts:[],clients:[],showGenerateModal:!1,generateForm:{clientId:"",startDate:"",endDate:"",templateId:""},receiptContent:null}},methods:{closeGenerateModal(){this.showGenerateModal=!1,this.generateForm={clientId:"",startDate:"",endDate:"",templateId:""}},getClientName(e){const t=this.clients.find(s=>s.id===e);return t?t.name:""},showReceipt(e){this.receiptContent=e},async handleGenerate(){const{data:e}=await N.from("appointments").select().eq("user_id",this.userId).eq("client_id",this.generateForm.clientId).gte("date",this.generateForm.startDate).lte("date",this.generateForm.endDate).order("date",{ascending:!0}).order("time",{ascending:!0}),t=this.templates.find(a=>a.id===this.generateForm.templateId),s=this.clients.find(a=>a.id===this.generateForm.clientId);let n=t?t.content:"";s&&(n=n.replace("{{client_name}}",s.name));const i=(e||[]).map(a=>`- ${a.date} ${a.time}`).join(`
`);n=n.replace("{{appointments}}",i);const{data:o,error:r}=await N.from("receipts").insert({user_id:this.userId,client_id:this.generateForm.clientId,template_id:this.generateForm.templateId,start_date:this.generateForm.startDate,end_date:this.generateForm.endDate,content:n}).select().single();r?alert("Erro ao gerar comprovante: "+r.message):(this.receipts.push(o),this.closeGenerateModal())}},async mounted(){const{data:{user:e}}=await N.auth.getUser();if(!e){this.$router.push("/login");return}this.userId=e.id;const{data:t}=await N.from("clients").select().eq("user_id",this.userId);t&&(this.clients=t);const{data:s}=await N.from("receipt_templates").select().eq("user_id",this.userId);s&&(this.templates=s);const{data:n}=await N.from("receipts").select().eq("user_id",this.userId).order("created_at",{ascending:!1});n&&(this.receipts=n)}},$P={class:"min-h-screen flex bg-gray-100 relative"},BP={class:"flex-1 p-4 md:p-8 space-y-6"},VP={key:0,class:"flex items-center mb-4"},zP={class:"bg-white p-4 rounded-lg shadow space-y-4"},HP={class:"flex justify-between items-center"},WP={class:"overflow-x-auto"},qP={class:"min-w-full text-left"},KP={class:"px-4 py-2"},GP={class:"px-4 py-2"},YP={class:"px-4 py-2"},JP={class:"px-4 py-2 text-right"},XP=["onClick"],QP={key:0},ZP=["value"],tT={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},eT=["value"],sT={class:"flex justify-end space-x-2"},nT={class:"border rounded-md p-4 bg-gray-50"},iT={class:"whitespace-pre-wrap font-mono text-sm"};function oT(e,t,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser"),l=H("Modal");return _(),k("div",$P,[D(r,{"is-open":i.sidebarOpen,onClose:t[0]||(t[0]=c=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",BP,[i.sidebarOpen?W("",!0):(_(),k("div",VP,[u("button",{onClick:t[1]||(t[1]=c=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},t[10]||(t[10]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),D(a,{title:"Comprovantes"}),u("section",zP,[u("div",HP,[t[11]||(t[11]=u("h3",{class:"text-lg font-medium"},"Comprovantes Gerados",-1)),u("button",{onClick:t[2]||(t[2]=c=>i.showGenerateModal=!0),class:"btn"},"Novo Comprovante")]),u("div",WP,[u("table",qP,[t[13]||(t[13]=u("thead",{class:"bg-gray-50"},[u("tr",null,[u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Cliente"),u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Perodo"),u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Criado em"),u("th",{class:"px-4 py-2"})])],-1)),u("tbody",null,[(_(!0),k(J,null,pt(i.receipts,c=>(_(),k("tr",{key:c.id,class:"border-b last:border-b-0"},[u("td",KP,P(o.getClientName(c.client_id)),1),u("td",GP,P(c.start_date)+" - "+P(c.end_date),1),u("td",YP,P(c.created_at.split("T")[0]),1),u("td",JP,[u("button",{onClick:d=>o.showReceipt(c.content),class:"btn btn-sm"},"Ver",8,XP)])]))),128)),i.receipts.length===0?(_(),k("tr",QP,t[12]||(t[12]=[u("td",{colspan:"4",class:"px-4 py-6 text-center text-gray-500"},"Nenhum comprovante",-1)]))):W("",!0)])])])]),i.showGenerateModal?(_(),de(l,{key:1,onClose:o.closeGenerateModal},{default:st(()=>[t[21]||(t[21]=u("h3",{class:"text-lg font-semibold mb-4"},"Novo Comprovante",-1)),u("form",{onSubmit:t[8]||(t[8]=ie((...c)=>o.handleGenerate&&o.handleGenerate(...c),["prevent"])),class:"space-y-4"},[u("div",null,[t[15]||(t[15]=u("label",{class:"block text-sm font-medium text-gray-700"},"Cliente",-1)),O(u("select",{"onUpdate:modelValue":t[3]||(t[3]=c=>i.generateForm.clientId=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},[t[14]||(t[14]=u("option",{disabled:"",value:""},"Selecione",-1)),(_(!0),k(J,null,pt(i.clients,c=>(_(),k("option",{key:c.id,value:c.id},P(c.name),9,ZP))),128))],512),[[Me,i.generateForm.clientId]])]),u("div",tT,[u("div",null,[t[16]||(t[16]=u("label",{class:"block text-sm font-medium text-gray-700"},"De",-1)),O(u("input",{type:"date","onUpdate:modelValue":t[4]||(t[4]=c=>i.generateForm.startDate=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.generateForm.startDate]])]),u("div",null,[t[17]||(t[17]=u("label",{class:"block text-sm font-medium text-gray-700"},"At",-1)),O(u("input",{type:"date","onUpdate:modelValue":t[5]||(t[5]=c=>i.generateForm.endDate=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.generateForm.endDate]])])]),u("div",null,[t[19]||(t[19]=u("label",{class:"block text-sm font-medium text-gray-700"},"Template",-1)),O(u("select",{"onUpdate:modelValue":t[6]||(t[6]=c=>i.generateForm.templateId=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},[t[18]||(t[18]=u("option",{disabled:"",value:""},"Selecione",-1)),(_(!0),k(J,null,pt(i.templates,c=>(_(),k("option",{key:c.id,value:c.id},P(c.name),9,eT))),128))],512),[[Me,i.generateForm.templateId]])]),u("div",sT,[u("button",{type:"button",onClick:t[7]||(t[7]=(...c)=>o.closeGenerateModal&&o.closeGenerateModal(...c)),class:"px-4 py-2 rounded border"},"Cancelar"),t[20]||(t[20]=u("button",{type:"submit",class:"btn"},"Gerar",-1))])],32)]),_:1,__:[21]},8,["onClose"])):W("",!0),i.receiptContent?(_(),de(l,{key:2,onClose:t[9]||(t[9]=c=>i.receiptContent=null)},{default:st(()=>[t[22]||(t[22]=u("h3",{class:"text-lg font-semibold text-center mb-4"},"Comprovante",-1)),u("div",nT,[u("pre",iT,P(i.receiptContent),1)])]),_:1,__:[22]})):W("",!0)])])}const rT=mt(NP,[["render",oT]]),aT={name:"Atendimento",components:{Sidebar:Ae,HeaderUser:Pe},data(){return{sidebarOpen:window.innerWidth>=768,activeTab:"current",appointment:null,note:"",files:[],notes:[],userId:null}},computed:{appointmentDateTime(){return this.appointment?`${this.appointment.date} ${this.appointment.time}`:""},groupedNotes(){const e={};return this.notes.forEach(t=>{const s=t.created_at.split("T")[0];e[s]||(e[s]=[]),e[s].push(t)}),Object.keys(e).sort((t,s)=>new Date(s)-new Date(t)).map(t=>({date:t,items:e[t]}))}},methods:{formatDateTime(e){return new Date(e).toLocaleString("pt-BR")},handleFileChange(e){this.files=Array.from(e.target.files)},async fetchData(){const{data:{user:e}}=await N.auth.getUser();if(!e){this.$router.push("/login");return}this.userId=e.id;const{data:t}=await N.from("appointments").select().eq("id",this.$route.params.id).single();this.appointment=t;const{data:s}=await N.from("appointment_notes").select().eq("appointment_id",this.$route.params.id).order("created_at",{ascending:!1});this.notes=s||[]},async saveNote(){if(!this.note.trim()&&!this.files.length)return;const e=[];for(const n of this.files){const i=n.name.split(".").pop(),o=`${this.$route.params.id}-${Date.now()}-${Math.random().toString(36).slice(2)}.${i}`,{error:r}=await N.storage.from("appointment-attachments").upload(o,n);if(!r){const{data:{publicUrl:a}}=N.storage.from("appointment-attachments").getPublicUrl(o);e.push(a)}}const{data:t,error:s}=await N.from("appointment_notes").insert({appointment_id:this.$route.params.id,user_id:this.userId,note:this.note,attachments:e}).select().single();s?alert("Erro ao salvar atendimento: "+s.message):(this.notes.unshift(t),this.note="",this.files=[])}},async mounted(){await this.fetchData()}},lT={class:"min-h-screen flex bg-gray-100 relative"},cT={class:"flex-1 p-4 md:p-8"},dT={key:0,class:"flex items-center mb-4"},uT={class:"bg-white p-4 rounded-lg shadow mt-4"},hT={class:"border-b mb-4"},fT={class:"flex space-x-4"},pT={key:0},mT={class:"mb-2 text-sm text-gray-600"},gT={key:1},bT={class:"font-semibold mb-2"},yT={class:"text-sm text-gray-600 mb-1"},xT={class:"mb-2 whitespace-pre-line"},vT={key:0,class:"space-x-2"},_T=["href"];function wT(e,t,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser");return _(),k("div",lT,[D(r,{"is-open":i.sidebarOpen,onClose:t[0]||(t[0]=l=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",cT,[i.sidebarOpen?W("",!0):(_(),k("div",dT,[u("button",{onClick:t[1]||(t[1]=l=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},t[7]||(t[7]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),D(a,{title:"Atendimento"}),u("section",uT,[u("div",hT,[u("nav",fT,[u("button",{class:be(i.activeTab==="current"?"border-b-2 border-blue-500 pb-2":"text-gray-500 pb-2"),onClick:t[2]||(t[2]=l=>i.activeTab="current")},"Atendimento",2),u("button",{class:be(i.activeTab==="history"?"border-b-2 border-blue-500 pb-2":"text-gray-500 pb-2"),onClick:t[3]||(t[3]=l=>i.activeTab="history")},"Histrico de atendimento",2)])]),i.activeTab==="current"?(_(),k("div",pT,[u("p",mT,"Data/hora: "+P(o.appointmentDateTime),1),O(u("textarea",{"onUpdate:modelValue":t[4]||(t[4]=l=>i.note=l),class:"w-full border rounded p-2 mb-4",rows:"6",placeholder:"Descreva o atendimento"},null,512),[[j,i.note]]),u("input",{type:"file",multiple:"",onChange:t[5]||(t[5]=(...l)=>o.handleFileChange&&o.handleFileChange(...l)),class:"mb-4"},null,32),u("button",{onClick:t[6]||(t[6]=(...l)=>o.saveNote&&o.saveNote(...l)),class:"btn"},"Salvar")])):(_(),k("div",gT,[(_(!0),k(J,null,pt(o.groupedNotes,l=>(_(),k("div",{key:l.date,class:"mb-4"},[u("h4",bT,P(l.date),1),(_(!0),k(J,null,pt(l.items,c=>(_(),k("div",{key:c.id,class:"border p-2 rounded mb-2"},[u("p",yT,P(o.formatDateTime(c.created_at)),1),u("p",xT,P(c.note),1),c.attachments&&c.attachments.length?(_(),k("div",vT,[(_(!0),k(J,null,pt(c.attachments,(d,h)=>(_(),k("a",{key:h,href:d,target:"_blank",class:"text-blue-600 underline"},"Anexo "+P(h+1),9,_T))),128))])):W("",!0)]))),128))]))),128))]))])])])}const kT=mt(aT,[["render",wT]]),ST={name:"Templates",components:{Sidebar:Ae,HeaderUser:Pe,Modal:zs},data(){return{userId:null,sidebarOpen:window.innerWidth>=768,templates:[],showTemplateModal:!1,templateForm:{name:"",content:""}}},methods:{closeTemplateModal(){this.showTemplateModal=!1,this.templateForm={name:"",content:""}},async handleAddTemplate(){const{data:e,error:t}=await N.from("receipt_templates").insert({name:this.templateForm.name,content:this.templateForm.content,user_id:this.userId}).select().single();t?alert("Erro ao salvar template: "+t.message):(this.templates.push(e),this.closeTemplateModal())}},async mounted(){const{data:{user:e}}=await N.auth.getUser();if(!e){this.$router.push("/login");return}this.userId=e.id;const{data:t}=await N.from("receipt_templates").select().eq("user_id",this.userId);t&&(this.templates=t)}},CT={class:"min-h-screen flex bg-gray-100 relative"},MT={class:"flex-1 p-4 md:p-8 space-y-6"},AT={key:0,class:"flex items-center mb-4"},PT={class:"bg-white p-4 rounded-lg shadow space-y-4"},TT={class:"flex justify-between items-center"},OT={class:"overflow-x-auto"},ET={class:"min-w-full text-left"},DT={class:"px-4 py-2"},IT={key:0},RT={class:"flex justify-end space-x-2"};function LT(e,t,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser"),l=H("Modal");return _(),k("div",CT,[D(r,{"is-open":i.sidebarOpen,onClose:t[0]||(t[0]=c=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",MT,[i.sidebarOpen?W("",!0):(_(),k("div",AT,[u("button",{onClick:t[1]||(t[1]=c=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},t[7]||(t[7]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),D(a,{title:"Templates"}),u("section",PT,[u("div",TT,[t[8]||(t[8]=u("h3",{class:"text-lg font-medium"},"Templates",-1)),u("button",{onClick:t[2]||(t[2]=c=>i.showTemplateModal=!0),class:"btn"},"Novo Template")]),u("div",OT,[u("table",ET,[t[10]||(t[10]=u("thead",{class:"bg-gray-50"},[u("tr",null,[u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Nome")])],-1)),u("tbody",null,[(_(!0),k(J,null,pt(i.templates,c=>(_(),k("tr",{key:c.id,class:"border-b last:border-b-0"},[u("td",DT,P(c.name),1)]))),128)),i.templates.length===0?(_(),k("tr",IT,t[9]||(t[9]=[u("td",{class:"px-4 py-6 text-center text-gray-500"},"Nenhum template",-1)]))):W("",!0)])])])]),i.showTemplateModal?(_(),de(l,{key:1,onClose:o.closeTemplateModal},{default:st(()=>[t[15]||(t[15]=u("h3",{class:"text-lg font-semibold mb-4"},"Novo Template",-1)),u("form",{onSubmit:t[6]||(t[6]=ie((...c)=>o.handleAddTemplate&&o.handleAddTemplate(...c),["prevent"])),class:"space-y-4"},[u("div",null,[t[11]||(t[11]=u("label",{class:"block text-sm font-medium text-gray-700"},"Nome",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=c=>i.templateForm.name=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.templateForm.name]])]),u("div",null,[t[12]||(t[12]=u("label",{class:"block text-sm font-medium text-gray-700"},"Contedo",-1)),O(u("textarea",{"onUpdate:modelValue":t[4]||(t[4]=c=>i.templateForm.content=c),class:"w-full mt-1 px-4 py-2 border rounded-md",rows:"4"},null,512),[[j,i.templateForm.content]]),t[13]||(t[13]=u("p",{class:"text-sm text-gray-500 mt-1"},"Use {{client_name}} e {{appointments}}",-1))]),u("div",RT,[u("button",{type:"button",onClick:t[5]||(t[5]=(...c)=>o.closeTemplateModal&&o.closeTemplateModal(...c)),class:"px-4 py-2 rounded border"},"Cancelar"),t[14]||(t[14]=u("button",{type:"submit",class:"btn"},"Salvar",-1))])],32)]),_:1,__:[15]},8,["onClose"])):W("",!0)])])}const FT=mt(ST,[["render",LT]]),jT={name:"Contato",components:{Navbar:ze,Footer:He},data(){return{nome:"",email:"",mensagem:"",sucesso:!1,erro:""}},methods:{async enviar(){if(this.sucesso=!1,this.erro="",this.email&&!ss(this.email)){this.erro="E-mail invlido";return}const{error:e}=await N.from("contacts").insert({name:this.nome,email:this.email,message:this.mensagem});e?this.erro="Erro ao enviar mensagem: "+e.message:(this.sucesso=!0,this.nome="",this.email="",this.mensagem="")}}},UT={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 px-4"},NT={class:"bg-white p-10 rounded-2xl shadow-xl w-full max-w-lg"},$T={key:0,class:"mt-4 text-green-600 text-center"},BT={key:1,class:"mt-4 text-red-600 text-center"};function VT(e,t,s,n,i,o){const r=H("Navbar"),a=H("Footer");return _(),k(J,null,[D(r),u("section",UT,[u("div",NT,[t[8]||(t[8]=ln('<div class="mb-8 text-center"><h2 class="text-3xl font-extrabold text-blue-700">Fale conosco</h2><p class="text-gray-500">Envie sua mensagem e entraremos em contato</p></div><div class="mb-6 text-center"><a href="https://wa.me/5518996233098" target="_blank" rel="noopener" class="btn btn-success inline-flex items-center space-x-2"><img src="'+rp+'" alt="WhatsApp" class="w-5 h-5"><span>Falar via WhatsApp</span></a></div>',2)),u("form",{onSubmit:t[3]||(t[3]=ie((...l)=>o.enviar&&o.enviar(...l),["prevent"])),class:"space-y-5"},[u("div",null,[t[4]||(t[4]=u("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"nome"},"Nome",-1)),O(u("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>i.nome=l),id:"nome",type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[j,i.nome]])]),u("div",null,[t[5]||(t[5]=u("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"email"},"E-mail",-1)),O(u("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>i.email=l),id:"email",type:"email",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[j,i.email]])]),u("div",null,[t[6]||(t[6]=u("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"mensagem"},"Mensagem",-1)),O(u("textarea",{"onUpdate:modelValue":t[2]||(t[2]=l=>i.mensagem=l),id:"mensagem",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"4"},null,512),[[j,i.mensagem]])]),t[7]||(t[7]=u("button",{type:"submit",class:"btn w-full"},"Enviar",-1))],32),i.sucesso?(_(),k("p",$T,"Mensagem enviada com sucesso!")):W("",!0),i.erro?(_(),k("p",BT,P(i.erro),1)):W("",!0)])]),D(a)],64)}const zT=mt(jT,[["render",VT]]),HT={name:"MinhaAssinatura",components:{Sidebar:Ae,HeaderUser:Pe},data(){return{sidebarOpen:window.innerWidth>=768}},methods:{goBeta(){this.$router.push("/assinatura-plus")},goBasico(){this.$router.push("/dashboard")}}},WT={class:"min-h-screen flex bg-gray-100 relative"},qT={class:"flex-1 p-4 md:p-8 space-y-6"},KT={key:0,class:"flex items-center mb-4"},GT={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},YT={class:"bg-white p-6 rounded-lg shadow space-y-4"},JT={class:"bg-white p-6 rounded-lg shadow space-y-4"};function XT(e,t,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser");return _(),k("div",WT,[D(r,{"is-open":i.sidebarOpen,onClose:t[0]||(t[0]=l=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",qT,[i.sidebarOpen?W("",!0):(_(),k("div",KT,[u("button",{onClick:t[1]||(t[1]=l=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},t[4]||(t[4]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),D(a,{title:"Minha Assinatura"}),u("section",GT,[u("div",YT,[t[5]||(t[5]=ln('<h3 class="text-xl font-semibold text-center">Bsico</h3><p class="text-center text-2xl font-bold text-blue-600">Grtis</p><ul class="space-y-2"><li class="flex items-start"><span class="mr-2"></span>Cadastro de at 5 pacientes</li><li class="flex items-start"><span class="mr-2"></span>Lembretes por e-mail</li><li class="flex items-start line-through text-gray-400"><span class="mr-2"></span>Lembretes via WhatsApp</li><li class="flex items-start line-through text-gray-400"><span class="mr-2"></span>Customizao de domnio da pgina pblica</li><li class="flex items-start line-through text-gray-400"><span class="mr-2"></span>Pgina pblica sem banner do Agenda Zen</li><li class="flex items-start line-through text-gray-400"><span class="mr-2"></span>Gerao de recibos de atendimentos</li><li class="flex items-start line-through text-gray-400"><span class="mr-2"></span>Envio de recibos por e-mail automtico</li></ul>',3)),u("button",{class:"btn mt-4 w-full",onClick:t[2]||(t[2]=(...l)=>o.goBasico&&o.goBasico(...l))},"Escolher")]),u("div",JT,[t[6]||(t[6]=ln('<h3 class="text-xl font-semibold text-center">Beta</h3><p class="text-center text-2xl font-bold line-through text-gray-400">R$167,90</p><ul class="space-y-2"><li class="flex items-start"><span class="mr-2"></span>Cadastro de pacientes ilimitado</li><li class="flex items-start"><span class="mr-2"></span>Lembretes por e-mail</li><li class="flex items-start"><span class="mr-2"></span>Lembretes via WhatsApp</li><li class="flex items-start"><span class="mr-2"></span>Customizao de domnio da pgina pblica</li><li class="flex items-start"><span class="mr-2"></span>Pgina pblica sem banner do Agenda Zen</li><li class="flex items-start"><span class="mr-2"></span>Gerao de recibos de atendimentos</li><li class="flex items-start"><span class="mr-2"></span>Envio de recibos por e-mail automtico</li></ul>',3)),u("button",{class:"btn mt-4 w-full",onClick:t[3]||(t[3]=(...l)=>o.goBeta&&o.goBeta(...l))},"Escolher")])])])])}const QT=mt(HT,[["render",XT]]),ZT={name:"Faturamento",components:{Sidebar:Ae,HeaderUser:Pe},data(){return{userId:null,sidebarOpen:window.innerWidth>=768,services:[],selectedServices:[],filterStart:"",filterEnd:"",groupBy:"mes",revenueData:[],chart:null}},methods:{async fetchServices(){const{data:e}=await N.from("services").select().eq("user_id",this.userId);this.services=e||[],this.selectedServices=this.services.map(t=>t.id)},async fetchRevenue(){if(!this.filterStart||!this.filterEnd)return;const{data:e}=await N.from("appointments").select("date, service_id").eq("user_id",this.userId).gte("date",this.filterStart).lte("date",this.filterEnd),t=e||[],s={};this.services.forEach(o=>{s[o.id]=Number(o.price)||0});const n=this.selectedServices.length?t.filter(o=>this.selectedServices.includes(o.service_id)):t,i={};n.forEach(o=>{const r=new Date(o.date);let a="";if(this.groupBy==="dia")a=r.toISOString().split("T")[0];else if(this.groupBy==="semana"){const c=this.getWeekNumber(r);a=`${r.getFullYear()}-W${c}`}else a=`${r.getFullYear()}-${(r.getMonth()+1).toString().padStart(2,"0")}`;const l=s[o.service_id]||0;i[a]=(i[a]||0)+l}),this.revenueData=Object.keys(i).sort().map(o=>({label:o,total:i[o]})),this.renderChart()},getWeekNumber(e){const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),s=t.getUTCDay()||7;t.setUTCDate(t.getUTCDate()+4-s);const n=new Date(Date.UTC(t.getUTCFullYear(),0,1));return Math.ceil(((t-n)/864e5+1)/7)},renderChart(){const e=this.$refs.chartCanvas.getContext("2d");this.chart&&this.chart.destroy(),this.chart=new Ze(e,{type:"bar",data:{labels:this.revenueData.map(t=>t.label),datasets:[{label:"Faturamento",data:this.revenueData.map(t=>t.total),backgroundColor:"#3b82f6"}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0}}}})},formatPrice(e){return Number(e).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}},async mounted(){const{data:{user:e}}=await N.auth.getUser();if(!e){this.$router.push("/login");return}this.userId=e.id,await this.fetchServices();const t=new Date,s=new Date(t.getFullYear(),t.getMonth(),1),n=new Date(t.getFullYear(),t.getMonth()+1,0);this.filterStart=s.toISOString().split("T")[0],this.filterEnd=n.toISOString().split("T")[0]}},tO={class:"min-h-screen flex bg-gray-100 relative"},eO={class:"flex-1 p-4 md:p-8 space-y-6"},sO={key:0,class:"flex items-center mb-4"},nO={class:"bg-white p-4 rounded-lg shadow space-y-4"},iO={class:"grid grid-cols-1 md:grid-cols-4 gap-4 items-start"},oO={class:"mt-1 space-y-1"},rO=["value"],aO={class:"md:col-span-2"},lO={class:"grid grid-cols-2 gap-2 mt-1"},cO={class:"flex flex-col mt-3"},dO={class:"flex justify-end"},uO={class:"bg-white p-4 rounded-lg shadow space-y-4"},hO={class:"overflow-x-auto"},fO={class:"min-w-full text-left"},pO={class:"px-4 py-2"},mO={class:"px-4 py-2"},gO={key:0},bO={class:"h-64"},yO={ref:"chartCanvas",class:"w-full h-full"};function xO(e,t,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser");return _(),k("div",tO,[D(r,{"is-open":i.sidebarOpen,onClose:t[0]||(t[0]=l=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",eO,[i.sidebarOpen?W("",!0):(_(),k("div",sO,[u("button",{onClick:t[1]||(t[1]=l=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},t[7]||(t[7]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),D(a,{title:"Relatrio de Faturamento"}),u("section",nO,[u("div",iO,[u("div",null,[t[8]||(t[8]=u("label",{class:"block text-sm font-medium text-gray-700"},"Servios",-1)),u("div",oO,[(_(!0),k(J,null,pt(i.services,l=>(_(),k("label",{key:l.id,class:"flex items-center space-x-2"},[O(u("input",{type:"checkbox",value:l.id,"onUpdate:modelValue":t[2]||(t[2]=c=>i.selectedServices=c)},null,8,rO),[[ll,i.selectedServices]]),u("span",null,P(l.name),1)]))),128))])]),u("div",aO,[t[13]||(t[13]=u("label",{class:"block text-sm font-medium text-gray-700"},"Datas",-1)),u("div",lO,[u("div",null,[t[9]||(t[9]=u("label",{class:"block text-xs font-medium text-gray-700"},"De",-1)),O(u("input",{type:"date","onUpdate:modelValue":t[3]||(t[3]=l=>i.filterStart=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.filterStart]])]),u("div",null,[t[10]||(t[10]=u("label",{class:"block text-xs font-medium text-gray-700"},"At",-1)),O(u("input",{type:"date","onUpdate:modelValue":t[4]||(t[4]=l=>i.filterEnd=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.filterEnd]])])]),u("div",cO,[t[12]||(t[12]=u("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Agrupar por",-1)),O(u("select",{"onUpdate:modelValue":t[5]||(t[5]=l=>i.groupBy=l),class:"w-full px-4 py-2 border rounded-md"},t[11]||(t[11]=[u("option",{value:"mes"},"Ms",-1),u("option",{value:"semana"},"Semana",-1),u("option",{value:"dia"},"Dia",-1)]),512),[[Me,i.groupBy]])])])]),u("div",dO,[u("button",{onClick:t[6]||(t[6]=(...l)=>o.fetchRevenue&&o.fetchRevenue(...l)),class:"btn"},"Aplicar")])]),u("section",uO,[u("div",hO,[u("table",fO,[t[15]||(t[15]=u("thead",{class:"bg-gray-50"},[u("tr",null,[u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Perodo"),u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Faturamento")])],-1)),u("tbody",null,[(_(!0),k(J,null,pt(i.revenueData,l=>(_(),k("tr",{key:l.label,class:"border-b last:border-b-0"},[u("td",pO,P(l.label),1),u("td",mO,P(o.formatPrice(l.total)),1)]))),128)),i.revenueData.length===0?(_(),k("tr",gO,t[14]||(t[14]=[u("td",{colspan:"2",class:"px-4 py-6 text-center text-gray-500"},"Nenhum dado",-1)]))):W("",!0)])])]),u("div",bO,[u("canvas",yO,null,512)])])])])}const vO=mt(ZT,[["render",xO]]),_O={name:"Faq",components:{Navbar:ze,Footer:He},data(){return{faqs:[{question:"Como me cadastro?",answer:'Clique em "Cadastre-se" no menu e preencha o formulrio.'},{question:"Posso cancelar a qualquer momento?",answer:"Sim, voc pode cancelar seu plano a hora que quiser sem taxas adicionais."},{question:"Como entro em contato com o suporte?",answer:"Utilize a pgina de contato para nos enviar sua mensagem."}]}}},wO={class:"min-h-screen flex flex-col bg-gray-100"},kO={class:"flex-1 max-w-3xl mx-auto p-8"},SO={class:"space-y-6"},CO={class:"font-semibold text-blue-600 mb-2"},MO={class:"text-gray-700"};function AO(e,t,s,n,i,o){const r=H("Navbar"),a=H("Footer");return _(),k(J,null,[D(r),u("div",wO,[u("main",kO,[t[0]||(t[0]=u("h1",{class:"text-3xl font-bold text-center mb-8"},"Perguntas Frequentes",-1)),u("div",SO,[(_(!0),k(J,null,pt(i.faqs,(l,c)=>(_(),k("div",{key:c,class:"bg-white p-6 rounded-lg shadow"},[u("h2",CO,P(l.question),1),u("p",MO,P(l.answer),1)]))),128))])]),D(a)])],64)}const PO=mt(_O,[["render",AO]]),TO={name:"PoliticaPrivacidade",components:{Navbar:ze,Footer:He}};function OO(e,t,s,n,i,o){const r=H("Navbar"),a=H("Footer");return _(),k(J,null,[D(r),t[0]||(t[0]=u("section",{class:"max-w-3xl mx-auto px-4 py-16 space-y-4"},[u("h1",{class:"text-3xl font-bold text-center mb-4"},"Poltica de Privacidade"),u("p",null,"Esta poltica descreve como tratamos seus dados pessoais e garante a transparncia sobre o uso das suas informaes."),u("p",null,"Utilizamos seus dados apenas para prover nossos servios de agendamento e nunca os compartilhamos com terceiros sem consentimento."),u("p",null,"Ao utilizar o Agenda Zen voc concorda com esta poltica. Em caso de dvidas entre em contato conosco.")],-1)),D(a)],64)}const EO=mt(TO,[["render",OO]]),DO={name:"TermosDeUso",components:{Navbar:ze,Footer:He}};function IO(e,t,s,n,i,o){const r=H("Navbar"),a=H("Footer");return _(),k(J,null,[D(r),t[0]||(t[0]=u("section",{class:"max-w-3xl mx-auto px-4 py-16 space-y-4"},[u("h1",{class:"text-3xl font-bold text-center mb-4"},"Termos de Uso"),u("p",null,"Estes termos definem as regras para utilizao da plataforma Agenda Zen. Ao criar uma conta voc concorda em segui-los."),u("p",null,"O servio deve ser utilizado apenas para atividades lcitas e em conformidade com a legislao vigente. Contas que violem estas condies podero ser suspensas."),u("p",null,"Podemos atualizar estes termos periodicamente. Avisaremos sobre mudanas importantes diretamente no site.")],-1)),D(a)],64)}const RO=mt(DO,[["render",IO]]),LO="/icons/visa.svg",FO="/icons/mastercard.svg",jO="/icons/amex.svg",UO="/icons/elo.svg",NO="/logo_pix.png",$O={name:"PagamentoPlus",components:{Sidebar:Ae,HeaderUser:Pe},data(){return{sidebarOpen:window.innerWidth>=768,activeTab:"cartao",card:{name:"",number:"",expiry:"",cvv:"",document:""},billing:{cep:"",street:"",number:"",complement:"",neighborhood:"",city:"",state:""},pixCode:"000201010212..."}}},BO={class:"min-h-screen flex bg-gray-100 relative"},VO={class:"flex-1 p-8 space-y-6"},zO={key:0,class:"flex items-center mb-4"},HO={class:"mb-6 space-x-2"},WO={key:1,class:"space-y-6 max-w-3xl"},qO={class:"grid grid-cols-2 gap-4"},KO={class:"space-y-4 mt-4"},GO={class:"grid grid-cols-2 gap-4"},YO={class:"grid grid-cols-2 gap-4"},JO={key:2,class:"space-y-6 max-w-3xl"},XO={class:"text-center space-y-4"};function QO(e,t,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser");return _(),k("div",BO,[D(r,{"is-open":i.sidebarOpen,onClose:t[0]||(t[0]=l=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",VO,[i.sidebarOpen?W("",!0):(_(),k("div",zO,[u("button",{onClick:t[1]||(t[1]=l=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},t[17]||(t[17]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),D(a,{title:"Pagamento"}),u("nav",HO,[u("button",{onClick:t[2]||(t[2]=l=>i.activeTab="cartao"),class:be([i.activeTab==="cartao"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700","px-4 py-2 rounded-l"])},"Carto de Crdito",2),u("button",{onClick:t[3]||(t[3]=l=>i.activeTab="pix"),class:be([i.activeTab==="pix"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700","px-4 py-2 rounded-r"])},"Pix",2)]),i.activeTab==="cartao"?(_(),k("section",WO,[t[31]||(t[31]=ln('<div class="flex justify-center space-x-2 mb-4"><img src="'+LO+'" alt="Visa" class="h-8"><img src="'+FO+'" alt="Mastercard" class="h-8"><img src="'+jO+'" alt="American Express" class="h-8"><img src="'+UO+'" alt="Elo" class="h-8"></div>',1)),u("div",null,[t[18]||(t[18]=u("label",{class:"block text-sm font-medium text-gray-700"},"Nome (igual no carto)",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=l=>i.card.name=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.card.name]])]),u("div",null,[t[19]||(t[19]=u("label",{class:"block text-sm font-medium text-gray-700"},"Nmero do carto",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=l=>i.card.number=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.card.number]])]),u("div",qO,[u("div",null,[t[20]||(t[20]=u("label",{class:"block text-sm font-medium text-gray-700"},"Validade (MM/AA)",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=l=>i.card.expiry=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.card.expiry]])]),u("div",null,[t[21]||(t[21]=u("label",{class:"block text-sm font-medium text-gray-700"},"Cdigo de Segurana (CVV)",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=l=>i.card.cvv=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.card.cvv]])])]),u("div",null,[t[22]||(t[22]=u("label",{class:"block text-sm font-medium text-gray-700"},"CPF/CNPJ",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=l=>i.card.document=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.card.document]])]),u("div",KO,[t[30]||(t[30]=u("h3",{class:"text-md font-semibold"},"Endereo de cobrana",-1)),u("div",null,[t[23]||(t[23]=u("label",{class:"block text-sm font-medium text-gray-700"},"CEP",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=l=>i.billing.cep=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.billing.cep]])]),u("div",null,[t[24]||(t[24]=u("label",{class:"block text-sm font-medium text-gray-700"},"Rua",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[10]||(t[10]=l=>i.billing.street=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.billing.street]])]),u("div",GO,[u("div",null,[t[25]||(t[25]=u("label",{class:"block text-sm font-medium text-gray-700"},"Nmero",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[11]||(t[11]=l=>i.billing.number=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.billing.number]])]),u("div",null,[t[26]||(t[26]=u("label",{class:"block text-sm font-medium text-gray-700"},"Complemento",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[12]||(t[12]=l=>i.billing.complement=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.billing.complement]])])]),u("div",null,[t[27]||(t[27]=u("label",{class:"block text-sm font-medium text-gray-700"},"Bairro",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[13]||(t[13]=l=>i.billing.neighborhood=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.billing.neighborhood]])]),u("div",YO,[u("div",null,[t[28]||(t[28]=u("label",{class:"block text-sm font-medium text-gray-700"},"Cidade",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[14]||(t[14]=l=>i.billing.city=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.billing.city]])]),u("div",null,[t[29]||(t[29]=u("label",{class:"block text-sm font-medium text-gray-700"},"Estado",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[15]||(t[15]=l=>i.billing.state=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[j,i.billing.state]])])])]),t[32]||(t[32]=u("div",{class:"text-right mt-4"},[u("button",{class:"btn"},"Pagar")],-1))])):W("",!0),i.activeTab==="pix"?(_(),k("section",JO,[u("div",XO,[t[33]||(t[33]=u("img",{src:NO,alt:"Logo Pix",class:"mx-auto w-[17.6rem] h-auto"},null,-1)),t[34]||(t[34]=u("p",{class:"font-semibold"},"Cdigo de pagamento",-1)),t[35]||(t[35]=u("p",null,"Copie e cole o cdigo abaixo no app da sua instituio financeira para finalizar a compra.",-1)),t[36]||(t[36]=u("p",{class:"font-semibold"},"Valor do pagamento",-1)),t[37]||(t[37]=u("p",{class:"text-lg font-semibold"},"R$ 67,00",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[16]||(t[16]=l=>i.pixCode=l),readonly:"",class:"w-full px-4 py-2 border rounded-md text-center"},null,512),[[j,i.pixCode]])])])):W("",!0)])])}const ZO=mt($O,[["render",QO]]),tE={name:"Confirmacao",components:{Navbar:ze,Footer:He}},eE={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 px-4"},sE={class:"bg-white p-10 rounded-2xl shadow-xl w-full max-w-lg text-center space-y-6"},nE={class:"flex justify-center space-x-4"};function iE(e,t,s,n,i,o){const r=H("Navbar"),a=H("router-link"),l=H("Footer");return _(),k(J,null,[D(r),u("section",eE,[u("div",sE,[t[2]||(t[2]=u("img",{src:rs,alt:"Sucesso",class:"w-16 h-16 mx-auto text-green-500"},null,-1)),t[3]||(t[3]=u("h1",{class:"text-2xl font-bold text-green-600"},"Cadastro efetuado com sucesso",-1)),u("div",nE,[D(a,{to:"/",class:"btn inline-block"},{default:st(()=>t[0]||(t[0]=[tt("Incio")])),_:1,__:[0]}),D(a,{to:"/login",class:"btn inline-block"},{default:st(()=>t[1]||(t[1]=[tt("Login")])),_:1,__:[1]})])])]),D(l)],64)}const oE=mt(tE,[["render",iE]]),rE="/icons/error.svg",aE={name:"LinkExpirado",components:{Navbar:ze,Footer:He},data(){return{email:""}},methods:{async reenviarLink(){if(!ss(this.email)){alert("E-mail invlido");return}const{error:e}=await N.auth.resend({type:"signup",email:this.email});alert(e?"Erro ao reenviar link: "+e.message:"Link reenviado! Verifique seu e-mail.")}}},lE={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 px-4"},cE={class:"bg-white p-10 rounded-2xl shadow-xl w-full max-w-lg text-center space-y-6"},dE={class:"flex justify-center space-x-4"};function uE(e,t,s,n,i,o){const r=H("Navbar"),a=H("router-link"),l=H("Footer");return _(),k(J,null,[D(r),u("section",lE,[u("div",cE,[t[3]||(t[3]=u("img",{src:rE,alt:"Erro",class:"w-16 h-16 mx-auto text-red-500"},null,-1)),t[4]||(t[4]=u("h1",{class:"text-2xl font-bold text-red-600"},"Link expirado ou invlido",-1)),t[5]||(t[5]=u("p",{class:"text-gray-700"},"Informe seu e-mail para receber um novo link de confirmao.",-1)),O(u("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>i.email=c),type:"email",placeholder:"seu@email.com",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[j,i.email]]),u("div",dE,[u("button",{onClick:t[1]||(t[1]=(...c)=>o.reenviarLink&&o.reenviarLink(...c)),class:"btn"},"Reenviar link"),D(a,{to:"/",class:"btn"},{default:st(()=>t[2]||(t[2]=[tt("Incio")])),_:1,__:[2]})])])]),D(l)],64)}const hE=mt(aE,[["render",uE]]),fE=[{path:"/",name:"Home",component:g0},{path:"/cadastro",name:"Signup",component:$x},{path:"/confirmacao",name:"Confirmacao",component:oE},{path:"/link-expirado",name:"LinkExpirado",component:hE},{path:"/login",name:"Login",component:Kx},{path:"/onboarding",name:"Onboarding",component:cv},{path:"/dashboard",name:"Dashboard",component:SS},{path:"/configuracao",name:"Configuracao",component:zS},{path:"/clientes",name:"Clientes",component:TC},{path:"/servicos",name:"Servicos",component:eA},{path:"/salas",name:"Salas",component:UP},{path:"/agendamentos",name:"Agendamentos",component:OM},{path:"/comprovantes",name:"Comprovantes",component:rT},{path:"/templates",name:"Templates",component:FT},{path:"/usuarios",name:"Usuarios",component:SA},{path:"/minha-assinatura",name:"MinhaAssinatura",component:QT},{path:"/assinatura-plus",name:"PagamentoPlus",component:ZO},{path:"/faturamento",name:"Faturamento",component:vO},{path:"/buscar",name:"SearchProfiles",component:LA},{path:"/planos",name:"Planos",component:mP},{path:"/contato",name:"Contato",component:zT},{path:"/faq",name:"Faq",component:PO},{path:"/politica-de-privacidade",name:"PoliticaDePrivacidade",component:EO},{path:"/termos-de-uso",name:"TermosDeUso",component:RO},{path:"/atendimento/:id",name:"Atendimento",component:kT},{path:"/:slug",name:"PublicPage",component:dP}],Vi=Nb({history:pb(),routes:fE});Vi.afterEach(e=>{window.gtag&&window.gtag("config","G-XXXXXXXXXX",{page_path:e.fullPath})});const pE=async()=>{var s;const e=window.location.hash.replace(/^#\/?/,""),t=new URLSearchParams(e);if(t.get("error_code")==="otp_expired"||(s=t.get("error_description"))!=null&&s.includes("Email link is invalid")){Vi.replace("/link-expirado");return}if(window.location.hash.includes("access_token")&&window.location.hash.includes("type=signup")){const n=t.get("access_token"),i=t.get("refresh_token");if(n&&i)try{await N.auth.setSession({access_token:n,refresh_token:i}),Vi.replace("/confirmacao")}catch{}}};pE();N.auth.onAuthStateChange(e=>{e==="SIGNED_IN"&&window.location.hash.includes("access_token")&&window.location.hash.includes("type=signup")&&Vi.replace("/confirmacao")});Ag(Fg).use(Vi).mount("#app");export{gE as g};
