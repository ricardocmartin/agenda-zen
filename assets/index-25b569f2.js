var um=Object.defineProperty;var hm=(e,t,s)=>t in e?um(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var $=(e,t,s)=>(hm(e,typeof t!="symbol"?t+"":t,s),s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();/**
* @vue/shared v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function vl(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const Et={},Pn=[],Ue=()=>{},fm=()=>!1,vr=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),wl=e=>e.startsWith("onUpdate:"),Yt=Object.assign,kl=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},pm=Object.prototype.hasOwnProperty,Ct=(e,t)=>pm.call(e,t),ot=Array.isArray,Tn=e=>so(e)==="[object Map]",Qn=e=>so(e)==="[object Set]",yc=e=>so(e)==="[object Date]",dt=e=>typeof e=="function",Ht=e=>typeof e=="string",ze=e=>typeof e=="symbol",Rt=e=>e!==null&&typeof e=="object",Zu=e=>(Rt(e)||dt(e))&&dt(e.then)&&dt(e.catch),th=Object.prototype.toString,so=e=>th.call(e),mm=e=>so(e).slice(8,-1),eh=e=>so(e)==="[object Object]",Sl=e=>Ht(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,_i=vl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),wr=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},gm=/-(\w)/g,Re=wr(e=>e.replace(gm,(t,s)=>s?s.toUpperCase():"")),bm=/\B([A-Z])/g,gn=wr(e=>e.replace(bm,"-$1").toLowerCase()),kr=wr(e=>e.charAt(0).toUpperCase()+e.slice(1)),Xr=wr(e=>e?`on${kr(e)}`:""),$s=(e,t)=>!Object.is(e,t),Bo=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},sh=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},tr=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let xc;const Sr=()=>xc||(xc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Cr(e){if(ot(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],i=Ht(n)?vm(n):Cr(n);if(i)for(const o in i)t[o]=i[o]}return t}else if(Ht(e)||Rt(e))return e}const ym=/;(?![^(]*\))/g,xm=/:([^]+)/,_m=/\/\*[^]*?\*\//g;function vm(e){const t={};return e.replace(_m,"").split(ym).forEach(s=>{if(s){const n=s.split(xm);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function Qt(e){let t="";if(Ht(e))t=e;else if(ot(e))for(let s=0;s<e.length;s++){const n=Qt(e[s]);n&&(t+=n+" ")}else if(Rt(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const wm="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",km=vl(wm);function nh(e){return!!e||e===""}function Sm(e,t){if(e.length!==t.length)return!1;let s=!0;for(let n=0;s&&n<e.length;n++)s=no(e[n],t[n]);return s}function no(e,t){if(e===t)return!0;let s=yc(e),n=yc(t);if(s||n)return s&&n?e.getTime()===t.getTime():!1;if(s=ze(e),n=ze(t),s||n)return e===t;if(s=ot(e),n=ot(t),s||n)return s&&n?Sm(e,t):!1;if(s=Rt(e),n=Rt(t),s||n){if(!s||!n)return!1;const i=Object.keys(e).length,o=Object.keys(t).length;if(i!==o)return!1;for(const r in e){const a=e.hasOwnProperty(r),l=t.hasOwnProperty(r);if(a&&!l||!a&&l||!no(e[r],t[r]))return!1}}return String(e)===String(t)}function Cl(e,t){return e.findIndex(s=>no(s,t))}const ih=e=>!!(e&&e.__v_isRef===!0),E=e=>Ht(e)?e:e==null?"":ot(e)||Rt(e)&&(e.toString===th||!dt(e.toString))?ih(e)?E(e.value):JSON.stringify(e,oh,2):String(e),oh=(e,t)=>ih(t)?oh(e,t.value):Tn(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,i],o)=>(s[Qr(n,o)+" =>"]=i,s),{})}:Qn(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>Qr(s))}:ze(t)?Qr(t):Rt(t)&&!ot(t)&&!eh(t)?String(t):t,Qr=(e,t="")=>{var s;return ze(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let me;class Cm{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=me,!t&&me&&(this.index=(me.scopes||(me.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=me;try{return me=this,t()}finally{me=s}}}on(){++this._on===1&&(this.prevScope=me,me=this)}off(){this._on>0&&--this._on===0&&(me=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Mm(){return me}let Dt;const Zr=new WeakSet;class rh{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,me&&me.active&&me.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Zr.has(this)&&(Zr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||lh(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,_c(this),ch(this);const t=Dt,s=$e;Dt=this,$e=!0;try{return this.fn()}finally{dh(this),Dt=t,$e=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)El(t);this.deps=this.depsTail=void 0,_c(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Zr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ra(this)&&this.run()}get dirty(){return Ra(this)}}let ah=0,vi,wi;function lh(e,t=!1){if(e.flags|=8,t){e.next=wi,wi=e;return}e.next=vi,vi=e}function Ml(){ah++}function Al(){if(--ah>0)return;if(wi){let t=wi;for(wi=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;vi;){let t=vi;for(vi=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function ch(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function dh(e){let t,s=e.depsTail,n=s;for(;n;){const i=n.prevDep;n.version===-1?(n===s&&(s=i),El(n),Am(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}e.deps=t,e.depsTail=s}function Ra(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(uh(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function uh(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Fi)||(e.globalVersion=Fi,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Ra(e))))return;e.flags|=2;const t=e.dep,s=Dt,n=$e;Dt=e,$e=!0;try{ch(e);const i=e.fn(e._value);(t.version===0||$s(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{Dt=s,$e=n,dh(e),e.flags&=-3}}function El(e,t=!1){const{dep:s,prevSub:n,nextSub:i}=e;if(n&&(n.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let o=s.computed.deps;o;o=o.nextDep)El(o,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function Am(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let $e=!0;const hh=[];function ws(){hh.push($e),$e=!1}function ks(){const e=hh.pop();$e=e===void 0?!0:e}function _c(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Dt;Dt=void 0;try{t()}finally{Dt=s}}}let Fi=0;class Em{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Pl{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Dt||!$e||Dt===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Dt)s=this.activeLink=new Em(Dt,this),Dt.deps?(s.prevDep=Dt.depsTail,Dt.depsTail.nextDep=s,Dt.depsTail=s):Dt.deps=Dt.depsTail=s,fh(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=Dt.depsTail,s.nextDep=void 0,Dt.depsTail.nextDep=s,Dt.depsTail=s,Dt.deps===s&&(Dt.deps=n)}return s}trigger(t){this.version++,Fi++,this.notify(t)}notify(t){Ml();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Al()}}}function fh(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)fh(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const La=new WeakMap,dn=Symbol(""),Fa=Symbol(""),Ni=Symbol("");function ee(e,t,s){if($e&&Dt){let n=La.get(e);n||La.set(e,n=new Map);let i=n.get(s);i||(n.set(s,i=new Pl),i.map=n,i.key=s),i.track()}}function ms(e,t,s,n,i,o){const r=La.get(e);if(!r){Fi++;return}const a=l=>{l&&l.trigger()};if(Ml(),t==="clear")r.forEach(a);else{const l=ot(e),c=l&&Sl(s);if(l&&s==="length"){const d=Number(n);r.forEach((h,f)=>{(f==="length"||f===Ni||!ze(f)&&f>=d)&&a(h)})}else switch((s!==void 0||r.has(void 0))&&a(r.get(s)),c&&a(r.get(Ni)),t){case"add":l?c&&a(r.get("length")):(a(r.get(dn)),Tn(e)&&a(r.get(Fa)));break;case"delete":l||(a(r.get(dn)),Tn(e)&&a(r.get(Fa)));break;case"set":Tn(e)&&a(r.get(dn));break}}Al()}function xn(e){const t=St(e);return t===e?t:(ee(t,"iterate",Ni),Ie(e)?t:t.map(Jt))}function Mr(e){return ee(e=St(e),"iterate",Ni),e}const Pm={__proto__:null,[Symbol.iterator](){return ta(this,Symbol.iterator,Jt)},concat(...e){return xn(this).concat(...e.map(t=>ot(t)?xn(t):t))},entries(){return ta(this,"entries",e=>(e[1]=Jt(e[1]),e))},every(e,t){return rs(this,"every",e,t,void 0,arguments)},filter(e,t){return rs(this,"filter",e,t,s=>s.map(Jt),arguments)},find(e,t){return rs(this,"find",e,t,Jt,arguments)},findIndex(e,t){return rs(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return rs(this,"findLast",e,t,Jt,arguments)},findLastIndex(e,t){return rs(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return rs(this,"forEach",e,t,void 0,arguments)},includes(...e){return ea(this,"includes",e)},indexOf(...e){return ea(this,"indexOf",e)},join(e){return xn(this).join(e)},lastIndexOf(...e){return ea(this,"lastIndexOf",e)},map(e,t){return rs(this,"map",e,t,void 0,arguments)},pop(){return si(this,"pop")},push(...e){return si(this,"push",e)},reduce(e,...t){return vc(this,"reduce",e,t)},reduceRight(e,...t){return vc(this,"reduceRight",e,t)},shift(){return si(this,"shift")},some(e,t){return rs(this,"some",e,t,void 0,arguments)},splice(...e){return si(this,"splice",e)},toReversed(){return xn(this).toReversed()},toSorted(e){return xn(this).toSorted(e)},toSpliced(...e){return xn(this).toSpliced(...e)},unshift(...e){return si(this,"unshift",e)},values(){return ta(this,"values",Jt)}};function ta(e,t,s){const n=Mr(e),i=n[t]();return n!==e&&!Ie(e)&&(i._next=i.next,i.next=()=>{const o=i._next();return o.value&&(o.value=s(o.value)),o}),i}const Tm=Array.prototype;function rs(e,t,s,n,i,o){const r=Mr(e),a=r!==e&&!Ie(e),l=r[t];if(l!==Tm[t]){const h=l.apply(e,o);return a?Jt(h):h}let c=s;r!==e&&(a?c=function(h,f){return s.call(this,Jt(h),f,e)}:s.length>2&&(c=function(h,f){return s.call(this,h,f,e)}));const d=l.call(r,c,n);return a&&i?i(d):d}function vc(e,t,s,n){const i=Mr(e);let o=s;return i!==e&&(Ie(e)?s.length>3&&(o=function(r,a,l){return s.call(this,r,a,l,e)}):o=function(r,a,l){return s.call(this,r,Jt(a),l,e)}),i[t](o,...n)}function ea(e,t,s){const n=St(e);ee(n,"iterate",Ni);const i=n[t](...s);return(i===-1||i===!1)&&Dl(s[0])?(s[0]=St(s[0]),n[t](...s)):i}function si(e,t,s=[]){ws(),Ml();const n=St(e)[t].apply(e,s);return Al(),ks(),n}const Om=vl("__proto__,__v_isRef,__isVue"),ph=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ze));function Dm(e){ze(e)||(e=String(e));const t=St(this);return ee(t,"has",e),t.hasOwnProperty(e)}class mh{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const i=this._isReadonly,o=this._isShallow;if(s==="__v_isReactive")return!i;if(s==="__v_isReadonly")return i;if(s==="__v_isShallow")return o;if(s==="__v_raw")return n===(i?o?Vm:xh:o?yh:bh).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const r=ot(t);if(!i){let l;if(r&&(l=Pm[s]))return l;if(s==="hasOwnProperty")return Dm}const a=Reflect.get(t,s,ie(t)?t:n);return(ze(s)?ph.has(s):Om(s))||(i||ee(t,"get",s),o)?a:ie(a)?r&&Sl(s)?a:a.value:Rt(a)?i?vh(a):Ar(a):a}}class gh extends mh{constructor(t=!1){super(!1,t)}set(t,s,n,i){let o=t[s];if(!this._isShallow){const l=zs(o);if(!Ie(n)&&!zs(n)&&(o=St(o),n=St(n)),!ot(t)&&ie(o)&&!ie(n))return l?!1:(o.value=n,!0)}const r=ot(t)&&Sl(s)?Number(s)<t.length:Ct(t,s),a=Reflect.set(t,s,n,ie(t)?t:i);return t===St(i)&&(r?$s(n,o)&&ms(t,"set",s,n):ms(t,"add",s,n)),a}deleteProperty(t,s){const n=Ct(t,s);t[s];const i=Reflect.deleteProperty(t,s);return i&&n&&ms(t,"delete",s,void 0),i}has(t,s){const n=Reflect.has(t,s);return(!ze(s)||!ph.has(s))&&ee(t,"has",s),n}ownKeys(t){return ee(t,"iterate",ot(t)?"length":dn),Reflect.ownKeys(t)}}class Im extends mh{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const Rm=new gh,Lm=new Im,Fm=new gh(!0);const Na=e=>e,po=e=>Reflect.getPrototypeOf(e);function Nm(e,t,s){return function(...n){const i=this.__v_raw,o=St(i),r=Tn(o),a=e==="entries"||e===Symbol.iterator&&r,l=e==="keys"&&r,c=i[e](...n),d=s?Na:t?er:Jt;return!t&&ee(o,"iterate",l?Fa:dn),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[d(h[0]),d(h[1])]:d(h),done:f}},[Symbol.iterator](){return this}}}}function mo(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function jm(e,t){const s={get(i){const o=this.__v_raw,r=St(o),a=St(i);e||($s(i,a)&&ee(r,"get",i),ee(r,"get",a));const{has:l}=po(r),c=t?Na:e?er:Jt;if(l.call(r,i))return c(o.get(i));if(l.call(r,a))return c(o.get(a));o!==r&&o.get(i)},get size(){const i=this.__v_raw;return!e&&ee(St(i),"iterate",dn),Reflect.get(i,"size",i)},has(i){const o=this.__v_raw,r=St(o),a=St(i);return e||($s(i,a)&&ee(r,"has",i),ee(r,"has",a)),i===a?o.has(i):o.has(i)||o.has(a)},forEach(i,o){const r=this,a=r.__v_raw,l=St(a),c=t?Na:e?er:Jt;return!e&&ee(l,"iterate",dn),a.forEach((d,h)=>i.call(o,c(d),c(h),r))}};return Yt(s,e?{add:mo("add"),set:mo("set"),delete:mo("delete"),clear:mo("clear")}:{add(i){!t&&!Ie(i)&&!zs(i)&&(i=St(i));const o=St(this);return po(o).has.call(o,i)||(o.add(i),ms(o,"add",i,i)),this},set(i,o){!t&&!Ie(o)&&!zs(o)&&(o=St(o));const r=St(this),{has:a,get:l}=po(r);let c=a.call(r,i);c||(i=St(i),c=a.call(r,i));const d=l.call(r,i);return r.set(i,o),c?$s(o,d)&&ms(r,"set",i,o):ms(r,"add",i,o),this},delete(i){const o=St(this),{has:r,get:a}=po(o);let l=r.call(o,i);l||(i=St(i),l=r.call(o,i)),a&&a.call(o,i);const c=o.delete(i);return l&&ms(o,"delete",i,void 0),c},clear(){const i=St(this),o=i.size!==0,r=i.clear();return o&&ms(i,"clear",void 0,void 0),r}}),["keys","values","entries",Symbol.iterator].forEach(i=>{s[i]=Nm(i,e,t)}),s}function Tl(e,t){const s=jm(e,t);return(n,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(Ct(s,i)&&i in n?s:n,i,o)}const Bm={get:Tl(!1,!1)},Um={get:Tl(!1,!0)},$m={get:Tl(!0,!1)};const bh=new WeakMap,yh=new WeakMap,xh=new WeakMap,Vm=new WeakMap;function zm(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Hm(e){return e.__v_skip||!Object.isExtensible(e)?0:zm(mm(e))}function Ar(e){return zs(e)?e:Ol(e,!1,Rm,Bm,bh)}function _h(e){return Ol(e,!1,Fm,Um,yh)}function vh(e){return Ol(e,!0,Lm,$m,xh)}function Ol(e,t,s,n,i){if(!Rt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=Hm(e);if(o===0)return e;const r=i.get(e);if(r)return r;const a=new Proxy(e,o===2?n:s);return i.set(e,a),a}function On(e){return zs(e)?On(e.__v_raw):!!(e&&e.__v_isReactive)}function zs(e){return!!(e&&e.__v_isReadonly)}function Ie(e){return!!(e&&e.__v_isShallow)}function Dl(e){return e?!!e.__v_raw:!1}function St(e){const t=e&&e.__v_raw;return t?St(t):e}function Wm(e){return!Ct(e,"__v_skip")&&Object.isExtensible(e)&&sh(e,"__v_skip",!0),e}const Jt=e=>Rt(e)?Ar(e):e,er=e=>Rt(e)?vh(e):e;function ie(e){return e?e.__v_isRef===!0:!1}function qm(e){return wh(e,!1)}function Km(e){return wh(e,!0)}function wh(e,t){return ie(e)?e:new Gm(e,t)}class Gm{constructor(t,s){this.dep=new Pl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:St(t),this._value=s?t:Jt(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||Ie(t)||zs(t);t=n?t:St(t),$s(t,s)&&(this._rawValue=t,this._value=n?t:Jt(t),this.dep.trigger())}}function Dn(e){return ie(e)?e.value:e}const Ym={get:(e,t,s)=>t==="__v_raw"?e:Dn(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const i=e[t];return ie(i)&&!ie(s)?(i.value=s,!0):Reflect.set(e,t,s,n)}};function kh(e){return On(e)?e:new Proxy(e,Ym)}class Jm{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Pl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Fi-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Dt!==this)return lh(this,!0),!0}get value(){const t=this.dep.track();return uh(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Xm(e,t,s=!1){let n,i;return dt(e)?n=e:(n=e.get,i=e.set),new Jm(n,i,s)}const go={},sr=new WeakMap;let nn;function Qm(e,t=!1,s=nn){if(s){let n=sr.get(s);n||sr.set(s,n=[]),n.push(e)}}function Zm(e,t,s=Et){const{immediate:n,deep:i,once:o,scheduler:r,augmentJob:a,call:l}=s,c=k=>i?k:Ie(k)||i===!1||i===0?gs(k,1):gs(k);let d,h,f,p,m=!1,g=!1;if(ie(e)?(h=()=>e.value,m=Ie(e)):On(e)?(h=()=>c(e),m=!0):ot(e)?(g=!0,m=e.some(k=>On(k)||Ie(k)),h=()=>e.map(k=>{if(ie(k))return k.value;if(On(k))return c(k);if(dt(k))return l?l(k,2):k()})):dt(e)?t?h=l?()=>l(e,2):e:h=()=>{if(f){ws();try{f()}finally{ks()}}const k=nn;nn=d;try{return l?l(e,3,[p]):e(p)}finally{nn=k}}:h=Ue,t&&i){const k=h,M=i===!0?1/0:i;h=()=>gs(k(),M)}const b=Mm(),y=()=>{d.stop(),b&&b.active&&kl(b.effects,d)};if(o&&t){const k=t;t=(...M)=>{k(...M),y()}}let _=g?new Array(e.length).fill(go):go;const S=k=>{if(!(!(d.flags&1)||!d.dirty&&!k))if(t){const M=d.run();if(i||m||(g?M.some((T,P)=>$s(T,_[P])):$s(M,_))){f&&f();const T=nn;nn=d;try{const P=[M,_===go?void 0:g&&_[0]===go?[]:_,p];l?l(t,3,P):t(...P),_=M}finally{nn=T}}}else d.run()};return a&&a(S),d=new rh(h),d.scheduler=r?()=>r(S,!1):S,p=k=>Qm(k,!1,d),f=d.onStop=()=>{const k=sr.get(d);if(k){if(l)l(k,4);else for(const M of k)M();sr.delete(d)}},t?n?S(!0):_=d.run():r?r(S.bind(null,!0),!0):d.run(),y.pause=d.pause.bind(d),y.resume=d.resume.bind(d),y.stop=y,y}function gs(e,t=1/0,s){if(t<=0||!Rt(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,ie(e))gs(e.value,t,s);else if(ot(e))for(let n=0;n<e.length;n++)gs(e[n],t,s);else if(Qn(e)||Tn(e))e.forEach(n=>{gs(n,t,s)});else if(eh(e)){for(const n in e)gs(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&gs(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function io(e,t,s,n){try{return n?e(...n):e()}catch(i){Er(i,t,s)}}function ns(e,t,s,n){if(dt(e)){const i=io(e,t,s,n);return i&&Zu(i)&&i.catch(o=>{Er(o,t,s)}),i}if(ot(e)){const i=[];for(let o=0;o<e.length;o++)i.push(ns(e[o],t,s,n));return i}}function Er(e,t,s,n=!0){const i=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:r}=t&&t.appContext.config||Et;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const d=a.ec;if(d){for(let h=0;h<d.length;h++)if(d[h](e,l,c)===!1)return}a=a.parent}if(o){ws(),io(o,null,10,[e,l,c]),ks();return}}tg(e,s,i,n,r)}function tg(e,t,s,n=!0,i=!1){if(i)throw e;console.error(e)}const de=[];let Qe=-1;const In=[];let Ts=null,Mn=0;const Sh=Promise.resolve();let nr=null;function Il(e){const t=nr||Sh;return e?t.then(this?e.bind(this):e):t}function eg(e){let t=Qe+1,s=de.length;for(;t<s;){const n=t+s>>>1,i=de[n],o=ji(i);o<e||o===e&&i.flags&2?t=n+1:s=n}return t}function Rl(e){if(!(e.flags&1)){const t=ji(e),s=de[de.length-1];!s||!(e.flags&2)&&t>=ji(s)?de.push(e):de.splice(eg(t),0,e),e.flags|=1,Ch()}}function Ch(){nr||(nr=Sh.then(Ah))}function sg(e){ot(e)?In.push(...e):Ts&&e.id===-1?Ts.splice(Mn+1,0,e):e.flags&1||(In.push(e),e.flags|=1),Ch()}function wc(e,t,s=Qe+1){for(;s<de.length;s++){const n=de[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;de.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Mh(e){if(In.length){const t=[...new Set(In)].sort((s,n)=>ji(s)-ji(n));if(In.length=0,Ts){Ts.push(...t);return}for(Ts=t,Mn=0;Mn<Ts.length;Mn++){const s=Ts[Mn];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Ts=null,Mn=0}}const ji=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Ah(e){const t=Ue;try{for(Qe=0;Qe<de.length;Qe++){const s=de[Qe];s&&!(s.flags&8)&&(s.flags&4&&(s.flags&=-2),io(s,s.i,s.i?15:14),s.flags&4||(s.flags&=-2))}}finally{for(;Qe<de.length;Qe++){const s=de[Qe];s&&(s.flags&=-2)}Qe=-1,de.length=0,Mh(),nr=null,(de.length||In.length)&&Ah()}}let Xt=null,Eh=null;function ir(e){const t=Xt;return Xt=e,Eh=e&&e.type.__scopeId||null,t}function et(e,t=Xt,s){if(!t||e._n)return e;const n=(...i)=>{n._d&&Oc(-1);const o=ir(t);let r;try{r=e(...i)}finally{ir(o),n._d&&Oc(1)}return r};return n._n=!0,n._c=!0,n._d=!0,n}function O(e,t){if(Xt===null)return e;const s=Dr(Xt),n=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,r,a,l=Et]=t[i];o&&(dt(o)&&(o={mounted:o,updated:o}),o.deep&&gs(r),n.push({dir:o,instance:s,value:r,oldValue:void 0,arg:a,modifiers:l}))}return e}function Js(e,t,s,n){const i=e.dirs,o=t&&t.dirs;for(let r=0;r<i.length;r++){const a=i[r];o&&(a.oldValue=o[r].value);let l=a.dir[n];l&&(ws(),ns(l,s,8,[e.el,a,e,t]),ks())}}const ng=Symbol("_vte"),ig=e=>e.__isTeleport;function Ll(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ll(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function Ph(e,t){return dt(e)?(()=>Yt({name:e.name},t,{setup:e}))():e}function Th(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function or(e,t,s,n,i=!1){if(ot(e)){e.forEach((m,g)=>or(m,t&&(ot(t)?t[g]:t),s,n,i));return}if(Rn(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&or(e,t,s,n.component.subTree);return}const o=n.shapeFlag&4?Dr(n.component):n.el,r=i?null:o,{i:a,r:l}=e,c=t&&t.r,d=a.refs===Et?a.refs={}:a.refs,h=a.setupState,f=St(h),p=h===Et?()=>!1:m=>Ct(f,m);if(c!=null&&c!==l&&(Ht(c)?(d[c]=null,p(c)&&(h[c]=null)):ie(c)&&(c.value=null)),dt(l))io(l,a,12,[r,d]);else{const m=Ht(l),g=ie(l);if(m||g){const b=()=>{if(e.f){const y=m?p(l)?h[l]:d[l]:l.value;i?ot(y)&&kl(y,o):ot(y)?y.includes(o)||y.push(o):m?(d[l]=[o],p(l)&&(h[l]=d[l])):(l.value=[o],e.k&&(d[e.k]=l.value))}else m?(d[l]=r,p(l)&&(h[l]=r)):g&&(l.value=r,e.k&&(d[e.k]=r))};r?(b.id=-1,we(b,s)):b()}}}Sr().requestIdleCallback;Sr().cancelIdleCallback;const Rn=e=>!!e.type.__asyncLoader,Oh=e=>e.type.__isKeepAlive;function og(e,t){Dh(e,"a",t)}function rg(e,t){Dh(e,"da",t)}function Dh(e,t,s=se){const n=e.__wdc||(e.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Pr(t,n,s),s){let i=s.parent;for(;i&&i.parent;)Oh(i.parent.vnode)&&ag(n,t,s,i),i=i.parent}}function ag(e,t,s,n){const i=Pr(t,e,n,!0);Ih(()=>{kl(n[t],i)},s)}function Pr(e,t,s=se,n=!1){if(s){const i=s[e]||(s[e]=[]),o=t.__weh||(t.__weh=(...r)=>{ws();const a=oo(s),l=ns(t,s,e,r);return a(),ks(),l});return n?i.unshift(o):i.push(o),o}}const Cs=e=>(t,s=se)=>{(!$i||e==="sp")&&Pr(e,(...n)=>t(...n),s)},lg=Cs("bm"),cg=Cs("m"),dg=Cs("bu"),ug=Cs("u"),hg=Cs("bum"),Ih=Cs("um"),fg=Cs("sp"),pg=Cs("rtg"),mg=Cs("rtc");function gg(e,t=se){Pr("ec",e,t)}const Rh="components";function H(e,t){return yg(Rh,e,!0,t)||e}const bg=Symbol.for("v-ndc");function yg(e,t,s=!0,n=!1){const i=Xt||se;if(i){const o=i.type;if(e===Rh){const a=ib(o,!1);if(a&&(a===t||a===Re(t)||a===kr(Re(t))))return o}const r=kc(i[e]||o[e],t)||kc(i.appContext[e],t);return!r&&n?o:r}}function kc(e,t){return e&&(e[t]||e[Re(t)]||e[kr(Re(t))])}function pt(e,t,s,n){let i;const o=s&&s[n],r=ot(e);if(r||Ht(e)){const a=r&&On(e);let l=!1,c=!1;a&&(l=!Ie(e),c=zs(e),e=Mr(e)),i=new Array(e.length);for(let d=0,h=e.length;d<h;d++)i[d]=t(l?c?er(Jt(e[d])):Jt(e[d]):e[d],d,void 0,o&&o[d])}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,o&&o[a])}else if(Rt(e))if(e[Symbol.iterator])i=Array.from(e,(a,l)=>t(a,l,void 0,o&&o[l]));else{const a=Object.keys(e);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const d=a[l];i[l]=t(e[d],d,l,o&&o[l])}}else i=[];return s&&(s[n]=i),i}function Lh(e,t,s={},n,i){if(Xt.ce||Xt.parent&&Rn(Xt.parent)&&Xt.parent.ce)return t!=="default"&&(s.name=t),w(),ue(X,null,[I("slot",s,n&&n())],64);let o=e[t];o&&o._c&&(o._d=!1),w();const r=o&&Fh(o(s)),a=s.key||r&&r.key,l=ue(X,{key:(a&&!ze(a)?a:`_${t}`)+(!r&&n?"_fb":"")},r||(n?n():[]),r&&e._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function Fh(e){return e.some(t=>Ui(t)?!(t.type===Ss||t.type===X&&!Fh(t.children)):!0)?e:null}const ja=e=>e?ef(e)?Dr(e):ja(e.parent):null,ki=Yt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ja(e.parent),$root:e=>ja(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Fl(e),$forceUpdate:e=>e.f||(e.f=()=>{Rl(e.update)}),$nextTick:e=>e.n||(e.n=Il.bind(e.proxy)),$watch:e=>Bg.bind(e)}),sa=(e,t)=>e!==Et&&!e.__isScriptSetup&&Ct(e,t),xg={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:i,props:o,accessCache:r,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const p=r[t];if(p!==void 0)switch(p){case 1:return n[t];case 2:return i[t];case 4:return s[t];case 3:return o[t]}else{if(sa(n,t))return r[t]=1,n[t];if(i!==Et&&Ct(i,t))return r[t]=2,i[t];if((c=e.propsOptions[0])&&Ct(c,t))return r[t]=3,o[t];if(s!==Et&&Ct(s,t))return r[t]=4,s[t];Ba&&(r[t]=0)}}const d=ki[t];let h,f;if(d)return t==="$attrs"&&ee(e.attrs,"get",""),d(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(s!==Et&&Ct(s,t))return r[t]=4,s[t];if(f=l.config.globalProperties,Ct(f,t))return f[t]},set({_:e},t,s){const{data:n,setupState:i,ctx:o}=e;return sa(i,t)?(i[t]=s,!0):n!==Et&&Ct(n,t)?(n[t]=s,!0):Ct(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:i,propsOptions:o}},r){let a;return!!s[r]||e!==Et&&Ct(e,r)||sa(t,r)||(a=o[0])&&Ct(a,r)||Ct(n,r)||Ct(ki,r)||Ct(i.config.globalProperties,r)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:Ct(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Sc(e){return ot(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let Ba=!0;function _g(e){const t=Fl(e),s=e.proxy,n=e.ctx;Ba=!1,t.beforeCreate&&Cc(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:r,watch:a,provide:l,inject:c,created:d,beforeMount:h,mounted:f,beforeUpdate:p,updated:m,activated:g,deactivated:b,beforeDestroy:y,beforeUnmount:_,destroyed:S,unmounted:k,render:M,renderTracked:T,renderTriggered:P,errorCaptured:F,serverPrefetch:Y,expose:Q,inheritAttrs:st,components:at,directives:gt,filters:Wt}=t;if(c&&vg(c,n,null),r)for(const rt in r){const ut=r[rt];dt(ut)&&(n[rt]=ut.bind(s))}if(i){const rt=i.call(s,s);Rt(rt)&&(e.data=Ar(rt))}if(Ba=!0,o)for(const rt in o){const ut=o[rt],Pt=dt(ut)?ut.bind(s,s):dt(ut.get)?ut.get.bind(s,s):Ue,ae=!dt(ut)&&dt(ut.set)?ut.set.bind(s):Ue,le=je({get:Pt,set:ae});Object.defineProperty(n,rt,{enumerable:!0,configurable:!0,get:()=>le.value,set:$t=>le.value=$t})}if(a)for(const rt in a)Nh(a[rt],n,s,rt);if(l){const rt=dt(l)?l.call(s):l;Reflect.ownKeys(rt).forEach(ut=>{Uo(ut,rt[ut])})}d&&Cc(d,e,"c");function ct(rt,ut){ot(ut)?ut.forEach(Pt=>rt(Pt.bind(s))):ut&&rt(ut.bind(s))}if(ct(lg,h),ct(cg,f),ct(dg,p),ct(ug,m),ct(og,g),ct(rg,b),ct(gg,F),ct(mg,T),ct(pg,P),ct(hg,_),ct(Ih,k),ct(fg,Y),ot(Q))if(Q.length){const rt=e.exposed||(e.exposed={});Q.forEach(ut=>{Object.defineProperty(rt,ut,{get:()=>s[ut],set:Pt=>s[ut]=Pt})})}else e.exposed||(e.exposed={});M&&e.render===Ue&&(e.render=M),st!=null&&(e.inheritAttrs=st),at&&(e.components=at),gt&&(e.directives=gt),Y&&Th(e)}function vg(e,t,s=Ue){ot(e)&&(e=Ua(e));for(const n in e){const i=e[n];let o;Rt(i)?"default"in i?o=_s(i.from||n,i.default,!0):o=_s(i.from||n):o=_s(i),ie(o)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:r=>o.value=r}):t[n]=o}}function Cc(e,t,s){ns(ot(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function Nh(e,t,s,n){let i=n.includes(".")?Jh(s,n):()=>s[n];if(Ht(e)){const o=t[e];dt(o)&&$o(i,o)}else if(dt(e))$o(i,e.bind(s));else if(Rt(e))if(ot(e))e.forEach(o=>Nh(o,t,s,n));else{const o=dt(e.handler)?e.handler.bind(s):t[e.handler];dt(o)&&$o(i,o,e)}}function Fl(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:r}}=e.appContext,a=o.get(t);let l;return a?l=a:!i.length&&!s&&!n?l=t:(l={},i.length&&i.forEach(c=>rr(l,c,r,!0)),rr(l,t,r)),Rt(t)&&o.set(t,l),l}function rr(e,t,s,n=!1){const{mixins:i,extends:o}=t;o&&rr(e,o,s,!0),i&&i.forEach(r=>rr(e,r,s,!0));for(const r in t)if(!(n&&r==="expose")){const a=wg[r]||s&&s[r];e[r]=a?a(e[r],t[r]):t[r]}return e}const wg={data:Mc,props:Ac,emits:Ac,methods:hi,computed:hi,beforeCreate:ce,created:ce,beforeMount:ce,mounted:ce,beforeUpdate:ce,updated:ce,beforeDestroy:ce,beforeUnmount:ce,destroyed:ce,unmounted:ce,activated:ce,deactivated:ce,errorCaptured:ce,serverPrefetch:ce,components:hi,directives:hi,watch:Sg,provide:Mc,inject:kg};function Mc(e,t){return t?e?function(){return Yt(dt(e)?e.call(this,this):e,dt(t)?t.call(this,this):t)}:t:e}function kg(e,t){return hi(Ua(e),Ua(t))}function Ua(e){if(ot(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function ce(e,t){return e?[...new Set([].concat(e,t))]:t}function hi(e,t){return e?Yt(Object.create(null),e,t):t}function Ac(e,t){return e?ot(e)&&ot(t)?[...new Set([...e,...t])]:Yt(Object.create(null),Sc(e),Sc(t??{})):t}function Sg(e,t){if(!e)return t;if(!t)return e;const s=Yt(Object.create(null),e);for(const n in t)s[n]=ce(e[n],t[n]);return s}function jh(){return{app:null,config:{isNativeTag:fm,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Cg=0;function Mg(e,t){return function(n,i=null){dt(n)||(n=Yt({},n)),i!=null&&!Rt(i)&&(i=null);const o=jh(),r=new WeakSet,a=[];let l=!1;const c=o.app={_uid:Cg++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:rb,get config(){return o.config},set config(d){},use(d,...h){return r.has(d)||(d&&dt(d.install)?(r.add(d),d.install(c,...h)):dt(d)&&(r.add(d),d(c,...h))),c},mixin(d){return o.mixins.includes(d)||o.mixins.push(d),c},component(d,h){return h?(o.components[d]=h,c):o.components[d]},directive(d,h){return h?(o.directives[d]=h,c):o.directives[d]},mount(d,h,f){if(!l){const p=c._ceVNode||I(n,i);return p.appContext=o,f===!0?f="svg":f===!1&&(f=void 0),h&&t?t(p,d):e(p,d,f),l=!0,c._container=d,d.__vue_app__=c,Dr(p.component)}},onUnmount(d){a.push(d)},unmount(){l&&(ns(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(d,h){return o.provides[d]=h,c},runWithContext(d){const h=Ln;Ln=c;try{return d()}finally{Ln=h}}};return c}}let Ln=null;function Uo(e,t){if(se){let s=se.provides;const n=se.parent&&se.parent.provides;n===s&&(s=se.provides=Object.create(n)),s[e]=t}}function _s(e,t,s=!1){const n=se||Xt;if(n||Ln){const i=Ln?Ln._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return s&&dt(t)?t.call(n&&n.proxy):t}}const Bh={},Uh=()=>Object.create(Bh),$h=e=>Object.getPrototypeOf(e)===Bh;function Ag(e,t,s,n=!1){const i={},o=Uh();e.propsDefaults=Object.create(null),Vh(e,t,i,o);for(const r in e.propsOptions[0])r in i||(i[r]=void 0);s?e.props=n?i:_h(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function Eg(e,t,s,n){const{props:i,attrs:o,vnode:{patchFlag:r}}=e,a=St(i),[l]=e.propsOptions;let c=!1;if((n||r>0)&&!(r&16)){if(r&8){const d=e.vnode.dynamicProps;for(let h=0;h<d.length;h++){let f=d[h];if(Tr(e.emitsOptions,f))continue;const p=t[f];if(l)if(Ct(o,f))p!==o[f]&&(o[f]=p,c=!0);else{const m=Re(f);i[m]=$a(l,a,m,p,e,!1)}else p!==o[f]&&(o[f]=p,c=!0)}}}else{Vh(e,t,i,o)&&(c=!0);let d;for(const h in a)(!t||!Ct(t,h)&&((d=gn(h))===h||!Ct(t,d)))&&(l?s&&(s[h]!==void 0||s[d]!==void 0)&&(i[h]=$a(l,a,h,void 0,e,!0)):delete i[h]);if(o!==a)for(const h in o)(!t||!Ct(t,h))&&(delete o[h],c=!0)}c&&ms(e.attrs,"set","")}function Vh(e,t,s,n){const[i,o]=e.propsOptions;let r=!1,a;if(t)for(let l in t){if(_i(l))continue;const c=t[l];let d;i&&Ct(i,d=Re(l))?!o||!o.includes(d)?s[d]=c:(a||(a={}))[d]=c:Tr(e.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,r=!0)}if(o){const l=St(s),c=a||Et;for(let d=0;d<o.length;d++){const h=o[d];s[h]=$a(i,l,h,c[h],e,!Ct(c,h))}}return r}function $a(e,t,s,n,i,o){const r=e[s];if(r!=null){const a=Ct(r,"default");if(a&&n===void 0){const l=r.default;if(r.type!==Function&&!r.skipFactory&&dt(l)){const{propsDefaults:c}=i;if(s in c)n=c[s];else{const d=oo(i);n=c[s]=l.call(null,t),d()}}else n=l;i.ce&&i.ce._setProp(s,n)}r[0]&&(o&&!a?n=!1:r[1]&&(n===""||n===gn(s))&&(n=!0))}return n}const Pg=new WeakMap;function zh(e,t,s=!1){const n=s?Pg:t.propsCache,i=n.get(e);if(i)return i;const o=e.props,r={},a=[];let l=!1;if(!dt(e)){const d=h=>{l=!0;const[f,p]=zh(h,t,!0);Yt(r,f),p&&a.push(...p)};!s&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!o&&!l)return Rt(e)&&n.set(e,Pn),Pn;if(ot(o))for(let d=0;d<o.length;d++){const h=Re(o[d]);Ec(h)&&(r[h]=Et)}else if(o)for(const d in o){const h=Re(d);if(Ec(h)){const f=o[d],p=r[h]=ot(f)||dt(f)?{type:f}:Yt({},f),m=p.type;let g=!1,b=!0;if(ot(m))for(let y=0;y<m.length;++y){const _=m[y],S=dt(_)&&_.name;if(S==="Boolean"){g=!0;break}else S==="String"&&(b=!1)}else g=dt(m)&&m.name==="Boolean";p[0]=g,p[1]=b,(g||Ct(p,"default"))&&a.push(h)}}const c=[r,a];return Rt(e)&&n.set(e,c),c}function Ec(e){return e[0]!=="$"&&!_i(e)}const Nl=e=>e[0]==="_"||e==="$stable",jl=e=>ot(e)?e.map(ts):[ts(e)],Tg=(e,t,s)=>{if(t._n)return t;const n=et((...i)=>jl(t(...i)),s);return n._c=!1,n},Hh=(e,t,s)=>{const n=e._ctx;for(const i in e){if(Nl(i))continue;const o=e[i];if(dt(o))t[i]=Tg(i,o,n);else if(o!=null){const r=jl(o);t[i]=()=>r}}},Wh=(e,t)=>{const s=jl(t);e.slots.default=()=>s},qh=(e,t,s)=>{for(const n in t)(s||!Nl(n))&&(e[n]=t[n])},Og=(e,t,s)=>{const n=e.slots=Uh();if(e.vnode.shapeFlag&32){const i=t._;i?(qh(n,t,s),s&&sh(n,"_",i,!0)):Hh(t,n)}else t&&Wh(e,t)},Dg=(e,t,s)=>{const{vnode:n,slots:i}=e;let o=!0,r=Et;if(n.shapeFlag&32){const a=t._;a?s&&a===1?o=!1:qh(i,t,s):(o=!t.$stable,Hh(t,i)),r=t}else t&&(Wh(e,t),r={default:1});if(o)for(const a in i)!Nl(a)&&r[a]==null&&delete i[a]},we=qg;function Ig(e){return Rg(e)}function Rg(e,t){const s=Sr();s.__VUE__=!0;const{insert:n,remove:i,patchProp:o,createElement:r,createText:a,createComment:l,setText:c,setElementText:d,parentNode:h,nextSibling:f,setScopeId:p=Ue,insertStaticContent:m}=e,g=(x,v,A,L=null,D=null,j=null,q=void 0,W=null,V=!!v.dynamicChildren)=>{if(x===v)return;x&&!ni(x,v)&&(L=R(x),$t(x,D,j,!0),x=null),v.patchFlag===-2&&(V=!1,v.dynamicChildren=null);const{type:U,ref:nt,shapeFlag:G}=v;switch(U){case Or:b(x,v,A,L);break;case Ss:y(x,v,A,L);break;case Vo:x==null&&_(v,A,L,q);break;case X:at(x,v,A,L,D,j,q,W,V);break;default:G&1?M(x,v,A,L,D,j,q,W,V):G&6?gt(x,v,A,L,D,j,q,W,V):(G&64||G&128)&&U.process(x,v,A,L,D,j,q,W,V,Z)}nt!=null&&D&&or(nt,x&&x.ref,j,v||x,!v)},b=(x,v,A,L)=>{if(x==null)n(v.el=a(v.children),A,L);else{const D=v.el=x.el;v.children!==x.children&&c(D,v.children)}},y=(x,v,A,L)=>{x==null?n(v.el=l(v.children||""),A,L):v.el=x.el},_=(x,v,A,L)=>{[x.el,x.anchor]=m(x.children,v,A,L,x.el,x.anchor)},S=({el:x,anchor:v},A,L)=>{let D;for(;x&&x!==v;)D=f(x),n(x,A,L),x=D;n(v,A,L)},k=({el:x,anchor:v})=>{let A;for(;x&&x!==v;)A=f(x),i(x),x=A;i(v)},M=(x,v,A,L,D,j,q,W,V)=>{v.type==="svg"?q="svg":v.type==="math"&&(q="mathml"),x==null?T(v,A,L,D,j,q,W,V):Y(x,v,D,j,q,W,V)},T=(x,v,A,L,D,j,q,W)=>{let V,U;const{props:nt,shapeFlag:G,transition:tt,dirs:lt}=x;if(V=x.el=r(x.type,j,nt&&nt.is,nt),G&8?d(V,x.children):G&16&&F(x.children,V,null,L,D,na(x,j),q,W),lt&&Js(x,null,L,"created"),P(V,x,x.scopeId,q,L),nt){for(const Tt in nt)Tt!=="value"&&!_i(Tt)&&o(V,Tt,null,nt[Tt],j,L);"value"in nt&&o(V,"value",null,nt.value,j),(U=nt.onVnodeBeforeMount)&&Ye(U,L,x)}lt&&Js(x,null,L,"beforeMount");const vt=Lg(D,tt);vt&&tt.beforeEnter(V),n(V,v,A),((U=nt&&nt.onVnodeMounted)||vt||lt)&&we(()=>{U&&Ye(U,L,x),vt&&tt.enter(V),lt&&Js(x,null,L,"mounted")},D)},P=(x,v,A,L,D)=>{if(A&&p(x,A),L)for(let j=0;j<L.length;j++)p(x,L[j]);if(D){let j=D.subTree;if(v===j||Qh(j.type)&&(j.ssContent===v||j.ssFallback===v)){const q=D.vnode;P(x,q,q.scopeId,q.slotScopeIds,D.parent)}}},F=(x,v,A,L,D,j,q,W,V=0)=>{for(let U=V;U<x.length;U++){const nt=x[U]=W?Os(x[U]):ts(x[U]);g(null,nt,v,A,L,D,j,q,W)}},Y=(x,v,A,L,D,j,q)=>{const W=v.el=x.el;let{patchFlag:V,dynamicChildren:U,dirs:nt}=v;V|=x.patchFlag&16;const G=x.props||Et,tt=v.props||Et;let lt;if(A&&Xs(A,!1),(lt=tt.onVnodeBeforeUpdate)&&Ye(lt,A,v,x),nt&&Js(v,x,A,"beforeUpdate"),A&&Xs(A,!0),(G.innerHTML&&tt.innerHTML==null||G.textContent&&tt.textContent==null)&&d(W,""),U?Q(x.dynamicChildren,U,W,A,L,na(v,D),j):q||ut(x,v,W,null,A,L,na(v,D),j,!1),V>0){if(V&16)st(W,G,tt,A,D);else if(V&2&&G.class!==tt.class&&o(W,"class",null,tt.class,D),V&4&&o(W,"style",G.style,tt.style,D),V&8){const vt=v.dynamicProps;for(let Tt=0;Tt<vt.length;Tt++){const Mt=vt[Tt],xe=G[Mt],Zt=tt[Mt];(Zt!==xe||Mt==="value")&&o(W,Mt,xe,Zt,D,A)}}V&1&&x.children!==v.children&&d(W,v.children)}else!q&&U==null&&st(W,G,tt,A,D);((lt=tt.onVnodeUpdated)||nt)&&we(()=>{lt&&Ye(lt,A,v,x),nt&&Js(v,x,A,"updated")},L)},Q=(x,v,A,L,D,j,q)=>{for(let W=0;W<v.length;W++){const V=x[W],U=v[W],nt=V.el&&(V.type===X||!ni(V,U)||V.shapeFlag&70)?h(V.el):A;g(V,U,nt,null,L,D,j,q,!0)}},st=(x,v,A,L,D)=>{if(v!==A){if(v!==Et)for(const j in v)!_i(j)&&!(j in A)&&o(x,j,v[j],null,D,L);for(const j in A){if(_i(j))continue;const q=A[j],W=v[j];q!==W&&j!=="value"&&o(x,j,W,q,D,L)}"value"in A&&o(x,"value",v.value,A.value,D)}},at=(x,v,A,L,D,j,q,W,V)=>{const U=v.el=x?x.el:a(""),nt=v.anchor=x?x.anchor:a("");let{patchFlag:G,dynamicChildren:tt,slotScopeIds:lt}=v;lt&&(W=W?W.concat(lt):lt),x==null?(n(U,A,L),n(nt,A,L),F(v.children||[],A,nt,D,j,q,W,V)):G>0&&G&64&&tt&&x.dynamicChildren?(Q(x.dynamicChildren,tt,A,D,j,q,W),(v.key!=null||D&&v===D.subTree)&&Kh(x,v,!0)):ut(x,v,A,nt,D,j,q,W,V)},gt=(x,v,A,L,D,j,q,W,V)=>{v.slotScopeIds=W,x==null?v.shapeFlag&512?D.ctx.activate(v,A,L,q,V):Wt(v,A,L,D,j,q,V):_t(x,v,V)},Wt=(x,v,A,L,D,j,q)=>{const W=x.component=Zg(x,L,D);if(Oh(x)&&(W.ctx.renderer=Z),tb(W,!1,q),W.asyncDep){if(D&&D.registerDep(W,ct,q),!x.el){const V=W.subTree=I(Ss);y(null,V,v,A)}}else ct(W,x,v,A,D,j,q)},_t=(x,v,A)=>{const L=v.component=x.component;if(Hg(x,v,A))if(L.asyncDep&&!L.asyncResolved){rt(L,v,A);return}else L.next=v,L.update();else v.el=x.el,L.vnode=v},ct=(x,v,A,L,D,j,q)=>{const W=()=>{if(x.isMounted){let{next:G,bu:tt,u:lt,parent:vt,vnode:Tt}=x;{const _e=Gh(x);if(_e){G&&(G.el=Tt.el,rt(x,G,q)),_e.asyncDep.then(()=>{x.isUnmounted||W()});return}}let Mt=G,xe;Xs(x,!1),G?(G.el=Tt.el,rt(x,G,q)):G=Tt,tt&&Bo(tt),(xe=G.props&&G.props.onVnodeBeforeUpdate)&&Ye(xe,vt,G,Tt),Xs(x,!0);const Zt=ia(x),Fe=x.subTree;x.subTree=Zt,g(Fe,Zt,h(Fe.el),R(Fe),x,D,j),G.el=Zt.el,Mt===null&&Wg(x,Zt.el),lt&&we(lt,D),(xe=G.props&&G.props.onVnodeUpdated)&&we(()=>Ye(xe,vt,G,Tt),D)}else{let G;const{el:tt,props:lt}=v,{bm:vt,m:Tt,parent:Mt,root:xe,type:Zt}=x,Fe=Rn(v);if(Xs(x,!1),vt&&Bo(vt),!Fe&&(G=lt&&lt.onVnodeBeforeMount)&&Ye(G,Mt,v),Xs(x,!0),tt&&jt){const _e=()=>{x.subTree=ia(x),jt(tt,x.subTree,x,D,null)};Fe&&Zt.__asyncHydrate?Zt.__asyncHydrate(tt,x,_e):_e()}else{xe.ce&&xe.ce._injectChildStyle(Zt);const _e=x.subTree=ia(x);g(null,_e,A,L,x,D,j),v.el=_e.el}if(Tt&&we(Tt,D),!Fe&&(G=lt&&lt.onVnodeMounted)){const _e=v;we(()=>Ye(G,Mt,_e),D)}(v.shapeFlag&256||Mt&&Rn(Mt.vnode)&&Mt.vnode.shapeFlag&256)&&x.a&&we(x.a,D),x.isMounted=!0,v=A=L=null}};x.scope.on();const V=x.effect=new rh(W);x.scope.off();const U=x.update=V.run.bind(V),nt=x.job=V.runIfDirty.bind(V);nt.i=x,nt.id=x.uid,V.scheduler=()=>Rl(nt),Xs(x,!0),U()},rt=(x,v,A)=>{v.component=x;const L=x.vnode.props;x.vnode=v,x.next=null,Eg(x,v.props,L,A),Dg(x,v.children,A),ws(),wc(x),ks()},ut=(x,v,A,L,D,j,q,W,V=!1)=>{const U=x&&x.children,nt=x?x.shapeFlag:0,G=v.children,{patchFlag:tt,shapeFlag:lt}=v;if(tt>0){if(tt&128){ae(U,G,A,L,D,j,q,W,V);return}else if(tt&256){Pt(U,G,A,L,D,j,q,W,V);return}}lt&8?(nt&16&&zt(U,D,j),G!==U&&d(A,G)):nt&16?lt&16?ae(U,G,A,L,D,j,q,W,V):zt(U,D,j,!0):(nt&8&&d(A,""),lt&16&&F(G,A,L,D,j,q,W,V))},Pt=(x,v,A,L,D,j,q,W,V)=>{x=x||Pn,v=v||Pn;const U=x.length,nt=v.length,G=Math.min(U,nt);let tt;for(tt=0;tt<G;tt++){const lt=v[tt]=V?Os(v[tt]):ts(v[tt]);g(x[tt],lt,A,null,D,j,q,W,V)}U>nt?zt(x,D,j,!0,!1,G):F(v,A,L,D,j,q,W,V,G)},ae=(x,v,A,L,D,j,q,W,V)=>{let U=0;const nt=v.length;let G=x.length-1,tt=nt-1;for(;U<=G&&U<=tt;){const lt=x[U],vt=v[U]=V?Os(v[U]):ts(v[U]);if(ni(lt,vt))g(lt,vt,A,null,D,j,q,W,V);else break;U++}for(;U<=G&&U<=tt;){const lt=x[G],vt=v[tt]=V?Os(v[tt]):ts(v[tt]);if(ni(lt,vt))g(lt,vt,A,null,D,j,q,W,V);else break;G--,tt--}if(U>G){if(U<=tt){const lt=tt+1,vt=lt<nt?v[lt].el:L;for(;U<=tt;)g(null,v[U]=V?Os(v[U]):ts(v[U]),A,vt,D,j,q,W,V),U++}}else if(U>tt)for(;U<=G;)$t(x[U],D,j,!0),U++;else{const lt=U,vt=U,Tt=new Map;for(U=vt;U<=tt;U++){const ve=v[U]=V?Os(v[U]):ts(v[U]);ve.key!=null&&Tt.set(ve.key,U)}let Mt,xe=0;const Zt=tt-vt+1;let Fe=!1,_e=0;const ei=new Array(Zt);for(U=0;U<Zt;U++)ei[U]=0;for(U=lt;U<=G;U++){const ve=x[U];if(xe>=Zt){$t(ve,D,j,!0);continue}let Ge;if(ve.key!=null)Ge=Tt.get(ve.key);else for(Mt=vt;Mt<=tt;Mt++)if(ei[Mt-vt]===0&&ni(ve,v[Mt])){Ge=Mt;break}Ge===void 0?$t(ve,D,j,!0):(ei[Ge-vt]=U+1,Ge>=_e?_e=Ge:Fe=!0,g(ve,v[Ge],A,null,D,j,q,W,V),xe++)}const gc=Fe?Fg(ei):Pn;for(Mt=gc.length-1,U=Zt-1;U>=0;U--){const ve=vt+U,Ge=v[ve],bc=ve+1<nt?v[ve+1].el:L;ei[U]===0?g(null,Ge,A,bc,D,j,q,W,V):Fe&&(Mt<0||U!==gc[Mt]?le(Ge,A,bc,2):Mt--)}}},le=(x,v,A,L,D=null)=>{const{el:j,type:q,transition:W,children:V,shapeFlag:U}=x;if(U&6){le(x.component.subTree,v,A,L);return}if(U&128){x.suspense.move(v,A,L);return}if(U&64){q.move(x,v,A,Z);return}if(q===X){n(j,v,A);for(let G=0;G<V.length;G++)le(V[G],v,A,L);n(x.anchor,v,A);return}if(q===Vo){S(x,v,A);return}if(L!==2&&U&1&&W)if(L===0)W.beforeEnter(j),n(j,v,A),we(()=>W.enter(j),D);else{const{leave:G,delayLeave:tt,afterLeave:lt}=W,vt=()=>{x.ctx.isUnmounted?i(j):n(j,v,A)},Tt=()=>{G(j,()=>{vt(),lt&&lt()})};tt?tt(j,vt,Tt):Tt()}else n(j,v,A)},$t=(x,v,A,L=!1,D=!1)=>{const{type:j,props:q,ref:W,children:V,dynamicChildren:U,shapeFlag:nt,patchFlag:G,dirs:tt,cacheIndex:lt}=x;if(G===-2&&(D=!1),W!=null&&(ws(),or(W,null,A,x,!0),ks()),lt!=null&&(v.renderCache[lt]=void 0),nt&256){v.ctx.deactivate(x);return}const vt=nt&1&&tt,Tt=!Rn(x);let Mt;if(Tt&&(Mt=q&&q.onVnodeBeforeUnmount)&&Ye(Mt,v,x),nt&6)Ke(x.component,A,L);else{if(nt&128){x.suspense.unmount(A,L);return}vt&&Js(x,null,v,"beforeUnmount"),nt&64?x.type.remove(x,v,A,Z,L):U&&!U.hasOnce&&(j!==X||G>0&&G&64)?zt(U,v,A,!1,!0):(j===X&&G&384||!D&&nt&16)&&zt(V,v,A),L&&Oe(x)}(Tt&&(Mt=q&&q.onVnodeUnmounted)||vt)&&we(()=>{Mt&&Ye(Mt,v,x),vt&&Js(x,null,v,"unmounted")},A)},Oe=x=>{const{type:v,el:A,anchor:L,transition:D}=x;if(v===X){he(A,L);return}if(v===Vo){k(x);return}const j=()=>{i(A),D&&!D.persisted&&D.afterLeave&&D.afterLeave()};if(x.shapeFlag&1&&D&&!D.persisted){const{leave:q,delayLeave:W}=D,V=()=>q(A,j);W?W(x.el,j,V):V()}else j()},he=(x,v)=>{let A;for(;x!==v;)A=f(x),i(x),x=A;i(v)},Ke=(x,v,A)=>{const{bum:L,scope:D,job:j,subTree:q,um:W,m:V,a:U,parent:nt,slots:{__:G}}=x;Pc(V),Pc(U),L&&Bo(L),nt&&ot(G)&&G.forEach(tt=>{nt.renderCache[tt]=void 0}),D.stop(),j&&(j.flags|=8,$t(q,x,v,A)),W&&we(W,v),we(()=>{x.isUnmounted=!0},v),v&&v.pendingBranch&&!v.isUnmounted&&x.asyncDep&&!x.asyncResolved&&x.suspenseId===v.pendingId&&(v.deps--,v.deps===0&&v.resolve())},zt=(x,v,A,L=!1,D=!1,j=0)=>{for(let q=j;q<x.length;q++)$t(x[q],v,A,L,D)},R=x=>{if(x.shapeFlag&6)return R(x.component.subTree);if(x.shapeFlag&128)return x.suspense.next();const v=f(x.anchor||x.el),A=v&&v[ng];return A?f(A):v};let J=!1;const K=(x,v,A)=>{x==null?v._vnode&&$t(v._vnode,null,null,!0):g(v._vnode||null,x,v,null,null,null,A),v._vnode=x,J||(J=!0,wc(),Mh(),J=!1)},Z={p:g,um:$t,m:le,r:Oe,mt:Wt,mc:F,pc:ut,pbc:Q,n:R,o:e};let wt,jt;return t&&([wt,jt]=t(Z)),{render:K,hydrate:wt,createApp:Mg(K,wt)}}function na({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Xs({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Lg(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Kh(e,t,s=!1){const n=e.children,i=t.children;if(ot(n)&&ot(i))for(let o=0;o<n.length;o++){const r=n[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=Os(i[o]),a.el=r.el),!s&&a.patchFlag!==-2&&Kh(r,a)),a.type===Or&&(a.el=r.el),a.type===Ss&&!a.el&&(a.el=r.el)}}function Fg(e){const t=e.slice(),s=[0];let n,i,o,r,a;const l=e.length;for(n=0;n<l;n++){const c=e[n];if(c!==0){if(i=s[s.length-1],e[i]<c){t[n]=i,s.push(n);continue}for(o=0,r=s.length-1;o<r;)a=o+r>>1,e[s[a]]<c?o=a+1:r=a;c<e[s[o]]&&(o>0&&(t[n]=s[o-1]),s[o]=n)}}for(o=s.length,r=s[o-1];o-- >0;)s[o]=r,r=t[r];return s}function Gh(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:Gh(t)}function Pc(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Ng=Symbol.for("v-scx"),jg=()=>_s(Ng);function $o(e,t,s){return Yh(e,t,s)}function Yh(e,t,s=Et){const{immediate:n,deep:i,flush:o,once:r}=s,a=Yt({},s),l=t&&n||!t&&o!=="post";let c;if($i){if(o==="sync"){const p=jg();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=Ue,p.resume=Ue,p.pause=Ue,p}}const d=se;a.call=(p,m,g)=>ns(p,d,m,g);let h=!1;o==="post"?a.scheduler=p=>{we(p,d&&d.suspense)}:o!=="sync"&&(h=!0,a.scheduler=(p,m)=>{m?p():Rl(p)}),a.augmentJob=p=>{t&&(p.flags|=4),h&&(p.flags|=2,d&&(p.id=d.uid,p.i=d))};const f=Zm(e,t,a);return $i&&(c?c.push(f):l&&f()),f}function Bg(e,t,s){const n=this.proxy,i=Ht(e)?e.includes(".")?Jh(n,e):()=>n[e]:e.bind(n,n);let o;dt(t)?o=t:(o=t.handler,s=t);const r=oo(this),a=Yh(i,o.bind(n),s);return r(),a}function Jh(e,t){const s=t.split(".");return()=>{let n=e;for(let i=0;i<s.length&&n;i++)n=n[s[i]];return n}}const Ug=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Re(t)}Modifiers`]||e[`${gn(t)}Modifiers`];function $g(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||Et;let i=s;const o=t.startsWith("update:"),r=o&&Ug(n,t.slice(7));r&&(r.trim&&(i=s.map(d=>Ht(d)?d.trim():d)),r.number&&(i=s.map(tr)));let a,l=n[a=Xr(t)]||n[a=Xr(Re(t))];!l&&o&&(l=n[a=Xr(gn(t))]),l&&ns(l,e,6,i);const c=n[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,ns(c,e,6,i)}}function Xh(e,t,s=!1){const n=t.emitsCache,i=n.get(e);if(i!==void 0)return i;const o=e.emits;let r={},a=!1;if(!dt(e)){const l=c=>{const d=Xh(c,t,!0);d&&(a=!0,Yt(r,d))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!a?(Rt(e)&&n.set(e,null),null):(ot(o)?o.forEach(l=>r[l]=null):Yt(r,o),Rt(e)&&n.set(e,r),r)}function Tr(e,t){return!e||!vr(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ct(e,t[0].toLowerCase()+t.slice(1))||Ct(e,gn(t))||Ct(e,t))}function ia(e){const{type:t,vnode:s,proxy:n,withProxy:i,propsOptions:[o],slots:r,attrs:a,emit:l,render:c,renderCache:d,props:h,data:f,setupState:p,ctx:m,inheritAttrs:g}=e,b=ir(e);let y,_;try{if(s.shapeFlag&4){const k=i||n,M=k;y=ts(c.call(M,k,d,h,p,f,m)),_=a}else{const k=t;y=ts(k.length>1?k(h,{attrs:a,slots:r,emit:l}):k(h,null)),_=t.props?a:Vg(a)}}catch(k){Si.length=0,Er(k,e,1),y=I(Ss)}let S=y;if(_&&g!==!1){const k=Object.keys(_),{shapeFlag:M}=S;k.length&&M&7&&(o&&k.some(wl)&&(_=zg(_,o)),S=Bn(S,_,!1,!0))}return s.dirs&&(S=Bn(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(s.dirs):s.dirs),s.transition&&Ll(S,s.transition),y=S,ir(b),y}const Vg=e=>{let t;for(const s in e)(s==="class"||s==="style"||vr(s))&&((t||(t={}))[s]=e[s]);return t},zg=(e,t)=>{const s={};for(const n in e)(!wl(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function Hg(e,t,s){const{props:n,children:i,component:o}=e,{props:r,children:a,patchFlag:l}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?Tc(n,r,c):!!r;if(l&8){const d=t.dynamicProps;for(let h=0;h<d.length;h++){const f=d[h];if(r[f]!==n[f]&&!Tr(c,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===r?!1:n?r?Tc(n,r,c):!0:!!r;return!1}function Tc(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const o=n[i];if(t[o]!==e[o]&&!Tr(s,o))return!0}return!1}function Wg({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const Qh=e=>e.__isSuspense;function qg(e,t){t&&t.pendingBranch?ot(e)?t.effects.push(...e):t.effects.push(e):sg(e)}const X=Symbol.for("v-fgt"),Or=Symbol.for("v-txt"),Ss=Symbol.for("v-cmt"),Vo=Symbol.for("v-stc"),Si=[];let Me=null;function w(e=!1){Si.push(Me=e?null:[])}function Kg(){Si.pop(),Me=Si[Si.length-1]||null}let Bi=1;function Oc(e,t=!1){Bi+=e,e<0&&Me&&t&&(Me.hasOnce=!0)}function Zh(e){return e.dynamicChildren=Bi>0?Me||Pn:null,Kg(),Bi>0&&Me&&Me.push(e),e}function C(e,t,s,n,i,o){return Zh(u(e,t,s,n,i,o,!0))}function ue(e,t,s,n,i){return Zh(I(e,t,s,n,i,!0))}function Ui(e){return e?e.__v_isVNode===!0:!1}function ni(e,t){return e.type===t.type&&e.key===t.key}const tf=({key:e})=>e??null,zo=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Ht(e)||ie(e)||dt(e)?{i:Xt,r:e,k:t,f:!!s}:e:null);function u(e,t=null,s=null,n=0,i=null,o=e===X?0:1,r=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&tf(t),ref:t&&zo(t),scopeId:Eh,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Xt};return a?(Bl(l,s),o&128&&e.normalize(l)):s&&(l.shapeFlag|=Ht(s)?8:16),Bi>0&&!r&&Me&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&Me.push(l),l}const I=Gg;function Gg(e,t=null,s=null,n=0,i=null,o=!1){if((!e||e===bg)&&(e=Ss),Ui(e)){const a=Bn(e,t,!0);return s&&Bl(a,s),Bi>0&&!o&&Me&&(a.shapeFlag&6?Me[Me.indexOf(e)]=a:Me.push(a)),a.patchFlag=-2,a}if(ob(e)&&(e=e.__vccOpts),t){t=Yg(t);let{class:a,style:l}=t;a&&!Ht(a)&&(t.class=Qt(a)),Rt(l)&&(Dl(l)&&!ot(l)&&(l=Yt({},l)),t.style=Cr(l))}const r=Ht(e)?1:Qh(e)?128:ig(e)?64:Rt(e)?4:dt(e)?2:0;return u(e,t,s,n,i,r,o,!0)}function Yg(e){return e?Dl(e)||$h(e)?Yt({},e):e:null}function Bn(e,t,s=!1,n=!1){const{props:i,ref:o,patchFlag:r,children:a,transition:l}=e,c=t?Jg(i||{},t):i,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&tf(c),ref:t&&t.ref?s&&o?ot(o)?o.concat(zo(t)):[o,zo(t)]:zo(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==X?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Bn(e.ssContent),ssFallback:e.ssFallback&&Bn(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&Ll(d,l.clone(d)),d}function it(e=" ",t=0){return I(Or,null,e,t)}function fn(e,t){const s=I(Vo,null,e);return s.staticCount=t,s}function z(e="",t=!1){return t?(w(),ue(Ss,null,e)):I(Ss,null,e)}function ts(e){return e==null||typeof e=="boolean"?I(Ss):ot(e)?I(X,null,e.slice()):Ui(e)?Os(e):I(Or,null,String(e))}function Os(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Bn(e)}function Bl(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(ot(t))s=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),Bl(e,i()),i._c&&(i._d=!0));return}else{s=32;const i=t._;!i&&!$h(t)?t._ctx=Xt:i===3&&Xt&&(Xt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else dt(t)?(t={default:t,_ctx:Xt},s=32):(t=String(t),n&64?(s=16,t=[it(t)]):s=8);e.children=t,e.shapeFlag|=s}function Jg(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=Qt([t.class,n.class]));else if(i==="style")t.style=Cr([t.style,n.style]);else if(vr(i)){const o=t[i],r=n[i];r&&o!==r&&!(ot(o)&&o.includes(r))&&(t[i]=o?[].concat(o,r):r)}else i!==""&&(t[i]=n[i])}return t}function Ye(e,t,s,n=null){ns(e,t,7,[s,n])}const Xg=jh();let Qg=0;function Zg(e,t,s){const n=e.type,i=(t?t.appContext:e.appContext)||Xg,o={uid:Qg++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Cm(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:zh(n,i),emitsOptions:Xh(n,i),emit:null,emitted:null,propsDefaults:Et,inheritAttrs:n.inheritAttrs,ctx:Et,data:Et,props:Et,attrs:Et,slots:Et,refs:Et,setupState:Et,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=$g.bind(null,o),e.ce&&e.ce(o),o}let se=null,ar,Va;{const e=Sr(),t=(s,n)=>{let i;return(i=e[s])||(i=e[s]=[]),i.push(n),o=>{i.length>1?i.forEach(r=>r(o)):i[0](o)}};ar=t("__VUE_INSTANCE_SETTERS__",s=>se=s),Va=t("__VUE_SSR_SETTERS__",s=>$i=s)}const oo=e=>{const t=se;return ar(e),e.scope.on(),()=>{e.scope.off(),ar(t)}},Dc=()=>{se&&se.scope.off(),ar(null)};function ef(e){return e.vnode.shapeFlag&4}let $i=!1;function tb(e,t=!1,s=!1){t&&Va(t);const{props:n,children:i}=e.vnode,o=ef(e);Ag(e,n,o,t),Og(e,i,s||t);const r=o?eb(e,t):void 0;return t&&Va(!1),r}function eb(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,xg);const{setup:n}=s;if(n){ws();const i=e.setupContext=n.length>1?nb(e):null,o=oo(e),r=io(n,e,0,[e.props,i]),a=Zu(r);if(ks(),o(),(a||e.sp)&&!Rn(e)&&Th(e),a){if(r.then(Dc,Dc),t)return r.then(l=>{Ic(e,l,t)}).catch(l=>{Er(l,e,0)});e.asyncDep=r}else Ic(e,r,t)}else sf(e,t)}function Ic(e,t,s){dt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Rt(t)&&(e.setupState=kh(t)),sf(e,s)}let Rc;function sf(e,t,s){const n=e.type;if(!e.render){if(!t&&Rc&&!n.render){const i=n.template||Fl(e).template;if(i){const{isCustomElement:o,compilerOptions:r}=e.appContext.config,{delimiters:a,compilerOptions:l}=n,c=Yt(Yt({isCustomElement:o,delimiters:a},r),l);n.render=Rc(i,c)}}e.render=n.render||Ue}{const i=oo(e);ws();try{_g(e)}finally{ks(),i()}}}const sb={get(e,t){return ee(e,"get",""),e[t]}};function nb(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,sb),slots:e.slots,emit:e.emit,expose:t}}function Dr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(kh(Wm(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in ki)return ki[s](e)},has(t,s){return s in t||s in ki}})):e.proxy}function ib(e,t=!0){return dt(e)?e.displayName||e.name:e.name||t&&e.__name}function ob(e){return dt(e)&&"__vccOpts"in e}const je=(e,t)=>Xm(e,t,$i);function nf(e,t,s){const n=arguments.length;return n===2?Rt(t)&&!ot(t)?Ui(t)?I(e,null,[t]):I(e,t):I(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&Ui(s)&&(s=[s]),I(e,t,s))}const rb="3.5.14";/**
* @vue/runtime-dom v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let za;const Lc=typeof window<"u"&&window.trustedTypes;if(Lc)try{za=Lc.createPolicy("vue",{createHTML:e=>e})}catch{}const of=za?e=>za.createHTML(e):e=>e,ab="http://www.w3.org/2000/svg",lb="http://www.w3.org/1998/Math/MathML",hs=typeof document<"u"?document:null,Fc=hs&&hs.createElement("template"),cb={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const i=t==="svg"?hs.createElementNS(ab,e):t==="mathml"?hs.createElementNS(lb,e):s?hs.createElement(e,{is:s}):hs.createElement(e);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>hs.createTextNode(e),createComment:e=>hs.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>hs.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,i,o){const r=s?s.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),s),!(i===o||!(i=i.nextSibling)););else{Fc.innerHTML=of(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const a=Fc.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,s)}return[r?r.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},db=Symbol("_vtc");function ub(e,t,s){const n=e[db];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const lr=Symbol("_vod"),rf=Symbol("_vsh"),Fn={beforeMount(e,{value:t},{transition:s}){e[lr]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):ii(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:n}){!t!=!s&&(n?t?(n.beforeEnter(e),ii(e,!0),n.enter(e)):n.leave(e,()=>{ii(e,!1)}):ii(e,t))},beforeUnmount(e,{value:t}){ii(e,t)}};function ii(e,t){e.style.display=t?e[lr]:"none",e[rf]=!t}const hb=Symbol(""),fb=/(^|;)\s*display\s*:/;function pb(e,t,s){const n=e.style,i=Ht(s);let o=!1;if(s&&!i){if(t)if(Ht(t))for(const r of t.split(";")){const a=r.slice(0,r.indexOf(":")).trim();s[a]==null&&Ho(n,a,"")}else for(const r in t)s[r]==null&&Ho(n,r,"");for(const r in s)r==="display"&&(o=!0),Ho(n,r,s[r])}else if(i){if(t!==s){const r=n[hb];r&&(s+=";"+r),n.cssText=s,o=fb.test(s)}}else t&&e.removeAttribute("style");lr in e&&(e[lr]=o?n.display:"",e[rf]&&(n.display="none"))}const Nc=/\s*!important$/;function Ho(e,t,s){if(ot(s))s.forEach(n=>Ho(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=mb(e,t);Nc.test(s)?e.setProperty(gn(n),s.replace(Nc,""),"important"):e[n]=s}}const jc=["Webkit","Moz","ms"],oa={};function mb(e,t){const s=oa[t];if(s)return s;let n=Re(t);if(n!=="filter"&&n in e)return oa[t]=n;n=kr(n);for(let i=0;i<jc.length;i++){const o=jc[i]+n;if(o in e)return oa[t]=o}return t}const Bc="http://www.w3.org/1999/xlink";function Uc(e,t,s,n,i,o=km(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Bc,t.slice(6,t.length)):e.setAttributeNS(Bc,t,s):s==null||o&&!nh(s)?e.removeAttribute(t):e.setAttribute(t,o?"":ze(s)?String(s):s)}function $c(e,t,s,n,i){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?of(s):s);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?e.getAttribute("value")||"":e.value,l=s==null?e.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in e))&&(e.value=l),s==null&&e.removeAttribute(t),e._value=s;return}let r=!1;if(s===""||s==null){const a=typeof e[t];a==="boolean"?s=nh(s):s==null&&a==="string"?(s="",r=!0):a==="number"&&(s=0,r=!0)}try{e[t]=s}catch{}r&&e.removeAttribute(i||t)}function Rs(e,t,s,n){e.addEventListener(t,s,n)}function gb(e,t,s,n){e.removeEventListener(t,s,n)}const Vc=Symbol("_vei");function bb(e,t,s,n,i=null){const o=e[Vc]||(e[Vc]={}),r=o[t];if(n&&r)r.value=n;else{const[a,l]=yb(t);if(n){const c=o[t]=vb(n,i);Rs(e,a,c,l)}else r&&(gb(e,a,r,l),o[t]=void 0)}}const zc=/(?:Once|Passive|Capture)$/;function yb(e){let t;if(zc.test(e)){t={};let n;for(;n=e.match(zc);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):gn(e.slice(2)),t]}let ra=0;const xb=Promise.resolve(),_b=()=>ra||(xb.then(()=>ra=0),ra=Date.now());function vb(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;ns(wb(n,s.value),t,5,[n])};return s.value=e,s.attached=_b(),s}function wb(e,t){if(ot(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const Hc=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,kb=(e,t,s,n,i,o)=>{const r=i==="svg";t==="class"?ub(e,n,r):t==="style"?pb(e,s,n):vr(t)?wl(t)||bb(e,t,s,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Sb(e,t,n,r))?($c(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Uc(e,t,n,r,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ht(n))?$c(e,Re(t),n,o,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Uc(e,t,n,r))};function Sb(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&Hc(t)&&dt(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Hc(t)&&Ht(s)?!1:t in e}const Un=e=>{const t=e.props["onUpdate:modelValue"]||!1;return ot(t)?s=>Bo(t,s):t};function Cb(e){e.target.composing=!0}function Wc(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const vs=Symbol("_assign"),N={created(e,{modifiers:{lazy:t,trim:s,number:n}},i){e[vs]=Un(i);const o=n||i.props&&i.props.type==="number";Rs(e,t?"change":"input",r=>{if(r.target.composing)return;let a=e.value;s&&(a=a.trim()),o&&(a=tr(a)),e[vs](a)}),s&&Rs(e,"change",()=>{e.value=e.value.trim()}),t||(Rs(e,"compositionstart",Cb),Rs(e,"compositionend",Wc),Rs(e,"change",Wc))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:n,trim:i,number:o}},r){if(e[vs]=Un(r),e.composing)return;const a=(o||e.type==="number")&&!/^0\d/.test(e.value)?tr(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(n&&t===s||i&&e.value.trim()===l)||(e.value=l))}},Ul={deep:!0,created(e,t,s){e[vs]=Un(s),Rs(e,"change",()=>{const n=e._modelValue,i=Vi(e),o=e.checked,r=e[vs];if(ot(n)){const a=Cl(n,i),l=a!==-1;if(o&&!l)r(n.concat(i));else if(!o&&l){const c=[...n];c.splice(a,1),r(c)}}else if(Qn(n)){const a=new Set(n);o?a.add(i):a.delete(i),r(a)}else r(af(e,o))})},mounted:qc,beforeUpdate(e,t,s){e[vs]=Un(s),qc(e,t,s)}};function qc(e,{value:t,oldValue:s},n){e._modelValue=t;let i;if(ot(t))i=Cl(t,n.props.value)>-1;else if(Qn(t))i=t.has(n.props.value);else{if(t===s)return;i=no(t,af(e,!0))}e.checked!==i&&(e.checked=i)}const Ae={deep:!0,created(e,{value:t,modifiers:{number:s}},n){const i=Qn(t);Rs(e,"change",()=>{const o=Array.prototype.filter.call(e.options,r=>r.selected).map(r=>s?tr(Vi(r)):Vi(r));e[vs](e.multiple?i?new Set(o):o:o[0]),e._assigning=!0,Il(()=>{e._assigning=!1})}),e[vs]=Un(n)},mounted(e,{value:t}){Kc(e,t)},beforeUpdate(e,t,s){e[vs]=Un(s)},updated(e,{value:t}){e._assigning||Kc(e,t)}};function Kc(e,t){const s=e.multiple,n=ot(t);if(!(s&&!n&&!Qn(t))){for(let i=0,o=e.options.length;i<o;i++){const r=e.options[i],a=Vi(r);if(s)if(n){const l=typeof a;l==="string"||l==="number"?r.selected=t.some(c=>String(c)===String(a)):r.selected=Cl(t,a)>-1}else r.selected=t.has(a);else if(no(Vi(r),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Vi(e){return"_value"in e?e._value:e.value}function af(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const Mb=["ctrl","shift","alt","meta"],Ab={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Mb.some(s=>e[`${s}Key`]&&!t.includes(s))},oe=(e,t)=>{const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=(i,...o)=>{for(let r=0;r<t.length;r++){const a=Ab[t[r]];if(a&&a(i,t))return}return e(i,...o)})},Eb=Yt({patchProp:kb},cb);let Gc;function Pb(){return Gc||(Gc=Ig(Eb))}const Tb=(...e)=>{const t=Pb().createApp(...e),{mount:s}=t;return t.mount=n=>{const i=Db(n);if(!i)return;const o=t._component;!dt(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const r=s(i,!1,Ob(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),r},t};function Ob(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Db(e){return Ht(e)?document.querySelector(e):e}const mt=(e,t)=>{const s=e.__vccOpts||e;for(const[n,i]of t)s[n]=i;return s},Ib={name:"CookieBanner",data(){return{consentGiven:!1}},mounted(){this.consentGiven=localStorage.getItem("cookieConsent")==="true"},methods:{acceptCookies(){this.consentGiven=!0,localStorage.setItem("cookieConsent","true")}}},Rb={key:0,class:"fixed bottom-0 left-0 right-0 bg-gray-800 text-white p-4 text-center z-50"};function Lb(e,t,s,n,i,o){return i.consentGiven?z("",!0):(w(),C("div",Rb,[t[1]||(t[1]=u("p",{class:"mb-2"},[it(" Utilizamos cookies para melhorar sua experiência. Ao continuar, você concorda com nossa "),u("a",{href:"#",class:"underline"},"política de privacidade"),it(". ")],-1)),u("button",{onClick:t[0]||(t[0]=(...r)=>o.acceptCookies&&o.acceptCookies(...r)),class:"btn"}," Aceitar ")]))}const Fb=mt(Ib,[["render",Lb]]),Nb={name:"App",components:{CookieBanner:Fb}};function jb(e,t,s,n,i,o){const r=H("router-view"),a=H("CookieBanner");return w(),C(X,null,[I(r),I(a)],64)}const Bb=mt(Nb,[["render",jb]]);/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const An=typeof document<"u";function lf(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Ub(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&lf(e.default)}const kt=Object.assign;function aa(e,t){const s={};for(const n in t){const i=t[n];s[n]=He(i)?i.map(e):e(i)}return s}const Ci=()=>{},He=Array.isArray,cf=/#/g,$b=/&/g,Vb=/\//g,zb=/=/g,Hb=/\?/g,df=/\+/g,Wb=/%5B/g,qb=/%5D/g,uf=/%5E/g,Kb=/%60/g,hf=/%7B/g,Gb=/%7C/g,ff=/%7D/g,Yb=/%20/g;function $l(e){return encodeURI(""+e).replace(Gb,"|").replace(Wb,"[").replace(qb,"]")}function Jb(e){return $l(e).replace(hf,"{").replace(ff,"}").replace(uf,"^")}function Ha(e){return $l(e).replace(df,"%2B").replace(Yb,"+").replace(cf,"%23").replace($b,"%26").replace(Kb,"`").replace(hf,"{").replace(ff,"}").replace(uf,"^")}function Xb(e){return Ha(e).replace(zb,"%3D")}function Qb(e){return $l(e).replace(cf,"%23").replace(Hb,"%3F")}function Zb(e){return e==null?"":Qb(e).replace(Vb,"%2F")}function zi(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const t0=/\/$/,e0=e=>e.replace(t0,"");function la(e,t,s="/"){let n,i={},o="",r="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=t.slice(0,l),o=t.slice(l+1,a>-1?a:t.length),i=e(o)),a>-1&&(n=n||t.slice(0,a),r=t.slice(a,t.length)),n=o0(n??t,s),{fullPath:n+(o&&"?")+o+r,path:n,query:i,hash:zi(r)}}function s0(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function Yc(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function n0(e,t,s){const n=t.matched.length-1,i=s.matched.length-1;return n>-1&&n===i&&$n(t.matched[n],s.matched[i])&&pf(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function $n(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function pf(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!i0(e[s],t[s]))return!1;return!0}function i0(e,t){return He(e)?Jc(e,t):He(t)?Jc(t,e):e===t}function Jc(e,t){return He(t)?e.length===t.length&&e.every((s,n)=>s===t[n]):e.length===1&&e[0]===t}function o0(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),n=e.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let o=s.length-1,r,a;for(r=0;r<n.length;r++)if(a=n[r],a!==".")if(a==="..")o>1&&o--;else break;return s.slice(0,o).join("/")+"/"+n.slice(r).join("/")}const As={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Hi;(function(e){e.pop="pop",e.push="push"})(Hi||(Hi={}));var Mi;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Mi||(Mi={}));function r0(e){if(!e)if(An){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),e0(e)}const a0=/^[^#]+#/;function l0(e,t){return e.replace(a0,"#")+t}function c0(e,t){const s=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-s.left-(t.left||0),top:n.top-s.top-(t.top||0)}}const Ir=()=>({left:window.scrollX,top:window.scrollY});function d0(e){let t;if("el"in e){const s=e.el,n=typeof s=="string"&&s.startsWith("#"),i=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!i)return;t=c0(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Xc(e,t){return(history.state?history.state.position-t:-1)+e}const Wa=new Map;function u0(e,t){Wa.set(e,t)}function h0(e){const t=Wa.get(e);return Wa.delete(e),t}let f0=()=>location.protocol+"//"+location.host;function mf(e,t){const{pathname:s,search:n,hash:i}=t,o=e.indexOf("#");if(o>-1){let a=i.includes(e.slice(o))?e.slice(o).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),Yc(l,"")}return Yc(s,e)+n+i}function p0(e,t,s,n){let i=[],o=[],r=null;const a=({state:f})=>{const p=mf(e,location),m=s.value,g=t.value;let b=0;if(f){if(s.value=p,t.value=f,r&&r===m){r=null;return}b=g?f.position-g.position:0}else n(p);i.forEach(y=>{y(s.value,m,{delta:b,type:Hi.pop,direction:b?b>0?Mi.forward:Mi.back:Mi.unknown})})};function l(){r=s.value}function c(f){i.push(f);const p=()=>{const m=i.indexOf(f);m>-1&&i.splice(m,1)};return o.push(p),p}function d(){const{history:f}=window;f.state&&f.replaceState(kt({},f.state,{scroll:Ir()}),"")}function h(){for(const f of o)f();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",d,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function Qc(e,t,s,n=!1,i=!1){return{back:e,current:t,forward:s,replaced:n,position:window.history.length,scroll:i?Ir():null}}function m0(e){const{history:t,location:s}=window,n={value:mf(e,s)},i={value:t.state};i.value||o(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(l,c,d){const h=e.indexOf("#"),f=h>-1?(s.host&&document.querySelector("base")?e:e.slice(h))+l:f0()+e+l;try{t[d?"replaceState":"pushState"](c,"",f),i.value=c}catch(p){console.error(p),s[d?"replace":"assign"](f)}}function r(l,c){const d=kt({},t.state,Qc(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});o(l,d,!0),n.value=l}function a(l,c){const d=kt({},i.value,t.state,{forward:l,scroll:Ir()});o(d.current,d,!0);const h=kt({},Qc(n.value,l,null),{position:d.position+1},c);o(l,h,!1),n.value=l}return{location:n,state:i,push:a,replace:r}}function g0(e){e=r0(e);const t=m0(e),s=p0(e,t.state,t.location,t.replace);function n(o,r=!0){r||s.pauseListeners(),history.go(o)}const i=kt({location:"",base:e,go:n,createHref:l0.bind(null,e)},t,s);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function b0(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),g0(e)}function y0(e){return typeof e=="string"||e&&typeof e=="object"}function gf(e){return typeof e=="string"||typeof e=="symbol"}const bf=Symbol("");var Zc;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Zc||(Zc={}));function Vn(e,t){return kt(new Error,{type:e,[bf]:!0},t)}function as(e,t){return e instanceof Error&&bf in e&&(t==null||!!(e.type&t))}const td="[^/]+?",x0={sensitive:!1,strict:!1,start:!0,end:!0},_0=/[.+*?^${}()[\]/\\]/g;function v0(e,t){const s=kt({},x0,t),n=[];let i=s.start?"^":"";const o=[];for(const c of e){const d=c.length?[]:[90];s.strict&&!c.length&&(i+="/");for(let h=0;h<c.length;h++){const f=c[h];let p=40+(s.sensitive?.25:0);if(f.type===0)h||(i+="/"),i+=f.value.replace(_0,"\\$&"),p+=40;else if(f.type===1){const{value:m,repeatable:g,optional:b,regexp:y}=f;o.push({name:m,repeatable:g,optional:b});const _=y||td;if(_!==td){p+=10;try{new RegExp(`(${_})`)}catch(k){throw new Error(`Invalid custom RegExp for param "${m}" (${_}): `+k.message)}}let S=g?`((?:${_})(?:/(?:${_}))*)`:`(${_})`;h||(S=b&&c.length<2?`(?:/${S})`:"/"+S),b&&(S+="?"),i+=S,p+=20,b&&(p+=-8),g&&(p+=-20),_===".*"&&(p+=-50)}d.push(p)}n.push(d)}if(s.strict&&s.end){const c=n.length-1;n[c][n[c].length-1]+=.7000000000000001}s.strict||(i+="/?"),s.end?i+="$":s.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const r=new RegExp(i,s.sensitive?"":"i");function a(c){const d=c.match(r),h={};if(!d)return null;for(let f=1;f<d.length;f++){const p=d[f]||"",m=o[f-1];h[m.name]=p&&m.repeatable?p.split("/"):p}return h}function l(c){let d="",h=!1;for(const f of e){(!h||!d.endsWith("/"))&&(d+="/"),h=!1;for(const p of f)if(p.type===0)d+=p.value;else if(p.type===1){const{value:m,repeatable:g,optional:b}=p,y=m in c?c[m]:"";if(He(y)&&!g)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const _=He(y)?y.join("/"):y;if(!_)if(b)f.length<2&&(d.endsWith("/")?d=d.slice(0,-1):h=!0);else throw new Error(`Missing required param "${m}"`);d+=_}}return d||"/"}return{re:r,score:n,keys:o,parse:a,stringify:l}}function w0(e,t){let s=0;for(;s<e.length&&s<t.length;){const n=t[s]-e[s];if(n)return n;s++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function yf(e,t){let s=0;const n=e.score,i=t.score;for(;s<n.length&&s<i.length;){const o=w0(n[s],i[s]);if(o)return o;s++}if(Math.abs(i.length-n.length)===1){if(ed(n))return 1;if(ed(i))return-1}return i.length-n.length}function ed(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const k0={type:0,value:""},S0=/[a-zA-Z0-9_]/;function C0(e){if(!e)return[[]];if(e==="/")return[[k0]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(p){throw new Error(`ERR (${s})/"${c}": ${p}`)}let s=0,n=s;const i=[];let o;function r(){o&&i.push(o),o=[]}let a=0,l,c="",d="";function h(){c&&(s===0?o.push({type:0,value:c}):s===1||s===2||s===3?(o.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:d,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&s!==2){n=s,s=4;continue}switch(s){case 0:l==="/"?(c&&h(),r()):l===":"?(h(),s=1):f();break;case 4:f(),s=n;break;case 1:l==="("?s=2:S0.test(l)?f():(h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+l:s=3:d+=l;break;case 3:h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,d="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${c}"`),h(),r(),i}function M0(e,t,s){const n=v0(C0(e.path),s),i=kt(n,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function A0(e,t){const s=[],n=new Map;t=od({strict:!1,end:!0,sensitive:!1},t);function i(h){return n.get(h)}function o(h,f,p){const m=!p,g=nd(h);g.aliasOf=p&&p.record;const b=od(t,h),y=[g];if("alias"in h){const k=typeof h.alias=="string"?[h.alias]:h.alias;for(const M of k)y.push(nd(kt({},g,{components:p?p.record.components:g.components,path:M,aliasOf:p?p.record:g})))}let _,S;for(const k of y){const{path:M}=k;if(f&&M[0]!=="/"){const T=f.record.path,P=T[T.length-1]==="/"?"":"/";k.path=f.record.path+(M&&P+M)}if(_=M0(k,f,b),p?p.alias.push(_):(S=S||_,S!==_&&S.alias.push(_),m&&h.name&&!id(_)&&r(h.name)),xf(_)&&l(_),g.children){const T=g.children;for(let P=0;P<T.length;P++)o(T[P],_,p&&p.children[P])}p=p||_}return S?()=>{r(S)}:Ci}function r(h){if(gf(h)){const f=n.get(h);f&&(n.delete(h),s.splice(s.indexOf(f),1),f.children.forEach(r),f.alias.forEach(r))}else{const f=s.indexOf(h);f>-1&&(s.splice(f,1),h.record.name&&n.delete(h.record.name),h.children.forEach(r),h.alias.forEach(r))}}function a(){return s}function l(h){const f=T0(h,s);s.splice(f,0,h),h.record.name&&!id(h)&&n.set(h.record.name,h)}function c(h,f){let p,m={},g,b;if("name"in h&&h.name){if(p=n.get(h.name),!p)throw Vn(1,{location:h});b=p.record.name,m=kt(sd(f.params,p.keys.filter(S=>!S.optional).concat(p.parent?p.parent.keys.filter(S=>S.optional):[]).map(S=>S.name)),h.params&&sd(h.params,p.keys.map(S=>S.name))),g=p.stringify(m)}else if(h.path!=null)g=h.path,p=s.find(S=>S.re.test(g)),p&&(m=p.parse(g),b=p.record.name);else{if(p=f.name?n.get(f.name):s.find(S=>S.re.test(f.path)),!p)throw Vn(1,{location:h,currentLocation:f});b=p.record.name,m=kt({},f.params,h.params),g=p.stringify(m)}const y=[];let _=p;for(;_;)y.unshift(_.record),_=_.parent;return{name:b,path:g,params:m,matched:y,meta:P0(y)}}e.forEach(h=>o(h));function d(){s.length=0,n.clear()}return{addRoute:o,resolve:c,removeRoute:r,clearRoutes:d,getRoutes:a,getRecordMatcher:i}}function sd(e,t){const s={};for(const n of t)n in e&&(s[n]=e[n]);return s}function nd(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:E0(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function E0(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const n in e.components)t[n]=typeof s=="object"?s[n]:s;return t}function id(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function P0(e){return e.reduce((t,s)=>kt(t,s.meta),{})}function od(e,t){const s={};for(const n in e)s[n]=n in t?t[n]:e[n];return s}function T0(e,t){let s=0,n=t.length;for(;s!==n;){const o=s+n>>1;yf(e,t[o])<0?n=o:s=o+1}const i=O0(e);return i&&(n=t.lastIndexOf(i,n-1)),n}function O0(e){let t=e;for(;t=t.parent;)if(xf(t)&&yf(e,t)===0)return t}function xf({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function D0(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<n.length;++i){const o=n[i].replace(df," "),r=o.indexOf("="),a=zi(r<0?o:o.slice(0,r)),l=r<0?null:zi(o.slice(r+1));if(a in t){let c=t[a];He(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function rd(e){let t="";for(let s in e){const n=e[s];if(s=Xb(s),n==null){n!==void 0&&(t+=(t.length?"&":"")+s);continue}(He(n)?n.map(o=>o&&Ha(o)):[n&&Ha(n)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+s,o!=null&&(t+="="+o))})}return t}function I0(e){const t={};for(const s in e){const n=e[s];n!==void 0&&(t[s]=He(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return t}const R0=Symbol(""),ad=Symbol(""),Vl=Symbol(""),_f=Symbol(""),qa=Symbol("");function oi(){let e=[];function t(n){return e.push(n),()=>{const i=e.indexOf(n);i>-1&&e.splice(i,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function Ds(e,t,s,n,i,o=r=>r()){const r=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(Vn(4,{from:s,to:t})):f instanceof Error?l(f):y0(f)?l(Vn(2,{from:t,to:f})):(r&&n.enterCallbacks[i]===r&&typeof f=="function"&&r.push(f),a())},d=o(()=>e.call(n&&n.instances[i],t,s,c));let h=Promise.resolve(d);e.length<3&&(h=h.then(c)),h.catch(f=>l(f))})}function ca(e,t,s,n,i=o=>o()){const o=[];for(const r of e)for(const a in r.components){let l=r.components[a];if(!(t!=="beforeRouteEnter"&&!r.instances[a]))if(lf(l)){const d=(l.__vccOpts||l)[t];d&&o.push(Ds(d,s,n,r,a,i))}else{let c=l();o.push(()=>c.then(d=>{if(!d)throw new Error(`Couldn't resolve component "${a}" at "${r.path}"`);const h=Ub(d)?d.default:d;r.mods[a]=d,r.components[a]=h;const p=(h.__vccOpts||h)[t];return p&&Ds(p,s,n,r,a,i)()}))}}return o}function ld(e){const t=_s(Vl),s=_s(_f),n=je(()=>{const l=Dn(e.to);return t.resolve(l)}),i=je(()=>{const{matched:l}=n.value,{length:c}=l,d=l[c-1],h=s.matched;if(!d||!h.length)return-1;const f=h.findIndex($n.bind(null,d));if(f>-1)return f;const p=cd(l[c-2]);return c>1&&cd(d)===p&&h[h.length-1].path!==p?h.findIndex($n.bind(null,l[c-2])):f}),o=je(()=>i.value>-1&&B0(s.params,n.value.params)),r=je(()=>i.value>-1&&i.value===s.matched.length-1&&pf(s.params,n.value.params));function a(l={}){if(j0(l)){const c=t[Dn(e.replace)?"replace":"push"](Dn(e.to)).catch(Ci);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:n,href:je(()=>n.value.href),isActive:o,isExactActive:r,navigate:a}}function L0(e){return e.length===1?e[0]:e}const F0=Ph({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:ld,setup(e,{slots:t}){const s=Ar(ld(e)),{options:n}=_s(Vl),i=je(()=>({[dd(e.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[dd(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const o=t.default&&L0(t.default(s));return e.custom?o:nf("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:i.value},o)}}}),N0=F0;function j0(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function B0(e,t){for(const s in t){const n=t[s],i=e[s];if(typeof n=="string"){if(n!==i)return!1}else if(!He(i)||i.length!==n.length||n.some((o,r)=>o!==i[r]))return!1}return!0}function cd(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const dd=(e,t,s)=>e??t??s,U0=Ph({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const n=_s(qa),i=je(()=>e.route||n.value),o=_s(ad,0),r=je(()=>{let c=Dn(o);const{matched:d}=i.value;let h;for(;(h=d[c])&&!h.components;)c++;return c}),a=je(()=>i.value.matched[r.value]);Uo(ad,je(()=>r.value+1)),Uo(R0,a),Uo(qa,i);const l=qm();return $o(()=>[l.value,a.value,e.name],([c,d,h],[f,p,m])=>{d&&(d.instances[h]=c,p&&p!==d&&c&&c===f&&(d.leaveGuards.size||(d.leaveGuards=p.leaveGuards),d.updateGuards.size||(d.updateGuards=p.updateGuards))),c&&d&&(!p||!$n(d,p)||!f)&&(d.enterCallbacks[h]||[]).forEach(g=>g(c))},{flush:"post"}),()=>{const c=i.value,d=e.name,h=a.value,f=h&&h.components[d];if(!f)return ud(s.default,{Component:f,route:c});const p=h.props[d],m=p?p===!0?c.params:typeof p=="function"?p(c):p:null,b=nf(f,kt({},m,t,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(h.instances[d]=null)},ref:l}));return ud(s.default,{Component:b,route:c})||b}}});function ud(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const $0=U0;function V0(e){const t=A0(e.routes,e),s=e.parseQuery||D0,n=e.stringifyQuery||rd,i=e.history,o=oi(),r=oi(),a=oi(),l=Km(As);let c=As;An&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=aa.bind(null,R=>""+R),h=aa.bind(null,Zb),f=aa.bind(null,zi);function p(R,J){let K,Z;return gf(R)?(K=t.getRecordMatcher(R),Z=J):Z=R,t.addRoute(Z,K)}function m(R){const J=t.getRecordMatcher(R);J&&t.removeRoute(J)}function g(){return t.getRoutes().map(R=>R.record)}function b(R){return!!t.getRecordMatcher(R)}function y(R,J){if(J=kt({},J||l.value),typeof R=="string"){const v=la(s,R,J.path),A=t.resolve({path:v.path},J),L=i.createHref(v.fullPath);return kt(v,A,{params:f(A.params),hash:zi(v.hash),redirectedFrom:void 0,href:L})}let K;if(R.path!=null)K=kt({},R,{path:la(s,R.path,J.path).path});else{const v=kt({},R.params);for(const A in v)v[A]==null&&delete v[A];K=kt({},R,{params:h(v)}),J.params=h(J.params)}const Z=t.resolve(K,J),wt=R.hash||"";Z.params=d(f(Z.params));const jt=s0(n,kt({},R,{hash:Jb(wt),path:Z.path})),x=i.createHref(jt);return kt({fullPath:jt,hash:wt,query:n===rd?I0(R.query):R.query||{}},Z,{redirectedFrom:void 0,href:x})}function _(R){return typeof R=="string"?la(s,R,l.value.path):kt({},R)}function S(R,J){if(c!==R)return Vn(8,{from:J,to:R})}function k(R){return P(R)}function M(R){return k(kt(_(R),{replace:!0}))}function T(R){const J=R.matched[R.matched.length-1];if(J&&J.redirect){const{redirect:K}=J;let Z=typeof K=="function"?K(R):K;return typeof Z=="string"&&(Z=Z.includes("?")||Z.includes("#")?Z=_(Z):{path:Z},Z.params={}),kt({query:R.query,hash:R.hash,params:Z.path!=null?{}:R.params},Z)}}function P(R,J){const K=c=y(R),Z=l.value,wt=R.state,jt=R.force,x=R.replace===!0,v=T(K);if(v)return P(kt(_(v),{state:typeof v=="object"?kt({},wt,v.state):wt,force:jt,replace:x}),J||K);const A=K;A.redirectedFrom=J;let L;return!jt&&n0(n,Z,K)&&(L=Vn(16,{to:A,from:Z}),le(Z,Z,!0,!1)),(L?Promise.resolve(L):Q(A,Z)).catch(D=>as(D)?as(D,2)?D:ae(D):ut(D,A,Z)).then(D=>{if(D){if(as(D,2))return P(kt({replace:x},_(D.to),{state:typeof D.to=="object"?kt({},wt,D.to.state):wt,force:jt}),J||A)}else D=at(A,Z,!0,x,wt);return st(A,Z,D),D})}function F(R,J){const K=S(R,J);return K?Promise.reject(K):Promise.resolve()}function Y(R){const J=he.values().next().value;return J&&typeof J.runWithContext=="function"?J.runWithContext(R):R()}function Q(R,J){let K;const[Z,wt,jt]=z0(R,J);K=ca(Z.reverse(),"beforeRouteLeave",R,J);for(const v of Z)v.leaveGuards.forEach(A=>{K.push(Ds(A,R,J))});const x=F.bind(null,R,J);return K.push(x),zt(K).then(()=>{K=[];for(const v of o.list())K.push(Ds(v,R,J));return K.push(x),zt(K)}).then(()=>{K=ca(wt,"beforeRouteUpdate",R,J);for(const v of wt)v.updateGuards.forEach(A=>{K.push(Ds(A,R,J))});return K.push(x),zt(K)}).then(()=>{K=[];for(const v of jt)if(v.beforeEnter)if(He(v.beforeEnter))for(const A of v.beforeEnter)K.push(Ds(A,R,J));else K.push(Ds(v.beforeEnter,R,J));return K.push(x),zt(K)}).then(()=>(R.matched.forEach(v=>v.enterCallbacks={}),K=ca(jt,"beforeRouteEnter",R,J,Y),K.push(x),zt(K))).then(()=>{K=[];for(const v of r.list())K.push(Ds(v,R,J));return K.push(x),zt(K)}).catch(v=>as(v,8)?v:Promise.reject(v))}function st(R,J,K){a.list().forEach(Z=>Y(()=>Z(R,J,K)))}function at(R,J,K,Z,wt){const jt=S(R,J);if(jt)return jt;const x=J===As,v=An?history.state:{};K&&(Z||x?i.replace(R.fullPath,kt({scroll:x&&v&&v.scroll},wt)):i.push(R.fullPath,wt)),l.value=R,le(R,J,K,x),ae()}let gt;function Wt(){gt||(gt=i.listen((R,J,K)=>{if(!Ke.listening)return;const Z=y(R),wt=T(Z);if(wt){P(kt(wt,{replace:!0,force:!0}),Z).catch(Ci);return}c=Z;const jt=l.value;An&&u0(Xc(jt.fullPath,K.delta),Ir()),Q(Z,jt).catch(x=>as(x,12)?x:as(x,2)?(P(kt(_(x.to),{force:!0}),Z).then(v=>{as(v,20)&&!K.delta&&K.type===Hi.pop&&i.go(-1,!1)}).catch(Ci),Promise.reject()):(K.delta&&i.go(-K.delta,!1),ut(x,Z,jt))).then(x=>{x=x||at(Z,jt,!1),x&&(K.delta&&!as(x,8)?i.go(-K.delta,!1):K.type===Hi.pop&&as(x,20)&&i.go(-1,!1)),st(Z,jt,x)}).catch(Ci)}))}let _t=oi(),ct=oi(),rt;function ut(R,J,K){ae(R);const Z=ct.list();return Z.length?Z.forEach(wt=>wt(R,J,K)):console.error(R),Promise.reject(R)}function Pt(){return rt&&l.value!==As?Promise.resolve():new Promise((R,J)=>{_t.add([R,J])})}function ae(R){return rt||(rt=!R,Wt(),_t.list().forEach(([J,K])=>R?K(R):J()),_t.reset()),R}function le(R,J,K,Z){const{scrollBehavior:wt}=e;if(!An||!wt)return Promise.resolve();const jt=!K&&h0(Xc(R.fullPath,0))||(Z||!K)&&history.state&&history.state.scroll||null;return Il().then(()=>wt(R,J,jt)).then(x=>x&&d0(x)).catch(x=>ut(x,R,J))}const $t=R=>i.go(R);let Oe;const he=new Set,Ke={currentRoute:l,listening:!0,addRoute:p,removeRoute:m,clearRoutes:t.clearRoutes,hasRoute:b,getRoutes:g,resolve:y,options:e,push:k,replace:M,go:$t,back:()=>$t(-1),forward:()=>$t(1),beforeEach:o.add,beforeResolve:r.add,afterEach:a.add,onError:ct.add,isReady:Pt,install(R){const J=this;R.component("RouterLink",N0),R.component("RouterView",$0),R.config.globalProperties.$router=J,Object.defineProperty(R.config.globalProperties,"$route",{enumerable:!0,get:()=>Dn(l)}),An&&!Oe&&l.value===As&&(Oe=!0,k(i.location).catch(wt=>{}));const K={};for(const wt in As)Object.defineProperty(K,wt,{get:()=>l.value[wt],enumerable:!0});R.provide(Vl,J),R.provide(_f,_h(K)),R.provide(qa,l);const Z=R.unmount;he.add(R),R.unmount=function(){he.delete(R),he.size<1&&(c=As,gt&&gt(),gt=null,l.value=As,Oe=!1,rt=!1),Z()}}};function zt(R){return R.reduce((J,K)=>J.then(()=>Y(K)),Promise.resolve())}return Ke}function z0(e,t){const s=[],n=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let r=0;r<o;r++){const a=t.matched[r];a&&(e.matched.find(c=>$n(c,a))?n.push(a):s.push(a));const l=e.matched[r];l&&(t.matched.find(c=>$n(c,l))||i.push(l))}return[s,n,i]}const H0={name:"Navbar",data(){return{open:!1}},mounted(){window.addEventListener("scroll",this.handleScroll)},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},watch:{$route(){this.open=!1}},methods:{toggleMenu(){this.open=!this.open},handleScroll(){this.open&&(this.open=!1)}}},W0={class:"flex items-center justify-between px-8 py-4 bg-white shadow relative"},q0={class:"hidden md:flex items-center space-x-4"},K0={key:0,class:"absolute top-full left-0 w-full bg-white shadow-md md:hidden flex flex-col items-start space-y-4 py-4 px-8"};function G0(e,t,s,n,i,o){const r=H("router-link");return w(),C("nav",W0,[I(r,{to:"/",class:"text-xl font-bold text-blue-600"},{default:et(()=>t[5]||(t[5]=[it("Agenda Zen")])),_:1,__:[5]}),u("button",{onClick:t[0]||(t[0]=(...a)=>o.toggleMenu&&o.toggleMenu(...a)),class:"md:hidden focus:outline-none"},t[6]||(t[6]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])),u("div",q0,[I(r,{to:"/buscar",class:"text-blue-600 hover:underline"},{default:et(()=>t[7]||(t[7]=[it("Buscar")])),_:1,__:[7]}),I(r,{to:"/planos",class:"text-blue-600 hover:underline"},{default:et(()=>t[8]||(t[8]=[it("Planos")])),_:1,__:[8]}),I(r,{to:"/contato",class:"text-blue-600 hover:underline"},{default:et(()=>t[9]||(t[9]=[it("Contato")])),_:1,__:[9]}),I(r,{to:"/login",class:"btn"},{default:et(()=>t[10]||(t[10]=[it("Login")])),_:1,__:[10]})]),i.open?(w(),C("div",K0,[I(r,{onClick:t[1]||(t[1]=a=>i.open=!1),to:"/buscar",class:"text-blue-600 hover:underline"},{default:et(()=>t[11]||(t[11]=[it("Buscar")])),_:1,__:[11]}),I(r,{onClick:t[2]||(t[2]=a=>i.open=!1),to:"/planos",class:"text-blue-600 hover:underline"},{default:et(()=>t[12]||(t[12]=[it("Planos")])),_:1,__:[12]}),I(r,{onClick:t[3]||(t[3]=a=>i.open=!1),to:"/contato",class:"text-blue-600 hover:underline"},{default:et(()=>t[13]||(t[13]=[it("Contato")])),_:1,__:[13]}),I(r,{onClick:t[4]||(t[4]=a=>i.open=!1),to:"/login",class:"btn"},{default:et(()=>t[14]||(t[14]=[it("Login")])),_:1,__:[14]})])):z("",!0)])}const We=mt(H0,[["render",G0]]),Y0="/hero-illustration.png",J0={name:"HeroBanner"},X0={class:"text-center py-20"},Q0={class:"max-w-4xl mx-auto px-4"},Z0={class:"grid grid-cols-1 md:grid-cols-2 items-center gap-8"},ty={class:"space-x-4"};function ey(e,t,s,n,i,o){const r=H("router-link");return w(),C("section",X0,[u("div",Q0,[u("div",Z0,[u("div",null,[t[2]||(t[2]=u("h1",{class:"text-4xl font-bold text-blue-800 mb-4"},"Sua agenda digital simples e profissional",-1)),t[3]||(t[3]=u("p",{class:"text-gray-600 text-lg mb-6"},"Perfeita para psicólogos, terapeutas, dentistas, cabeleireiros e mais",-1)),u("div",ty,[I(r,{to:"/login",class:"bg-white border border-blue-600 text-blue-600 px-6 py-2 rounded hover:bg-blue-100"},{default:et(()=>t[0]||(t[0]=[it("Entrar")])),_:1,__:[0]}),I(r,{to:"/cadastro",class:"btn"},{default:et(()=>t[1]||(t[1]=[it("Criar conta")])),_:1,__:[1]})])]),t[4]||(t[4]=u("div",null,[u("img",{src:Y0,alt:"Ilustração profissional usando a plataforma",class:"w-full h-auto mx-auto"})],-1))])])])}const sy=mt(J0,[["render",ey]]),cs="/icons/check.svg",ny={name:"FeaturesSection"},iy={class:"py-16 px-8"};function oy(e,t,s,n,i,o){return w(),C("section",iy,t[0]||(t[0]=[fn('<h2 class="text-2xl font-bold text-center mb-8">Funcionalidades</h2><ul class="max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-4 text-gray-700 text-lg"><li class="flex items-start"><img src="'+cs+'" alt="" class="w-6 h-6 mt-1 mr-2"><span>Cadastro e autenticação de usuários</span></li><li class="flex items-start"><img src="'+cs+'" alt="" class="w-6 h-6 mt-1 mr-2"><span>Gestão de clientes, serviços e salas</span></li><li class="flex items-start"><img src="'+cs+'" alt="" class="w-6 h-6 mt-1 mr-2"><span>Controle de agendamentos em lista, calendário ou semana</span></li><li class="flex items-start"><img src="'+cs+'" alt="" class="w-6 h-6 mt-1 mr-2"><span>Dashboard com estatísticas e gráficos</span></li><li class="flex items-start"><img src="'+cs+'" alt="" class="w-6 h-6 mt-1 mr-2"><span>Configuração de perfil público com link personalizado</span></li><li class="flex items-start"><img src="'+cs+'" alt="" class="w-6 h-6 mt-1 mr-2"><span>Geração de comprovantes de atendimento</span></li><li class="flex items-start"><img src="'+cs+'" alt="" class="w-6 h-6 mt-1 mr-2"><span>Lembretes automáticos para seus clientes</span></li><li class="flex items-start"><img src="'+cs+'" alt="" class="w-6 h-6 mt-1 mr-2"><span>Pagamentos via Pix de forma prática e segura</span></li></ul>',2)]))}const ry=mt(ny,[["render",oy]]),ay="/about-illustration.png",ly={name:"AboutSection"},cy={class:"px-8 py-16"};function dy(e,t,s,n,i,o){return w(),C("section",cy,t[0]||(t[0]=[u("div",{class:"max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 items-center"},[u("div",null,[u("img",{src:ay,alt:"Ilustração sobre agendamento",class:"w-full h-auto mx-auto"})]),u("div",null,[u("h2",{class:"text-2xl font-bold mb-4"},"O que é o Agenda Zen?"),u("p",{class:"text-gray-700 text-lg"}," O Agenda Zen é uma plataforma pensada para profissionais que trabalham com agendamentos. Criamos uma solução simples, bonita e eficiente para divulgar seus serviços, aceitar agendamentos online, enviar lembretes automáticos e receber pagamentos por Pix — tudo sem complicação. ")])],-1)]))}const uy=mt(ly,[["render",dy]]),hy={name:"Footer"},fy={class:"bg-gray-100 text-center text-sm text-gray-500 py-6 space-y-4"},py={class:"flex flex-wrap justify-center space-x-2"};function my(e,t,s,n,i,o){const r=H("router-link");return w(),C("footer",fy,[t[9]||(t[9]=u("div",{class:"space-x-4 text-blue-600"},[u("a",{href:"https://www.instagram.com/agendazen_",target:"_blank",class:"hover:underline"},"Instagram"),u("a",{href:"https://www.facebook.com/agenda.zen",target:"_blank",class:"hover:underline"},"Facebook"),u("a",{href:"https://x.com/agenda_zen",target:"_blank",class:"hover:underline"},"X")],-1)),u("div",py,[I(r,{to:"/termos-de-uso",class:"hover:underline"},{default:et(()=>t[0]||(t[0]=[it("Termos de uso")])),_:1,__:[0]}),t[5]||(t[5]=u("span",null,"|",-1)),I(r,{to:"/planos",class:"hover:underline"},{default:et(()=>t[1]||(t[1]=[it("Planos")])),_:1,__:[1]}),t[6]||(t[6]=u("span",null,"|",-1)),I(r,{to:"/contato",class:"hover:underline"},{default:et(()=>t[2]||(t[2]=[it("Contato")])),_:1,__:[2]}),t[7]||(t[7]=u("span",null,"|",-1)),I(r,{to:"/faq",class:"hover:underline"},{default:et(()=>t[3]||(t[3]=[it("FAQ")])),_:1,__:[3]}),t[8]||(t[8]=u("span",null,"|",-1)),I(r,{to:"/politica-de-privacidade",class:"hover:underline"},{default:et(()=>t[4]||(t[4]=[it("Política de privacidade")])),_:1,__:[4]})]),t[10]||(t[10]=u("p",null,"© 2025 Agenda Zen — Todos os direitos reservados",-1))])}const qe=mt(hy,[["render",my]]),gy={name:"Home",components:{Navbar:We,HeroBanner:sy,FeaturesSection:ry,AboutSection:uy,Footer:qe}};function by(e,t,s,n,i,o){const r=H("Navbar"),a=H("HeroBanner"),l=H("FeaturesSection"),c=H("AboutSection"),d=H("Footer");return w(),C(X,null,[I(r),I(a),I(l),I(c),I(d)],64)}const yy=mt(gy,[["render",by]]),xy="modulepreload",_y=function(e){return"/"+e},hd={},zn=function(t,s,n){if(!s||s.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(s.map(o=>{if(o=_y(o),o in hd)return;hd[o]=!0;const r=o.endsWith(".css"),a=r?'[rel="stylesheet"]':"";if(!!n)for(let d=i.length-1;d>=0;d--){const h=i[d];if(h.href===o&&(!r||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const c=document.createElement("link");if(c.rel=r?"stylesheet":xy,r||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),r)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=o,window.dispatchEvent(r),!r.defaultPrevented)throw o})},vy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>zn(()=>Promise.resolve().then(()=>Zn),void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)};class zl extends Error{constructor(t,s="FunctionsError",n){super(t),this.name=s,this.context=n}}class wy extends zl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ky extends zl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Sy extends zl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ka;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ka||(Ka={}));var Cy=globalThis&&globalThis.__awaiter||function(e,t,s,n){function i(o){return o instanceof s?o:new s(function(r){r(o)})}return new(s||(s=Promise))(function(o,r){function a(d){try{c(n.next(d))}catch(h){r(h)}}function l(d){try{c(n.throw(d))}catch(h){r(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class My{constructor(t,{headers:s={},customFetch:n,region:i=Ka.Any}={}){this.url=t,this.headers=s,this.region=i,this.fetch=vy(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var n;return Cy(this,void 0,void 0,function*(){try{const{headers:i,method:o,body:r}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;r&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&r instanceof Blob||r instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=r):typeof r=="string"?(a["Content-Type"]="text/plain",c=r):typeof FormData<"u"&&r instanceof FormData?c=r:(a["Content-Type"]="application/json",c=JSON.stringify(r)));const d=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(m=>{throw new wy(m)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new ky(d);if(!d.ok)throw new Sy(d);let f=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield d.json():f==="application/octet-stream"?p=yield d.blob():f==="text/event-stream"?p=d:f==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(i){return{data:null,error:i}}})}}var Le=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function DD(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ay(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var s=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(s,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),s}var be={},Hl={},Rr={},ro={},Lr={},Fr={},Ey=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Hn=Ey();const Py=Hn.fetch,vf=Hn.fetch.bind(Hn),wf=Hn.Headers,Ty=Hn.Request,Oy=Hn.Response,Zn=Object.freeze(Object.defineProperty({__proto__:null,Headers:wf,Request:Ty,Response:Oy,default:vf,fetch:Py},Symbol.toStringTag,{value:"Module"})),Dy=Ay(Zn);var Nr={};Object.defineProperty(Nr,"__esModule",{value:!0});let Iy=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Nr.default=Iy;var kf=Le&&Le.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Fr,"__esModule",{value:!0});const Ry=kf(Dy),Ly=kf(Nr);let Fy=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Ry.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,s){return this.headers=Object.assign({},this.headers),this.headers[t]=s,this}then(t,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var r,a,l;let c=null,d=null,h=null,f=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){const y=await o.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const g=(r=this.headers.Prefer)===null||r===void 0?void 0:r.match(/count=(exact|planned|estimated)/),b=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await o.text();try{c=JSON.parse(g),Array.isArray(c)&&o.status===404&&(d=[],c=null,f=200,p="OK")}catch{o.status===404&&g===""?(f=204,p="No Content"):c={message:g}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,p="OK"),c&&this.shouldThrowOnError)throw new Ly.default(c)}return{error:c,data:d,count:h,status:f,statusText:p}});return this.shouldThrowOnError||(i=i.catch(o=>{var r,a,l;return{error:{message:`${(r=o==null?void 0:o.name)!==null&&r!==void 0?r:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o==null?void 0:o.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,s)}returns(){return this}overrideTypes(){return this}};Fr.default=Fy;var Ny=Le&&Le.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lr,"__esModule",{value:!0});const jy=Ny(Fr);let By=class extends jy.default{select(t){let s=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!s?"":(i==='"'&&(s=!s),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:s=!0,nullsFirst:n,foreignTable:i,referencedTable:o=i}={}){const r=o?`${o}.order`:"order",a=this.url.searchParams.get(r);return this.url.searchParams.set(r,`${a?`${a},`:""}${t}.${s?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:s,referencedTable:n=s}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,s,{foreignTable:n,referencedTable:i=n}={}){const o=typeof i>"u"?"offset":`${i}.offset`,r=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(r,`${s-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:s=!1,settings:n=!1,buffers:i=!1,wal:o=!1,format:r="text"}={}){var a;const l=[t?"analyze":null,s?"verbose":null,n?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${r}; for="${c}"; options=${l};`,r==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Lr.default=By;var Uy=Le&&Le.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ro,"__esModule",{value:!0});const $y=Uy(Lr);let Vy=class extends $y.default{eq(t,s){return this.url.searchParams.append(t,`eq.${s}`),this}neq(t,s){return this.url.searchParams.append(t,`neq.${s}`),this}gt(t,s){return this.url.searchParams.append(t,`gt.${s}`),this}gte(t,s){return this.url.searchParams.append(t,`gte.${s}`),this}lt(t,s){return this.url.searchParams.append(t,`lt.${s}`),this}lte(t,s){return this.url.searchParams.append(t,`lte.${s}`),this}like(t,s){return this.url.searchParams.append(t,`like.${s}`),this}likeAllOf(t,s){return this.url.searchParams.append(t,`like(all).{${s.join(",")}}`),this}likeAnyOf(t,s){return this.url.searchParams.append(t,`like(any).{${s.join(",")}}`),this}ilike(t,s){return this.url.searchParams.append(t,`ilike.${s}`),this}ilikeAllOf(t,s){return this.url.searchParams.append(t,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(t,s){return this.url.searchParams.append(t,`ilike(any).{${s.join(",")}}`),this}is(t,s){return this.url.searchParams.append(t,`is.${s}`),this}in(t,s){const n=Array.from(new Set(s)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cs.{${s.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(s)}`),this}containedBy(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cd.{${s.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(s)}`),this}rangeGt(t,s){return this.url.searchParams.append(t,`sr.${s}`),this}rangeGte(t,s){return this.url.searchParams.append(t,`nxl.${s}`),this}rangeLt(t,s){return this.url.searchParams.append(t,`sl.${s}`),this}rangeLte(t,s){return this.url.searchParams.append(t,`nxr.${s}`),this}rangeAdjacent(t,s){return this.url.searchParams.append(t,`adj.${s}`),this}overlaps(t,s){return typeof s=="string"?this.url.searchParams.append(t,`ov.${s}`):this.url.searchParams.append(t,`ov.{${s.join(",")}}`),this}textSearch(t,s,{config:n,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const r=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${r}.${s}`),this}match(t){return Object.entries(t).forEach(([s,n])=>{this.url.searchParams.append(s,`eq.${n}`)}),this}not(t,s,n){return this.url.searchParams.append(t,`not.${s}.${n}`),this}or(t,{foreignTable:s,referencedTable:n=s}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,s,n){return this.url.searchParams.append(t,`${s}.${n}`),this}};ro.default=Vy;var zy=Le&&Le.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Rr,"__esModule",{value:!0});const ri=zy(ro);let Hy=class{constructor(t,{headers:s={},schema:n,fetch:i}){this.url=t,this.headers=s,this.schema=n,this.fetch=i}select(t,{head:s=!1,count:n}={}){const i=s?"HEAD":"GET";let o=!1;const r=(t??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",r),n&&(this.headers.Prefer=`count=${n}`),new ri.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:s,defaultToNull:n=!0}={}){const i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const r=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(r.length>0){const a=[...new Set(r)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new ri.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:s,ignoreDuplicates:n=!1,count:i,defaultToNull:o=!0}={}){const r="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new ri.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:s}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),this.headers.Prefer=i.join(","),new ri.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const s="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new ri.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Rr.default=Hy;var jr={},Br={};Object.defineProperty(Br,"__esModule",{value:!0});Br.version=void 0;Br.version="0.0.0-automated";Object.defineProperty(jr,"__esModule",{value:!0});jr.DEFAULT_HEADERS=void 0;const Wy=Br;jr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Wy.version}`};var Sf=Le&&Le.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hl,"__esModule",{value:!0});const qy=Sf(Rr),Ky=Sf(ro),Gy=jr;let Yy=class Cf{constructor(t,{headers:s={},schema:n,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},Gy.DEFAULT_HEADERS),s),this.schemaName=n,this.fetch=i}from(t){const s=new URL(`${this.url}/${t}`);return new qy.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Cf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,s={},{head:n=!1,get:i=!1,count:o}={}){let r;const a=new URL(`${this.url}/rpc/${t}`);let l;n||i?(r=n?"HEAD":"GET",Object.entries(s).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(r="POST",l=s);const c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new Ky.default({method:r,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Hl.default=Yy;var ti=Le&&Le.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(be,"__esModule",{value:!0});be.PostgrestError=be.PostgrestBuilder=be.PostgrestTransformBuilder=be.PostgrestFilterBuilder=be.PostgrestQueryBuilder=be.PostgrestClient=void 0;const Mf=ti(Hl);be.PostgrestClient=Mf.default;const Af=ti(Rr);be.PostgrestQueryBuilder=Af.default;const Ef=ti(ro);be.PostgrestFilterBuilder=Ef.default;const Pf=ti(Lr);be.PostgrestTransformBuilder=Pf.default;const Tf=ti(Fr);be.PostgrestBuilder=Tf.default;const Of=ti(Nr);be.PostgrestError=Of.default;var Jy=be.default={PostgrestClient:Mf.default,PostgrestQueryBuilder:Af.default,PostgrestFilterBuilder:Ef.default,PostgrestTransformBuilder:Pf.default,PostgrestBuilder:Tf.default,PostgrestError:Of.default};const{PostgrestClient:Xy,PostgrestQueryBuilder:jD,PostgrestFilterBuilder:BD,PostgrestTransformBuilder:UD,PostgrestBuilder:$D,PostgrestError:VD}=Jy,Qy="2.11.2",Zy={"X-Client-Info":`realtime-js/${Qy}`},tx="1.0.0",Df=1e4,ex=1e3;var Nn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Nn||(Nn={}));var ke;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ke||(ke={}));var Ne;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ne||(Ne={}));var Ga;(function(e){e.websocket="websocket"})(Ga||(Ga={}));var ln;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ln||(ln={}));class sx{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,s,n)}_decodeBroadcast(t,s,n){const i=s.getUint8(1),o=s.getUint8(2);let r=this.HEADER_LENGTH+2;const a=n.decode(t.slice(r,r+i));r=r+i;const l=n.decode(t.slice(r,r+o));r=r+o;const c=JSON.parse(n.decode(t.slice(r,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class If{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ot;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ot||(Ot={}));const fd=(e,t,s={})=>{var n;const i=(n=s.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,r)=>(o[r]=nx(r,e,t,i),o),{})},nx=(e,t,s,n)=>{const i=t.find(a=>a.name===e),o=i==null?void 0:i.type,r=s[e];return o&&!n.includes(o)?Rf(o,r):Ya(r)},Rf=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return ax(t,s)}switch(e){case Ot.bool:return ix(t);case Ot.float4:case Ot.float8:case Ot.int2:case Ot.int4:case Ot.int8:case Ot.numeric:case Ot.oid:return ox(t);case Ot.json:case Ot.jsonb:return rx(t);case Ot.timestamp:return lx(t);case Ot.abstime:case Ot.date:case Ot.daterange:case Ot.int4range:case Ot.int8range:case Ot.money:case Ot.reltime:case Ot.text:case Ot.time:case Ot.timestamptz:case Ot.timetz:case Ot.tsrange:case Ot.tstzrange:return Ya(t);default:return Ya(t)}},Ya=e=>e,ix=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ox=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},rx=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},ax=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,n=e[s];if(e[0]==="{"&&n==="}"){let o;const r=e.slice(1,s);try{o=JSON.parse("["+r+"]")}catch{o=r?r.split(","):[]}return o.map(a=>Rf(t,a))}return e},lx=e=>typeof e=="string"?e.replace(" ","T"):e,Lf=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class da{constructor(t,s,n={},i=Df){this.channel=t,this.event=s,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var n;return this._hasReceived(t)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var pd;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(pd||(pd={}));class Ai{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:o,onLeave:r,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ai.syncState(this.state,i,o,r),this.pendingDiffs.forEach(l=>{this.state=Ai.syncDiff(this.state,l,o,r)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{const{onJoin:o,onLeave:r,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ai.syncDiff(this.state,i,o,r),a())}),this.onJoin((i,o,r)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:r})}),this.onLeave((i,o,r)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,n,i){const o=this.cloneDeep(t),r=this.transformState(s),a={},l={};return this.map(o,(c,d)=>{r[c]||(l[c]=d)}),this.map(r,(c,d)=>{const h=o[c];if(h){const f=d.map(b=>b.presence_ref),p=h.map(b=>b.presence_ref),m=d.filter(b=>p.indexOf(b.presence_ref)<0),g=h.filter(b=>f.indexOf(b.presence_ref)<0);m.length>0&&(a[c]=m),g.length>0&&(l[c]=g)}else a[c]=d}),this.syncDiff(o,{joins:a,leaves:l},n,i)}static syncDiff(t,s,n,i){const{joins:o,leaves:r}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;const d=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),d.length>0){const h=t[a].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);t[a].unshift(...f)}n(a,d,l)}),this.map(r,(a,l)=>{let c=t[a];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=c,i(a,c,l),c.length===0&&delete t[a]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(n=>s(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,n)=>{const i=t[n];return"metas"in i?s[n]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):s[n]=i,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var md;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(md||(md={}));var gd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(gd||(gd={}));var fs;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(fs||(fs={}));class Wl{constructor(t,s={config:{}},n){this.topic=t,this.params=s,this.socket=n,this.bindings={},this.state=ke.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new da(this,Ne.join,this.params,this.timeout),this.rejoinTimer=new If(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ke.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ke.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ke.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ne.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new Ai(this),this.broadcastEndpointURL=Lf(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:r,private:a}}=this.params;this._onError(d=>t==null?void 0:t(fs.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(fs.CLOSED));const l={},c={broadcast:o,presence:r,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(fs.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,m=[];for(let g=0;g<p;g++){const b=f[g],{filter:{event:y,schema:_,table:S,filter:k}}=b,M=d&&d[g];if(M&&M.event===y&&M.schema===_&&M.table===S&&M.filter===k)m.push(Object.assign(Object.assign({},b),{id:M.id}));else{this.unsubscribe(),t==null||t(fs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,t&&t(fs.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(fs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(fs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,n){return this._on(t,s,n)}async send(t,s={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:r}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:r,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var r,a,l;const c=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(r=this.params)===null||r===void 0?void 0:r.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ke.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ne.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const i=new da(this,Ne.leave,{},t);i.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(t,s,n){const i=new AbortController,o=setTimeout(()=>i.abort(),n),r=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:i.signal}));return clearTimeout(o),r}_push(t,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new da(this,t,s,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,s,n){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,n){var i,o;const r=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=Ne;if(n&&[a,l,c,d].indexOf(r)>=0&&n!==this._joinRef())return;let f=this._onMessage(r,s,n);if(s&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(r)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var m,g,b;return((m=p.filter)===null||m===void 0?void 0:m.event)==="*"||((b=(g=p.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===r}).map(p=>p.callback(f,n)):(o=this.bindings[r])===null||o===void 0||o.filter(p=>{var m,g,b,y,_,S;if(["broadcast","presence","postgres_changes"].includes(r))if("id"in p){const k=p.id,M=(m=p.filter)===null||m===void 0?void 0:m.event;return k&&((g=s.ids)===null||g===void 0?void 0:g.includes(k))&&(M==="*"||(M==null?void 0:M.toLocaleLowerCase())===((b=s.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const k=(_=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return k==="*"||k===((S=s==null?void 0:s.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===r}).map(p=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:g,table:b,commit_timestamp:y,type:_,errors:S}=m;f=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:y,eventType:_,new:{},old:{},errors:S}),this._getPayloadRecords(m))}p.callback(f,n)})}_isClosed(){return this.state===ke.closed}_isJoined(){return this.state===ke.joined}_isJoining(){return this.state===ke.joining}_isLeaving(){return this.state===ke.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,n){const i=t.toLocaleLowerCase(),o={type:i,filter:s,callback:n};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,s){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Wl.isEqual(i.filter,s))}),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const n in t)if(t[n]!==s[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ne.close,{},t)}_onError(t){this._on(Ne.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ke.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=fd(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=fd(t.columns,t.old_record)),s}}const cx=()=>{},dx=typeof WebSocket<"u",ux=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class hx{constructor(t,s){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=Zy,this.params={},this.timeout=Df,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=cx,this.conn=null,this.sendBuffer=[],this.serializer=new sx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let r;return o?r=o:typeof fetch>"u"?r=(...a)=>zn(()=>Promise.resolve().then(()=>Zn),void 0).then(({default:l})=>l(...a)):r=fetch,(...a)=>r(...a)},this.endPoint=`${t}/${Ga.websocket}`,this.httpEndpoint=Lf(t),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const i=(n=s==null?void 0:s.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(o,r)=>r(JSON.stringify(o)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new If(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(dx){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new fx(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),zn(()=>import("./browser-dc943e12.js").then(t=>t.b),[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:tx}))}disconnect(t,s){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),t}log(t,s,n){this.logger(t,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Nn.connecting:return ln.Connecting;case Nn.open:return ln.Open;case Nn.closing:return ln.Closing;default:return ln.Closed}}isConnected(){return this.connectionState()===ln.Open}channel(t,s={config:{}}){const n=new Wl(`realtime:${t}`,s,this);return this.channels.push(n),n}push(t){const{topic:s,event:n,payload:i,ref:o}=t,r=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${n} (${o})`,i),this.isConnected()?r():this.sendBuffer.push(r)}async setAuth(t=null){let s=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let n=null;try{n=JSON.parse(atob(s.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=s,this.channels.forEach(i=>{s&&i.updateJoinPayload({access_token:s}),i.joinedOnce&&i._isJoined()&&i._push(Ne.access_token,{access_token:s})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(ex,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,s=>{let{topic:n,event:i,payload:o,ref:r}=s;r&&r===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${i} ${r&&"("+r+")"||""}`,o),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(i,o,r)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ne.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(s);return`${t}${n}${i}`}_workerObjectUrl(t){let s;if(t)s=t;else{const n=new Blob([ux],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}}class fx{constructor(t,s,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Nn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class ql extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Kt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class px extends ql{constructor(t,s){super(t),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ja extends ql{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var mx=globalThis&&globalThis.__awaiter||function(e,t,s,n){function i(o){return o instanceof s?o:new s(function(r){r(o)})}return new(s||(s=Promise))(function(o,r){function a(d){try{c(n.next(d))}catch(h){r(h)}}function l(d){try{c(n.throw(d))}catch(h){r(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const Ff=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>zn(()=>Promise.resolve().then(()=>Zn),void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)},gx=()=>mx(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield zn(()=>Promise.resolve().then(()=>Zn),void 0)).Response:Response}),Xa=e=>{if(Array.isArray(e))return e.map(s=>Xa(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,n])=>{const i=s.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Xa(n)}),t};var bn=globalThis&&globalThis.__awaiter||function(e,t,s,n){function i(o){return o instanceof s?o:new s(function(r){r(o)})}return new(s||(s=Promise))(function(o,r){function a(d){try{c(n.next(d))}catch(h){r(h)}}function l(d){try{c(n.throw(d))}catch(h){r(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const ua=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),bx=(e,t,s)=>bn(void 0,void 0,void 0,function*(){const n=yield gx();e instanceof n&&!(s!=null&&s.noResolveJson)?e.json().then(i=>{t(new px(ua(i),e.status||500))}).catch(i=>{t(new Ja(ua(i),i))}):t(new Ja(ua(e),e))}),yx=(e,t,s,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),s))};function ao(e,t,s,n,i,o){return bn(this,void 0,void 0,function*(){return new Promise((r,a)=>{e(s,yx(t,n,i,o)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>r(l)).catch(l=>bx(l,a,n))})})}function cr(e,t,s,n){return bn(this,void 0,void 0,function*(){return ao(e,"GET",t,s,n)})}function Is(e,t,s,n,i){return bn(this,void 0,void 0,function*(){return ao(e,"POST",t,n,i,s)})}function xx(e,t,s,n,i){return bn(this,void 0,void 0,function*(){return ao(e,"PUT",t,n,i,s)})}function _x(e,t,s,n){return bn(this,void 0,void 0,function*(){return ao(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),n)})}function Nf(e,t,s,n,i){return bn(this,void 0,void 0,function*(){return ao(e,"DELETE",t,n,i,s)})}var fe=globalThis&&globalThis.__awaiter||function(e,t,s,n){function i(o){return o instanceof s?o:new s(function(r){r(o)})}return new(s||(s=Promise))(function(o,r){function a(d){try{c(n.next(d))}catch(h){r(h)}}function l(d){try{c(n.throw(d))}catch(h){r(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const vx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class wx{constructor(t,s={},n,i){this.url=t,this.headers=s,this.bucketId=n,this.fetch=Ff(i)}uploadOrUpdate(t,s,n,i){return fe(this,void 0,void 0,function*(){try{let o;const r=Object.assign(Object.assign({},bd),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(r.upsert)});const l=r.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",r.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",r.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=n,a["cache-control"]=`max-age=${r.cacheControl}`,a["content-type"]=r.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(s),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:o,headers:a},r!=null&&r.duplex?{duplex:r.duplex}:{})),f=yield h.json();return h.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(o){if(Kt(o))return{data:null,error:o};throw o}})}upload(t,s,n){return fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,n)})}uploadToSignedUrl(t,s,n,i){return fe(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),r=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${r}`);a.searchParams.set("token",s);try{let l;const c=Object.assign({upsert:bd.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),f=yield h.json();return h.ok?{data:{path:o,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(Kt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,s){return fe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);s!=null&&s.upsert&&(i["x-upsert"]="true");const o=yield Is(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),r=new URL(this.url+o.url),a=r.searchParams.get("token");if(!a)throw new ql("No token returned by API");return{data:{signedUrl:r.toString(),path:t,token:a},error:null}}catch(n){if(Kt(n))return{data:null,error:n};throw n}})}update(t,s,n){return fe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,n)})}move(t,s,n){return fe(this,void 0,void 0,function*(){try{return{data:yield Is(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Kt(i))return{data:null,error:i};throw i}})}copy(t,s,n){return fe(this,void 0,void 0,function*(){try{return{data:{path:(yield Is(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Kt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,s,n){return fe(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield Is(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:s},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const r=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${r}`)},{data:o,error:null}}catch(i){if(Kt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,s,n){return fe(this,void 0,void 0,function*(){try{const i=yield Is(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(r=>Object.assign(Object.assign({},r),{signedUrl:r.signedURL?encodeURI(`${this.url}${r.signedURL}${o}`):null})),error:null}}catch(i){if(Kt(i))return{data:null,error:i};throw i}})}download(t,s){return fe(this,void 0,void 0,function*(){const i=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),r=o?`?${o}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield cr(this.fetch,`${this.url}/${i}/${a}${r}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Kt(a))return{data:null,error:a};throw a}})}info(t){return fe(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const n=yield cr(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Xa(n),error:null}}catch(n){if(Kt(n))return{data:null,error:n};throw n}})}exists(t){return fe(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield _x(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Kt(n)&&n instanceof Ja){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,s){const n=this._getFinalPath(t),i=[],o=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";o!==""&&i.push(o);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(t){return fe(this,void 0,void 0,function*(){try{return{data:yield Nf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(Kt(s))return{data:null,error:s};throw s}})}list(t,s,n){return fe(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},vx),s),{prefix:t||""});return{data:yield Is(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Kt(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const kx="2.7.1",Sx={"X-Client-Info":`storage-js/${kx}`};var _n=globalThis&&globalThis.__awaiter||function(e,t,s,n){function i(o){return o instanceof s?o:new s(function(r){r(o)})}return new(s||(s=Promise))(function(o,r){function a(d){try{c(n.next(d))}catch(h){r(h)}}function l(d){try{c(n.throw(d))}catch(h){r(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class Cx{constructor(t,s={},n){this.url=t,this.headers=Object.assign(Object.assign({},Sx),s),this.fetch=Ff(n)}listBuckets(){return _n(this,void 0,void 0,function*(){try{return{data:yield cr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Kt(t))return{data:null,error:t};throw t}})}getBucket(t){return _n(this,void 0,void 0,function*(){try{return{data:yield cr(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(Kt(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return _n(this,void 0,void 0,function*(){try{return{data:yield Is(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Kt(n))return{data:null,error:n};throw n}})}updateBucket(t,s){return _n(this,void 0,void 0,function*(){try{return{data:yield xx(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Kt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return _n(this,void 0,void 0,function*(){try{return{data:yield Is(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Kt(s))return{data:null,error:s};throw s}})}deleteBucket(t){return _n(this,void 0,void 0,function*(){try{return{data:yield Nf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(Kt(s))return{data:null,error:s};throw s}})}}class Mx extends Cx{constructor(t,s={},n){super(t,s,n)}from(t){return new wx(this.url,this.headers,t,this.fetch)}}const Ax="2.49.8";let fi="";typeof Deno<"u"?fi="deno":typeof document<"u"?fi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fi="react-native":fi="node";const Ex={"X-Client-Info":`supabase-js-${fi}/${Ax}`},Px={headers:Ex},Tx={schema:"public"},Ox={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Dx={};var Ix=globalThis&&globalThis.__awaiter||function(e,t,s,n){function i(o){return o instanceof s?o:new s(function(r){r(o)})}return new(s||(s=Promise))(function(o,r){function a(d){try{c(n.next(d))}catch(h){r(h)}}function l(d){try{c(n.throw(d))}catch(h){r(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const Rx=e=>{let t;return e?t=e:typeof fetch>"u"?t=vf:t=fetch,(...s)=>t(...s)},Lx=()=>typeof Headers>"u"?wf:Headers,Fx=(e,t,s)=>{const n=Rx(s),i=Lx();return(o,r)=>Ix(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new i(r==null?void 0:r.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(o,Object.assign(Object.assign({},r),{headers:c}))})};var Nx=globalThis&&globalThis.__awaiter||function(e,t,s,n){function i(o){return o instanceof s?o:new s(function(r){r(o)})}return new(s||(s=Promise))(function(o,r){function a(d){try{c(n.next(d))}catch(h){r(h)}}function l(d){try{c(n.throw(d))}catch(h){r(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};function jx(e){return e.endsWith("/")?e:e+"/"}function Bx(e,t){var s,n;const{db:i,auth:o,realtime:r,global:a}=e,{db:l,auth:c,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},d),r),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(s=h==null?void 0:h.headers)!==null&&s!==void 0?s:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Nx(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const jf="2.69.1",En=30*1e3,Qa=3,ha=Qa*En,Ux="http://localhost:9999",$x="supabase.auth.token",Vx={"X-Client-Info":`gotrue-js/${jf}`},Za="X-Supabase-Api-Version",Bf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},zx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Hx=6e5;class Kl extends Error{constructor(t,s,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function ft(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Wx extends Kl{constructor(t,s,n){super(t,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function qx(e){return ft(e)&&e.name==="AuthApiError"}class Uf extends Kl{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class qs extends Kl{constructor(t,s,n,i){super(t,n,i),this.name=s,this.status=n}}class Es extends qs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Kx(e){return ft(e)&&e.name==="AuthSessionMissingError"}class fa extends qs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class bo extends qs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class yo extends qs{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Gx(e){return ft(e)&&e.name==="AuthImplicitGrantRedirectError"}class yd extends qs{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tl extends qs{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function pa(e){return ft(e)&&e.name==="AuthRetryableFetchError"}class xd extends qs{constructor(t,s,n){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}class Ei extends qs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const _d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vd=` 	
\r=`.split(""),Yx=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<vd.length;t+=1)e[vd[t].charCodeAt(0)]=-2;for(let t=0;t<_d.length;t+=1)e[_d[t].charCodeAt(0)]=t;return e})();function $f(e,t,s){const n=Yx[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function wd(e){const t=[],s=r=>{t.push(String.fromCodePoint(r))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=r=>{Qx(r,n,s)};for(let r=0;r<e.length;r+=1)$f(e.charCodeAt(r),i,o);return t.join("")}function Jx(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Xx(e,t){for(let s=0;s<e.length;s+=1){let n=e.charCodeAt(s);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(s+1)-56320&65535|i)+65536,s+=1}Jx(n,t)}}function Qx(e,t,s){if(t.utf8seq===0){if(e<=127){s(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function Zx(e){const t=[],s={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)$f(e.charCodeAt(i),s,n);return new Uint8Array(t)}function t_(e){const t=[];return Xx(e,s=>t.push(s)),new Uint8Array(t)}function e_(e){return Math.round(Date.now()/1e3)+e}function s_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Je=()=>typeof window<"u"&&typeof document<"u",Qs={tested:!1,writable:!1},Pi=()=>{if(!Je())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Qs.tested)return Qs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Qs.tested=!0,Qs.writable=!0}catch{Qs.tested=!0,Qs.writable=!1}return Qs.writable};function n_(e){const t={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return s.searchParams.forEach((n,i)=>{t[i]=n}),t}const Vf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>zn(()=>Promise.resolve().then(()=>Zn),void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)},i_=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",zf=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},xo=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},_o=async(e,t)=>{await e.removeItem(t)};class Ur{constructor(){this.promise=new Ur.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Ur.promiseConstructor=Promise;function ma(e){const t=e.split(".");if(t.length!==3)throw new Ei("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!zx.test(t[n]))throw new Ei("JWT not in base64url format");return{header:JSON.parse(wd(t[0])),payload:JSON.parse(wd(t[1])),signature:Zx(t[2]),raw:{header:t[0],payload:t[1]}}}async function o_(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function r_(e,t){return new Promise((n,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const r=await e(o);if(!t(o,null,r)){n(r);return}}catch(r){if(!t(o,r)){i(r);return}}})()})}function a_(e){return("0"+e.toString(16)).substr(-2)}function l_(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let i="";for(let o=0;o<56;o++)i+=s.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,a_).join("")}async function c_(e){const s=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",s),i=new Uint8Array(n);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function d_(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await c_(e);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vn(e,t,s=!1){const n=l_();let i=n;s&&(i+="/PASSWORD_RECOVERY"),await zf(e,`${t}-code-verifier`,i);const o=await d_(n);return[o,n===o?"plain":"s256"]}const u_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function h_(e){const t=e.headers.get(Za);if(!t||!t.match(u_))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function f_(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function p_(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var m_=globalThis&&globalThis.__rest||function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(s[n[i]]=e[n[i]]);return s};const on=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),g_=[502,503,504];async function kd(e){var t;if(!i_(e))throw new tl(on(e),0);if(g_.includes(e.status))throw new tl(on(e),e.status);let s;try{s=await e.json()}catch(o){throw new Uf(on(o),o)}let n;const i=h_(e);if(i&&i.getTime()>=Bf["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new xd(on(s),e.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Es}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((o,r)=>o&&typeof r=="string",!0))throw new xd(on(s),e.status,s.weak_password.reasons);throw new Wx(on(s),e.status||500,n)}const b_=(e,t,s,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),s))};async function yt(e,t,s,n){var i;const o=Object.assign({},n==null?void 0:n.headers);o[Za]||(o[Za]=Bf["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const r=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(r.redirect_to=n.redirectTo);const a=Object.keys(r).length?"?"+new URLSearchParams(r).toString():"",l=await y_(e,t,s+a,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function y_(e,t,s,n,i,o){const r=b_(t,n,i,o);let a;try{a=await e(s,Object.assign({},r))}catch(l){throw console.error(l),new tl(on(l),0)}if(a.ok||await kd(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await kd(l)}}function Ps(e){var t;let s=null;w_(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=e_(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:n},error:null}}function Sd(e){const t=Ps(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ls(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function x_(e){return{data:e,error:null}}function __(e){const{action_link:t,email_otp:s,hashed_token:n,redirect_to:i,verification_type:o}=e,r=m_(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:s,hashed_token:n,redirect_to:i,verification_type:o},l=Object.assign({},r);return{data:{properties:a,user:l},error:null}}function v_(e){return e}function w_(e){return e.access_token&&e.refresh_token&&e.expires_in}var k_=globalThis&&globalThis.__rest||function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(s[n[i]]=e[n[i]]);return s};class S_{constructor({url:t="",headers:s={},fetch:n}){this.url=t,this.headers=s,this.fetch=Vf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s="global"){try{return await yt(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ft(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,s={}){try{return await yt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Ls})}catch(n){if(ft(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:s}=t,n=k_(t,["options"]),i=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await yt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:__,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(ft(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await yt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ls})}catch(s){if(ft(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,n,i,o,r,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await yt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:v_});if(d.error)throw d.error;const h=await d.json(),f=(r=d.headers.get("x-total-count"))!==null&&r!==void 0?r:0,p=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(m.split(";")[1].split("=")[1]);c[`${b}Page`]=g}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(ft(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await yt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ls})}catch(s){if(ft(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){try{return await yt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Ls})}catch(n){if(ft(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,s=!1){try{return await yt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Ls})}catch(n){if(ft(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:s,error:n}=await yt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:s,error:n}}catch(s){if(ft(s))return{data:null,error:s};throw s}}async _deleteFactor(t){try{return{data:await yt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(ft(s))return{data:null,error:s};throw s}}}const C_={getItem:e=>Pi()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Pi()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Pi()&&globalThis.localStorage.removeItem(e)}};function Cd(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}function M_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const wn={debug:!!(globalThis&&Pi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Hf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class A_ extends Hf{}async function E_(e,t,s){wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),wn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await s()}finally{wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw wn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new A_(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(wn.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}M_();const P_={url:Ux,storageKey:$x,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Vx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Md(e,t,s){return await s()}class Wi{constructor(t){var s,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Wi.nextInstanceID,Wi.nextInstanceID+=1,this.instanceID>0&&Je()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},P_),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new S_({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Vf(i.fetch),this.lock=i.lock||Md,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Je()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=E_:this.lock=Md,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:Pi()?this.storage=C_:(this.memoryStorage={},this.storage=Cd(this.memoryStorage)):(this.memoryStorage={},this.storage=Cd(this.memoryStorage)),Je()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${jf}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=n_(window.location.href);let n="none";if(this._isImplicitGrantCallback(s)?n="implicit":await this._isPKCECallback(s)&&(n="pkce"),Je()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:o}=await this._getSessionFromURL(s,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Gx(o)){const l=(t=o.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:r,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",r,"redirect type",a),await this._saveSession(r),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ft(s)?{error:s}:{error:new Uf("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,n,i;try{const o=await yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Ps}),{data:r,error:a}=o;if(a||!r)return{data:{user:null,session:null},error:a};const l=r.session,c=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(ft(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var s,n,i;try{let o;if("email"in t){const{email:d,password:h,options:f}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await vn(this.storage,this.storageKey)),o=await yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:m},xform:Ps})}else if("phone"in t){const{phone:d,password:h,options:f}=t;o=await yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ps})}else throw new bo("You must provide either an email or phone number and a password");const{data:r,error:a}=o;if(a||!r)return{data:{user:null,session:null},error:a};const l=r.session,c=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(ft(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let s;if("email"in t){const{email:o,password:r,options:a}=t;s=await yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:r,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Sd})}else if("phone"in t){const{phone:o,password:r,options:a}=t;s=await yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:r,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Sd})}else throw new bo("You must provide either an email or phone number and a password");const{data:n,error:i}=s;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new fa}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(s){if(ft(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,n,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const s=await xo(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(s??"").split("/");try{const{data:o,error:r}=await yt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ps});if(await _o(this.storage,`${this.storageKey}-code-verifier`),r)throw r;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new fa}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:r})}catch(o){if(ft(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:s,provider:n,token:i,access_token:o,nonce:r}=t,a=await yt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:o,nonce:r,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ps}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new fa}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(s){if(ft(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,n,i,o,r;try{if("email"in t){const{email:a,options:l}=t;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await vn(this.storage,this.storageKey));const{error:h}=await yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:d}=await yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(r=l==null?void 0:l.channel)!==null&&r!==void 0?r:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new bo("You must provide either an email or phone number.")}catch(a){if(ft(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var s,n;try{let i,o;"options"in t&&(i=(s=t.options)===null||s===void 0?void 0:s.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:r,error:a}=await yt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Ps});if(a)throw a;if(!r)throw new Error("An error occurred on token verification.");const l=r.session,c=r.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ft(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var s,n,i;try{let o=null,r=null;return this.flowType==="pkce"&&([o,r]=await vn(this.storage,this.storageKey)),await yt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:r}),headers:this.headers,xform:x_})}catch(o){if(ft(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:n}=t;if(n)throw n;if(!s)throw new Es;const{error:i}=await yt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(ft(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:o}=t,{error:r}=await yt(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:r}}else if("phone"in t){const{phone:n,type:i,options:o}=t,{data:r,error:a}=await yt(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:r==null?void 0:r.message_id},error:a}}throw new bo("You must provide either an email or phone number and a type")}catch(s){if(ft(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await xo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<ha:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let r=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,d)=>(!r&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:t},error:null}}const{session:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ls}):await this._useSession(async s=>{var n,i,o;const{data:r,error:a}=s;if(a)throw a;return!(!((n=r.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Es}:await yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=r.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Ls})})}catch(s){if(ft(s))return Kx(s)&&(await this._removeSession(),await _o(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async n=>{const{data:i,error:o}=n;if(o)throw o;if(!i.session)throw new Es;const r=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await vn(this.storage,this.storageKey));const{data:c,error:d}=await yt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:r.access_token,xform:Ls});if(d)throw d;return r.user=c.user,await this._saveSession(r),await this._notifyAllSubscribers("USER_UPDATED",r),{data:{user:r.user},error:null}})}catch(n){if(ft(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Es;const s=Date.now()/1e3;let n=s,i=!0,o=null;const{payload:r}=ma(t.access_token);if(r.exp&&(n=r.exp,i=n<=s),i){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(s){if(ft(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var n;if(!t){const{data:r,error:a}=s;if(a)throw a;t=(n=r.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Es;const{session:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(ft(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!Je())throw new yo("No browser detected.");if(t.error||t.error_description||t.error_code)throw new yo(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new yd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new yo("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new yd("No code detected.");const{data:_,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:o,refresh_token:r,expires_in:a,expires_at:l,token_type:c}=t;if(!o||!a||!r||!c)throw new yo("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const p=f-d;p*1e3<=En&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const m=f-h;d-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,d):d-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,d);const{data:g,error:b}=await this._getUser(o);if(b)throw b;const y={provider_token:n,provider_refresh_token:i,access_token:o,expires_in:h,expires_at:f,refresh_token:r,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(ft(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await xo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:i,error:o}=s;if(o)return{error:o};const r=(n=i.session)===null||n===void 0?void 0:n.access_token;if(r){const{error:a}=await this.admin.signOut(r,t);if(a&&!(qx(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await _o(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=s_(),n={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async s=>{var n,i;try{const{data:{session:o},error:r}=s;if(r)throw r;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,s={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await vn(this.storage,this.storageKey,!0));try{return await yt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(o){if(ft(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(ft(s))return{data:null,error:s};throw s}}async linkIdentity(t){var s;try{const{data:n,error:i}=await this._useSession(async o=>{var r,a,l,c,d;const{data:h,error:f}=o;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await yt(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Je()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ft(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async s=>{var n,i;const{data:o,error:r}=s;if(r)throw r;return await yt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(s){if(ft(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await r_(async i=>(i>0&&await o_(200*Math.pow(2,i-1)),this._debug(s,"refreshing attempt",i),await yt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ps})),(i,o)=>{const r=200*Math.pow(2,i);return o&&pa(o)&&Date.now()+r-n<En})}catch(n){if(this._debug(s,"error",n),ft(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",n),Je()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await xo(this.storage,this.storageKey);if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<ha;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${ha}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),pa(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var s,n;if(!t)throw new Es;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ur;const{data:o,error:r}=await this._refreshAccessToken(t);if(r)throw r;if(!o.session)throw new Es;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(i,"error",o),ft(o)){const r={session:null,error:o};return pa(o)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(r),r}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,s,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:s});const o=[],r=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,s)}catch(l){o.push(l)}});if(await Promise.all(r),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await zf(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await _o(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Je()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),En);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/En);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${En}ms, refresh threshold is ${Qa} ticks`),i<=Qa&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Hf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Je()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,n){const i=[`provider=${encodeURIComponent(s)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,r]=await vn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(r)}`});i.push(a.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);i.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var n;const{data:i,error:o}=s;return o?{data:null,error:o}:await yt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(ft(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var n,i;const{data:o,error:r}=s;if(r)return{data:null,error:r};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await yt(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(ft(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const{data:r,error:a}=await yt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+r.expires_in},r)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",r),{data:r,error:a})})}catch(s){if(ft(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:i,error:o}=s;return o?{data:null,error:o}:await yt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(ft(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const n=(t==null?void 0:t.factors)||[],i=n.filter(r=>r.factor_type==="totp"&&r.status==="verified"),o=n.filter(r=>r.factor_type==="phone"&&r.status==="verified");return{data:{all:n,totp:i,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,n;const{data:{session:i},error:o}=t;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:r}=ma(i.access_token);let a=null;r.aal&&(a=r.aal);let l=a;((n=(s=i.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const d=r.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,s={keys:[]}){let n=s.keys.find(r=>r.kid===t);if(n||(n=this.jwks.keys.find(r=>r.kid===t),n&&this.jwks_cached_at+Hx>Date.now()))return n;const{data:i,error:o}=await yt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!i.keys||i.keys.length===0)throw new Ei("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),n=i.keys.find(r=>r.kid===t),!n)throw new Ei("No matching signing key found in JWKS");return n}async getClaims(t,s={keys:[]}){try{let n=t;if(!n){const{data:p,error:m}=await this.getSession();if(m||!p.session)return{data:null,error:m};n=p.session.access_token}const{header:i,payload:o,signature:r,raw:{header:a,payload:l}}=ma(n);if(f_(o.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:o,header:i,signature:r},error:null}}const c=p_(i.alg),d=await this.fetchJwk(i.kid,s),h=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,r,t_(`${a}.${l}`)))throw new Ei("Invalid JWT signature");return{data:{claims:o,header:i,signature:r},error:null}}catch(n){if(ft(n))return{data:null,error:n};throw n}}}Wi.nextInstanceID=0;const T_=Wi;class O_ extends T_{constructor(t){super(t)}}var D_=globalThis&&globalThis.__awaiter||function(e,t,s,n){function i(o){return o instanceof s?o:new s(function(r){r(o)})}return new(s||(s=Promise))(function(o,r){function a(d){try{c(n.next(d))}catch(h){r(h)}}function l(d){try{c(n.throw(d))}catch(h){r(h)}}function c(d){d.done?o(d.value):i(d.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class I_{constructor(t,s,n){var i,o,r;if(this.supabaseUrl=t,this.supabaseKey=s,!t)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=jx(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:Tx,realtime:Dx,auth:Object.assign(Object.assign({},Ox),{storageKey:c}),global:Px},h=Bx(n??{},d);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((r=h.auth)!==null&&r!==void 0?r:{},this.headers,h.global.fetch),this.fetch=Fx(s,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Xy(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new My(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Mx(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},n={}){return this.rest.rpc(t,s,n)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return D_(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(s=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:n,storage:i,storageKey:o,flowType:r,lock:a,debug:l},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new O_({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:o,autoRefreshToken:t,persistSession:s,detectSessionInUrl:n,storage:i,flowType:r,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new hx(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,s,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const R_=(e,t,s)=>new I_(e,t,s),L_="https://nivvbndswqkjnifvkauf.supabase.co",F_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5pdnZibmRzd3Fram5pZnZrYXVmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc4NTAzMzEsImV4cCI6MjA2MzQyNjMzMX0.UocPLAEg1htKV7ZivlqRR3GZhDDCNi1jSseGikVpYv4",B=R_(L_,F_);function Wf(e){const t=e.replace(/\D/g,"").slice(0,11),s=t.slice(0,3),n=t.slice(3,6),i=t.slice(6,9),o=t.slice(9,11);return t.length<=3?t:t.length<=6?`${s}.${t.slice(3)}`:t.length<=9?`${s}.${n}.${t.slice(6)}`:`${s}.${n}.${i}-${o}`}function qf(e){const t=e.replace(/\D/g,"").slice(0,8),s=t.slice(0,5),n=t.slice(5);return t.length<=5?t:`${s}-${n}`}function is(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function ge(e){if(!e)return"";const t=e.split("-");if(t.length!==3)return e;const[s,n,i]=t;return`${i.padStart(2,"0")}/${n.padStart(2,"0")}/${s}`}const N_={name:"Signup",components:{Navbar:We,Footer:qe},data(){return{name:"",email:"",password:""}},methods:{async handleSignup(){if(!this.name){alert("Informe o nome");return}if(this.email&&!is(this.email)){alert("E-mail inválido");return}const{data:e,error:t}=await B.auth.signUp({email:this.email,password:this.password,options:{data:{name:this.name,display_name:this.name}}});alert(t?"Erro ao cadastrar: "+t.message:"Cadastro realizado! Verifique seu e-mail para ativar a conta.")}}},j_={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 px-4"},B_={class:"bg-white p-10 rounded-2xl shadow-xl w-full max-w-lg"},U_={class:"mt-6 text-center text-sm text-gray-500"};function $_(e,t,s,n,i,o){const r=H("Navbar"),a=H("router-link"),l=H("Footer");return w(),C(X,null,[I(r),u("section",j_,[u("div",B_,[t[10]||(t[10]=u("div",{class:"mb-8 text-center"},[u("h2",{class:"text-3xl font-extrabold text-blue-700"},"Crie sua conta"),u("p",{class:"text-gray-500"},"Comece agora a organizar seus atendimentos com praticidade")],-1)),u("form",{onSubmit:t[3]||(t[3]=oe((...c)=>o.handleSignup&&o.handleSignup(...c),["prevent"])),class:"space-y-5"},[u("div",null,[t[4]||(t[4]=u("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"name"},"Nome",-1)),O(u("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>i.name=c),type:"text",id:"name",placeholder:"Seu nome",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[N,i.name]])]),u("div",null,[t[5]||(t[5]=u("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"email"},"E-mail",-1)),O(u("input",{"onUpdate:modelValue":t[1]||(t[1]=c=>i.email=c),type:"email",id:"email",placeholder:"seu@email.com",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[N,i.email]])]),u("div",null,[t[6]||(t[6]=u("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"password"},"Senha",-1)),O(u("input",{"onUpdate:modelValue":t[2]||(t[2]=c=>i.password=c),type:"password",id:"password",placeholder:"********",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[N,i.password]])]),t[7]||(t[7]=u("button",{type:"submit",class:"btn w-full"},"Cadastrar",-1))],32),u("p",U_,[t[9]||(t[9]=it(" Já tem uma conta? ")),I(a,{to:"/login",class:"text-blue-600 hover:underline"},{default:et(()=>t[8]||(t[8]=[it("Entrar")])),_:1,__:[8]})])])]),I(l)],64)}const V_=mt(N_,[["render",$_]]),z_={name:"Login",components:{Navbar:We,Footer:qe},data(){return{email:"",password:"",loginError:""}},methods:{async handleLogin(){if(this.loginError="",this.email&&!is(this.email)){this.loginError="E-mail inválido";return}const{error:e}=await B.auth.signInWithPassword({email:this.email,password:this.password});e?e.message&&e.message.toLowerCase().includes("confirm")?alert("Você precisa confirmar o e-mail antes de acessar o sistema."):this.loginError="E-mail ou senha inválidos":this.$router.push("/dashboard")},async handleGoogleLogin(){const{error:e}=await B.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/#/dashboard"}});e&&alert("Erro ao entrar com Google: "+e.message)},clearError(){this.loginError=""}}},H_={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-100 to-blue-100 px-4"},W_={class:"bg-white p-10 rounded-2xl shadow-xl w-full max-w-lg"},q_={key:0,class:"text-red-600 text-center text-sm"},K_={class:"mt-6 text-center text-sm text-gray-500"};function G_(e,t,s,n,i,o){const r=H("Navbar"),a=H("router-link"),l=H("Footer");return w(),C(X,null,[I(r),u("section",H_,[u("div",W_,[t[11]||(t[11]=u("div",{class:"mb-8 text-center"},[u("h2",{class:"text-3xl font-extrabold text-blue-700"},"Entrar"),u("p",{class:"text-gray-500"},"Acesse sua conta do Agenda Zen")],-1)),u("form",{onSubmit:t[5]||(t[5]=oe((...c)=>o.handleLogin&&o.handleLogin(...c),["prevent"])),class:"space-y-5"},[u("div",null,[t[6]||(t[6]=u("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"email"},"E-mail",-1)),O(u("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>i.email=c),onInput:t[1]||(t[1]=(...c)=>o.clearError&&o.clearError(...c)),type:"email",id:"email",placeholder:"seu@email.com",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,544),[[N,i.email]])]),u("div",null,[t[7]||(t[7]=u("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"password"},"Senha",-1)),O(u("input",{"onUpdate:modelValue":t[2]||(t[2]=c=>i.password=c),onInput:t[3]||(t[3]=(...c)=>o.clearError&&o.clearError(...c)),type:"password",id:"password",placeholder:"********",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,544),[[N,i.password]])]),i.loginError?(w(),C("p",q_,E(i.loginError),1)):z("",!0),t[8]||(t[8]=u("button",{type:"submit",class:"btn w-full"},"Entrar",-1)),u("button",{type:"button",onClick:t[4]||(t[4]=(...c)=>o.handleGoogleLogin&&o.handleGoogleLogin(...c)),class:"w-full bg-red-500 text-white font-semibold py-3 rounded-lg hover:bg-red-600 transition duration-200"},"Entrar com Google")],32),u("p",K_,[t[10]||(t[10]=it(" Ainda não tem conta? ")),I(a,{to:"/cadastro",class:"text-blue-600 hover:underline"},{default:et(()=>t[9]||(t[9]=[it("Criar agora")])),_:1,__:[9]})])])]),I(l)],64)}const Y_=mt(z_,[["render",G_]]);function $r(e){const t=e.replace(/\D/g,"").slice(0,11),s=t.slice(0,2);if(t.length<=2)return t?`(${s}`:"";if(t.length<=6){const o=t.slice(2);return`(${s}) ${o}`}if(t.length<=10){const o=t.slice(2,6),r=t.slice(6);return`(${s}) ${o}${r?`-${r}`:""}`}const n=t.slice(2,7),i=t.slice(7);return`(${s}) ${n}-${i}`}function dr(e){return e.replace(/\D/g,"")}const J_={name:"Onboarding",data(){return{userId:null,step:1,form:{businessName:"",phone:"",email:""},agenda:{startTime:"",endTime:"",daysOfWeek:[]},serviceForm:{name:"",duration:"",price:""},services:[],daysOfWeekOptions:[{value:"0",label:"Domingo"},{value:"1",label:"Segunda"},{value:"2",label:"Terça"},{value:"3",label:"Quarta"},{value:"4",label:"Quinta"},{value:"5",label:"Sexta"},{value:"6",label:"Sábado"}]}},methods:{phoneMask:$r,generateSlug(e){return e?e.toLowerCase().normalize("NFD").replace(/\p{Diacritic}/gu,"").replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""):""},async next(){this.step===1?(await this.saveProfile(),this.step++):this.step===2?(await this.saveAgenda(),this.step++):this.step===3&&(await this.saveServices(),this.step++)},prev(){this.step>1&&this.step--},async saveProfile(){if(this.form.email&&!is(this.form.email)){alert("E-mail inválido");return}const e={id:this.userId,business_name:this.form.businessName,slug:this.generateSlug(this.form.businessName),phone:this.form.phone,email:this.form.email};await B.from("profiles").upsert(e,{onConflict:["id"]})},async saveAgenda(){const e={id:this.userId,start_time:this.agenda.startTime,end_time:this.agenda.endTime,week_days:this.agenda.daysOfWeek.join(",")};await B.from("profiles").upsert(e,{onConflict:["id"]})},async saveServices(){for(const e of this.services)await B.from("services").insert({name:e.name,duration:e.duration,price:parseFloat(e.price),user_id:this.userId})},addService(){this.serviceForm.name&&(this.services.push({name:this.serviceForm.name,duration:this.serviceForm.duration,price:this.serviceForm.price}),this.serviceForm={name:"",duration:"",price:""})},removeService(e){this.services.splice(e,1)},formatPrice(e){return e==null||e===""?"":Number(e).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}},async mounted(){const{data:{user:e}}=await B.auth.getUser();if(!e){this.$router.push("/login");return}this.userId=e.id}},X_={class:"min-h-screen flex bg-gray-100 items-center justify-center p-4"},Q_={class:"bg-white p-6 rounded-lg shadow w-full max-w-2xl"},Z_={key:0,class:"space-y-4"},tv={key:1,class:"space-y-4"},ev={class:"mt-1 space-y-1"},sv=["value"],nv={key:2,class:"space-y-4"},iv={class:"flex justify-end"},ov={class:"mt-4 space-y-1"},rv=["onClick"],av={key:3,class:"space-y-4 text-center"},lv={key:4,class:"flex justify-between mt-6"},cv={key:5,class:"flex justify-center mt-6"};function dv(e,t,s,n,i,o){return w(),C("div",X_,[u("div",Q_,[i.step===1?(w(),C("div",Z_,[t[17]||(t[17]=u("h2",{class:"text-xl font-semibold mb-4"},"Bem-vindo! Vamos começar pelo seu perfil.",-1)),u("div",null,[t[14]||(t[14]=u("label",{class:"block text-sm font-medium text-gray-700"},"Nome Comercial",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=r=>i.form.businessName=r),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.form.businessName]])]),u("div",null,[t[15]||(t[15]=u("label",{class:"block text-sm font-medium text-gray-700"},"Telefone",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=r=>i.form.phone=r),onInput:t[2]||(t[2]=r=>i.form.phone=o.phoneMask(i.form.phone)),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,544),[[N,i.form.phone]])]),u("div",null,[t[16]||(t[16]=u("label",{class:"block text-sm font-medium text-gray-700"},"E-mail",-1)),O(u("input",{type:"email","onUpdate:modelValue":t[3]||(t[3]=r=>i.form.email=r),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.form.email]])])])):i.step===2?(w(),C("div",tv,[t[21]||(t[21]=u("h2",{class:"text-xl font-semibold mb-4"},"Horários de atendimento",-1)),u("div",null,[t[18]||(t[18]=u("label",{class:"block text-sm font-medium text-gray-700"},"Início",-1)),O(u("input",{type:"time",step:"60","onUpdate:modelValue":t[4]||(t[4]=r=>i.agenda.startTime=r),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.agenda.startTime]])]),u("div",null,[t[19]||(t[19]=u("label",{class:"block text-sm font-medium text-gray-700"},"Fim",-1)),O(u("input",{type:"time",step:"60","onUpdate:modelValue":t[5]||(t[5]=r=>i.agenda.endTime=r),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.agenda.endTime]])]),u("div",null,[t[20]||(t[20]=u("label",{class:"block text-sm font-medium text-gray-700"},"Dias da semana",-1)),u("div",ev,[(w(!0),C(X,null,pt(i.daysOfWeekOptions,r=>(w(),C("label",{key:r.value,class:"flex items-center space-x-2"},[O(u("input",{type:"checkbox",value:r.value,"onUpdate:modelValue":t[6]||(t[6]=a=>i.agenda.daysOfWeek=a)},null,8,sv),[[Ul,i.agenda.daysOfWeek]]),u("span",null,E(r.label),1)]))),128))])])])):i.step===3?(w(),C("div",nv,[t[25]||(t[25]=u("h2",{class:"text-xl font-semibold mb-4"},"Cadastre seus serviços",-1)),u("div",null,[t[22]||(t[22]=u("label",{class:"block text-sm font-medium text-gray-700"},"Nome",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=r=>i.serviceForm.name=r),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.serviceForm.name]])]),u("div",null,[t[23]||(t[23]=u("label",{class:"block text-sm font-medium text-gray-700"},"Duração",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=r=>i.serviceForm.duration=r),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.serviceForm.duration]])]),u("div",null,[t[24]||(t[24]=u("label",{class:"block text-sm font-medium text-gray-700"},"Valor",-1)),O(u("input",{type:"number",step:"0.01","onUpdate:modelValue":t[9]||(t[9]=r=>i.serviceForm.price=r),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.serviceForm.price]])]),u("div",iv,[u("button",{onClick:t[10]||(t[10]=(...r)=>o.addService&&o.addService(...r)),class:"btn"},"Adicionar")]),u("ul",ov,[(w(!0),C(X,null,pt(i.services,(r,a)=>(w(),C("li",{key:a,class:"flex justify-between"},[u("span",null,E(r.name)+" - "+E(r.duration)+"min - "+E(o.formatPrice(r.price)),1),u("button",{onClick:l=>o.removeService(a),class:"text-red-600 hover:underline"},"Remover",8,rv)]))),128))])])):i.step===4?(w(),C("div",av,t[26]||(t[26]=[u("h2",{class:"text-2xl font-semibold"},"Pronto!",-1),u("p",null,"Seu cadastro inicial está concluído.",-1),u("p",{class:"text-lg"},"Bem-vindo ao Agenda Zen!",-1)]))):z("",!0),i.step<4?(w(),C("div",lv,[i.step>1?(w(),C("button",{key:0,onClick:t[11]||(t[11]=(...r)=>o.prev&&o.prev(...r)),class:"px-4 py-2 border rounded"},"Voltar")):z("",!0),u("button",{onClick:t[12]||(t[12]=(...r)=>o.next&&o.next(...r)),class:"btn ml-auto"},E(i.step===3?"Finalizar":"Próximo"),1)])):(w(),C("div",cv,[u("button",{onClick:t[13]||(t[13]=r=>e.$router.push("/dashboard")),class:"btn"},"Ir para o Dashboard")]))])])}const uv=mt(J_,[["render",dv]]),hv={name:"Sidebar",props:{isOpen:{type:Boolean,default:!0}}},fv={class:"space-y-6 mt-8"},pv={class:"space-y-2"},mv={class:"space-y-2"},gv={class:"space-y-2"},bv={class:"space-y-2"},yv={class:"space-y-2"};function xv(e,t,s,n,i,o){const r=H("router-link");return w(),C("div",null,[s.isOpen?(w(),C("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:t[0]||(t[0]=a=>e.$emit("close"))})):z("",!0),u("aside",{class:Qt(["fixed inset-y-0 left-0 transform bg-white shadow-md transition-all duration-200 z-50 md:relative overflow-hidden flex flex-col min-h-screen",s.isOpen?"w-64 p-6 translate-x-0":"w-0 p-0 -translate-x-full"])},[u("button",{class:"absolute top-4 right-4 text-gray-600 focus:outline-none",onClick:t[1]||(t[1]=a=>e.$emit("close"))},t[2]||(t[2]=[u("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])),t[19]||(t[19]=u("h2",{class:"text-2xl font-bold text-blue-600 mb-6"},"Agenda Zen",-1)),u("nav",fv,[u("div",pv,[t[5]||(t[5]=u("h3",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wide"},"Agendamentos",-1)),I(r,{to:"/dashboard",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:et(()=>t[3]||(t[3]=[u("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l9-9 9 9M4 10v10a1 1 0 001 1h3m10-11v10a1 1 0 01-1 1h-3m-6 0h6"})],-1),u("span",null,"Início",-1)])),_:1,__:[3]}),I(r,{to:"/agendamentos",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:et(()=>t[4]||(t[4]=[u("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2","stroke-width":"2"}),u("line",{x1:"16",y1:"2",x2:"16",y2:"6","stroke-width":"2"}),u("line",{x1:"8",y1:"2",x2:"8",y2:"6","stroke-width":"2"}),u("line",{x1:"3",y1:"10",x2:"21",y2:"10","stroke-width":"2"})],-1),u("span",null,"Agendamentos",-1)])),_:1,__:[4]})]),u("div",mv,[t[9]||(t[9]=u("h3",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wide"},"Cadastros",-1)),I(r,{to:"/clientes",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:et(()=>t[6]||(t[6]=[u("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("circle",{cx:"12",cy:"7",r:"4","stroke-width":"2"}),u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 21v-2a6 6 0 0112 0v2"})],-1),u("span",null,"Clientes",-1)])),_:1,__:[6]}),I(r,{to:"/servicos",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:et(()=>t[7]||(t[7]=[u("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2","stroke-width":"2"}),u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V5a4 4 0 018 0v2"})],-1),u("span",null,"Serviços",-1)])),_:1,__:[7]}),I(r,{to:"/salas",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:et(()=>t[8]||(t[8]=[u("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2","stroke-width":"2"}),u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 3v18M15 3v18M3 9h18M3 15h18"})],-1),u("span",null,"Salas",-1)])),_:1,__:[8]})]),u("div",gv,[t[11]||(t[11]=u("h3",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wide"},"Relatórios",-1)),I(r,{to:"/faturamento",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:et(()=>t[10]||(t[10]=[u("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3v18h18M9 17v-4M13 17v-8M17 17V7"})],-1),u("span",null,"Faturamento",-1)])),_:1,__:[10]})]),u("div",bv,[t[14]||(t[14]=u("h3",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wide"},"Pagamentos",-1)),I(r,{to:"/comprovantes",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:et(()=>t[12]||(t[12]=[u("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01"})],-1),u("span",null,"Comprovantes",-1)])),_:1,__:[12]}),I(r,{to:"/templates",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:et(()=>t[13]||(t[13]=[u("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4h16v4H4V4zm0 6h16v10H4V10z"})],-1),u("span",null,"Templates",-1)])),_:1,__:[13]})]),u("div",yv,[t[18]||(t[18]=u("h3",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wide"},"Conta",-1)),I(r,{to:"/configuracao",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:et(()=>t[15]||(t[15]=[u("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("circle",{cx:"12",cy:"8",r:"4","stroke-width":"2"}),u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 21v-2a6 6 0 0112 0v2"})],-1),u("span",null,"Perfil",-1)])),_:1,__:[15]}),I(r,{to:"/usuarios",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:et(()=>t[16]||(t[16]=[u("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("circle",{cx:"12",cy:"8",r:"4","stroke-width":"2"}),u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 21v-2a6 6 0 0112 0v2"})],-1),u("span",null,"Usuários",-1)])),_:1,__:[16]}),I(r,{to:"/minha-assinatura",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:et(()=>t[17]||(t[17]=[u("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2",ry:"2","stroke-width":"2"}),u("line",{x1:"3",y1:"9",x2:"21",y2:"9","stroke-width":"2"})],-1),u("span",null,"Minha Assinatura",-1)])),_:1,__:[17]})])])],2)])}const Ee=mt(hv,[["render",xv]]),_v={name:"HeaderUser",props:{title:{type:String,default:"Agenda Zen"}},data(){return{userName:null,showMenu:!1}},async mounted(){var t,s;const{data:{user:e}}=await B.auth.getUser();if(!e)this.$router.push("/login");else{const n=((t=e.user_metadata)==null?void 0:t.display_name)||((s=e.user_metadata)==null?void 0:s.name);this.userName=n&&n.trim()!==""?n:e.email}},methods:{toggleMenu(){this.showMenu=!this.showMenu},async handleLogout(){this.showMenu=!1,await B.auth.signOut(),this.$router.push("/")}}},vv={class:"flex justify-between items-center mb-8"},wv={class:"text-2xl font-semibold text-gray-800"},kv={key:0,class:"relative"},Sv={class:"text-gray-600"},Cv={key:0,class:"absolute right-0 mt-2 w-48 bg-white border rounded shadow-md"};function Mv(e,t,s,n,i,o){const r=H("router-link");return w(),C("header",vv,[u("h1",wv,E(s.title),1),i.userName?(w(),C("div",kv,[u("button",{onClick:t[0]||(t[0]=(...a)=>o.toggleMenu&&o.toggleMenu(...a)),class:"flex items-center space-x-2 focus:outline-none"},[t[3]||(t[3]=u("svg",{class:"w-5 h-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[u("circle",{cx:"12",cy:"8",r:"4","stroke-width":"2"}),u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 21v-2a6 6 0 0112 0v2"})],-1)),u("span",Sv,E(i.userName),1),(w(),C("svg",{class:Qt(["w-4 h-4 text-gray-600 transition-transform",{"rotate-180":i.showMenu}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},t[2]||(t[2]=[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),i.showMenu?(w(),C("div",Cv,[I(r,{to:"/",class:"block px-4 py-2 hover:bg-gray-100"},{default:et(()=>t[4]||(t[4]=[it("Início")])),_:1,__:[4]}),I(r,{to:"/configuracao",class:"block px-4 py-2 hover:bg-gray-100"},{default:et(()=>t[5]||(t[5]=[it("Perfil")])),_:1,__:[5]}),I(r,{to:"/usuarios",class:"block px-4 py-2 hover:bg-gray-100"},{default:et(()=>t[6]||(t[6]=[it("Usuários")])),_:1,__:[6]}),I(r,{to:"/minha-assinatura",class:"block px-4 py-2 hover:bg-gray-100"},{default:et(()=>t[7]||(t[7]=[it("Assinatura")])),_:1,__:[7]}),u("button",{onClick:t[1]||(t[1]=(...a)=>o.handleLogout&&o.handleLogout(...a)),class:"w-full text-left px-4 py-2 hover:bg-gray-100"},"Sair")])):z("",!0)])):z("",!0)])}const Pe=mt(_v,[["render",Mv]]),Av={name:"Modal"},Ev={class:"bg-white p-6 rounded-lg shadow-lg w-full max-w-lg md:max-w-2xl max-h-[90vh] overflow-y-auto"};function Pv(e,t,s,n,i,o){return w(),C("div",{class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:t[0]||(t[0]=oe(r=>e.$emit("close"),["self"]))},[u("div",Ev,[Lh(e.$slots,"default")])])}const Ks=mt(Av,[["render",Pv]]);function vo(){return new Date(new Date().toLocaleString("en-US",{timeZone:"America/Sao_Paulo"}))}const Tv={name:"WeekView",props:{appointments:{type:Array,required:!0},getClientName:{type:Function,required:!0}},data(){const e=vo(),t=new Date(e);return t.setDate(e.getDate()-(e.getDay()+6)%7),{weekStart:t,daysOfWeek:["Seg","Ter","Qua","Qui","Sex","Sáb","Dom"],startTime:"00:00",endTime:"23:00",dailySchedule:null,slotInterval:30,timeSlots:[],currentLineTop:0,lineInterval:null}},computed:{weekEnd(){const e=new Date(this.weekStart);return e.setDate(e.getDate()+6),e},showCurrentLine(){const e=this.timeSlots.length*64,t=vo(),s=t.getHours()*60+t.getMinutes(),[n,i]=this.startTime.split(":").map(Number),[o,r]=this.endTime.split(":").map(Number),a=n*60+i,l=o*60+r,c=s>=a&&s<=l,d=this.currentLineTop>=0&&this.currentLineTop<=e;return c&&d}},methods:{generateTimeSlots(){const[e,t]=this.startTime.split(":").map(Number),[s,n]=this.endTime.split(":").map(Number),i=e*60+t,o=s*60+n;this.timeSlots=[];for(let r=i;r<=o;r+=this.slotInterval){const a=Math.floor(r/60),l=r%60;this.timeSlots.push(`${String(a).padStart(2,"0")}:${String(l).padStart(2,"0")}`)}},formatDate(e){const t=String(e.getMonth()+1).padStart(2,"0");return`${String(e.getDate()).padStart(2,"0")}/${t}`},formatISO(e){const t=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");return`${e.getFullYear()}-${t}-${s}`},getDateOfDay(e){const t=new Date(this.weekStart);return t.setDate(t.getDate()+e),t},getAppointmentsForSlot(e,t){const s=this.formatISO(this.getDateOfDay(e)),[n,i]=t.split(":").map(Number),o=n*60+i,r=o+this.slotInterval;return this.appointments.filter(a=>{if(a.date!==s)return!1;const[l,c]=a.time.split(":").map(Number),d=l*60+c;return d>=o&&d<r}).sort((a,l)=>a.time.localeCompare(l.time))},updateCurrentLine(){if(this.timeSlots.length===0)return;const[e,t]=this.timeSlots[0].split(":").map(Number),s=vo(),n=s.getHours()*60+s.getMinutes(),i=e*60+t,r=(n-i)/this.slotInterval*64;this.currentLineTop=r},prevWeek(){const e=new Date(this.weekStart);e.setDate(e.getDate()-7),this.weekStart=e},nextWeek(){const e=new Date(this.weekStart);e.setDate(e.getDate()+7),this.weekStart=e},isToday(e){const t=vo();return this.getDateOfDay(e).toDateString()===t.toDateString()}},watch:{startTime(){this.generateTimeSlots(),this.$nextTick(this.updateCurrentLine)},endTime(){this.generateTimeSlots(),this.$nextTick(this.updateCurrentLine)}},async mounted(){const{data:{user:e}}=await B.auth.getUser();if(e){const{data:t}=await B.from("profiles").select("start_time, end_time, daily_schedule").eq("id",e.id).single();if(t)if(t.daily_schedule){this.dailySchedule=typeof t.daily_schedule=="string"?JSON.parse(t.daily_schedule):t.daily_schedule;const s=Object.values(this.dailySchedule).filter(n=>n&&n.enabled&&n.start&&n.end);s.length&&(this.startTime=s.reduce((n,i)=>!n||i.start<n?i.start:n,null),this.endTime=s.reduce((n,i)=>!n||i.end>n?i.end:n,null))}else t.start_time&&(this.startTime=t.start_time),t.end_time&&(this.endTime=t.end_time)}this.generateTimeSlots(),this.updateCurrentLine(),this.lineInterval=setInterval(this.updateCurrentLine,6e4)},beforeUnmount(){this.lineInterval&&clearInterval(this.lineInterval)}},Ov={class:"bg-white rounded-lg shadow overflow-hidden"},Dv={class:"flex justify-between items-center px-4 py-2 border-b bg-gray-50"},Iv={class:"font-semibold"},Rv={class:"relative overflow-x-auto"},Lv={ref:"grid",class:"grid gap-px text-sm bg-gray-100",style:{gridTemplateColumns:"64px repeat(7, 1fr)"}},Fv={class:"font-semibold text-right pr-1 border bg-gray-50 h-16 flex items-center justify-end"},Nv=["onClick"];function jv(e,t,s,n,i,o){return w(),C("div",Ov,[u("div",Dv,[u("button",{onClick:t[0]||(t[0]=(...r)=>o.prevWeek&&o.prevWeek(...r)),class:"p-1 rounded hover:bg-gray-200"},t[2]||(t[2]=[u("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),u("div",Iv,E(o.formatDate(i.weekStart))+" - "+E(o.formatDate(o.weekEnd)),1),u("button",{onClick:t[1]||(t[1]=(...r)=>o.nextWeek&&o.nextWeek(...r)),class:"p-1 rounded hover:bg-gray-200"},t[3]||(t[3]=[u("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))]),u("div",Rv,[o.showCurrentLine?(w(),C("div",{key:0,class:"absolute left-0 right-0 border-t-2 border-blue-500 pointer-events-none",style:Cr({top:i.currentLineTop+"px"})},null,4)):z("",!0),u("div",Lv,[t[4]||(t[4]=u("div",{class:"bg-gray-50"},null,-1)),(w(!0),C(X,null,pt(i.daysOfWeek,(r,a)=>(w(),C("div",{key:r,class:Qt(["font-semibold text-center border px-1 bg-gray-50",{"bg-blue-50 border-l-4 border-blue-500":o.isToday(a)}])},E(r),3))),128)),(w(!0),C(X,null,pt(i.timeSlots,r=>(w(),C(X,{key:r},[u("div",Fv,E(r),1),(w(),C(X,null,pt(7,a=>u("div",{key:r+"-"+a,class:Qt(["border h-16 p-1 overflow-auto bg-white",{"bg-blue-50":o.isToday(a-1)}])},[u("ul",null,[(w(!0),C(X,null,pt(o.getAppointmentsForSlot(a-1,r),l=>(w(),C("li",{key:l.id,class:"text-xs truncate cursor-pointer",onClick:c=>e.$emit("select",l)},E(l.time)+" - "+E(s.getClientName(l.client_id)),9,Nv))),128))])],2)),64))],64))),128))],512)])])}const Kf=mt(Tv,[["render",jv]]),Bv={name:"AppointmentDetails",props:{appointment:{type:Object,required:!0},getClientName:{type:Function,required:!0},getServiceName:{type:Function,required:!0},getRoomName:{type:Function,default:()=>""},getRoomLink:{type:Function,default:()=>""}}},Uv={class:"relative"},$v={key:0,class:"space-y-1 border rounded-md p-4 bg-gray-50 text-gray-700"},Vv={key:0},zv={key:1},Hv=["href"];function Wv(e,t,s,n,i,o){return w(),C("div",Uv,[u("button",{onClick:t[0]||(t[0]=r=>e.$emit("close")),class:"absolute top-0 right-0 m-2 px-2 py-1 rounded border text-sm"}," Fechar "),t[8]||(t[8]=u("h3",{class:"text-lg font-semibold mb-4"},"Detalhes do Agendamento",-1)),s.appointment?(w(),C("div",$v,[u("p",null,[t[1]||(t[1]=u("strong",null,"Data:",-1)),it(" "+E(s.appointment.date),1)]),u("p",null,[t[2]||(t[2]=u("strong",null,"Hora:",-1)),it(" "+E(s.appointment.time),1)]),u("p",null,[t[3]||(t[3]=u("strong",null,"Cliente:",-1)),it(" "+E(s.getClientName(s.appointment.client_id)),1)]),u("p",null,[t[4]||(t[4]=u("strong",null,"Serviço:",-1)),it(" "+E(s.getServiceName(s.appointment.service_id)),1)]),u("p",null,[t[5]||(t[5]=u("strong",null,"Duração:",-1)),it(" "+E(s.appointment.duration),1)]),u("p",null,[t[6]||(t[6]=u("strong",null,"Descrição:",-1)),it(" "+E(s.appointment.description),1)]),s.appointment.room_id?(w(),C("p",Vv,[t[7]||(t[7]=u("strong",null,"Sala:",-1)),it(" "+E(s.getRoomName(s.appointment.room_id)),1)])):z("",!0),s.appointment.room_id&&s.getRoomLink(s.appointment.room_id)?(w(),C("p",zv,[u("a",{href:s.getRoomLink(s.appointment.room_id),target:"_blank",class:"text-blue-600 underline"},"Acessar Google Meet",8,Hv)])):z("",!0)])):z("",!0),Lh(e.$slots,"actions")])}const Gf=mt(Bv,[["render",Wv]]);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function lo(e){return e+.5|0}const Fs=(e,t,s)=>Math.max(Math.min(e,s),t);function pi(e){return Fs(lo(e*2.55),0,255)}function Vs(e){return Fs(lo(e*255),0,255)}function ps(e){return Fs(lo(e/2.55)/100,0,1)}function Ad(e){return Fs(lo(e*100),0,100)}const De={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},el=[..."0123456789ABCDEF"],qv=e=>el[e&15],Kv=e=>el[(e&240)>>4]+el[e&15],wo=e=>(e&240)>>4===(e&15),Gv=e=>wo(e.r)&&wo(e.g)&&wo(e.b)&&wo(e.a);function Yv(e){var t=e.length,s;return e[0]==="#"&&(t===4||t===5?s={r:255&De[e[1]]*17,g:255&De[e[2]]*17,b:255&De[e[3]]*17,a:t===5?De[e[4]]*17:255}:(t===7||t===9)&&(s={r:De[e[1]]<<4|De[e[2]],g:De[e[3]]<<4|De[e[4]],b:De[e[5]]<<4|De[e[6]],a:t===9?De[e[7]]<<4|De[e[8]]:255})),s}const Jv=(e,t)=>e<255?t(e):"";function Xv(e){var t=Gv(e)?qv:Kv;return e?"#"+t(e.r)+t(e.g)+t(e.b)+Jv(e.a,t):void 0}const Qv=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Yf(e,t,s){const n=t*Math.min(s,1-s),i=(o,r=(o+e/30)%12)=>s-n*Math.max(Math.min(r-3,9-r,1),-1);return[i(0),i(8),i(4)]}function Zv(e,t,s){const n=(i,o=(i+e/60)%6)=>s-s*t*Math.max(Math.min(o,4-o,1),0);return[n(5),n(3),n(1)]}function t1(e,t,s){const n=Yf(e,1,.5);let i;for(t+s>1&&(i=1/(t+s),t*=i,s*=i),i=0;i<3;i++)n[i]*=1-t-s,n[i]+=t;return n}function e1(e,t,s,n,i){return e===i?(t-s)/n+(t<s?6:0):t===i?(s-e)/n+2:(e-t)/n+4}function Gl(e){const s=e.r/255,n=e.g/255,i=e.b/255,o=Math.max(s,n,i),r=Math.min(s,n,i),a=(o+r)/2;let l,c,d;return o!==r&&(d=o-r,c=a>.5?d/(2-o-r):d/(o+r),l=e1(s,n,i,d,o),l=l*60+.5),[l|0,c||0,a]}function Yl(e,t,s,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,s,n)).map(Vs)}function Jl(e,t,s){return Yl(Yf,e,t,s)}function s1(e,t,s){return Yl(t1,e,t,s)}function n1(e,t,s){return Yl(Zv,e,t,s)}function Jf(e){return(e%360+360)%360}function i1(e){const t=Qv.exec(e);let s=255,n;if(!t)return;t[5]!==n&&(s=t[6]?pi(+t[5]):Vs(+t[5]));const i=Jf(+t[2]),o=+t[3]/100,r=+t[4]/100;return t[1]==="hwb"?n=s1(i,o,r):t[1]==="hsv"?n=n1(i,o,r):n=Jl(i,o,r),{r:n[0],g:n[1],b:n[2],a:s}}function o1(e,t){var s=Gl(e);s[0]=Jf(s[0]+t),s=Jl(s),e.r=s[0],e.g=s[1],e.b=s[2]}function r1(e){if(!e)return;const t=Gl(e),s=t[0],n=Ad(t[1]),i=Ad(t[2]);return e.a<255?`hsla(${s}, ${n}%, ${i}%, ${ps(e.a)})`:`hsl(${s}, ${n}%, ${i}%)`}const Ed={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Pd={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function a1(){const e={},t=Object.keys(Pd),s=Object.keys(Ed);let n,i,o,r,a;for(n=0;n<t.length;n++){for(r=a=t[n],i=0;i<s.length;i++)o=s[i],a=a.replace(o,Ed[o]);o=parseInt(Pd[r],16),e[a]=[o>>16&255,o>>8&255,o&255]}return e}let ko;function l1(e){ko||(ko=a1(),ko.transparent=[0,0,0,0]);const t=ko[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const c1=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function d1(e){const t=c1.exec(e);let s=255,n,i,o;if(t){if(t[7]!==n){const r=+t[7];s=t[8]?pi(r):Fs(r*255,0,255)}return n=+t[1],i=+t[3],o=+t[5],n=255&(t[2]?pi(n):Fs(n,0,255)),i=255&(t[4]?pi(i):Fs(i,0,255)),o=255&(t[6]?pi(o):Fs(o,0,255)),{r:n,g:i,b:o,a:s}}}function u1(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${ps(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const ga=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,kn=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function h1(e,t,s){const n=kn(ps(e.r)),i=kn(ps(e.g)),o=kn(ps(e.b));return{r:Vs(ga(n+s*(kn(ps(t.r))-n))),g:Vs(ga(i+s*(kn(ps(t.g))-i))),b:Vs(ga(o+s*(kn(ps(t.b))-o))),a:e.a+s*(t.a-e.a)}}function So(e,t,s){if(e){let n=Gl(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*s,t===0?360:1)),n=Jl(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function Xf(e,t){return e&&Object.assign(t||{},e)}function Td(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Vs(e[3]))):(t=Xf(e,{r:0,g:0,b:0,a:1}),t.a=Vs(t.a)),t}function f1(e){return e.charAt(0)==="r"?d1(e):i1(e)}class qi{constructor(t){if(t instanceof qi)return t;const s=typeof t;let n;s==="object"?n=Td(t):s==="string"&&(n=Yv(t)||l1(t)||f1(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=Xf(this._rgb);return t&&(t.a=ps(t.a)),t}set rgb(t){this._rgb=Td(t)}rgbString(){return this._valid?u1(this._rgb):void 0}hexString(){return this._valid?Xv(this._rgb):void 0}hslString(){return this._valid?r1(this._rgb):void 0}mix(t,s){if(t){const n=this.rgb,i=t.rgb;let o;const r=s===o?.5:s,a=2*r-1,l=n.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;o=1-c,n.r=255&c*n.r+o*i.r+.5,n.g=255&c*n.g+o*i.g+.5,n.b=255&c*n.b+o*i.b+.5,n.a=r*n.a+(1-r)*i.a,this.rgb=n}return this}interpolate(t,s){return t&&(this._rgb=h1(this._rgb,t._rgb,s)),this}clone(){return new qi(this.rgb)}alpha(t){return this._rgb.a=Vs(t),this}clearer(t){const s=this._rgb;return s.a*=1-t,this}greyscale(){const t=this._rgb,s=lo(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=s,this}opaquer(t){const s=this._rgb;return s.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return So(this._rgb,2,t),this}darken(t){return So(this._rgb,2,-t),this}saturate(t){return So(this._rgb,1,t),this}desaturate(t){return So(this._rgb,1,-t),this}rotate(t){return o1(this._rgb,t),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ls(){}const p1=(()=>{let e=0;return()=>e++})();function bt(e){return e==null}function Lt(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function xt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Ut(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function Se(e,t){return Ut(e)?e:t}function ht(e,t){return typeof e>"u"?t:e}const m1=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,Qf=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function It(e,t,s){if(e&&typeof e.call=="function")return e.apply(s,t)}function At(e,t,s,n){let i,o,r;if(Lt(e))if(o=e.length,n)for(i=o-1;i>=0;i--)t.call(s,e[i],i);else for(i=0;i<o;i++)t.call(s,e[i],i);else if(xt(e))for(r=Object.keys(e),o=r.length,i=0;i<o;i++)t.call(s,e[r[i]],r[i])}function ur(e,t){let s,n,i,o;if(!e||!t||e.length!==t.length)return!1;for(s=0,n=e.length;s<n;++s)if(i=e[s],o=t[s],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function hr(e){if(Lt(e))return e.map(hr);if(xt(e)){const t=Object.create(null),s=Object.keys(e),n=s.length;let i=0;for(;i<n;++i)t[s[i]]=hr(e[s[i]]);return t}return e}function Zf(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function g1(e,t,s,n){if(!Zf(e))return;const i=t[e],o=s[e];xt(i)&&xt(o)?Ki(i,o,n):t[e]=hr(o)}function Ki(e,t,s){const n=Lt(t)?t:[t],i=n.length;if(!xt(e))return e;s=s||{};const o=s.merger||g1;let r;for(let a=0;a<i;++a){if(r=n[a],!xt(r))continue;const l=Object.keys(r);for(let c=0,d=l.length;c<d;++c)o(l[c],e,r,s)}return e}function Ti(e,t){return Ki(e,t,{merger:b1})}function b1(e,t,s){if(!Zf(e))return;const n=t[e],i=s[e];xt(n)&&xt(i)?Ti(n,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=hr(i))}const Od={"":e=>e,x:e=>e.x,y:e=>e.y};function y1(e){const t=e.split("."),s=[];let n="";for(const i of t)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}function x1(e){const t=y1(e);return s=>{for(const n of t){if(n==="")break;s=s&&s[n]}return s}}function Hs(e,t){return(Od[t]||(Od[t]=x1(t)))(e)}function Xl(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Gi=e=>typeof e<"u",Ws=e=>typeof e=="function",Dd=(e,t)=>{if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0};function _1(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Nt=Math.PI,Ft=2*Nt,v1=Ft+Nt,fr=Number.POSITIVE_INFINITY,w1=Nt/180,Vt=Nt/2,Zs=Nt/4,Id=Nt*2/3,Ns=Math.log10,ss=Math.sign;function Oi(e,t,s){return Math.abs(e-t)<s}function Rd(e){const t=Math.round(e);e=Oi(e,t,e/1e3)?t:e;const s=Math.pow(10,Math.floor(Ns(e))),n=e/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function k1(e){const t=[],s=Math.sqrt(e);let n;for(n=1;n<s;n++)e%n===0&&(t.push(n),t.push(e/n));return s===(s|0)&&t.push(s),t.sort((i,o)=>i-o).pop(),t}function S1(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Wn(e){return!S1(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function C1(e,t){const s=Math.round(e);return s-t<=e&&s+t>=e}function tp(e,t,s){let n,i,o;for(n=0,i=e.length;n<i;n++)o=e[n][s],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Be(e){return e*(Nt/180)}function Ql(e){return e*(180/Nt)}function Ld(e){if(!Ut(e))return;let t=1,s=0;for(;Math.round(e*t)/t!==e;)t*=10,s++;return s}function ep(e,t){const s=t.x-e.x,n=t.y-e.y,i=Math.sqrt(s*s+n*n);let o=Math.atan2(n,s);return o<-.5*Nt&&(o+=Ft),{angle:o,distance:i}}function sl(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function M1(e,t){return(e-t+v1)%Ft-Nt}function Ce(e){return(e%Ft+Ft)%Ft}function Yi(e,t,s,n){const i=Ce(e),o=Ce(t),r=Ce(s),a=Ce(o-i),l=Ce(r-i),c=Ce(i-o),d=Ce(i-r);return i===o||i===r||n&&o===r||a>l&&c<d}function Gt(e,t,s){return Math.max(t,Math.min(s,e))}function A1(e){return Gt(e,-32768,32767)}function bs(e,t,s,n=1e-6){return e>=Math.min(t,s)-n&&e<=Math.max(t,s)+n}function Zl(e,t,s){s=s||(r=>e[r]<t);let n=e.length-1,i=0,o;for(;n-i>1;)o=i+n>>1,s(o)?i=o:n=o;return{lo:i,hi:n}}const ys=(e,t,s,n)=>Zl(e,s,n?i=>{const o=e[i][t];return o<s||o===s&&e[i+1][t]===s}:i=>e[i][t]<s),E1=(e,t,s)=>Zl(e,s,n=>e[n][t]>=s);function P1(e,t,s){let n=0,i=e.length;for(;n<i&&e[n]<t;)n++;for(;i>n&&e[i-1]>s;)i--;return n>0||i<e.length?e.slice(n,i):e}const sp=["push","pop","shift","splice","unshift"];function T1(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),sp.forEach(s=>{const n="_onData"+Xl(s),i=e[s];Object.defineProperty(e,s,{configurable:!0,enumerable:!1,value(...o){const r=i.apply(this,o);return e._chartjs.listeners.forEach(a=>{typeof a[n]=="function"&&a[n](...o)}),r}})})}function Fd(e,t){const s=e._chartjs;if(!s)return;const n=s.listeners,i=n.indexOf(t);i!==-1&&n.splice(i,1),!(n.length>0)&&(sp.forEach(o=>{delete e[o]}),delete e._chartjs)}function np(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const ip=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function op(e,t){let s=[],n=!1;return function(...i){s=i,n||(n=!0,ip.call(window,()=>{n=!1,e.apply(t,s)}))}}function O1(e,t){let s;return function(...n){return t?(clearTimeout(s),s=setTimeout(e,t,n)):e.apply(this,n),t}}const tc=e=>e==="start"?"left":e==="end"?"right":"center",te=(e,t,s)=>e==="start"?t:e==="end"?s:(t+s)/2,D1=(e,t,s,n)=>e===(n?"left":"right")?s:e==="center"?(t+s)/2:t;function rp(e,t,s){const n=t.length;let i=0,o=n;if(e._sorted){const{iScale:r,vScale:a,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=r.axis,{min:h,max:f,minDefined:p,maxDefined:m}=r.getUserBounds();if(p){if(i=Math.min(ys(l,d,h).lo,s?n:ys(t,d,r.getPixelForValue(h)).lo),c){const g=l.slice(0,i+1).reverse().findIndex(b=>!bt(b[a.axis]));i-=Math.max(0,g)}i=Gt(i,0,n-1)}if(m){let g=Math.max(ys(l,r.axis,f,!0).hi+1,s?0:ys(t,d,r.getPixelForValue(f),!0).hi+1);if(c){const b=l.slice(g-1).findIndex(y=>!bt(y[a.axis]));g+=Math.max(0,b)}o=Gt(g,i,n)-i}else o=n-i}return{start:i,count:o}}function ap(e){const{xScale:t,yScale:s,_scaleRanges:n}=e,i={xmin:t.min,xmax:t.max,ymin:s.min,ymax:s.max};if(!n)return e._scaleRanges=i,!0;const o=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==s.min||n.ymax!==s.max;return Object.assign(n,i),o}const Co=e=>e===0||e===1,Nd=(e,t,s)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Ft/s)),jd=(e,t,s)=>Math.pow(2,-10*e)*Math.sin((e-t)*Ft/s)+1,Di={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Vt)+1,easeOutSine:e=>Math.sin(e*Vt),easeInOutSine:e=>-.5*(Math.cos(Nt*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Co(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Co(e)?e:Nd(e,.075,.3),easeOutElastic:e=>Co(e)?e:jd(e,.075,.3),easeInOutElastic(e){return Co(e)?e:e<.5?.5*Nd(e*2,.1125,.45):.5+.5*jd(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Di.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Di.easeInBounce(e*2)*.5:Di.easeOutBounce(e*2-1)*.5+.5};function ec(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Bd(e){return ec(e)?e:new qi(e)}function ba(e){return ec(e)?e:new qi(e).saturate(.5).darken(.1).hexString()}const I1=["x","y","borderWidth","radius","tension"],R1=["color","borderColor","backgroundColor"];function L1(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:R1},numbers:{type:"number",properties:I1}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function F1(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Ud=new Map;function N1(e,t){t=t||{};const s=e+JSON.stringify(t);let n=Ud.get(s);return n||(n=new Intl.NumberFormat(e,t),Ud.set(s,n)),n}function co(e,t,s){return N1(t,s).format(e)}const lp={values(e){return Lt(e)?e:""+e},numeric(e,t,s){if(e===0)return"0";const n=this.chart.options.locale;let i,o=e;if(s.length>1){const c=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),o=j1(e,s)}const r=Ns(Math.abs(o)),a=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),co(e,n,l)},logarithmic(e,t,s){if(e===0)return"0";const n=s[t].significand||e/Math.pow(10,Math.floor(Ns(e)));return[1,2,3,5,10,15].includes(n)||t>.8*s.length?lp.numeric.call(this,e,t,s):""}};function j1(e,t){let s=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(s)>=1&&e!==Math.floor(e)&&(s=e-Math.floor(e)),s}var Vr={formatters:lp};function B1(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,s)=>s.lineWidth,tickColor:(t,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Vr.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const pn=Object.create(null),nl=Object.create(null);function Ii(e,t){if(!t)return e;const s=t.split(".");for(let n=0,i=s.length;n<i;++n){const o=s[n];e=e[o]||(e[o]=Object.create(null))}return e}function ya(e,t,s){return typeof t=="string"?Ki(Ii(e,t),s):Ki(Ii(e,""),t)}class U1{constructor(t,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>ba(i.backgroundColor),this.hoverBorderColor=(n,i)=>ba(i.borderColor),this.hoverColor=(n,i)=>ba(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(s)}set(t,s){return ya(this,t,s)}get(t){return Ii(this,t)}describe(t,s){return ya(nl,t,s)}override(t,s){return ya(pn,t,s)}route(t,s,n,i){const o=Ii(this,t),r=Ii(this,n),a="_"+s;Object.defineProperties(o,{[a]:{value:o[s],writable:!0},[s]:{enumerable:!0,get(){const l=this[a],c=r[i];return xt(l)?Object.assign({},c,l):ht(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(s=>s(this))}}var Bt=new U1({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[L1,F1,B1]);function $1(e){return!e||bt(e.size)||bt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function pr(e,t,s,n,i){let o=t[i];return o||(o=t[i]=e.measureText(i).width,s.push(i)),o>n&&(n=o),n}function V1(e,t,s,n){n=n||{};let i=n.data=n.data||{},o=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(i=n.data={},o=n.garbageCollect=[],n.font=t),e.save(),e.font=t;let r=0;const a=s.length;let l,c,d,h,f;for(l=0;l<a;l++)if(h=s[l],h!=null&&!Lt(h))r=pr(e,i,o,r,h);else if(Lt(h))for(c=0,d=h.length;c<d;c++)f=h[c],f!=null&&!Lt(f)&&(r=pr(e,i,o,r,f));e.restore();const p=o.length/2;if(p>s.length){for(l=0;l<p;l++)delete i[o[l]];o.splice(0,p)}return r}function tn(e,t,s){const n=e.currentDevicePixelRatio,i=s!==0?Math.max(s/2,.5):0;return Math.round((t-i)*n)/n+i}function $d(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function il(e,t,s,n){cp(e,t,s,n,null)}function cp(e,t,s,n,i){let o,r,a,l,c,d,h,f;const p=t.pointStyle,m=t.rotation,g=t.radius;let b=(m||0)*w1;if(p&&typeof p=="object"&&(o=p.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(s,n),e.rotate(b),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),p){default:i?e.ellipse(s,n,i/2,g,0,0,Ft):e.arc(s,n,g,0,Ft),e.closePath();break;case"triangle":d=i?i/2:g,e.moveTo(s+Math.sin(b)*d,n-Math.cos(b)*g),b+=Id,e.lineTo(s+Math.sin(b)*d,n-Math.cos(b)*g),b+=Id,e.lineTo(s+Math.sin(b)*d,n-Math.cos(b)*g),e.closePath();break;case"rectRounded":c=g*.516,l=g-c,r=Math.cos(b+Zs)*l,h=Math.cos(b+Zs)*(i?i/2-c:l),a=Math.sin(b+Zs)*l,f=Math.sin(b+Zs)*(i?i/2-c:l),e.arc(s-h,n-a,c,b-Nt,b-Vt),e.arc(s+f,n-r,c,b-Vt,b),e.arc(s+h,n+a,c,b,b+Vt),e.arc(s-f,n+r,c,b+Vt,b+Nt),e.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*g,d=i?i/2:l,e.rect(s-d,n-l,2*d,2*l);break}b+=Zs;case"rectRot":h=Math.cos(b)*(i?i/2:g),r=Math.cos(b)*g,a=Math.sin(b)*g,f=Math.sin(b)*(i?i/2:g),e.moveTo(s-h,n-a),e.lineTo(s+f,n-r),e.lineTo(s+h,n+a),e.lineTo(s-f,n+r),e.closePath();break;case"crossRot":b+=Zs;case"cross":h=Math.cos(b)*(i?i/2:g),r=Math.cos(b)*g,a=Math.sin(b)*g,f=Math.sin(b)*(i?i/2:g),e.moveTo(s-h,n-a),e.lineTo(s+h,n+a),e.moveTo(s+f,n-r),e.lineTo(s-f,n+r);break;case"star":h=Math.cos(b)*(i?i/2:g),r=Math.cos(b)*g,a=Math.sin(b)*g,f=Math.sin(b)*(i?i/2:g),e.moveTo(s-h,n-a),e.lineTo(s+h,n+a),e.moveTo(s+f,n-r),e.lineTo(s-f,n+r),b+=Zs,h=Math.cos(b)*(i?i/2:g),r=Math.cos(b)*g,a=Math.sin(b)*g,f=Math.sin(b)*(i?i/2:g),e.moveTo(s-h,n-a),e.lineTo(s+h,n+a),e.moveTo(s+f,n-r),e.lineTo(s-f,n+r);break;case"line":r=i?i/2:Math.cos(b)*g,a=Math.sin(b)*g,e.moveTo(s-r,n-a),e.lineTo(s+r,n+a);break;case"dash":e.moveTo(s,n),e.lineTo(s+Math.cos(b)*(i?i/2:g),n+Math.sin(b)*g);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function xs(e,t,s){return s=s||.5,!t||e&&e.x>t.left-s&&e.x<t.right+s&&e.y>t.top-s&&e.y<t.bottom+s}function zr(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Hr(e){e.restore()}function z1(e,t,s,n,i){if(!t)return e.lineTo(s.x,s.y);if(i==="middle"){const o=(t.x+s.x)/2;e.lineTo(o,t.y),e.lineTo(o,s.y)}else i==="after"!=!!n?e.lineTo(t.x,s.y):e.lineTo(s.x,t.y);e.lineTo(s.x,s.y)}function H1(e,t,s,n){if(!t)return e.lineTo(s.x,s.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?s.cp2x:s.cp1x,n?s.cp2y:s.cp1y,s.x,s.y)}function W1(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),bt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function q1(e,t,s,n,i){if(i.strikethrough||i.underline){const o=e.measureText(n),r=t-o.actualBoundingBoxLeft,a=t+o.actualBoundingBoxRight,l=s-o.actualBoundingBoxAscent,c=s+o.actualBoundingBoxDescent,d=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(r,d),e.lineTo(a,d),e.stroke()}}function K1(e,t){const s=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=s}function mn(e,t,s,n,i,o={}){const r=Lt(t)?t:[t],a=o.strokeWidth>0&&o.strokeColor!=="";let l,c;for(e.save(),e.font=i.string,W1(e,o),l=0;l<r.length;++l)c=r[l],o.backdrop&&K1(e,o.backdrop),a&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),bt(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(c,s,n,o.maxWidth)),e.fillText(c,s,n,o.maxWidth),q1(e,s,n,c,o),n+=Number(i.lineHeight);e.restore()}function Ji(e,t){const{x:s,y:n,w:i,h:o,radius:r}=t;e.arc(s+r.topLeft,n+r.topLeft,r.topLeft,1.5*Nt,Nt,!0),e.lineTo(s,n+o-r.bottomLeft),e.arc(s+r.bottomLeft,n+o-r.bottomLeft,r.bottomLeft,Nt,Vt,!0),e.lineTo(s+i-r.bottomRight,n+o),e.arc(s+i-r.bottomRight,n+o-r.bottomRight,r.bottomRight,Vt,0,!0),e.lineTo(s+i,n+r.topRight),e.arc(s+i-r.topRight,n+r.topRight,r.topRight,0,-Vt,!0),e.lineTo(s+r.topLeft,n)}const G1=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Y1=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function J1(e,t){const s=(""+e).match(G1);if(!s||s[1]==="normal")return t*1.2;switch(e=+s[2],s[3]){case"px":return e;case"%":e/=100;break}return t*e}const X1=e=>+e||0;function sc(e,t){const s={},n=xt(t),i=n?Object.keys(t):t,o=xt(e)?n?r=>ht(e[r],e[t[r]]):r=>e[r]:()=>e;for(const r of i)s[r]=X1(o(r));return s}function dp(e){return sc(e,{top:"y",right:"x",bottom:"y",left:"x"})}function un(e){return sc(e,["topLeft","topRight","bottomLeft","bottomRight"])}function re(e){const t=dp(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function qt(e,t){e=e||{},t=t||Bt.font;let s=ht(e.size,t.size);typeof s=="string"&&(s=parseInt(s,10));let n=ht(e.style,t.style);n&&!(""+n).match(Y1)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:ht(e.family,t.family),lineHeight:J1(ht(e.lineHeight,t.lineHeight),s),size:s,style:n,weight:ht(e.weight,t.weight),string:""};return i.string=$1(i),i}function mi(e,t,s,n){let i=!0,o,r,a;for(o=0,r=e.length;o<r;++o)if(a=e[o],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),i=!1),s!==void 0&&Lt(a)&&(a=a[s%a.length],i=!1),a!==void 0))return n&&!i&&(n.cacheable=!1),a}function Q1(e,t,s){const{min:n,max:i}=e,o=Qf(t,(i-n)/2),r=(a,l)=>s&&a===0?0:a+l;return{min:r(n,-Math.abs(o)),max:r(i,o)}}function Gs(e,t){return Object.assign(Object.create(e),t)}function nc(e,t=[""],s,n,i=()=>e[0]){const o=s||e;typeof n>"u"&&(n=pp("_fallback",e));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:n,_getTarget:i,override:a=>nc([a,...e],t,o,n)};return new Proxy(r,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return hp(a,l,()=>rw(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return zd(a).includes(l)},ownKeys(a){return zd(a)},set(a,l,c){const d=a._storage||(a._storage=i());return a[l]=d[l]=c,delete a._keys,!0}})}function qn(e,t,s,n){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:s,_stack:new Set,_descriptors:up(e,n),setContext:o=>qn(e,o,s,n),override:o=>qn(e.override(o),t,s,n)};return new Proxy(i,{deleteProperty(o,r){return delete o[r],delete e[r],!0},get(o,r,a){return hp(o,r,()=>tw(o,r,a))},getOwnPropertyDescriptor(o,r){return o._descriptors.allKeys?Reflect.has(e,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,r)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,r){return Reflect.has(e,r)},ownKeys(){return Reflect.ownKeys(e)},set(o,r,a){return e[r]=a,delete o[r],!0}})}function up(e,t={scriptable:!0,indexable:!0}){const{_scriptable:s=t.scriptable,_indexable:n=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:s,indexable:n,isScriptable:Ws(s)?s:()=>s,isIndexable:Ws(n)?n:()=>n}}const Z1=(e,t)=>e?e+Xl(t):t,ic=(e,t)=>xt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function hp(e,t,s){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const n=s();return e[t]=n,n}function tw(e,t,s){const{_proxy:n,_context:i,_subProxy:o,_descriptors:r}=e;let a=n[t];return Ws(a)&&r.isScriptable(t)&&(a=ew(t,a,e,s)),Lt(a)&&a.length&&(a=sw(t,a,e,r.isIndexable)),ic(t,a)&&(a=qn(a,i,o&&o[t],r)),a}function ew(e,t,s,n){const{_proxy:i,_context:o,_subProxy:r,_stack:a}=s;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(o,r||n);return a.delete(e),ic(e,l)&&(l=oc(i._scopes,i,e,l)),l}function sw(e,t,s,n){const{_proxy:i,_context:o,_subProxy:r,_descriptors:a}=s;if(typeof o.index<"u"&&n(e))return t[o.index%t.length];if(xt(t[0])){const l=t,c=i._scopes.filter(d=>d!==l);t=[];for(const d of l){const h=oc(c,i,e,d);t.push(qn(h,o,r&&r[e],a))}}return t}function fp(e,t,s){return Ws(e)?e(t,s):e}const nw=(e,t)=>e===!0?t:typeof e=="string"?Hs(t,e):void 0;function iw(e,t,s,n,i){for(const o of t){const r=nw(s,o);if(r){e.add(r);const a=fp(r._fallback,s,i);if(typeof a<"u"&&a!==s&&a!==n)return a}else if(r===!1&&typeof n<"u"&&s!==n)return null}return!1}function oc(e,t,s,n){const i=t._rootScopes,o=fp(t._fallback,s,n),r=[...e,...i],a=new Set;a.add(n);let l=Vd(a,r,s,o||s,n);return l===null||typeof o<"u"&&o!==s&&(l=Vd(a,r,o,l,n),l===null)?!1:nc(Array.from(a),[""],i,o,()=>ow(t,s,n))}function Vd(e,t,s,n,i){for(;s;)s=iw(e,t,s,n,i);return s}function ow(e,t,s){const n=e._getTarget();t in n||(n[t]={});const i=n[t];return Lt(i)&&xt(s)?s:i||{}}function rw(e,t,s,n){let i;for(const o of t)if(i=pp(Z1(o,e),s),typeof i<"u")return ic(e,i)?oc(s,n,e,i):i}function pp(e,t){for(const s of t){if(!s)continue;const n=s[e];if(typeof n<"u")return n}}function zd(e){let t=e._keys;return t||(t=e._keys=aw(e._scopes)),t}function aw(e){const t=new Set;for(const s of e)for(const n of Object.keys(s).filter(i=>!i.startsWith("_")))t.add(n);return Array.from(t)}function mp(e,t,s,n){const{iScale:i}=e,{key:o="r"}=this._parsing,r=new Array(n);let a,l,c,d;for(a=0,l=n;a<l;++a)c=a+s,d=t[c],r[a]={r:i.parse(Hs(d,o),c)};return r}const lw=Number.EPSILON||1e-14,Kn=(e,t)=>t<e.length&&!e[t].skip&&e[t],gp=e=>e==="x"?"y":"x";function cw(e,t,s,n){const i=e.skip?t:e,o=t,r=s.skip?t:s,a=sl(o,i),l=sl(r,o);let c=a/(a+l),d=l/(a+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const h=n*c,f=n*d;return{previous:{x:o.x-h*(r.x-i.x),y:o.y-h*(r.y-i.y)},next:{x:o.x+f*(r.x-i.x),y:o.y+f*(r.y-i.y)}}}function dw(e,t,s){const n=e.length;let i,o,r,a,l,c=Kn(e,0);for(let d=0;d<n-1;++d)if(l=c,c=Kn(e,d+1),!(!l||!c)){if(Oi(t[d],0,lw)){s[d]=s[d+1]=0;continue}i=s[d]/t[d],o=s[d+1]/t[d],a=Math.pow(i,2)+Math.pow(o,2),!(a<=9)&&(r=3/Math.sqrt(a),s[d]=i*r*t[d],s[d+1]=o*r*t[d])}}function uw(e,t,s="x"){const n=gp(s),i=e.length;let o,r,a,l=Kn(e,0);for(let c=0;c<i;++c){if(r=a,a=l,l=Kn(e,c+1),!a)continue;const d=a[s],h=a[n];r&&(o=(d-r[s])/3,a[`cp1${s}`]=d-o,a[`cp1${n}`]=h-o*t[c]),l&&(o=(l[s]-d)/3,a[`cp2${s}`]=d+o,a[`cp2${n}`]=h+o*t[c])}}function hw(e,t="x"){const s=gp(t),n=e.length,i=Array(n).fill(0),o=Array(n);let r,a,l,c=Kn(e,0);for(r=0;r<n;++r)if(a=l,l=c,c=Kn(e,r+1),!!l){if(c){const d=c[t]-l[t];i[r]=d!==0?(c[s]-l[s])/d:0}o[r]=a?c?ss(i[r-1])!==ss(i[r])?0:(i[r-1]+i[r])/2:i[r-1]:i[r]}dw(e,i,o),uw(e,o,t)}function Mo(e,t,s){return Math.max(Math.min(e,s),t)}function fw(e,t){let s,n,i,o,r,a=xs(e[0],t);for(s=0,n=e.length;s<n;++s)r=o,o=a,a=s<n-1&&xs(e[s+1],t),o&&(i=e[s],r&&(i.cp1x=Mo(i.cp1x,t.left,t.right),i.cp1y=Mo(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=Mo(i.cp2x,t.left,t.right),i.cp2y=Mo(i.cp2y,t.top,t.bottom)))}function pw(e,t,s,n,i){let o,r,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")hw(e,i);else{let c=n?e[e.length-1]:e[0];for(o=0,r=e.length;o<r;++o)a=e[o],l=cw(c,a,e[Math.min(o+1,r-(n?0:1))%r],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&fw(e,s)}function rc(){return typeof window<"u"&&typeof document<"u"}function ac(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function mr(e,t,s){let n;return typeof e=="string"?(n=parseInt(e,10),e.indexOf("%")!==-1&&(n=n/100*t.parentNode[s])):n=e,n}const Wr=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function mw(e,t){return Wr(e).getPropertyValue(t)}const gw=["top","right","bottom","left"];function hn(e,t,s){const n={};s=s?"-"+s:"";for(let i=0;i<4;i++){const o=gw[i];n[o]=parseFloat(e[t+"-"+o+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const bw=(e,t,s)=>(e>0||t>0)&&(!s||!s.shadowRoot);function yw(e,t){const s=e.touches,n=s&&s.length?s[0]:e,{offsetX:i,offsetY:o}=n;let r=!1,a,l;if(bw(i,o,e.target))a=i,l=o;else{const c=t.getBoundingClientRect();a=n.clientX-c.left,l=n.clientY-c.top,r=!0}return{x:a,y:l,box:r}}function rn(e,t){if("native"in e)return e;const{canvas:s,currentDevicePixelRatio:n}=t,i=Wr(s),o=i.boxSizing==="border-box",r=hn(i,"padding"),a=hn(i,"border","width"),{x:l,y:c,box:d}=yw(e,s),h=r.left+(d&&a.left),f=r.top+(d&&a.top);let{width:p,height:m}=t;return o&&(p-=r.width+a.width,m-=r.height+a.height),{x:Math.round((l-h)/p*s.width/n),y:Math.round((c-f)/m*s.height/n)}}function xw(e,t,s){let n,i;if(t===void 0||s===void 0){const o=e&&ac(e);if(!o)t=e.clientWidth,s=e.clientHeight;else{const r=o.getBoundingClientRect(),a=Wr(o),l=hn(a,"border","width"),c=hn(a,"padding");t=r.width-c.width-l.width,s=r.height-c.height-l.height,n=mr(a.maxWidth,o,"clientWidth"),i=mr(a.maxHeight,o,"clientHeight")}}return{width:t,height:s,maxWidth:n||fr,maxHeight:i||fr}}const Ao=e=>Math.round(e*10)/10;function _w(e,t,s,n){const i=Wr(e),o=hn(i,"margin"),r=mr(i.maxWidth,e,"clientWidth")||fr,a=mr(i.maxHeight,e,"clientHeight")||fr,l=xw(e,t,s);let{width:c,height:d}=l;if(i.boxSizing==="content-box"){const f=hn(i,"border","width"),p=hn(i,"padding");c-=p.width+f.width,d-=p.height+f.height}return c=Math.max(0,c-o.width),d=Math.max(0,n?c/n:d-o.height),c=Ao(Math.min(c,r,l.maxWidth)),d=Ao(Math.min(d,a,l.maxHeight)),c&&!d&&(d=Ao(c/2)),(t!==void 0||s!==void 0)&&n&&l.height&&d>l.height&&(d=l.height,c=Ao(Math.floor(d*n))),{width:c,height:d}}function Hd(e,t,s){const n=t||1,i=Math.floor(e.height*n),o=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const r=e.canvas;return r.style&&(s||!r.style.height&&!r.style.width)&&(r.style.height=`${e.height}px`,r.style.width=`${e.width}px`),e.currentDevicePixelRatio!==n||r.height!==i||r.width!==o?(e.currentDevicePixelRatio=n,r.height=i,r.width=o,e.ctx.setTransform(n,0,0,n,0,0),!0):!1}const vw=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};rc()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function Wd(e,t){const s=mw(e,t),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function an(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:e.y+s*(t.y-e.y)}}function ww(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:n==="middle"?s<.5?e.y:t.y:n==="after"?s<1?e.y:t.y:s>0?t.y:e.y}}function kw(e,t,s,n){const i={x:e.cp2x,y:e.cp2y},o={x:t.cp1x,y:t.cp1y},r=an(e,i,s),a=an(i,o,s),l=an(o,t,s),c=an(r,a,s),d=an(a,l,s);return an(c,d,s)}const Sw=function(e,t){return{x(s){return e+e+t-s},setWidth(s){t=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,n){return s-n},leftForLtr(s,n){return s-n}}},Cw=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function jn(e,t,s){return e?Sw(t,s):Cw()}function bp(e,t){let s,n;(t==="ltr"||t==="rtl")&&(s=e.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",t,"important"),e.prevTextDirection=n)}function yp(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function xp(e){return e==="angle"?{between:Yi,compare:M1,normalize:Ce}:{between:bs,compare:(t,s)=>t-s,normalize:t=>t}}function qd({start:e,end:t,count:s,loop:n,style:i}){return{start:e%s,end:t%s,loop:n&&(t-e+1)%s===0,style:i}}function Mw(e,t,s){const{property:n,start:i,end:o}=s,{between:r,normalize:a}=xp(n),l=t.length;let{start:c,end:d,loop:h}=e,f,p;if(h){for(c+=l,d+=l,f=0,p=l;f<p&&r(a(t[c%l][n]),i,o);++f)c--,d--;c%=l,d%=l}return d<c&&(d+=l),{start:c,end:d,loop:h,style:e.style}}function _p(e,t,s){if(!s)return[e];const{property:n,start:i,end:o}=s,r=t.length,{compare:a,between:l,normalize:c}=xp(n),{start:d,end:h,loop:f,style:p}=Mw(e,t,s),m=[];let g=!1,b=null,y,_,S;const k=()=>l(i,S,y)&&a(i,S)!==0,M=()=>a(o,y)===0||l(o,S,y),T=()=>g||k(),P=()=>!g||M();for(let F=d,Y=d;F<=h;++F)_=t[F%r],!_.skip&&(y=c(_[n]),y!==S&&(g=l(y,i,o),b===null&&T()&&(b=a(y,i)===0?F:Y),b!==null&&P()&&(m.push(qd({start:b,end:F,loop:f,count:r,style:p})),b=null),Y=F,S=y));return b!==null&&m.push(qd({start:b,end:h,loop:f,count:r,style:p})),m}function vp(e,t){const s=[],n=e.segments;for(let i=0;i<n.length;i++){const o=_p(n[i],e.points,t);o.length&&s.push(...o)}return s}function Aw(e,t,s,n){let i=0,o=t-1;if(s&&!n)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,s&&(o+=i);o>i&&e[o%t].skip;)o--;return o%=t,{start:i,end:o}}function Ew(e,t,s,n){const i=e.length,o=[];let r=t,a=e[t],l;for(l=t+1;l<=s;++l){const c=e[l%i];c.skip||c.stop?a.skip||(n=!1,o.push({start:t%i,end:(l-1)%i,loop:n}),t=r=c.stop?l:null):(r=l,a.skip&&(t=l)),a=c}return r!==null&&o.push({start:t%i,end:r%i,loop:n}),o}function Pw(e,t){const s=e.points,n=e.options.spanGaps,i=s.length;if(!i)return[];const o=!!e._loop,{start:r,end:a}=Aw(s,i,o,n);if(n===!0)return Kd(e,[{start:r,end:a,loop:o}],s,t);const l=a<r?a+i:a,c=!!e._fullLoop&&r===0&&a===i-1;return Kd(e,Ew(s,r,l,c),s,t)}function Kd(e,t,s,n){return!n||!n.setContext||!s?t:Tw(e,t,s,n)}function Tw(e,t,s,n){const i=e._chart.getContext(),o=Gd(e.options),{_datasetIndex:r,options:{spanGaps:a}}=e,l=s.length,c=[];let d=o,h=t[0].start,f=h;function p(m,g,b,y){const _=a?-1:1;if(m!==g){for(m+=l;s[m%l].skip;)m-=_;for(;s[g%l].skip;)g+=_;m%l!==g%l&&(c.push({start:m%l,end:g%l,loop:b,style:y}),d=y,h=g%l)}}for(const m of t){h=a?h:m.start;let g=s[h%l],b;for(f=h+1;f<=m.end;f++){const y=s[f%l];b=Gd(n.setContext(Gs(i,{type:"segment",p0:g,p1:y,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:r}))),Ow(b,d)&&p(h,f-1,m.loop,d),g=y,d=b}h<f-1&&p(h,f-1,m.loop,d)}return c}function Gd(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Ow(e,t){if(!t)return!1;const s=[],n=function(i,o){return ec(o)?(s.includes(o)||s.push(o),s.indexOf(o)):o};return JSON.stringify(e,n)!==JSON.stringify(t,n)}function Eo(e,t,s){return e.options.clip?e[s]:t[s]}function Dw(e,t){const{xScale:s,yScale:n}=e;return s&&n?{left:Eo(s,t,"left"),right:Eo(s,t,"right"),top:Eo(n,t,"top"),bottom:Eo(n,t,"bottom")}:t}function wp(e,t){const s=t._clip;if(s.disabled)return!1;const n=Dw(t,e.chartArea);return{left:s.left===!1?0:n.left-(s.left===!0?0:s.left),right:s.right===!1?e.width:n.right+(s.right===!0?0:s.right),top:s.top===!1?0:n.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?e.height:n.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Iw{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,s,n,i){const o=s.listeners[i],r=s.duration;o.forEach(a=>a({chart:t,initial:s.initial,numSteps:r,currentStep:Math.min(n-s.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=ip.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let s=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const o=n.items;let r=o.length-1,a=!1,l;for(;r>=0;--r)l=o[r],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(t),a=!0):(o[r]=o[o.length-1],o.pop());a&&(i.draw(),this._notify(i,n,t,"progress")),o.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),s+=o.length}),this._lastDate=t,s===0&&(this._running=!1)}_getAnims(t){const s=this._charts;let n=s.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(t,n)),n}listen(t,s,n){this._getAnims(t).listeners[s].push(n)}add(t,s){!s||!s.length||this._getAnims(t).items.push(...s)}has(t){return this._getAnims(t).items.length>0}start(t){const s=this._charts.get(t);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const s=this._charts.get(t);return!(!s||!s.running||!s.items.length)}stop(t){const s=this._charts.get(t);if(!s||!s.items.length)return;const n=s.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();s.items=[],this._notify(t,s,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ds=new Iw;const Yd="transparent",Rw={boolean(e,t,s){return s>.5?t:e},color(e,t,s){const n=Bd(e||Yd),i=n.valid&&Bd(t||Yd);return i&&i.valid?i.mix(n,s).hexString():t},number(e,t,s){return e+(t-e)*s}};class Lw{constructor(t,s,n,i){const o=s[n];i=mi([t.to,i,o,t.from]);const r=mi([t.from,o,i]);this._active=!0,this._fn=t.fn||Rw[t.type||typeof r],this._easing=Di[t.easing]||Di.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=s,this._prop=n,this._from=r,this._to=i,this._promises=void 0}active(){return this._active}update(t,s,n){if(this._active){this._notify(!1);const i=this._target[this._prop],o=n-this._start,r=this._duration-o;this._start=n,this._duration=Math.floor(Math.max(r,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=mi([t.to,s,i,t.from]),this._from=mi([t.from,i,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const s=t-this._start,n=this._duration,i=this._prop,o=this._from,r=this._loop,a=this._to;let l;if(this._active=o!==a&&(r||s<n),!this._active){this._target[i]=a,this._notify(!0);return}if(s<0){this._target[i]=o;return}l=s/n%2,l=r&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(o,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((s,n)=>{t.push({res:s,rej:n})})}_notify(t){const s=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][s]()}}class kp{constructor(t,s){this._chart=t,this._properties=new Map,this.configure(s)}configure(t){if(!xt(t))return;const s=Object.keys(Bt.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const o=t[i];if(!xt(o))return;const r={};for(const a of s)r[a]=o[a];(Lt(o.properties)&&o.properties||[i]).forEach(a=>{(a===i||!n.has(a))&&n.set(a,r)})})}_animateOptions(t,s){const n=s.options,i=Nw(t,n);if(!i)return[];const o=this._createAnimations(i,n);return n.$shared&&Fw(t.options.$animations,n).then(()=>{t.options=n},()=>{}),o}_createAnimations(t,s){const n=this._properties,i=[],o=t.$animations||(t.$animations={}),r=Object.keys(s),a=Date.now();let l;for(l=r.length-1;l>=0;--l){const c=r[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(t,s));continue}const d=s[c];let h=o[c];const f=n.get(c);if(h)if(f&&h.active()){h.update(f,d,a);continue}else h.cancel();if(!f||!f.duration){t[c]=d;continue}o[c]=h=new Lw(f,t,c,d),i.push(h)}return i}update(t,s){if(this._properties.size===0){Object.assign(t,s);return}const n=this._createAnimations(t,s);if(n.length)return ds.add(this._chart,n),!0}}function Fw(e,t){const s=[],n=Object.keys(t);for(let i=0;i<n.length;i++){const o=e[n[i]];o&&o.active()&&s.push(o.wait())}return Promise.all(s)}function Nw(e,t){if(!t)return;let s=e.options;if(!s){e.options=t;return}return s.$shared&&(e.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function Jd(e,t){const s=e&&e.options||{},n=s.reverse,i=s.min===void 0?t:0,o=s.max===void 0?t:0;return{start:n?o:i,end:n?i:o}}function jw(e,t,s){if(s===!1)return!1;const n=Jd(e,s),i=Jd(t,s);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function Bw(e){let t,s,n,i;return xt(e)?(t=e.top,s=e.right,n=e.bottom,i=e.left):t=s=n=i=e,{top:t,right:s,bottom:n,left:i,disabled:e===!1}}function Sp(e,t){const s=[],n=e._getSortedDatasetMetas(t);let i,o;for(i=0,o=n.length;i<o;++i)s.push(n[i].index);return s}function Xd(e,t,s,n={}){const i=e.keys,o=n.mode==="single";let r,a,l,c;if(t===null)return;let d=!1;for(r=0,a=i.length;r<a;++r){if(l=+i[r],l===s){if(d=!0,n.all)continue;break}c=e.values[l],Ut(c)&&(o||t===0||ss(t)===ss(c))&&(t+=c)}return!d&&!n.all?0:t}function Uw(e,t){const{iScale:s,vScale:n}=t,i=s.axis==="x"?"x":"y",o=n.axis==="x"?"x":"y",r=Object.keys(e),a=new Array(r.length);let l,c,d;for(l=0,c=r.length;l<c;++l)d=r[l],a[l]={[i]:d,[o]:e[d]};return a}function xa(e,t){const s=e&&e.options.stacked;return s||s===void 0&&t.stack!==void 0}function $w(e,t,s){return`${e.id}.${t.id}.${s.stack||s.type}`}function Vw(e){const{min:t,max:s,minDefined:n,maxDefined:i}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:i?s:Number.POSITIVE_INFINITY}}function zw(e,t,s){const n=e[t]||(e[t]={});return n[s]||(n[s]={})}function Qd(e,t,s,n){for(const i of t.getMatchingVisibleMetas(n).reverse()){const o=e[i.index];if(s&&o>0||!s&&o<0)return i.index}return null}function Zd(e,t){const{chart:s,_cachedMeta:n}=e,i=s._stacks||(s._stacks={}),{iScale:o,vScale:r,index:a}=n,l=o.axis,c=r.axis,d=$w(o,r,n),h=t.length;let f;for(let p=0;p<h;++p){const m=t[p],{[l]:g,[c]:b}=m,y=m._stacks||(m._stacks={});f=y[c]=zw(i,d,g),f[a]=b,f._top=Qd(f,r,!0,n.type),f._bottom=Qd(f,r,!1,n.type);const _=f._visualValues||(f._visualValues={});_[a]=b}}function _a(e,t){const s=e.scales;return Object.keys(s).filter(n=>s[n].axis===t).shift()}function Hw(e,t){return Gs(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Ww(e,t,s){return Gs(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:s,index:t,mode:"default",type:"data"})}function ai(e,t){const s=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const i of t){const o=i._stacks;if(!o||o[n]===void 0||o[n][s]===void 0)return;delete o[n][s],o[n]._visualValues!==void 0&&o[n]._visualValues[s]!==void 0&&delete o[n]._visualValues[s]}}}const va=e=>e==="reset"||e==="none",tu=(e,t)=>t?e:Object.assign({},e),qw=(e,t,s)=>e&&!t.hidden&&t._stacked&&{keys:Sp(s,!0),values:null};class Ve{constructor(t,s){this.chart=t,this._ctx=t.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=xa(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&ai(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,s=this._cachedMeta,n=this.getDataset(),i=(h,f,p,m)=>h==="x"?f:h==="r"?m:p,o=s.xAxisID=ht(n.xAxisID,_a(t,"x")),r=s.yAxisID=ht(n.yAxisID,_a(t,"y")),a=s.rAxisID=ht(n.rAxisID,_a(t,"r")),l=s.indexAxis,c=s.iAxisID=i(l,o,r,a),d=s.vAxisID=i(l,r,o,a);s.xScale=this.getScaleForId(o),s.yScale=this.getScaleForId(r),s.rScale=this.getScaleForId(a),s.iScale=this.getScaleForId(c),s.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const s=this._cachedMeta;return t===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Fd(this._data,this),t._stacked&&ai(t)}_dataCheck(){const t=this.getDataset(),s=t.data||(t.data=[]),n=this._data;if(xt(s)){const i=this._cachedMeta;this._data=Uw(s,i)}else if(n!==s){if(n){Fd(n,this);const i=this._cachedMeta;ai(i),i._parsed=[]}s&&Object.isExtensible(s)&&T1(s,this),this._syncList=[],this._data=s}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const s=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const o=s._stacked;s._stacked=xa(s.vScale,s),s.stack!==n.stack&&(i=!0,ai(s),s.stack=n.stack),this._resyncElements(t),(i||o!==s._stacked)&&(Zd(this,s._parsed),s._stacked=xa(s.vScale,s))}configure(){const t=this.chart.config,s=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),s,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,s){const{_cachedMeta:n,_data:i}=this,{iScale:o,_stacked:r}=n,a=o.axis;let l=t===0&&s===i.length?!0:n._sorted,c=t>0&&n._parsed[t-1],d,h,f;if(this._parsing===!1)n._parsed=i,n._sorted=!0,f=i;else{Lt(i[t])?f=this.parseArrayData(n,i,t,s):xt(i[t])?f=this.parseObjectData(n,i,t,s):f=this.parsePrimitiveData(n,i,t,s);const p=()=>h[a]===null||c&&h[a]<c[a];for(d=0;d<s;++d)n._parsed[d+t]=h=f[d],l&&(p()&&(l=!1),c=h);n._sorted=l}r&&Zd(this,f)}parsePrimitiveData(t,s,n,i){const{iScale:o,vScale:r}=t,a=o.axis,l=r.axis,c=o.getLabels(),d=o===r,h=new Array(i);let f,p,m;for(f=0,p=i;f<p;++f)m=f+n,h[f]={[a]:d||o.parse(c[m],m),[l]:r.parse(s[m],m)};return h}parseArrayData(t,s,n,i){const{xScale:o,yScale:r}=t,a=new Array(i);let l,c,d,h;for(l=0,c=i;l<c;++l)d=l+n,h=s[d],a[l]={x:o.parse(h[0],d),y:r.parse(h[1],d)};return a}parseObjectData(t,s,n,i){const{xScale:o,yScale:r}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let d,h,f,p;for(d=0,h=i;d<h;++d)f=d+n,p=s[f],c[d]={x:o.parse(Hs(p,a),f),y:r.parse(Hs(p,l),f)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,s,n){const i=this.chart,o=this._cachedMeta,r=s[t.axis],a={keys:Sp(i,!0),values:s._stacks[t.axis]._visualValues};return Xd(a,r,o.index,{mode:n})}updateRangeFromParsed(t,s,n,i){const o=n[s.axis];let r=o===null?NaN:o;const a=i&&n._stacks[s.axis];i&&a&&(i.values=a,r=Xd(i,o,this._cachedMeta.index)),t.min=Math.min(t.min,r),t.max=Math.max(t.max,r)}getMinMax(t,s){const n=this._cachedMeta,i=n._parsed,o=n._sorted&&t===n.iScale,r=i.length,a=this._getOtherScale(t),l=qw(s,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=Vw(a);let f,p;function m(){p=i[f];const g=p[a.axis];return!Ut(p[t.axis])||d>g||h<g}for(f=0;f<r&&!(!m()&&(this.updateRangeFromParsed(c,t,p,l),o));++f);if(o){for(f=r-1;f>=0;--f)if(!m()){this.updateRangeFromParsed(c,t,p,l);break}}return c}getAllParsedValues(t){const s=this._cachedMeta._parsed,n=[];let i,o,r;for(i=0,o=s.length;i<o;++i)r=s[i][t.axis],Ut(r)&&n.push(r);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const s=this._cachedMeta,n=s.iScale,i=s.vScale,o=this.getParsed(t);return{label:n?""+n.getLabelForValue(o[n.axis]):"",value:i?""+i.getLabelForValue(o[i.axis]):""}}_update(t){const s=this._cachedMeta;this.update(t||"default"),s._clip=Bw(ht(this.options.clip,jw(s.xScale,s.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,s=this.chart,n=this._cachedMeta,i=n.data||[],o=s.chartArea,r=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let d;for(n.dataset&&n.dataset.draw(t,o,a,l),d=a;d<a+l;++d){const h=i[d];h.hidden||(h.active&&c?r.push(h):h.draw(t,o))}for(d=0;d<r.length;++d)r[d].draw(t,o)}getStyle(t,s){const n=s?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,s,n){const i=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const r=this._cachedMeta.data[t];o=r.$context||(r.$context=Ww(this.getContext(),t,r)),o.parsed=this.getParsed(t),o.raw=i.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=Hw(this.chart.getContext(),this.index)),o.dataset=i,o.index=o.datasetIndex=this.index;return o.active=!!s,o.mode=n,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,s){return this._resolveElementOptions(this.dataElementType.id,s,t)}_resolveElementOptions(t,s="default",n){const i=s==="active",o=this._cachedDataOpts,r=t+"-"+s,a=o[r],l=this.enableOptionSharing&&Gi(n);if(a)return tu(a,l);const c=this.chart.config,d=c.datasetElementScopeKeys(this._type,t),h=i?[`${t}Hover`,"hover",t,""]:[t,""],f=c.getOptionScopes(this.getDataset(),d),p=Object.keys(Bt.elements[t]),m=()=>this.getContext(n,i,s),g=c.resolveNamedOptions(f,p,m,h);return g.$shared&&(g.$shared=l,o[r]=Object.freeze(tu(g,l))),g}_resolveAnimations(t,s,n){const i=this.chart,o=this._cachedDataOpts,r=`animation-${s}`,a=o[r];if(a)return a;let l;if(i.options.animation!==!1){const d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,s),f=d.getOptionScopes(this.getDataset(),h);l=d.createResolver(f,this.getContext(t,n,s))}const c=new kp(i,l&&l.animations);return l&&l._cacheable&&(o[r]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,s){return!s||va(t)||this.chart._animationsDisabled}_getSharedOptions(t,s){const n=this.resolveDataElementOptions(t,s),i=this._sharedOptions,o=this.getSharedOptions(n),r=this.includeOptions(s,o)||o!==i;return this.updateSharedOptions(o,s,n),{sharedOptions:o,includeOptions:r}}updateElement(t,s,n,i){va(i)?Object.assign(t,n):this._resolveAnimations(s,i).update(t,n)}updateSharedOptions(t,s,n){t&&!va(s)&&this._resolveAnimations(void 0,s).update(t,n)}_setStyle(t,s,n,i){t.active=i;const o=this.getStyle(s,i);this._resolveAnimations(s,n,i).update(t,{options:!i&&this.getSharedOptions(o)||o})}removeHoverStyle(t,s,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,s,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const s=this._data,n=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=n.length,o=s.length,r=Math.min(o,i);r&&this.parse(0,r),o>i?this._insertElements(i,o-i,t):o<i&&this._removeElements(o,i-o)}_insertElements(t,s,n=!0){const i=this._cachedMeta,o=i.data,r=t+s;let a;const l=c=>{for(c.length+=s,a=c.length-1;a>=r;a--)c[a]=c[a-s]};for(l(o),a=t;a<r;++a)o[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(t,s),n&&this.updateElements(o,t,s,"reset")}updateElements(t,s,n,i){}_removeElements(t,s){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,s);n._stacked&&ai(n,i)}n.data.splice(t,s)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[s,n,i]=t;this[s](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,s){s&&this._sync(["_removeElements",t,s]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}$(Ve,"defaults",{}),$(Ve,"datasetElementType",null),$(Ve,"dataElementType",null);function Kw(e,t){if(!e._cache.$bar){const s=e.getMatchingVisibleMetas(t);let n=[];for(let i=0,o=s.length;i<o;i++)n=n.concat(s[i].controller.getAllParsedValues(e));e._cache.$bar=np(n.sort((i,o)=>i-o))}return e._cache.$bar}function Gw(e){const t=e.iScale,s=Kw(t,e.type);let n=t._length,i,o,r,a;const l=()=>{r===32767||r===-32768||(Gi(a)&&(n=Math.min(n,Math.abs(r-a)||n)),a=r)};for(i=0,o=s.length;i<o;++i)r=t.getPixelForValue(s[i]),l();for(a=void 0,i=0,o=t.ticks.length;i<o;++i)r=t.getPixelForTick(i),l();return n}function Yw(e,t,s,n){const i=s.barThickness;let o,r;return bt(i)?(o=t.min*s.categoryPercentage,r=s.barPercentage):(o=i*n,r=1),{chunk:o/n,ratio:r,start:t.pixels[e]-o/2}}function Jw(e,t,s,n){const i=t.pixels,o=i[e];let r=e>0?i[e-1]:null,a=e<i.length-1?i[e+1]:null;const l=s.categoryPercentage;r===null&&(r=o-(a===null?t.end-t.start:a-o)),a===null&&(a=o+o-r);const c=o-(o-Math.min(r,a))/2*l;return{chunk:Math.abs(a-r)/2*l/n,ratio:s.barPercentage,start:c}}function Xw(e,t,s,n){const i=s.parse(e[0],n),o=s.parse(e[1],n),r=Math.min(i,o),a=Math.max(i,o);let l=r,c=a;Math.abs(r)>Math.abs(a)&&(l=a,c=r),t[s.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:o,min:r,max:a}}function Cp(e,t,s,n){return Lt(e)?Xw(e,t,s,n):t[s.axis]=s.parse(e,n),t}function eu(e,t,s,n){const i=e.iScale,o=e.vScale,r=i.getLabels(),a=i===o,l=[];let c,d,h,f;for(c=s,d=s+n;c<d;++c)f=t[c],h={},h[i.axis]=a||i.parse(r[c],c),l.push(Cp(f,h,o,c));return l}function wa(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function Qw(e,t,s){return e!==0?ss(e):(t.isHorizontal()?1:-1)*(t.min>=s?1:-1)}function Zw(e){let t,s,n,i,o;return e.horizontal?(t=e.base>e.x,s="left",n="right"):(t=e.base<e.y,s="bottom",n="top"),t?(i="end",o="start"):(i="start",o="end"),{start:s,end:n,reverse:t,top:i,bottom:o}}function tk(e,t,s,n){let i=t.borderSkipped;const o={};if(!i){e.borderSkipped=o;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:r,end:a,reverse:l,top:c,bottom:d}=Zw(e);i==="middle"&&s&&(e.enableBorderRadius=!0,(s._top||0)===n?i=c:(s._bottom||0)===n?i=d:(o[su(d,r,a,l)]=!0,i=c)),o[su(i,r,a,l)]=!0,e.borderSkipped=o}function su(e,t,s,n){return n?(e=ek(e,t,s),e=nu(e,s,t)):e=nu(e,t,s),e}function ek(e,t,s){return e===t?s:e===s?t:e}function nu(e,t,s){return e==="start"?t:e==="end"?s:e}function sk(e,{inflateAmount:t},s){e.inflateAmount=t==="auto"?s===1?.33:0:t}class Wo extends Ve{parsePrimitiveData(t,s,n,i){return eu(t,s,n,i)}parseArrayData(t,s,n,i){return eu(t,s,n,i)}parseObjectData(t,s,n,i){const{iScale:o,vScale:r}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=o.axis==="x"?a:l,d=r.axis==="x"?a:l,h=[];let f,p,m,g;for(f=n,p=n+i;f<p;++f)g=s[f],m={},m[o.axis]=o.parse(Hs(g,c),f),h.push(Cp(Hs(g,d),m,r,f));return h}updateRangeFromParsed(t,s,n,i){super.updateRangeFromParsed(t,s,n,i);const o=n._custom;o&&s===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const s=this._cachedMeta,{iScale:n,vScale:i}=s,o=this.getParsed(t),r=o._custom,a=wa(r)?"["+r.start+", "+r.end+"]":""+i.getLabelForValue(o[i.axis]);return{label:""+n.getLabelForValue(o[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,t)}updateElements(t,s,n,i){const o=i==="reset",{index:r,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(s,i);for(let p=s;p<s+n;p++){const m=this.getParsed(p),g=o||bt(m[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),b=this._calculateBarIndexPixels(p,d),y=(m._stacks||{})[a.axis],_={horizontal:c,base:g.base,enableBorderRadius:!y||wa(m._custom)||r===y._top||r===y._bottom,x:c?g.head:b.center,y:c?b.center:g.head,height:c?b.size:Math.abs(g.size),width:c?Math.abs(g.size):b.size};f&&(_.options=h||this.resolveDataElementOptions(p,t[p].active?"active":i));const S=_.options||t[p].options;tk(_,S,y,r),sk(_,S,d.ratio),this.updateElement(t[p],p,_,i)}}_getStacks(t,s){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),o=n.options.stacked,r=[],a=this._cachedMeta.controller.getParsed(s),l=a&&a[n.axis],c=d=>{const h=d._parsed.find(p=>p[n.axis]===l),f=h&&h[d.vScale.axis];if(bt(f)||isNaN(f))return!0};for(const d of i)if(!(s!==void 0&&c(d))&&((o===!1||r.indexOf(d.stack)===-1||o===void 0&&d.stack===void 0)&&r.push(d.stack),d.index===t))break;return r.length||r.push(void 0),r}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,s,n){const i=this._getStacks(t,n),o=s!==void 0?i.indexOf(s):-1;return o===-1?i.length-1:o}_getRuler(){const t=this.options,s=this._cachedMeta,n=s.iScale,i=[];let o,r;for(o=0,r=s.data.length;o<r;++o)i.push(n.getPixelForValue(this.getParsed(o)[n.axis],o));const a=t.barThickness;return{min:a||Gw(s),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:s,_stacked:n,index:i},options:{base:o,minBarLength:r}}=this,a=o||0,l=this.getParsed(t),c=l._custom,d=wa(c);let h=l[s.axis],f=0,p=n?this.applyStack(s,l,n):h,m,g;p!==h&&(f=p-h,p=h),d&&(h=c.barStart,p=c.barEnd-c.barStart,h!==0&&ss(h)!==ss(c.barEnd)&&(f=0),f+=h);const b=!bt(o)&&!d?o:f;let y=s.getPixelForValue(b);if(this.chart.getDataVisibility(t)?m=s.getPixelForValue(f+p):m=y,g=m-y,Math.abs(g)<r){g=Qw(g,s,a)*r,h===a&&(y-=g/2);const _=s.getPixelForDecimal(0),S=s.getPixelForDecimal(1),k=Math.min(_,S),M=Math.max(_,S);y=Math.max(Math.min(y,M),k),m=y+g,n&&!d&&(l._stacks[s.axis]._visualValues[i]=s.getValueForPixel(m)-s.getValueForPixel(y))}if(y===s.getPixelForValue(a)){const _=ss(g)*s.getLineWidthForValue(a)/2;y+=_,g-=_}return{size:g,base:y,head:m,center:m+g/2}}_calculateBarIndexPixels(t,s){const n=s.scale,i=this.options,o=i.skipNull,r=ht(i.maxBarThickness,1/0);let a,l;if(s.grouped){const c=o?this._getStackCount(t):s.stackCount,d=i.barThickness==="flex"?Jw(t,s,i,c):Yw(t,s,i,c),h=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);a=d.start+d.chunk*h+d.chunk/2,l=Math.min(r,d.chunk*d.ratio)}else a=n.getPixelForValue(this.getParsed(t)[n.axis],t),l=Math.min(r,s.min*s.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,s=t.vScale,n=t.data,i=n.length;let o=0;for(;o<i;++o)this.getParsed(o)[s.axis]!==null&&!n[o].hidden&&n[o].draw(this._ctx)}}$(Wo,"id","bar"),$(Wo,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),$(Wo,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class qo extends Ve{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,s,n,i){const o=super.parsePrimitiveData(t,s,n,i);for(let r=0;r<o.length;r++)o[r]._custom=this.resolveDataElementOptions(r+n).radius;return o}parseArrayData(t,s,n,i){const o=super.parseArrayData(t,s,n,i);for(let r=0;r<o.length;r++){const a=s[n+r];o[r]._custom=ht(a[2],this.resolveDataElementOptions(r+n).radius)}return o}parseObjectData(t,s,n,i){const o=super.parseObjectData(t,s,n,i);for(let r=0;r<o.length;r++){const a=s[n+r];o[r]._custom=ht(a&&a.r&&+a.r,this.resolveDataElementOptions(r+n).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let s=0;for(let n=t.length-1;n>=0;--n)s=Math.max(s,t[n].size(this.resolveDataElementOptions(n))/2);return s>0&&s}getLabelAndValue(t){const s=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:o}=s,r=this.getParsed(t),a=i.getLabelForValue(r.x),l=o.getLabelForValue(r.y),c=r._custom;return{label:n[t]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(t){const s=this._cachedMeta.data;this.updateElements(s,0,s.length,t)}updateElements(t,s,n,i){const o=i==="reset",{iScale:r,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(s,i),d=r.axis,h=a.axis;for(let f=s;f<s+n;f++){const p=t[f],m=!o&&this.getParsed(f),g={},b=g[d]=o?r.getPixelForDecimal(.5):r.getPixelForValue(m[d]),y=g[h]=o?a.getBasePixel():a.getPixelForValue(m[h]);g.skip=isNaN(b)||isNaN(y),c&&(g.options=l||this.resolveDataElementOptions(f,p.active?"active":i),o&&(g.options.radius=0)),this.updateElement(p,f,g,i)}}resolveDataElementOptions(t,s){const n=this.getParsed(t);let i=super.resolveDataElementOptions(t,s);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const o=i.radius;return s!=="active"&&(i.radius=0),i.radius+=ht(n&&n._custom,o),i}}$(qo,"id","bubble"),$(qo,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),$(qo,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function nk(e,t,s){let n=1,i=1,o=0,r=0;if(t<Ft){const a=e,l=a+t,c=Math.cos(a),d=Math.sin(a),h=Math.cos(l),f=Math.sin(l),p=(S,k,M)=>Yi(S,a,l,!0)?1:Math.max(k,k*s,M,M*s),m=(S,k,M)=>Yi(S,a,l,!0)?-1:Math.min(k,k*s,M,M*s),g=p(0,c,h),b=p(Vt,d,f),y=m(Nt,c,h),_=m(Nt+Vt,d,f);n=(g-y)/2,i=(b-_)/2,o=-(g+y)/2,r=-(b+_)/2}return{ratioX:n,ratioY:i,offsetX:o,offsetY:r}}class cn extends Ve{constructor(t,s){super(t,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,s){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let o=l=>+n[l];if(xt(n[t])){const{key:l="value"}=this._parsing;o=c=>+Hs(n[c],l)}let r,a;for(r=t,a=t+s;r<a;++r)i._parsed[r]=o(r)}}_getRotation(){return Be(this.options.rotation-90)}_getCircumference(){return Be(this.options.circumference)}_getRotationExtents(){let t=Ft,s=-Ft;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,o=i._getRotation(),r=i._getCircumference();t=Math.min(t,o),s=Math.max(s,o+r)}return{rotation:t,circumference:s-t}}update(t){const s=this.chart,{chartArea:n}=s,i=this._cachedMeta,o=i.data,r=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-r)/2,0),l=Math.min(m1(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:m,offsetY:g}=nk(h,d,l),b=(n.width-r)/f,y=(n.height-r)/p,_=Math.max(Math.min(b,y)/2,0),S=Qf(this.options.radius,_),k=Math.max(S*l,0),M=(S-k)/this._getVisibleDatasetWeightTotal();this.offsetX=m*S,this.offsetY=g*S,i.total=this.calculateTotal(),this.outerRadius=S-M*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-M*c,0),this.updateElements(o,0,o.length,t)}_circumference(t,s){const n=this.options,i=this._cachedMeta,o=this._getCircumference();return s&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*o/Ft)}updateElements(t,s,n,i){const o=i==="reset",r=this.chart,a=r.chartArea,c=r.options.animation,d=(a.left+a.right)/2,h=(a.top+a.bottom)/2,f=o&&c.animateScale,p=f?0:this.innerRadius,m=f?0:this.outerRadius,{sharedOptions:g,includeOptions:b}=this._getSharedOptions(s,i);let y=this._getRotation(),_;for(_=0;_<s;++_)y+=this._circumference(_,o);for(_=s;_<s+n;++_){const S=this._circumference(_,o),k=t[_],M={x:d+this.offsetX,y:h+this.offsetY,startAngle:y,endAngle:y+S,circumference:S,outerRadius:m,innerRadius:p};b&&(M.options=g||this.resolveDataElementOptions(_,k.active?"active":i)),y+=S,this.updateElement(k,_,M,i)}}calculateTotal(){const t=this._cachedMeta,s=t.data;let n=0,i;for(i=0;i<s.length;i++){const o=t._parsed[i];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(i)&&!s[i].hidden&&(n+=Math.abs(o))}return n}calculateCircumference(t){const s=this._cachedMeta.total;return s>0&&!isNaN(t)?Ft*(Math.abs(t)/s):0}getLabelAndValue(t){const s=this._cachedMeta,n=this.chart,i=n.data.labels||[],o=co(s._parsed[t],n.options.locale);return{label:i[t]||"",value:o}}getMaxBorderWidth(t){let s=0;const n=this.chart;let i,o,r,a,l;if(!t){for(i=0,o=n.data.datasets.length;i<o;++i)if(n.isDatasetVisible(i)){r=n.getDatasetMeta(i),t=r.data,a=r.controller;break}}if(!t)return 0;for(i=0,o=t.length;i<o;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(s=Math.max(s,l.borderWidth||0,l.hoverBorderWidth||0));return s}getMaxOffset(t){let s=0;for(let n=0,i=t.length;n<i;++n){const o=this.resolveDataElementOptions(n);s=Math.max(s,o.offset||0,o.hoverOffset||0)}return s}_getRingWeightOffset(t){let s=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(s+=this._getRingWeight(n));return s}_getRingWeight(t){return Math.max(ht(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}$(cn,"id","doughnut"),$(cn,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),$(cn,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),$(cn,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const s=t.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return s.labels.map((o,r)=>{const l=t.getDatasetMeta(0).controller.getStyle(r);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}})}return[]}},onClick(t,s,n){n.chart.toggleDataVisibility(s.index),n.chart.update()}}}});class Ko extends Ve{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const s=this._cachedMeta,{dataset:n,data:i=[],_dataset:o}=s,r=this.chart._animationsDisabled;let{start:a,count:l}=rp(s,i,r);this._drawStart=a,this._drawCount=l,ap(s)&&(a=0,l=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!o._decimated,n.points=i;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!r,options:c},t),this.updateElements(i,a,l,t)}updateElements(t,s,n,i){const o=i==="reset",{iScale:r,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(s,i),f=r.axis,p=a.axis,{spanGaps:m,segment:g}=this.options,b=Wn(m)?m:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||o||i==="none",_=s+n,S=t.length;let k=s>0&&this.getParsed(s-1);for(let M=0;M<S;++M){const T=t[M],P=y?T:{};if(M<s||M>=_){P.skip=!0;continue}const F=this.getParsed(M),Y=bt(F[p]),Q=P[f]=r.getPixelForValue(F[f],M),st=P[p]=o||Y?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,F,l):F[p],M);P.skip=isNaN(Q)||isNaN(st)||Y,P.stop=M>0&&Math.abs(F[f]-k[f])>b,g&&(P.parsed=F,P.raw=c.data[M]),h&&(P.options=d||this.resolveDataElementOptions(M,T.active?"active":i)),y||this.updateElement(T,M,P,i),k=F}}getMaxOverflow(){const t=this._cachedMeta,s=t.dataset,n=s.options&&s.options.borderWidth||0,i=t.data||[];if(!i.length)return n;const o=i[0].size(this.resolveDataElementOptions(0)),r=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,o,r)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}$(Ko,"id","line"),$(Ko,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),$(Ko,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class Ri extends Ve{constructor(t,s){super(t,s),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const s=this._cachedMeta,n=this.chart,i=n.data.labels||[],o=co(s._parsed[t].r,n.options.locale);return{label:i[t]||"",value:o}}parseObjectData(t,s,n,i){return mp.bind(this)(t,s,n,i)}update(t){const s=this._cachedMeta.data;this._updateRadius(),this.updateElements(s,0,s.length,t)}getMinMax(){const t=this._cachedMeta,s={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((n,i)=>{const o=this.getParsed(i).r;!isNaN(o)&&this.chart.getDataVisibility(i)&&(o<s.min&&(s.min=o),o>s.max&&(s.max=o))}),s}_updateRadius(){const t=this.chart,s=t.chartArea,n=t.options,i=Math.min(s.right-s.left,s.bottom-s.top),o=Math.max(i/2,0),r=Math.max(n.cutoutPercentage?o/100*n.cutoutPercentage:1,0),a=(o-r)/t.getVisibleDatasetCount();this.outerRadius=o-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,s,n,i){const o=i==="reset",r=this.chart,l=r.options.animation,c=this._cachedMeta.rScale,d=c.xCenter,h=c.yCenter,f=c.getIndexAngle(0)-.5*Nt;let p=f,m;const g=360/this.countVisibleElements();for(m=0;m<s;++m)p+=this._computeAngle(m,i,g);for(m=s;m<s+n;m++){const b=t[m];let y=p,_=p+this._computeAngle(m,i,g),S=r.getDataVisibility(m)?c.getDistanceFromCenterForValue(this.getParsed(m).r):0;p=_,o&&(l.animateScale&&(S=0),l.animateRotate&&(y=_=f));const k={x:d,y:h,innerRadius:0,outerRadius:S,startAngle:y,endAngle:_,options:this.resolveDataElementOptions(m,b.active?"active":i)};this.updateElement(b,m,k,i)}}countVisibleElements(){const t=this._cachedMeta;let s=0;return t.data.forEach((n,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&s++}),s}_computeAngle(t,s,n){return this.chart.getDataVisibility(t)?Be(this.resolveDataElementOptions(t,s).angle||n):0}}$(Ri,"id","polarArea"),$(Ri,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),$(Ri,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const s=t.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return s.labels.map((o,r)=>{const l=t.getDatasetMeta(0).controller.getStyle(r);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}})}return[]}},onClick(t,s,n){n.chart.toggleDataVisibility(s.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class ol extends cn{}$(ol,"id","pie"),$(ol,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Go extends Ve{getLabelAndValue(t){const s=this._cachedMeta.vScale,n=this.getParsed(t);return{label:s.getLabels()[t],value:""+s.getLabelForValue(n[s.axis])}}parseObjectData(t,s,n,i){return mp.bind(this)(t,s,n,i)}update(t){const s=this._cachedMeta,n=s.dataset,i=s.data||[],o=s.iScale.getLabels();if(n.points=i,t!=="resize"){const r=this.resolveDatasetElementOptions(t);this.options.showLine||(r.borderWidth=0);const a={_loop:!0,_fullLoop:o.length===i.length,options:r};this.updateElement(n,void 0,a,t)}this.updateElements(i,0,i.length,t)}updateElements(t,s,n,i){const o=this._cachedMeta.rScale,r=i==="reset";for(let a=s;a<s+n;a++){const l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":i),d=o.getPointPositionForValue(a,this.getParsed(a).r),h=r?o.xCenter:d.x,f=r?o.yCenter:d.y,p={x:h,y:f,angle:d.angle,skip:isNaN(h)||isNaN(f),options:c};this.updateElement(l,a,p,i)}}}$(Go,"id","radar"),$(Go,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),$(Go,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Yo extends Ve{getLabelAndValue(t){const s=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:o}=s,r=this.getParsed(t),a=i.getLabelForValue(r.x),l=o.getLabelForValue(r.y);return{label:n[t]||"",value:"("+a+", "+l+")"}}update(t){const s=this._cachedMeta,{data:n=[]}=s,i=this.chart._animationsDisabled;let{start:o,count:r}=rp(s,n,i);if(this._drawStart=o,this._drawCount=r,ap(s)&&(o=0,r=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=s;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=n;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},t)}else this.datasetElementType&&(delete s.dataset,this.datasetElementType=!1);this.updateElements(n,o,r,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,s,n,i){const o=i==="reset",{iScale:r,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,d=this.resolveDataElementOptions(s,i),h=this.getSharedOptions(d),f=this.includeOptions(i,h),p=r.axis,m=a.axis,{spanGaps:g,segment:b}=this.options,y=Wn(g)?g:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||o||i==="none";let S=s>0&&this.getParsed(s-1);for(let k=s;k<s+n;++k){const M=t[k],T=this.getParsed(k),P=_?M:{},F=bt(T[m]),Y=P[p]=r.getPixelForValue(T[p],k),Q=P[m]=o||F?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,T,l):T[m],k);P.skip=isNaN(Y)||isNaN(Q)||F,P.stop=k>0&&Math.abs(T[p]-S[p])>y,b&&(P.parsed=T,P.raw=c.data[k]),f&&(P.options=h||this.resolveDataElementOptions(k,M.active?"active":i)),_||this.updateElement(M,k,P,i),S=T}this.updateSharedOptions(h,i,d)}getMaxOverflow(){const t=this._cachedMeta,s=t.data||[];if(!this.options.showLine){let a=0;for(let l=s.length-1;l>=0;--l)a=Math.max(a,s[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const n=t.dataset,i=n.options&&n.options.borderWidth||0;if(!s.length)return i;const o=s[0].size(this.resolveDataElementOptions(0)),r=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,o,r)/2}}$(Yo,"id","scatter"),$(Yo,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),$(Yo,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var ik=Object.freeze({__proto__:null,BarController:Wo,BubbleController:qo,DoughnutController:cn,LineController:Ko,PieController:ol,PolarAreaController:Ri,RadarController:Go,ScatterController:Yo});function en(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class lc{constructor(t){$(this,"options");this.options=t||{}}static override(t){Object.assign(lc.prototype,t)}init(){}formats(){return en()}parse(){return en()}format(){return en()}add(){return en()}diff(){return en()}startOf(){return en()}endOf(){return en()}}var ok={_date:lc};function rk(e,t,s,n){const{controller:i,data:o,_sorted:r}=e,a=i._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&r&&o.length){const c=a._reversePixels?E1:ys;if(n){if(i._sharedOptions){const d=o[0],h=typeof d.getRange=="function"&&d.getRange(t);if(h){const f=c(o,t,s-h),p=c(o,t,s+h);return{lo:f.lo,hi:p.hi}}}}else{const d=c(o,t,s);if(l){const{vScale:h}=i._cachedMeta,{_parsed:f}=e,p=f.slice(0,d.lo+1).reverse().findIndex(g=>!bt(g[h.axis]));d.lo-=Math.max(0,p);const m=f.slice(d.hi).findIndex(g=>!bt(g[h.axis]));d.hi+=Math.max(0,m)}return d}}return{lo:0,hi:o.length-1}}function uo(e,t,s,n,i){const o=e.getSortedVisibleDatasetMetas(),r=s[t];for(let a=0,l=o.length;a<l;++a){const{index:c,data:d}=o[a],{lo:h,hi:f}=rk(o[a],t,r,i);for(let p=h;p<=f;++p){const m=d[p];m.skip||n(m,c,p)}}}function ak(e){const t=e.indexOf("x")!==-1,s=e.indexOf("y")!==-1;return function(n,i){const o=t?Math.abs(n.x-i.x):0,r=s?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}}function ka(e,t,s,n,i){const o=[];return!i&&!e.isPointInArea(t)||uo(e,s,t,function(a,l,c){!i&&!xs(a,e.chartArea,0)||a.inRange(t.x,t.y,n)&&o.push({element:a,datasetIndex:l,index:c})},!0),o}function lk(e,t,s,n){let i=[];function o(r,a,l){const{startAngle:c,endAngle:d}=r.getProps(["startAngle","endAngle"],n),{angle:h}=ep(r,{x:t.x,y:t.y});Yi(h,c,d)&&i.push({element:r,datasetIndex:a,index:l})}return uo(e,s,t,o),i}function ck(e,t,s,n,i,o){let r=[];const a=ak(s);let l=Number.POSITIVE_INFINITY;function c(d,h,f){const p=d.inRange(t.x,t.y,i);if(n&&!p)return;const m=d.getCenterPoint(i);if(!(!!o||e.isPointInArea(m))&&!p)return;const b=a(t,m);b<l?(r=[{element:d,datasetIndex:h,index:f}],l=b):b===l&&r.push({element:d,datasetIndex:h,index:f})}return uo(e,s,t,c),r}function Sa(e,t,s,n,i,o){return!o&&!e.isPointInArea(t)?[]:s==="r"&&!n?lk(e,t,s,i):ck(e,t,s,n,i,o)}function iu(e,t,s,n,i){const o=[],r=s==="x"?"inXRange":"inYRange";let a=!1;return uo(e,s,t,(l,c,d)=>{l[r]&&l[r](t[s],i)&&(o.push({element:l,datasetIndex:c,index:d}),a=a||l.inRange(t.x,t.y,i))}),n&&!a?[]:o}var dk={evaluateInteractionItems:uo,modes:{index(e,t,s,n){const i=rn(t,e),o=s.axis||"x",r=s.includeInvisible||!1,a=s.intersect?ka(e,i,o,n,r):Sa(e,i,o,!1,n,r),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const d=a[0].index,h=c.data[d];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:d})}),l):[]},dataset(e,t,s,n){const i=rn(t,e),o=s.axis||"xy",r=s.includeInvisible||!1;let a=s.intersect?ka(e,i,o,n,r):Sa(e,i,o,!1,n,r);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let d=0;d<c.length;++d)a.push({element:c[d],datasetIndex:l,index:d})}return a},point(e,t,s,n){const i=rn(t,e),o=s.axis||"xy",r=s.includeInvisible||!1;return ka(e,i,o,n,r)},nearest(e,t,s,n){const i=rn(t,e),o=s.axis||"xy",r=s.includeInvisible||!1;return Sa(e,i,o,s.intersect,n,r)},x(e,t,s,n){const i=rn(t,e);return iu(e,i,"x",s.intersect,n)},y(e,t,s,n){const i=rn(t,e);return iu(e,i,"y",s.intersect,n)}}};const Mp=["left","top","right","bottom"];function li(e,t){return e.filter(s=>s.pos===t)}function ou(e,t){return e.filter(s=>Mp.indexOf(s.pos)===-1&&s.box.axis===t)}function ci(e,t){return e.sort((s,n)=>{const i=t?n:s,o=t?s:n;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function uk(e){const t=[];let s,n,i,o,r,a;for(s=0,n=(e||[]).length;s<n;++s)i=e[s],{position:o,options:{stack:r,stackWeight:a=1}}=i,t.push({index:s,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:r&&o+r,stackWeight:a});return t}function hk(e){const t={};for(const s of e){const{stack:n,pos:i,stackWeight:o}=s;if(!n||!Mp.includes(i))continue;const r=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=o}return t}function fk(e,t){const s=hk(e),{vBoxMaxWidth:n,hBoxMaxHeight:i}=t;let o,r,a;for(o=0,r=e.length;o<r;++o){a=e[o];const{fullSize:l}=a.box,c=s[a.stack],d=c&&a.stackWeight/c.weight;a.horizontal?(a.width=d?d*n:l&&t.availableWidth,a.height=i):(a.width=n,a.height=d?d*i:l&&t.availableHeight)}return s}function pk(e){const t=uk(e),s=ci(t.filter(c=>c.box.fullSize),!0),n=ci(li(t,"left"),!0),i=ci(li(t,"right")),o=ci(li(t,"top"),!0),r=ci(li(t,"bottom")),a=ou(t,"x"),l=ou(t,"y");return{fullSize:s,leftAndTop:n.concat(o),rightAndBottom:i.concat(l).concat(r).concat(a),chartArea:li(t,"chartArea"),vertical:n.concat(i).concat(l),horizontal:o.concat(r).concat(a)}}function ru(e,t,s,n){return Math.max(e[s],t[s])+Math.max(e[n],t[n])}function Ap(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function mk(e,t,s,n){const{pos:i,box:o}=s,r=e.maxPadding;if(!xt(i)){s.size&&(e[i]-=s.size);const h=n[s.stack]||{size:0,count:1};h.size=Math.max(h.size,s.horizontal?o.height:o.width),s.size=h.size/h.count,e[i]+=s.size}o.getPadding&&Ap(r,o.getPadding());const a=Math.max(0,t.outerWidth-ru(r,e,"left","right")),l=Math.max(0,t.outerHeight-ru(r,e,"top","bottom")),c=a!==e.w,d=l!==e.h;return e.w=a,e.h=l,s.horizontal?{same:c,other:d}:{same:d,other:c}}function gk(e){const t=e.maxPadding;function s(n){const i=Math.max(t[n]-e[n],0);return e[n]+=i,i}e.y+=s("top"),e.x+=s("left"),s("right"),s("bottom")}function bk(e,t){const s=t.maxPadding;function n(i){const o={left:0,top:0,right:0,bottom:0};return i.forEach(r=>{o[r]=Math.max(t[r],s[r])}),o}return n(e?["left","right"]:["top","bottom"])}function gi(e,t,s,n){const i=[];let o,r,a,l,c,d;for(o=0,r=e.length,c=0;o<r;++o){a=e[o],l=a.box,l.update(a.width||t.w,a.height||t.h,bk(a.horizontal,t));const{same:h,other:f}=mk(t,s,a,n);c|=h&&i.length,d=d||f,l.fullSize||i.push(a)}return c&&gi(i,t,s,n)||d}function Po(e,t,s,n,i){e.top=s,e.left=t,e.right=t+n,e.bottom=s+i,e.width=n,e.height=i}function au(e,t,s,n){const i=s.padding;let{x:o,y:r}=t;for(const a of e){const l=a.box,c=n[a.stack]||{count:1,placed:0,weight:1},d=a.stackWeight/c.weight||1;if(a.horizontal){const h=t.w*d,f=c.size||l.height;Gi(c.start)&&(r=c.start),l.fullSize?Po(l,i.left,r,s.outerWidth-i.right-i.left,f):Po(l,t.left+c.placed,r,h,f),c.start=r,c.placed+=h,r=l.bottom}else{const h=t.h*d,f=c.size||l.width;Gi(c.start)&&(o=c.start),l.fullSize?Po(l,o,i.top,f,s.outerHeight-i.bottom-i.top):Po(l,o,t.top+c.placed,f,h),c.start=o,c.placed+=h,o=l.right}}t.x=o,t.y=r}var ne={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(s){t.draw(s)}}]},e.boxes.push(t)},removeBox(e,t){const s=e.boxes?e.boxes.indexOf(t):-1;s!==-1&&e.boxes.splice(s,1)},configure(e,t,s){t.fullSize=s.fullSize,t.position=s.position,t.weight=s.weight},update(e,t,s,n){if(!e)return;const i=re(e.options.layout.padding),o=Math.max(t-i.width,0),r=Math.max(s-i.height,0),a=pk(e.boxes),l=a.vertical,c=a.horizontal;At(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const d=l.reduce((g,b)=>b.box.options&&b.box.options.display===!1?g:g+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:s,padding:i,availableWidth:o,availableHeight:r,vBoxMaxWidth:o/2/d,hBoxMaxHeight:r/2}),f=Object.assign({},i);Ap(f,re(n));const p=Object.assign({maxPadding:f,w:o,h:r,x:i.left,y:i.top},i),m=fk(l.concat(c),h);gi(a.fullSize,p,h,m),gi(l,p,h,m),gi(c,p,h,m)&&gi(l,p,h,m),gk(p),au(a.leftAndTop,p,h,m),p.x+=p.w,p.y+=p.h,au(a.rightAndBottom,p,h,m),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},At(a.chartArea,g=>{const b=g.box;Object.assign(b,e.chartArea),b.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class Ep{acquireContext(t,s){}releaseContext(t){return!1}addEventListener(t,s,n){}removeEventListener(t,s,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,s,n,i){return s=Math.max(0,s||t.width),n=n||t.height,{width:s,height:Math.max(0,i?Math.floor(s/i):n)}}isAttached(t){return!0}updateConfig(t){}}class yk extends Ep{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Jo="$chartjs",xk={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},lu=e=>e===null||e==="";function _k(e,t){const s=e.style,n=e.getAttribute("height"),i=e.getAttribute("width");if(e[Jo]={initial:{height:n,width:i,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",lu(i)){const o=Wd(e,"width");o!==void 0&&(e.width=o)}if(lu(n))if(e.style.height==="")e.height=e.width/(t||2);else{const o=Wd(e,"height");o!==void 0&&(e.height=o)}return e}const Pp=vw?{passive:!0}:!1;function vk(e,t,s){e&&e.addEventListener(t,s,Pp)}function wk(e,t,s){e&&e.canvas&&e.canvas.removeEventListener(t,s,Pp)}function kk(e,t){const s=xk[e.type]||e.type,{x:n,y:i}=rn(e,t);return{type:s,chart:t,native:e,x:n!==void 0?n:null,y:i!==void 0?i:null}}function gr(e,t){for(const s of e)if(s===t||s.contains(t))return!0}function Sk(e,t,s){const n=e.canvas,i=new MutationObserver(o=>{let r=!1;for(const a of o)r=r||gr(a.addedNodes,n),r=r&&!gr(a.removedNodes,n);r&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}function Ck(e,t,s){const n=e.canvas,i=new MutationObserver(o=>{let r=!1;for(const a of o)r=r||gr(a.removedNodes,n),r=r&&!gr(a.addedNodes,n);r&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}const Xi=new Map;let cu=0;function Tp(){const e=window.devicePixelRatio;e!==cu&&(cu=e,Xi.forEach((t,s)=>{s.currentDevicePixelRatio!==e&&t()}))}function Mk(e,t){Xi.size||window.addEventListener("resize",Tp),Xi.set(e,t)}function Ak(e){Xi.delete(e),Xi.size||window.removeEventListener("resize",Tp)}function Ek(e,t,s){const n=e.canvas,i=n&&ac(n);if(!i)return;const o=op((a,l)=>{const c=i.clientWidth;s(a,l),c<i.clientWidth&&s()},window),r=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,d=l.contentRect.height;c===0&&d===0||o(c,d)});return r.observe(i),Mk(e,o),r}function Ca(e,t,s){s&&s.disconnect(),t==="resize"&&Ak(e)}function Pk(e,t,s){const n=e.canvas,i=op(o=>{e.ctx!==null&&s(kk(o,e))},e);return vk(n,t,i),i}class Tk extends Ep{acquireContext(t,s){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(_k(t,s),n):null}releaseContext(t){const s=t.canvas;if(!s[Jo])return!1;const n=s[Jo].initial;["height","width"].forEach(o=>{const r=n[o];bt(r)?s.removeAttribute(o):s.setAttribute(o,r)});const i=n.style||{};return Object.keys(i).forEach(o=>{s.style[o]=i[o]}),s.width=s.width,delete s[Jo],!0}addEventListener(t,s,n){this.removeEventListener(t,s);const i=t.$proxies||(t.$proxies={}),r={attach:Sk,detach:Ck,resize:Ek}[s]||Pk;i[s]=r(t,s,n)}removeEventListener(t,s){const n=t.$proxies||(t.$proxies={}),i=n[s];if(!i)return;({attach:Ca,detach:Ca,resize:Ca}[s]||wk)(t,s,i),n[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,s,n,i){return _w(t,s,n,i)}isAttached(t){const s=t&&ac(t);return!!(s&&s.isConnected)}}function Ok(e){return!rc()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?yk:Tk}var jo;let Ms=(jo=class{constructor(){$(this,"x");$(this,"y");$(this,"active",!1);$(this,"options");$(this,"$animations")}tooltipPosition(t){const{x:s,y:n}=this.getProps(["x","y"],t);return{x:s,y:n}}hasValue(){return Wn(this.x)&&Wn(this.y)}getProps(t,s){const n=this.$animations;if(!s||!n)return this;const i={};return t.forEach(o=>{i[o]=n[o]&&n[o].active()?n[o]._to:this[o]}),i}},$(jo,"defaults",{}),$(jo,"defaultRoutes"),jo);function Dk(e,t){const s=e.options.ticks,n=Ik(e),i=Math.min(s.maxTicksLimit||n,n),o=s.major.enabled?Lk(t):[],r=o.length,a=o[0],l=o[r-1],c=[];if(r>i)return Fk(t,c,o,r/i),c;const d=Rk(o,t,i);if(r>0){let h,f;const p=r>1?Math.round((l-a)/(r-1)):null;for(To(t,c,d,bt(p)?0:a-p,a),h=0,f=r-1;h<f;h++)To(t,c,d,o[h],o[h+1]);return To(t,c,d,l,bt(p)?t.length:l+p),c}return To(t,c,d),c}function Ik(e){const t=e.options.offset,s=e._tickSize(),n=e._length/s+(t?0:1),i=e._maxLength/s;return Math.floor(Math.min(n,i))}function Rk(e,t,s){const n=Nk(e),i=t.length/s;if(!n)return Math.max(i,1);const o=k1(n);for(let r=0,a=o.length-1;r<a;r++){const l=o[r];if(l>i)return l}return Math.max(i,1)}function Lk(e){const t=[];let s,n;for(s=0,n=e.length;s<n;s++)e[s].major&&t.push(s);return t}function Fk(e,t,s,n){let i=0,o=s[0],r;for(n=Math.ceil(n),r=0;r<e.length;r++)r===o&&(t.push(e[r]),i++,o=s[i*n])}function To(e,t,s,n,i){const o=ht(n,0),r=Math.min(ht(i,e.length),e.length);let a=0,l,c,d;for(s=Math.ceil(s),i&&(l=i-n,s=l/Math.floor(l/s)),d=o;d<0;)a++,d=Math.round(o+a*s);for(c=Math.max(o,0);c<r;c++)c===d&&(t.push(e[c]),a++,d=Math.round(o+a*s))}function Nk(e){const t=e.length;let s,n;if(t<2)return!1;for(n=e[0],s=1;s<t;++s)if(e[s]-e[s-1]!==n)return!1;return n}const jk=e=>e==="left"?"right":e==="right"?"left":e,du=(e,t,s)=>t==="top"||t==="left"?e[t]+s:e[t]-s,uu=(e,t)=>Math.min(t||e,e);function hu(e,t){const s=[],n=e.length/t,i=e.length;let o=0;for(;o<i;o+=n)s.push(e[Math.floor(o)]);return s}function Bk(e,t,s){const n=e.ticks.length,i=Math.min(t,n-1),o=e._startPixel,r=e._endPixel,a=1e-6;let l=e.getPixelForTick(i),c;if(!(s&&(n===1?c=Math.max(l-o,r-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(i-1))/2,l+=i<t?c:-c,l<o-a||l>r+a)))return l}function Uk(e,t){At(e,s=>{const n=s.gc,i=n.length/2;let o;if(i>t){for(o=0;o<i;++o)delete s.data[n[o]];n.splice(0,i)}})}function di(e){return e.drawTicks?e.tickLength:0}function fu(e,t){if(!e.display)return 0;const s=qt(e.font,t),n=re(e.padding);return(Lt(e.text)?e.text.length:1)*s.lineHeight+n.height}function $k(e,t){return Gs(e,{scale:t,type:"scale"})}function Vk(e,t,s){return Gs(e,{tick:s,index:t,type:"tick"})}function zk(e,t,s){let n=tc(e);return(s&&t!=="right"||!s&&t==="right")&&(n=jk(n)),n}function Hk(e,t,s,n){const{top:i,left:o,bottom:r,right:a,chart:l}=e,{chartArea:c,scales:d}=l;let h=0,f,p,m;const g=r-i,b=a-o;if(e.isHorizontal()){if(p=te(n,o,a),xt(s)){const y=Object.keys(s)[0],_=s[y];m=d[y].getPixelForValue(_)+g-t}else s==="center"?m=(c.bottom+c.top)/2+g-t:m=du(e,s,t);f=a-o}else{if(xt(s)){const y=Object.keys(s)[0],_=s[y];p=d[y].getPixelForValue(_)-b+t}else s==="center"?p=(c.left+c.right)/2-b+t:p=du(e,s,t);m=te(n,r,i),h=s==="left"?-Vt:Vt}return{titleX:p,titleY:m,maxWidth:f,rotation:h}}class yn extends Ms{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,s){return t}getUserBounds(){let{_userMin:t,_userMax:s,_suggestedMin:n,_suggestedMax:i}=this;return t=Se(t,Number.POSITIVE_INFINITY),s=Se(s,Number.NEGATIVE_INFINITY),n=Se(n,Number.POSITIVE_INFINITY),i=Se(i,Number.NEGATIVE_INFINITY),{min:Se(t,n),max:Se(s,i),minDefined:Ut(t),maxDefined:Ut(s)}}getMinMax(t){let{min:s,max:n,minDefined:i,maxDefined:o}=this.getUserBounds(),r;if(i&&o)return{min:s,max:n};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)r=a[l].controller.getMinMax(this,t),i||(s=Math.min(s,r.min)),o||(n=Math.max(n,r.max));return s=o&&s>n?n:s,n=i&&s>n?s:n,{min:Se(s,Se(n,s)),max:Se(n,Se(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){It(this.options.beforeUpdate,[this])}update(t,s,n){const{beginAtZero:i,grace:o,ticks:r}=this.options,a=r.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=s,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Q1(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?hu(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||r.source==="auto")&&(this.ticks=Dk(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,s,n;this.isHorizontal()?(s=this.left,n=this.right):(s=this.top,n=this.bottom,t=!t),this._startPixel=s,this._endPixel=n,this._reversePixels=t,this._length=n-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){It(this.options.afterUpdate,[this])}beforeSetDimensions(){It(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){It(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),It(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){It(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const s=this.options.ticks;let n,i,o;for(n=0,i=t.length;n<i;n++)o=t[n],o.label=It(s.callback,[o.value,n,t],this)}afterTickToLabelConversion(){It(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){It(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,s=t.ticks,n=uu(this.ticks.length,t.ticks.maxTicksLimit),i=s.minRotation||0,o=s.maxRotation;let r=i,a,l,c;if(!this._isVisible()||!s.display||i>=o||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const d=this._getLabelSizes(),h=d.widest.width,f=d.highest.height,p=Gt(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/n:p/(n-1),h+6>a&&(a=p/(n-(t.offset?.5:1)),l=this.maxHeight-di(t.grid)-s.padding-fu(t.title,this.chart.options.font),c=Math.sqrt(h*h+f*f),r=Ql(Math.min(Math.asin(Gt((d.highest.height+6)/a,-1,1)),Math.asin(Gt(l/c,-1,1))-Math.asin(Gt(f/c,-1,1)))),r=Math.max(i,Math.min(o,r))),this.labelRotation=r}afterCalculateLabelRotation(){It(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){It(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:s,options:{ticks:n,title:i,grid:o}}=this,r=this._isVisible(),a=this.isHorizontal();if(r){const l=fu(i,s.options.font);if(a?(t.width=this.maxWidth,t.height=di(o)+l):(t.height=this.maxHeight,t.width=di(o)+l),n.display&&this.ticks.length){const{first:c,last:d,widest:h,highest:f}=this._getLabelSizes(),p=n.padding*2,m=Be(this.labelRotation),g=Math.cos(m),b=Math.sin(m);if(a){const y=n.mirror?0:b*h.width+g*f.height;t.height=Math.min(this.maxHeight,t.height+y+p)}else{const y=n.mirror?0:g*h.width+b*f.height;t.width=Math.min(this.maxWidth,t.width+y+p)}this._calculatePadding(c,d,b,g)}}this._handleMargins(),a?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,s,n,i){const{ticks:{align:o,padding:r},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;l?c?(f=i*t.width,p=n*s.height):(f=n*t.height,p=i*s.width):o==="start"?p=s.width:o==="end"?f=t.width:o!=="inner"&&(f=t.width/2,p=s.width/2),this.paddingLeft=Math.max((f-d+r)*this.width/(this.width-d),0),this.paddingRight=Math.max((p-h+r)*this.width/(this.width-h),0)}else{let d=s.height/2,h=t.height/2;o==="start"?(d=0,h=t.height):o==="end"&&(d=s.height,h=0),this.paddingTop=d+r,this.paddingBottom=h+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){It(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:s}=this.options;return s==="top"||s==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let s,n;for(s=0,n=t.length;s<n;s++)bt(t[s].label)&&(t.splice(s,1),n--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const s=this.options.ticks.sampleSize;let n=this.ticks;s<n.length&&(n=hu(n,s)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,s,n){const{ctx:i,_longestTextCache:o}=this,r=[],a=[],l=Math.floor(s/uu(s,n));let c=0,d=0,h,f,p,m,g,b,y,_,S,k,M;for(h=0;h<s;h+=l){if(m=t[h].label,g=this._resolveTickFontOptions(h),i.font=b=g.string,y=o[b]=o[b]||{data:{},gc:[]},_=g.lineHeight,S=k=0,!bt(m)&&!Lt(m))S=pr(i,y.data,y.gc,S,m),k=_;else if(Lt(m))for(f=0,p=m.length;f<p;++f)M=m[f],!bt(M)&&!Lt(M)&&(S=pr(i,y.data,y.gc,S,M),k+=_);r.push(S),a.push(k),c=Math.max(S,c),d=Math.max(k,d)}Uk(o,s);const T=r.indexOf(c),P=a.indexOf(d),F=Y=>({width:r[Y]||0,height:a[Y]||0});return{first:F(0),last:F(s-1),widest:F(T),highest:F(P),widths:r,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,s){return NaN}getValueForPixel(t){}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const s=this._startPixel+t*this._length;return A1(this._alignToPixels?tn(this.chart,s,0):s)}getDecimalForPixel(t){const s=(t-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:s}=this;return t<0&&s<0?s:t>0&&s>0?t:0}getContext(t){const s=this.ticks||[];if(t>=0&&t<s.length){const n=s[t];return n.$context||(n.$context=Vk(this.getContext(),t,n))}return this.$context||(this.$context=$k(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,s=Be(this.labelRotation),n=Math.abs(Math.cos(s)),i=Math.abs(Math.sin(s)),o=this._getLabelSizes(),r=t.autoSkipPadding||0,a=o?o.widest.width+r:0,l=o?o.highest.height+r:0;return this.isHorizontal()?l*n>a*i?a/n:l/i:l*i<a*n?l/n:a/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const s=this.axis,n=this.chart,i=this.options,{grid:o,position:r,border:a}=i,l=o.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),f=di(o),p=[],m=a.setContext(this.getContext()),g=m.display?m.width:0,b=g/2,y=function(ct){return tn(n,ct,g)};let _,S,k,M,T,P,F,Y,Q,st,at,gt;if(r==="top")_=y(this.bottom),P=this.bottom-f,Y=_-b,st=y(t.top)+b,gt=t.bottom;else if(r==="bottom")_=y(this.top),st=t.top,gt=y(t.bottom)-b,P=_+b,Y=this.top+f;else if(r==="left")_=y(this.right),T=this.right-f,F=_-b,Q=y(t.left)+b,at=t.right;else if(r==="right")_=y(this.left),Q=t.left,at=y(t.right)-b,T=_+b,F=this.left+f;else if(s==="x"){if(r==="center")_=y((t.top+t.bottom)/2+.5);else if(xt(r)){const ct=Object.keys(r)[0],rt=r[ct];_=y(this.chart.scales[ct].getPixelForValue(rt))}st=t.top,gt=t.bottom,P=_+b,Y=P+f}else if(s==="y"){if(r==="center")_=y((t.left+t.right)/2);else if(xt(r)){const ct=Object.keys(r)[0],rt=r[ct];_=y(this.chart.scales[ct].getPixelForValue(rt))}T=_-b,F=T-f,Q=t.left,at=t.right}const Wt=ht(i.ticks.maxTicksLimit,h),_t=Math.max(1,Math.ceil(h/Wt));for(S=0;S<h;S+=_t){const ct=this.getContext(S),rt=o.setContext(ct),ut=a.setContext(ct),Pt=rt.lineWidth,ae=rt.color,le=ut.dash||[],$t=ut.dashOffset,Oe=rt.tickWidth,he=rt.tickColor,Ke=rt.tickBorderDash||[],zt=rt.tickBorderDashOffset;k=Bk(this,S,l),k!==void 0&&(M=tn(n,k,Pt),c?T=F=Q=at=M:P=Y=st=gt=M,p.push({tx1:T,ty1:P,tx2:F,ty2:Y,x1:Q,y1:st,x2:at,y2:gt,width:Pt,color:ae,borderDash:le,borderDashOffset:$t,tickWidth:Oe,tickColor:he,tickBorderDash:Ke,tickBorderDashOffset:zt}))}return this._ticksLength=h,this._borderValue=_,p}_computeLabelItems(t){const s=this.axis,n=this.options,{position:i,ticks:o}=n,r=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:d,mirror:h}=o,f=di(n.grid),p=f+d,m=h?-d:p,g=-Be(this.labelRotation),b=[];let y,_,S,k,M,T,P,F,Y,Q,st,at,gt="middle";if(i==="top")T=this.bottom-m,P=this._getXAxisLabelAlignment();else if(i==="bottom")T=this.top+m,P=this._getXAxisLabelAlignment();else if(i==="left"){const _t=this._getYAxisLabelAlignment(f);P=_t.textAlign,M=_t.x}else if(i==="right"){const _t=this._getYAxisLabelAlignment(f);P=_t.textAlign,M=_t.x}else if(s==="x"){if(i==="center")T=(t.top+t.bottom)/2+p;else if(xt(i)){const _t=Object.keys(i)[0],ct=i[_t];T=this.chart.scales[_t].getPixelForValue(ct)+p}P=this._getXAxisLabelAlignment()}else if(s==="y"){if(i==="center")M=(t.left+t.right)/2-p;else if(xt(i)){const _t=Object.keys(i)[0],ct=i[_t];M=this.chart.scales[_t].getPixelForValue(ct)}P=this._getYAxisLabelAlignment(f).textAlign}s==="y"&&(l==="start"?gt="top":l==="end"&&(gt="bottom"));const Wt=this._getLabelSizes();for(y=0,_=a.length;y<_;++y){S=a[y],k=S.label;const _t=o.setContext(this.getContext(y));F=this.getPixelForTick(y)+o.labelOffset,Y=this._resolveTickFontOptions(y),Q=Y.lineHeight,st=Lt(k)?k.length:1;const ct=st/2,rt=_t.color,ut=_t.textStrokeColor,Pt=_t.textStrokeWidth;let ae=P;r?(M=F,P==="inner"&&(y===_-1?ae=this.options.reverse?"left":"right":y===0?ae=this.options.reverse?"right":"left":ae="center"),i==="top"?c==="near"||g!==0?at=-st*Q+Q/2:c==="center"?at=-Wt.highest.height/2-ct*Q+Q:at=-Wt.highest.height+Q/2:c==="near"||g!==0?at=Q/2:c==="center"?at=Wt.highest.height/2-ct*Q:at=Wt.highest.height-st*Q,h&&(at*=-1),g!==0&&!_t.showLabelBackdrop&&(M+=Q/2*Math.sin(g))):(T=F,at=(1-st)*Q/2);let le;if(_t.showLabelBackdrop){const $t=re(_t.backdropPadding),Oe=Wt.heights[y],he=Wt.widths[y];let Ke=at-$t.top,zt=0-$t.left;switch(gt){case"middle":Ke-=Oe/2;break;case"bottom":Ke-=Oe;break}switch(P){case"center":zt-=he/2;break;case"right":zt-=he;break;case"inner":y===_-1?zt-=he:y>0&&(zt-=he/2);break}le={left:zt,top:Ke,width:he+$t.width,height:Oe+$t.height,color:_t.backdropColor}}b.push({label:k,font:Y,textOffset:at,options:{rotation:g,color:rt,strokeColor:ut,strokeWidth:Pt,textAlign:ae,textBaseline:gt,translation:[M,T],backdrop:le}})}return b}_getXAxisLabelAlignment(){const{position:t,ticks:s}=this.options;if(-Be(this.labelRotation))return t==="top"?"left":"right";let i="center";return s.align==="start"?i="left":s.align==="end"?i="right":s.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:s,ticks:{crossAlign:n,mirror:i,padding:o}}=this.options,r=this._getLabelSizes(),a=t+o,l=r.widest.width;let c,d;return s==="left"?i?(d=this.right+o,n==="near"?c="left":n==="center"?(c="center",d+=l/2):(c="right",d+=l)):(d=this.right-a,n==="near"?c="right":n==="center"?(c="center",d-=l/2):(c="left",d=this.left)):s==="right"?i?(d=this.left+o,n==="near"?c="right":n==="center"?(c="center",d-=l/2):(c="left",d-=l)):(d=this.left+a,n==="near"?c="left":n==="center"?(c="center",d+=l/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:s},left:n,top:i,width:o,height:r}=this;s&&(t.save(),t.fillStyle=s,t.fillRect(n,i,o,r),t.restore())}getLineWidthForValue(t){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const i=this.ticks.findIndex(o=>o.value===t);return i>=0?s.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const s=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,r;const a=(l,c,d)=>{!d.width||!d.color||(n.save(),n.lineWidth=d.width,n.strokeStyle=d.color,n.setLineDash(d.borderDash||[]),n.lineDashOffset=d.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(s.display)for(o=0,r=i.length;o<r;++o){const l=i[o];s.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),s.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:s,options:{border:n,grid:i}}=this,o=n.setContext(this.getContext()),r=n.display?o.width:0;if(!r)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,d,h,f;this.isHorizontal()?(c=tn(t,this.left,r)-r/2,d=tn(t,this.right,a)+a/2,h=f=l):(h=tn(t,this.top,r)-r/2,f=tn(t,this.bottom,a)+a/2,c=d=l),s.save(),s.lineWidth=o.width,s.strokeStyle=o.color,s.beginPath(),s.moveTo(c,h),s.lineTo(d,f),s.stroke(),s.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&zr(n,i);const o=this.getLabelItems(t);for(const r of o){const a=r.options,l=r.font,c=r.label,d=r.textOffset;mn(n,c,0,d,l,a)}i&&Hr(n)}drawTitle(){const{ctx:t,options:{position:s,title:n,reverse:i}}=this;if(!n.display)return;const o=qt(n.font),r=re(n.padding),a=n.align;let l=o.lineHeight/2;s==="bottom"||s==="center"||xt(s)?(l+=r.bottom,Lt(n.text)&&(l+=o.lineHeight*(n.text.length-1))):l+=r.top;const{titleX:c,titleY:d,maxWidth:h,rotation:f}=Hk(this,l,s,a);mn(t,n.text,0,0,o,{color:n.color,maxWidth:h,rotation:f,textAlign:zk(a,s,i),textBaseline:"middle",translation:[c,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,s=t.ticks&&t.ticks.z||0,n=ht(t.grid&&t.grid.z,-1),i=ht(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==yn.prototype.draw?[{z:s,draw:o=>{this.draw(o)}}]:[{z:n,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:s,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const s=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let o,r;for(o=0,r=s.length;o<r;++o){const a=s[o];a[n]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){const s=this.options.ticks.setContext(this.getContext(t));return qt(s.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Oo{constructor(t,s,n){this.type=t,this.scope=s,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const s=Object.getPrototypeOf(t);let n;Kk(s)&&(n=this.register(s));const i=this.items,o=t.id,r=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in i||(i[o]=t,Wk(t,r,n),this.override&&Bt.override(t.id,t.overrides)),r}get(t){return this.items[t]}unregister(t){const s=this.items,n=t.id,i=this.scope;n in s&&delete s[n],i&&n in Bt[i]&&(delete Bt[i][n],this.override&&delete pn[n])}}function Wk(e,t,s){const n=Ki(Object.create(null),[s?Bt.get(s):{},Bt.get(t),e.defaults]);Bt.set(t,n),e.defaultRoutes&&qk(t,e.defaultRoutes),e.descriptors&&Bt.describe(t,e.descriptors)}function qk(e,t){Object.keys(t).forEach(s=>{const n=s.split("."),i=n.pop(),o=[e].concat(n).join("."),r=t[s].split("."),a=r.pop(),l=r.join(".");Bt.route(o,i,l,a)})}function Kk(e){return"id"in e&&"defaults"in e}class Gk{constructor(){this.controllers=new Oo(Ve,"datasets",!0),this.elements=new Oo(Ms,"elements"),this.plugins=new Oo(Object,"plugins"),this.scales=new Oo(yn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,s,n){[...s].forEach(i=>{const o=n||this._getRegistryForType(i);n||o.isForType(i)||o===this.plugins&&i.id?this._exec(t,o,i):At(i,r=>{const a=n||this._getRegistryForType(r);this._exec(t,a,r)})})}_exec(t,s,n){const i=Xl(t);It(n["before"+i],[],n),s[t](n),It(n["after"+i],[],n)}_getRegistryForType(t){for(let s=0;s<this._typedRegistries.length;s++){const n=this._typedRegistries[s];if(n.isForType(t))return n}return this.plugins}_get(t,s,n){const i=s.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return i}}var Ze=new Gk;class Yk{constructor(){this._init=[]}notify(t,s,n,i){s==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=i?this._descriptors(t).filter(i):this._descriptors(t),r=this._notify(o,t,s,n);return s==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),r}_notify(t,s,n,i){i=i||{};for(const o of t){const r=o.plugin,a=r[n],l=[s,i,o.options];if(It(a,l,r)===!1&&i.cancelable)return!1}return!0}invalidate(){bt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),s}_createDescriptors(t,s){const n=t&&t.config,i=ht(n.options&&n.options.plugins,{}),o=Jk(n);return i===!1&&!s?[]:Qk(t,o,i,s)}_notifyStateChanges(t){const s=this._oldCache||[],n=this._cache,i=(o,r)=>o.filter(a=>!r.some(l=>a.plugin.id===l.plugin.id));this._notify(i(s,n),t,"stop"),this._notify(i(n,s),t,"start")}}function Jk(e){const t={},s=[],n=Object.keys(Ze.plugins.items);for(let o=0;o<n.length;o++)s.push(Ze.getPlugin(n[o]));const i=e.plugins||[];for(let o=0;o<i.length;o++){const r=i[o];s.indexOf(r)===-1&&(s.push(r),t[r.id]=!0)}return{plugins:s,localIds:t}}function Xk(e,t){return!t&&e===!1?null:e===!0?{}:e}function Qk(e,{plugins:t,localIds:s},n,i){const o=[],r=e.getContext();for(const a of t){const l=a.id,c=Xk(n[l],i);c!==null&&o.push({plugin:a,options:Zk(e.config,{plugin:a,local:s[l]},c,r)})}return o}function Zk(e,{plugin:t,local:s},n,i){const o=e.pluginScopeKeys(t),r=e.getOptionScopes(n,o);return s&&t.defaults&&r.push(t.defaults),e.createResolver(r,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function rl(e,t){const s=Bt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||s.indexAxis||"x"}function t2(e,t){let s=e;return e==="_index_"?s=t:e==="_value_"&&(s=t==="x"?"y":"x"),s}function e2(e,t){return e===t?"_index_":"_value_"}function pu(e){if(e==="x"||e==="y"||e==="r")return e}function s2(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function al(e,...t){if(pu(e))return e;for(const s of t){const n=s.axis||s2(s.position)||e.length>1&&pu(e[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function mu(e,t,s){if(s[t+"AxisID"]===e)return{axis:t}}function n2(e,t){if(t.data&&t.data.datasets){const s=t.data.datasets.filter(n=>n.xAxisID===e||n.yAxisID===e);if(s.length)return mu(e,"x",s[0])||mu(e,"y",s[0])}return{}}function i2(e,t){const s=pn[e.type]||{scales:{}},n=t.scales||{},i=rl(e.type,t),o=Object.create(null);return Object.keys(n).forEach(r=>{const a=n[r];if(!xt(a))return console.error(`Invalid scale configuration for scale: ${r}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${r}`);const l=al(r,a,n2(r,e),Bt.scales[a.type]),c=e2(l,i),d=s.scales||{};o[r]=Ti(Object.create(null),[{axis:l},a,d[l],d[c]])}),e.data.datasets.forEach(r=>{const a=r.type||e.type,l=r.indexAxis||rl(a,t),d=(pn[a]||{}).scales||{};Object.keys(d).forEach(h=>{const f=t2(h,l),p=r[f+"AxisID"]||f;o[p]=o[p]||Object.create(null),Ti(o[p],[{axis:f},n[p],d[h]])})}),Object.keys(o).forEach(r=>{const a=o[r];Ti(a,[Bt.scales[a.type],Bt.scale])}),o}function Op(e){const t=e.options||(e.options={});t.plugins=ht(t.plugins,{}),t.scales=i2(e,t)}function Dp(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function o2(e){return e=e||{},e.data=Dp(e.data),Op(e),e}const gu=new Map,Ip=new Set;function Do(e,t){let s=gu.get(e);return s||(s=t(),gu.set(e,s),Ip.add(s)),s}const ui=(e,t,s)=>{const n=Hs(t,s);n!==void 0&&e.add(n)};class r2{constructor(t){this._config=o2(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Dp(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Op(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Do(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,s){return Do(`${t}.transition.${s}`,()=>[[`datasets.${t}.transitions.${s}`,`transitions.${s}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,s){return Do(`${t}-${s}`,()=>[[`datasets.${t}.elements.${s}`,`datasets.${t}`,`elements.${s}`,""]])}pluginScopeKeys(t){const s=t.id,n=this.type;return Do(`${n}-plugin-${s}`,()=>[[`plugins.${s}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,s){const n=this._scopeCache;let i=n.get(t);return(!i||s)&&(i=new Map,n.set(t,i)),i}getOptionScopes(t,s,n){const{options:i,type:o}=this,r=this._cachedScopes(t,n),a=r.get(s);if(a)return a;const l=new Set;s.forEach(d=>{t&&(l.add(t),d.forEach(h=>ui(l,t,h))),d.forEach(h=>ui(l,i,h)),d.forEach(h=>ui(l,pn[o]||{},h)),d.forEach(h=>ui(l,Bt,h)),d.forEach(h=>ui(l,nl,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),Ip.has(s)&&r.set(s,c),c}chartOptionScopes(){const{options:t,type:s}=this;return[t,pn[s]||{},Bt.datasets[s]||{},{type:s},Bt,nl]}resolveNamedOptions(t,s,n,i=[""]){const o={$shared:!0},{resolver:r,subPrefixes:a}=bu(this._resolverCache,t,i);let l=r;if(l2(r,s)){o.$shared=!1,n=Ws(n)?n():n;const c=this.createResolver(t,n,a);l=qn(r,n,c)}for(const c of s)o[c]=l[c];return o}createResolver(t,s,n=[""],i){const{resolver:o}=bu(this._resolverCache,t,n);return xt(s)?qn(o,s,void 0,i):o}}function bu(e,t,s){let n=e.get(t);n||(n=new Map,e.set(t,n));const i=s.join();let o=n.get(i);return o||(o={resolver:nc(t,s),subPrefixes:s.filter(a=>!a.toLowerCase().includes("hover"))},n.set(i,o)),o}const a2=e=>xt(e)&&Object.getOwnPropertyNames(e).some(t=>Ws(e[t]));function l2(e,t){const{isScriptable:s,isIndexable:n}=up(e);for(const i of t){const o=s(i),r=n(i),a=(r||o)&&e[i];if(o&&(Ws(a)||a2(a))||r&&Lt(a))return!0}return!1}var c2="4.4.9";const d2=["top","bottom","left","right","chartArea"];function yu(e,t){return e==="top"||e==="bottom"||d2.indexOf(e)===-1&&t==="x"}function xu(e,t){return function(s,n){return s[e]===n[e]?s[t]-n[t]:s[e]-n[e]}}function _u(e){const t=e.chart,s=t.options.animation;t.notifyPlugins("afterRender"),It(s&&s.onComplete,[e],t)}function u2(e){const t=e.chart,s=t.options.animation;It(s&&s.onProgress,[e],t)}function Rp(e){return rc()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Xo={},vu=e=>{const t=Rp(e);return Object.values(Xo).filter(s=>s.canvas===t).pop()};function h2(e,t,s){const n=Object.keys(e);for(const i of n){const o=+i;if(o>=t){const r=e[i];delete e[i],(s>0||o>t)&&(e[o+s]=r)}}}function f2(e,t,s,n){return!s||e.type==="mouseout"?null:n?t:e}class es{static register(...t){Ze.add(...t),wu()}static unregister(...t){Ze.remove(...t),wu()}constructor(t,s){const n=this.config=new r2(s),i=Rp(t),o=vu(i);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const r=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||Ok(i)),this.platform.updateConfig(n);const a=this.platform.acquireContext(i,r.aspectRatio),l=a&&a.canvas,c=l&&l.height,d=l&&l.width;if(this.id=p1(),this.ctx=a,this.canvas=l,this.width=d,this.height=c,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Yk,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=O1(h=>this.update(h),r.resizeDelay||0),this._dataChanges=[],Xo[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}ds.listen(this,"complete",_u),ds.listen(this,"progress",u2),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:s},width:n,height:i,_aspectRatio:o}=this;return bt(t)?s&&o?o:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ze}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Hd(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return $d(this.canvas,this.ctx),this}stop(){return ds.stop(this),this}resize(t,s){ds.running(this)?this._resizeBeforeDraw={width:t,height:s}:this._resize(t,s)}_resize(t,s){const n=this.options,i=this.canvas,o=n.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(i,t,s,o),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,Hd(this,a,!0)&&(this.notifyPlugins("resize",{size:r}),It(n.onResize,[this,r],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};At(s,(n,i)=>{n.id=i})}buildOrUpdateScales(){const t=this.options,s=t.scales,n=this.scales,i=Object.keys(n).reduce((r,a)=>(r[a]=!1,r),{});let o=[];s&&(o=o.concat(Object.keys(s).map(r=>{const a=s[r],l=al(r,a),c=l==="r",d=l==="x";return{options:a,dposition:c?"chartArea":d?"bottom":"left",dtype:c?"radialLinear":d?"category":"linear"}}))),At(o,r=>{const a=r.options,l=a.id,c=al(l,a),d=ht(a.type,r.dtype);(a.position===void 0||yu(a.position,c)!==yu(r.dposition))&&(a.position=r.dposition),i[l]=!0;let h=null;if(l in n&&n[l].type===d)h=n[l];else{const f=Ze.getScale(d);h=new f({id:l,type:d,ctx:this.ctx,chart:this}),n[h.id]=h}h.init(a,t)}),At(i,(r,a)=>{r||delete n[a]}),At(n,r=>{ne.configure(this,r,r.options),ne.addBox(this,r)})}_updateMetasets(){const t=this._metasets,s=this.data.datasets.length,n=t.length;if(t.sort((i,o)=>i.index-o.index),n>s){for(let i=s;i<n;++i)this._destroyDatasetMeta(i);t.splice(s,n-s)}this._sortedMetasets=t.slice(0).sort(xu("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:s}}=this;t.length>s.length&&delete this._stacks,t.forEach((n,i)=>{s.filter(o=>o===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],s=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=s.length;n<i;n++){const o=s[n];let r=this.getDatasetMeta(n);const a=o.type||this.config.type;if(r.type&&r.type!==a&&(this._destroyDatasetMeta(n),r=this.getDatasetMeta(n)),r.type=a,r.indexAxis=o.indexAxis||rl(a,this.options),r.order=o.order||0,r.index=n,r.label=""+o.label,r.visible=this.isDatasetVisible(n),r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{const l=Ze.getController(a),{datasetElementType:c,dataElementType:d}=Bt.datasets[a];Object.assign(l,{dataElementType:Ze.getElement(d),datasetElementType:c&&Ze.getElement(c)}),r.controller=new l(this,n),t.push(r.controller)}}return this._updateMetasets(),t}_resetElements(){At(this.data.datasets,(t,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const s=this.config;s.update();const n=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let c=0,d=this.data.datasets.length;c<d;c++){const{controller:h}=this.getDatasetMeta(c),f=!i&&o.indexOf(h)===-1;h.buildOrUpdateElements(f),r=Math.max(+h.getMaxOverflow(),r)}r=this._minPadding=n.layout.autoPadding?r:0,this._updateLayout(r),i||At(o,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(xu("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){At(this.scales,t=>{ne.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,s=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!Dd(s,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,s=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:o}of s){const r=n==="_removeElements"?-o:o;h2(t,i,r)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const s=this.data.datasets.length,n=o=>new Set(t.filter(r=>r[0]===o).map((r,a)=>a+","+r.splice(1).join(","))),i=n(0);for(let o=1;o<s;o++)if(!Dd(i,n(o)))return;return Array.from(i).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ne.update(this,this.width,this.height,t);const s=this.chartArea,n=s.width<=0||s.height<=0;this._layers=[],At(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,o)=>{i._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let s=0,n=this.data.datasets.length;s<n;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,n=this.data.datasets.length;s<n;++s)this._updateDataset(s,Ws(t)?t({datasetIndex:s}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,s){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(s),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ds.has(this)?this.attached&&!ds.running(this)&&ds.start(this):(this.draw(),_u({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(t=0;t<s.length&&s[t].z<=0;++t)s[t].draw(this.chartArea);for(this._drawDatasets();t<s.length;++t)s[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const s=this._sortedMetasets,n=[];let i,o;for(i=0,o=s.length;i<o;++i){const r=s[i];(!t||r.visible)&&n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let s=t.length-1;s>=0;--s)this._drawDataset(t[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const s=this.ctx,n={meta:t,index:t.index,cancelable:!0},i=wp(this,t);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&zr(s,i),t.controller.draw(),i&&Hr(s),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(t){return xs(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,s,n,i){const o=dk.modes[s];return typeof o=="function"?o(this,t,n,i):[]}getDatasetMeta(t){const s=this.data.datasets[t],n=this._metasets;let i=n.filter(o=>o&&o._dataset===s).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:t,_dataset:s,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=Gs(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const s=this.data.datasets[t];if(!s)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!s.hidden}setDatasetVisibility(t,s){const n=this.getDatasetMeta(t);n.hidden=!s}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,s,n){const i=n?"show":"hide",o=this.getDatasetMeta(t),r=o.controller._resolveAnimations(void 0,i);Gi(s)?(o.data[s].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),r.update(o,{visible:n}),this.update(a=>a.datasetIndex===t?i:void 0))}hide(t,s){this._updateVisibility(t,s,!1)}show(t,s){this._updateVisibility(t,s,!0)}_destroyDatasetMeta(t){const s=this._metasets[t];s&&s.controller&&s.controller._destroy(),delete this._metasets[t]}_stop(){let t,s;for(this.stop(),ds.remove(this),t=0,s=this.data.datasets.length;t<s;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:s}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),$d(t,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete Xo[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,s=this.platform,n=(o,r)=>{s.addEventListener(this,o,r),t[o]=r},i=(o,r,a)=>{o.offsetX=r,o.offsetY=a,this._eventHandler(o)};At(this.options.events,o=>n(o,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,s=this.platform,n=(l,c)=>{s.addEventListener(this,l,c),t[l]=c},i=(l,c)=>{t[l]&&(s.removeEventListener(this,l,c),delete t[l])},o=(l,c)=>{this.canvas&&this.resize(l,c)};let r;const a=()=>{i("attach",a),this.attached=!0,this.resize(),n("resize",o),n("detach",r)};r=()=>{this.attached=!1,i("resize",o),this._stop(),this._resize(0,0),n("attach",a)},s.isAttached(this.canvas)?a():r()}unbindEvents(){At(this._listeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._listeners={},At(this._responsiveListeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,s,n){const i=n?"set":"remove";let o,r,a,l;for(s==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){r=t[a];const c=r&&this.getDatasetMeta(r.datasetIndex).controller;c&&c[i+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const s=this._active||[],n=t.map(({datasetIndex:o,index:r})=>{const a=this.getDatasetMeta(o);if(!a)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:a.data[r],index:r}});!ur(n,s)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,s))}notifyPlugins(t,s,n){return this._plugins.notify(this,t,s,n)}isPluginEnabled(t){return this._plugins._cache.filter(s=>s.plugin.id===t).length===1}_updateHoverStyles(t,s,n){const i=this.options.hover,o=(l,c)=>l.filter(d=>!c.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),r=o(s,t),a=n?t:o(t,s);r.length&&this.updateHoverStyle(r,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(t,s){const n={event:t,replay:s,cancelable:!0,inChartArea:this.isPointInArea(t)},i=r=>(r.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const o=this._handleEvent(t,s,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(o||n.changed)&&this.render(),this}_handleEvent(t,s,n){const{_active:i=[],options:o}=this,r=s,a=this._getActiveElements(t,i,n,r),l=_1(t),c=f2(t,this._lastEvent,n,l);n&&(this._lastEvent=null,It(o.onHover,[t,a,this],this),l&&It(o.onClick,[t,a,this],this));const d=!ur(a,i);return(d||s)&&(this._active=a,this._updateHoverStyles(a,i,s)),this._lastEvent=c,d}_getActiveElements(t,s,n,i){if(t.type==="mouseout")return[];if(!n)return s;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,i)}}$(es,"defaults",Bt),$(es,"instances",Xo),$(es,"overrides",pn),$(es,"registry",Ze),$(es,"version",c2),$(es,"getChart",vu);function wu(){return At(es.instances,e=>e._plugins.invalidate())}function p2(e,t,s){const{startAngle:n,pixelMargin:i,x:o,y:r,outerRadius:a,innerRadius:l}=t;let c=i/a;e.beginPath(),e.arc(o,r,a,n-c,s+c),l>i?(c=i/l,e.arc(o,r,l,s+c,n-c,!0)):e.arc(o,r,i,s+Vt,n-Vt),e.closePath(),e.clip()}function m2(e){return sc(e,["outerStart","outerEnd","innerStart","innerEnd"])}function g2(e,t,s,n){const i=m2(e.options.borderRadius),o=(s-t)/2,r=Math.min(o,n*t/2),a=l=>{const c=(s-Math.min(o,l))*n/2;return Gt(l,0,Math.min(o,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Gt(i.innerStart,0,r),innerEnd:Gt(i.innerEnd,0,r)}}function Sn(e,t,s,n){return{x:s+e*Math.cos(t),y:n+e*Math.sin(t)}}function br(e,t,s,n,i,o){const{x:r,y:a,startAngle:l,pixelMargin:c,innerRadius:d}=t,h=Math.max(t.outerRadius+n+s-c,0),f=d>0?d+n+s+c:0;let p=0;const m=i-l;if(n){const _t=d>0?d-n:0,ct=h>0?h-n:0,rt=(_t+ct)/2,ut=rt!==0?m*rt/(rt+n):m;p=(m-ut)/2}const g=Math.max(.001,m*h-s/Nt)/h,b=(m-g)/2,y=l+b+p,_=i-b-p,{outerStart:S,outerEnd:k,innerStart:M,innerEnd:T}=g2(t,f,h,_-y),P=h-S,F=h-k,Y=y+S/P,Q=_-k/F,st=f+M,at=f+T,gt=y+M/st,Wt=_-T/at;if(e.beginPath(),o){const _t=(Y+Q)/2;if(e.arc(r,a,h,Y,_t),e.arc(r,a,h,_t,Q),k>0){const Pt=Sn(F,Q,r,a);e.arc(Pt.x,Pt.y,k,Q,_+Vt)}const ct=Sn(at,_,r,a);if(e.lineTo(ct.x,ct.y),T>0){const Pt=Sn(at,Wt,r,a);e.arc(Pt.x,Pt.y,T,_+Vt,Wt+Math.PI)}const rt=(_-T/f+(y+M/f))/2;if(e.arc(r,a,f,_-T/f,rt,!0),e.arc(r,a,f,rt,y+M/f,!0),M>0){const Pt=Sn(st,gt,r,a);e.arc(Pt.x,Pt.y,M,gt+Math.PI,y-Vt)}const ut=Sn(P,y,r,a);if(e.lineTo(ut.x,ut.y),S>0){const Pt=Sn(P,Y,r,a);e.arc(Pt.x,Pt.y,S,y-Vt,Y)}}else{e.moveTo(r,a);const _t=Math.cos(Y)*h+r,ct=Math.sin(Y)*h+a;e.lineTo(_t,ct);const rt=Math.cos(Q)*h+r,ut=Math.sin(Q)*h+a;e.lineTo(rt,ut)}e.closePath()}function b2(e,t,s,n,i){const{fullCircles:o,startAngle:r,circumference:a}=t;let l=t.endAngle;if(o){br(e,t,s,n,l,i);for(let c=0;c<o;++c)e.fill();isNaN(a)||(l=r+(a%Ft||Ft))}return br(e,t,s,n,l,i),e.fill(),l}function y2(e,t,s,n,i){const{fullCircles:o,startAngle:r,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:d,borderDash:h,borderDashOffset:f}=l,p=l.borderAlign==="inner";if(!c)return;e.setLineDash(h||[]),e.lineDashOffset=f,p?(e.lineWidth=c*2,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let m=t.endAngle;if(o){br(e,t,s,n,m,i);for(let g=0;g<o;++g)e.stroke();isNaN(a)||(m=r+(a%Ft||Ft))}p&&p2(e,t,m),o||(br(e,t,s,n,m,i),e.stroke())}class bi extends Ms{constructor(s){super();$(this,"circumference");$(this,"endAngle");$(this,"fullCircles");$(this,"innerRadius");$(this,"outerRadius");$(this,"pixelMargin");$(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,n,i){const o=this.getProps(["x","y"],i),{angle:r,distance:a}=ep(o,{x:s,y:n}),{startAngle:l,endAngle:c,innerRadius:d,outerRadius:h,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),p=(this.options.spacing+this.options.borderWidth)/2,m=ht(f,c-l),g=Yi(r,l,c)&&l!==c,b=m>=Ft||g,y=bs(a,d+p,h+p);return b&&y}getCenterPoint(s){const{x:n,y:i,startAngle:o,endAngle:r,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:c,spacing:d}=this.options,h=(o+r)/2,f=(a+l+d+c)/2;return{x:n+Math.cos(h)*f,y:i+Math.sin(h)*f}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:n,circumference:i}=this,o=(n.offset||0)/4,r=(n.spacing||0)/2,a=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>Ft?Math.floor(i/Ft):0,i===0||this.innerRadius<0||this.outerRadius<0)return;s.save();const l=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(l)*o,Math.sin(l)*o);const c=1-Math.sin(Math.min(Nt,i||0)),d=o*c;s.fillStyle=n.backgroundColor,s.strokeStyle=n.borderColor,b2(s,this,d,r,a),y2(s,this,d,r,a),s.restore()}}$(bi,"id","arc"),$(bi,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),$(bi,"defaultRoutes",{backgroundColor:"backgroundColor"}),$(bi,"descriptors",{_scriptable:!0,_indexable:s=>s!=="borderDash"});function Lp(e,t,s=t){e.lineCap=ht(s.borderCapStyle,t.borderCapStyle),e.setLineDash(ht(s.borderDash,t.borderDash)),e.lineDashOffset=ht(s.borderDashOffset,t.borderDashOffset),e.lineJoin=ht(s.borderJoinStyle,t.borderJoinStyle),e.lineWidth=ht(s.borderWidth,t.borderWidth),e.strokeStyle=ht(s.borderColor,t.borderColor)}function x2(e,t,s){e.lineTo(s.x,s.y)}function _2(e){return e.stepped?z1:e.tension||e.cubicInterpolationMode==="monotone"?H1:x2}function Fp(e,t,s={}){const n=e.length,{start:i=0,end:o=n-1}=s,{start:r,end:a}=t,l=Math.max(i,r),c=Math.min(o,a),d=i<r&&o<r||i>a&&o>a;return{count:n,start:l,loop:t.loop,ilen:c<l&&!d?n+c-l:c-l}}function v2(e,t,s,n){const{points:i,options:o}=t,{count:r,start:a,loop:l,ilen:c}=Fp(i,s,n),d=_2(o);let{move:h=!0,reverse:f}=n||{},p,m,g;for(p=0;p<=c;++p)m=i[(a+(f?c-p:p))%r],!m.skip&&(h?(e.moveTo(m.x,m.y),h=!1):d(e,g,m,f,o.stepped),g=m);return l&&(m=i[(a+(f?c:0))%r],d(e,g,m,f,o.stepped)),!!l}function w2(e,t,s,n){const i=t.points,{count:o,start:r,ilen:a}=Fp(i,s,n),{move:l=!0,reverse:c}=n||{};let d=0,h=0,f,p,m,g,b,y;const _=k=>(r+(c?a-k:k))%o,S=()=>{g!==b&&(e.lineTo(d,b),e.lineTo(d,g),e.lineTo(d,y))};for(l&&(p=i[_(0)],e.moveTo(p.x,p.y)),f=0;f<=a;++f){if(p=i[_(f)],p.skip)continue;const k=p.x,M=p.y,T=k|0;T===m?(M<g?g=M:M>b&&(b=M),d=(h*d+k)/++h):(S(),e.lineTo(k,M),m=T,h=0,g=b=M),y=M}S()}function ll(e){const t=e.options,s=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!s?w2:v2}function k2(e){return e.stepped?ww:e.tension||e.cubicInterpolationMode==="monotone"?kw:an}function S2(e,t,s,n){let i=t._path;i||(i=t._path=new Path2D,t.path(i,s,n)&&i.closePath()),Lp(e,t.options),e.stroke(i)}function C2(e,t,s,n){const{segments:i,options:o}=t,r=ll(t);for(const a of i)Lp(e,o,a.style),e.beginPath(),r(e,t,a,{start:s,end:s+n-1})&&e.closePath(),e.stroke()}const M2=typeof Path2D=="function";function A2(e,t,s,n){M2&&!t.options.segment?S2(e,t,s,n):C2(e,t,s,n)}class js extends Ms{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,s){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;pw(this._points,n,t,i,s),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Pw(this,this.options.segment))}first(){const t=this.segments,s=this.points;return t.length&&s[t[0].start]}last(){const t=this.segments,s=this.points,n=t.length;return n&&s[t[n-1].end]}interpolate(t,s){const n=this.options,i=t[s],o=this.points,r=vp(this,{property:s,start:i,end:i});if(!r.length)return;const a=[],l=k2(n);let c,d;for(c=0,d=r.length;c<d;++c){const{start:h,end:f}=r[c],p=o[h],m=o[f];if(p===m){a.push(p);continue}const g=Math.abs((i-p[s])/(m[s]-p[s])),b=l(p,m,g,n.stepped);b[s]=t[s],a.push(b)}return a.length===1?a[0]:a}pathSegment(t,s,n){return ll(this)(t,this,s,n)}path(t,s,n){const i=this.segments,o=ll(this);let r=this._loop;s=s||0,n=n||this.points.length-s;for(const a of i)r&=o(t,this,a,{start:s,end:s+n-1});return!!r}draw(t,s,n,i){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),A2(t,this,n,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}$(js,"id","line"),$(js,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),$(js,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),$(js,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function ku(e,t,s,n){const i=e.options,{[s]:o}=e.getProps([s],n);return Math.abs(t-o)<i.radius+i.hitRadius}class Qo extends Ms{constructor(s){super();$(this,"parsed");$(this,"skip");$(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,n,i){const o=this.options,{x:r,y:a}=this.getProps(["x","y"],i);return Math.pow(s-r,2)+Math.pow(n-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(s,n){return ku(this,s,"x",n)}inYRange(s,n){return ku(this,s,"y",n)}getCenterPoint(s){const{x:n,y:i}=this.getProps(["x","y"],s);return{x:n,y:i}}size(s){s=s||this.options||{};let n=s.radius||0;n=Math.max(n,n&&s.hoverRadius||0);const i=n&&s.borderWidth||0;return(n+i)*2}draw(s,n){const i=this.options;this.skip||i.radius<.1||!xs(this,n,this.size(i)/2)||(s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.fillStyle=i.backgroundColor,il(s,i,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}$(Qo,"id","point"),$(Qo,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),$(Qo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Np(e,t){const{x:s,y:n,base:i,width:o,height:r}=e.getProps(["x","y","base","width","height"],t);let a,l,c,d,h;return e.horizontal?(h=r/2,a=Math.min(s,i),l=Math.max(s,i),c=n-h,d=n+h):(h=o/2,a=s-h,l=s+h,c=Math.min(n,i),d=Math.max(n,i)),{left:a,top:c,right:l,bottom:d}}function Bs(e,t,s,n){return e?0:Gt(t,s,n)}function E2(e,t,s){const n=e.options.borderWidth,i=e.borderSkipped,o=dp(n);return{t:Bs(i.top,o.top,0,s),r:Bs(i.right,o.right,0,t),b:Bs(i.bottom,o.bottom,0,s),l:Bs(i.left,o.left,0,t)}}function P2(e,t,s){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,o=un(i),r=Math.min(t,s),a=e.borderSkipped,l=n||xt(i);return{topLeft:Bs(!l||a.top||a.left,o.topLeft,0,r),topRight:Bs(!l||a.top||a.right,o.topRight,0,r),bottomLeft:Bs(!l||a.bottom||a.left,o.bottomLeft,0,r),bottomRight:Bs(!l||a.bottom||a.right,o.bottomRight,0,r)}}function T2(e){const t=Np(e),s=t.right-t.left,n=t.bottom-t.top,i=E2(e,s/2,n/2),o=P2(e,s/2,n/2);return{outer:{x:t.left,y:t.top,w:s,h:n,radius:o},inner:{x:t.left+i.l,y:t.top+i.t,w:s-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function Ma(e,t,s,n){const i=t===null,o=s===null,a=e&&!(i&&o)&&Np(e,n);return a&&(i||bs(t,a.left,a.right))&&(o||bs(s,a.top,a.bottom))}function O2(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function D2(e,t){e.rect(t.x,t.y,t.w,t.h)}function Aa(e,t,s={}){const n=e.x!==s.x?-t:0,i=e.y!==s.y?-t:0,o=(e.x+e.w!==s.x+s.w?t:0)-n,r=(e.y+e.h!==s.y+s.h?t:0)-i;return{x:e.x+n,y:e.y+i,w:e.w+o,h:e.h+r,radius:e.radius}}class Zo extends Ms{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:s,options:{borderColor:n,backgroundColor:i}}=this,{inner:o,outer:r}=T2(this),a=O2(r.radius)?Ji:D2;t.save(),(r.w!==o.w||r.h!==o.h)&&(t.beginPath(),a(t,Aa(r,s,o)),t.clip(),a(t,Aa(o,-s,r)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),a(t,Aa(o,s)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,s,n){return Ma(this,t,s,n)}inXRange(t,s){return Ma(this,t,null,s)}inYRange(t,s){return Ma(this,null,t,s)}getCenterPoint(t){const{x:s,y:n,base:i,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(s+i)/2:s,y:o?n:(n+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}$(Zo,"id","bar"),$(Zo,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),$(Zo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var I2=Object.freeze({__proto__:null,ArcElement:bi,BarElement:Zo,LineElement:js,PointElement:Qo});const cl=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Su=cl.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function jp(e){return cl[e%cl.length]}function Bp(e){return Su[e%Su.length]}function R2(e,t){return e.borderColor=jp(t),e.backgroundColor=Bp(t),++t}function L2(e,t){return e.backgroundColor=e.data.map(()=>jp(t++)),t}function F2(e,t){return e.backgroundColor=e.data.map(()=>Bp(t++)),t}function N2(e){let t=0;return(s,n)=>{const i=e.getDatasetMeta(n).controller;i instanceof cn?t=L2(s,t):i instanceof Ri?t=F2(s,t):i&&(t=R2(s,t))}}function Cu(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function j2(e){return e&&(e.borderColor||e.backgroundColor)}function B2(){return Bt.borderColor!=="rgba(0,0,0,0.1)"||Bt.backgroundColor!=="rgba(0,0,0,0.1)"}var U2={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,s){if(!s.enabled)return;const{data:{datasets:n},options:i}=e.config,{elements:o}=i,r=Cu(n)||j2(i)||o&&Cu(o)||B2();if(!s.forceOverride&&r)return;const a=N2(e);n.forEach(a)}};function $2(e,t,s,n,i){const o=i.samples||n;if(o>=s)return e.slice(t,t+s);const r=[],a=(s-2)/(o-2);let l=0;const c=t+s-1;let d=t,h,f,p,m,g;for(r[l++]=e[d],h=0;h<o-2;h++){let b=0,y=0,_;const S=Math.floor((h+1)*a)+1+t,k=Math.min(Math.floor((h+2)*a)+1,s)+t,M=k-S;for(_=S;_<k;_++)b+=e[_].x,y+=e[_].y;b/=M,y/=M;const T=Math.floor(h*a)+1+t,P=Math.min(Math.floor((h+1)*a)+1,s)+t,{x:F,y:Y}=e[d];for(p=m=-1,_=T;_<P;_++)m=.5*Math.abs((F-b)*(e[_].y-Y)-(F-e[_].x)*(y-Y)),m>p&&(p=m,f=e[_],g=_);r[l++]=f,d=g}return r[l++]=e[c],r}function V2(e,t,s,n){let i=0,o=0,r,a,l,c,d,h,f,p,m,g;const b=[],y=t+s-1,_=e[t].x,k=e[y].x-_;for(r=t;r<t+s;++r){a=e[r],l=(a.x-_)/k*n,c=a.y;const M=l|0;if(M===d)c<m?(m=c,h=r):c>g&&(g=c,f=r),i=(o*i+a.x)/++o;else{const T=r-1;if(!bt(h)&&!bt(f)){const P=Math.min(h,f),F=Math.max(h,f);P!==p&&P!==T&&b.push({...e[P],x:i}),F!==p&&F!==T&&b.push({...e[F],x:i})}r>0&&T!==p&&b.push(e[T]),b.push(a),d=M,o=0,m=g=c,h=f=p=r}}return b}function Up(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Mu(e){e.data.datasets.forEach(t=>{Up(t)})}function z2(e,t){const s=t.length;let n=0,i;const{iScale:o}=e,{min:r,max:a,minDefined:l,maxDefined:c}=o.getUserBounds();return l&&(n=Gt(ys(t,o.axis,r).lo,0,s-1)),c?i=Gt(ys(t,o.axis,a).hi+1,n,s)-n:i=s-n,{start:n,count:i}}var H2={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,s)=>{if(!s.enabled){Mu(e);return}const n=e.width;e.data.datasets.forEach((i,o)=>{const{_data:r,indexAxis:a}=i,l=e.getDatasetMeta(o),c=r||i.data;if(mi([a,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const d=e.scales[l.xAxisID];if(d.type!=="linear"&&d.type!=="time"||e.options.parsing)return;let{start:h,count:f}=z2(l,c);const p=s.threshold||4*n;if(f<=p){Up(i);return}bt(r)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let m;switch(s.algorithm){case"lttb":m=$2(c,h,f,n,s);break;case"min-max":m=V2(c,h,f,n);break;default:throw new Error(`Unsupported decimation algorithm '${s.algorithm}'`)}i._decimated=m})},destroy(e){Mu(e)}};function W2(e,t,s){const n=e.segments,i=e.points,o=t.points,r=[];for(const a of n){let{start:l,end:c}=a;c=cc(l,c,i);const d=dl(s,i[l],i[c],a.loop);if(!t.segments){r.push({source:a,target:d,start:i[l],end:i[c]});continue}const h=vp(t,d);for(const f of h){const p=dl(s,o[f.start],o[f.end],f.loop),m=_p(a,i,p);for(const g of m)r.push({source:g,target:f,start:{[s]:Au(d,p,"start",Math.max)},end:{[s]:Au(d,p,"end",Math.min)}})}}return r}function dl(e,t,s,n){if(n)return;let i=t[e],o=s[e];return e==="angle"&&(i=Ce(i),o=Ce(o)),{property:e,start:i,end:o}}function q2(e,t){const{x:s=null,y:n=null}=e||{},i=t.points,o=[];return t.segments.forEach(({start:r,end:a})=>{a=cc(r,a,i);const l=i[r],c=i[a];n!==null?(o.push({x:l.x,y:n}),o.push({x:c.x,y:n})):s!==null&&(o.push({x:s,y:l.y}),o.push({x:s,y:c.y}))}),o}function cc(e,t,s){for(;t>e;t--){const n=s[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function Au(e,t,s,n){return e&&t?n(e[s],t[s]):e?e[s]:t?t[s]:0}function $p(e,t){let s=[],n=!1;return Lt(e)?(n=!0,s=e):s=q2(e,t),s.length?new js({points:s,options:{tension:0},_loop:n,_fullLoop:n}):null}function Eu(e){return e&&e.fill!==!1}function K2(e,t,s){let i=e[t].fill;const o=[t];let r;if(!s)return i;for(;i!==!1&&o.indexOf(i)===-1;){if(!Ut(i))return i;if(r=e[i],!r)return!1;if(r.visible)return i;o.push(i),i=r.fill}return!1}function G2(e,t,s){const n=Q2(e);if(xt(n))return isNaN(n.value)?!1:n;let i=parseFloat(n);return Ut(i)&&Math.floor(i)===i?Y2(n[0],t,i,s):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function Y2(e,t,s,n){return(e==="-"||e==="+")&&(s=t+s),s===t||s<0||s>=n?!1:s}function J2(e,t){let s=null;return e==="start"?s=t.bottom:e==="end"?s=t.top:xt(e)?s=t.getPixelForValue(e.value):t.getBasePixel&&(s=t.getBasePixel()),s}function X2(e,t,s){let n;return e==="start"?n=s:e==="end"?n=t.options.reverse?t.min:t.max:xt(e)?n=e.value:n=t.getBaseValue(),n}function Q2(e){const t=e.options,s=t.fill;let n=ht(s&&s.target,s);return n===void 0&&(n=!!t.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function Z2(e){const{scale:t,index:s,line:n}=e,i=[],o=n.segments,r=n.points,a=tS(t,s);a.push($p({x:null,y:t.bottom},n));for(let l=0;l<o.length;l++){const c=o[l];for(let d=c.start;d<=c.end;d++)eS(i,r[d],a)}return new js({points:i,options:{}})}function tS(e,t){const s=[],n=e.getMatchingVisibleMetas("line");for(let i=0;i<n.length;i++){const o=n[i];if(o.index===t)break;o.hidden||s.unshift(o.dataset)}return s}function eS(e,t,s){const n=[];for(let i=0;i<s.length;i++){const o=s[i],{first:r,last:a,point:l}=sS(o,t,"x");if(!(!l||r&&a)){if(r)n.unshift(l);else if(e.push(l),!a)break}}e.push(...n)}function sS(e,t,s){const n=e.interpolate(t,s);if(!n)return{};const i=n[s],o=e.segments,r=e.points;let a=!1,l=!1;for(let c=0;c<o.length;c++){const d=o[c],h=r[d.start][s],f=r[d.end][s];if(bs(i,h,f)){a=i===h,l=i===f;break}}return{first:a,last:l,point:n}}class Vp{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,s,n){const{x:i,y:o,radius:r}=this;return s=s||{start:0,end:Ft},t.arc(i,o,r,s.end,s.start,!0),!n.bounds}interpolate(t){const{x:s,y:n,radius:i}=this,o=t.angle;return{x:s+Math.cos(o)*i,y:n+Math.sin(o)*i,angle:o}}}function nS(e){const{chart:t,fill:s,line:n}=e;if(Ut(s))return iS(t,s);if(s==="stack")return Z2(e);if(s==="shape")return!0;const i=oS(e);return i instanceof Vp?i:$p(i,n)}function iS(e,t){const s=e.getDatasetMeta(t);return s&&e.isDatasetVisible(t)?s.dataset:null}function oS(e){return(e.scale||{}).getPointPositionForValue?aS(e):rS(e)}function rS(e){const{scale:t={},fill:s}=e,n=J2(s,t);if(Ut(n)){const i=t.isHorizontal();return{x:i?n:null,y:i?null:n}}return null}function aS(e){const{scale:t,fill:s}=e,n=t.options,i=t.getLabels().length,o=n.reverse?t.max:t.min,r=X2(s,t,o),a=[];if(n.grid.circular){const l=t.getPointPositionForValue(0,o);return new Vp({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(r)})}for(let l=0;l<i;++l)a.push(t.getPointPositionForValue(l,r));return a}function Ea(e,t,s){const n=nS(t),{chart:i,index:o,line:r,scale:a,axis:l}=t,c=r.options,d=c.fill,h=c.backgroundColor,{above:f=h,below:p=h}=d||{},m=i.getDatasetMeta(o),g=wp(i,m);n&&r.points.length&&(zr(e,s),lS(e,{line:r,target:n,above:f,below:p,area:s,scale:a,axis:l,clip:g}),Hr(e))}function lS(e,t){const{line:s,target:n,above:i,below:o,area:r,scale:a,clip:l}=t,c=s._loop?"angle":t.axis;e.save(),c==="x"&&o!==i&&(Pu(e,n,r.top),Tu(e,{line:s,target:n,color:i,scale:a,property:c,clip:l}),e.restore(),e.save(),Pu(e,n,r.bottom)),Tu(e,{line:s,target:n,color:o,scale:a,property:c,clip:l}),e.restore()}function Pu(e,t,s){const{segments:n,points:i}=t;let o=!0,r=!1;e.beginPath();for(const a of n){const{start:l,end:c}=a,d=i[l],h=i[cc(l,c,i)];o?(e.moveTo(d.x,d.y),o=!1):(e.lineTo(d.x,s),e.lineTo(d.x,d.y)),r=!!t.pathSegment(e,a,{move:r}),r?e.closePath():e.lineTo(h.x,s)}e.lineTo(t.first().x,s),e.closePath(),e.clip()}function Tu(e,t){const{line:s,target:n,property:i,color:o,scale:r,clip:a}=t,l=W2(s,n,i);for(const{source:c,target:d,start:h,end:f}of l){const{style:{backgroundColor:p=o}={}}=c,m=n!==!0;e.save(),e.fillStyle=p,cS(e,r,a,m&&dl(i,h,f)),e.beginPath();const g=!!s.pathSegment(e,c);let b;if(m){g?e.closePath():Ou(e,n,f,i);const y=!!n.pathSegment(e,d,{move:g,reverse:!0});b=g&&y,b||Ou(e,n,h,i)}e.closePath(),e.fill(b?"evenodd":"nonzero"),e.restore()}}function cS(e,t,s,n){const i=t.chart.chartArea,{property:o,start:r,end:a}=n||{};if(o==="x"||o==="y"){let l,c,d,h;o==="x"?(l=r,c=i.top,d=a,h=i.bottom):(l=i.left,c=r,d=i.right,h=a),e.beginPath(),s&&(l=Math.max(l,s.left),d=Math.min(d,s.right),c=Math.max(c,s.top),h=Math.min(h,s.bottom)),e.rect(l,c,d-l,h-c),e.clip()}}function Ou(e,t,s,n){const i=t.interpolate(s,n);i&&e.lineTo(i.x,i.y)}var dS={id:"filler",afterDatasetsUpdate(e,t,s){const n=(e.data.datasets||[]).length,i=[];let o,r,a,l;for(r=0;r<n;++r)o=e.getDatasetMeta(r),a=o.dataset,l=null,a&&a.options&&a instanceof js&&(l={visible:e.isDatasetVisible(r),index:r,fill:G2(a,r,n),chart:e,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,i.push(l);for(r=0;r<n;++r)l=i[r],!(!l||l.fill===!1)&&(l.fill=K2(i,r,s.propagate))},beforeDraw(e,t,s){const n=s.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),o=e.chartArea;for(let r=i.length-1;r>=0;--r){const a=i[r].$filler;a&&(a.line.updateControlPoints(o,a.axis),n&&a.fill&&Ea(e.ctx,a,o))}},beforeDatasetsDraw(e,t,s){if(s.drawTime!=="beforeDatasetsDraw")return;const n=e.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i){const o=n[i].$filler;Eu(o)&&Ea(e.ctx,o,e.chartArea)}},beforeDatasetDraw(e,t,s){const n=t.meta.$filler;!Eu(n)||s.drawTime!=="beforeDatasetDraw"||Ea(e.ctx,n,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Du=(e,t)=>{let{boxHeight:s=t,boxWidth:n=t}=e;return e.usePointStyle&&(s=Math.min(s,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(t,s)}},uS=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class Iu extends Ms{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s,n){this.maxWidth=t,this.maxHeight=s,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let s=It(t.generateLabels,[this.chart],this)||[];t.filter&&(s=s.filter(n=>t.filter(n,this.chart.data))),t.sort&&(s=s.sort((n,i)=>t.sort(n,i,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:t,ctx:s}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,i=qt(n.font),o=i.size,r=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Du(n,o);let c,d;s.font=i.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(r,o,a,l)+10):(d=this.maxHeight,c=this._fitCols(r,i,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,s,n,i){const{ctx:o,maxWidth:r,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],d=i+a;let h=t;o.textAlign="left",o.textBaseline="middle";let f=-1,p=-d;return this.legendItems.forEach((m,g)=>{const b=n+s/2+o.measureText(m.text).width;(g===0||c[c.length-1]+b+2*a>r)&&(h+=d,c[c.length-(g>0?0:1)]=0,p+=d,f++),l[g]={left:0,top:p,row:f,width:b,height:i},c[c.length-1]+=b+a}),h}_fitCols(t,s,n,i){const{ctx:o,maxHeight:r,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],d=r-t;let h=a,f=0,p=0,m=0,g=0;return this.legendItems.forEach((b,y)=>{const{itemWidth:_,itemHeight:S}=hS(n,s,o,b,i);y>0&&p+S+2*a>d&&(h+=f+a,c.push({width:f,height:p}),m+=f+a,g++,f=p=0),l[y]={left:m,top:p,col:g,width:_,height:S},f=Math.max(f,_),p+=S+a}),h+=f,c.push({width:f,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:n,labels:{padding:i},rtl:o}}=this,r=jn(o,this.left,this.width);if(this.isHorizontal()){let a=0,l=te(n,this.left+i,this.right-this.lineWidths[a]);for(const c of s)a!==c.row&&(a=c.row,l=te(n,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+t+i,c.left=r.leftForLtr(r.x(l),c.width),l+=c.width+i}else{let a=0,l=te(n,this.top+t+i,this.bottom-this.columnSizes[a].height);for(const c of s)c.col!==a&&(a=c.col,l=te(n,this.top+t+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=r.leftForLtr(r.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;zr(t,this),this._draw(),Hr(t)}}_draw(){const{options:t,columnSizes:s,lineWidths:n,ctx:i}=this,{align:o,labels:r}=t,a=Bt.color,l=jn(t.rtl,this.left,this.width),c=qt(r.font),{padding:d}=r,h=c.size,f=h/2;let p;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:m,boxHeight:g,itemHeight:b}=Du(r,h),y=function(T,P,F){if(isNaN(m)||m<=0||isNaN(g)||g<0)return;i.save();const Y=ht(F.lineWidth,1);if(i.fillStyle=ht(F.fillStyle,a),i.lineCap=ht(F.lineCap,"butt"),i.lineDashOffset=ht(F.lineDashOffset,0),i.lineJoin=ht(F.lineJoin,"miter"),i.lineWidth=Y,i.strokeStyle=ht(F.strokeStyle,a),i.setLineDash(ht(F.lineDash,[])),r.usePointStyle){const Q={radius:g*Math.SQRT2/2,pointStyle:F.pointStyle,rotation:F.rotation,borderWidth:Y},st=l.xPlus(T,m/2),at=P+f;cp(i,Q,st,at,r.pointStyleWidth&&m)}else{const Q=P+Math.max((h-g)/2,0),st=l.leftForLtr(T,m),at=un(F.borderRadius);i.beginPath(),Object.values(at).some(gt=>gt!==0)?Ji(i,{x:st,y:Q,w:m,h:g,radius:at}):i.rect(st,Q,m,g),i.fill(),Y!==0&&i.stroke()}i.restore()},_=function(T,P,F){mn(i,F.text,T,P+b/2,c,{strikethrough:F.hidden,textAlign:l.textAlign(F.textAlign)})},S=this.isHorizontal(),k=this._computeTitleHeight();S?p={x:te(o,this.left+d,this.right-n[0]),y:this.top+d+k,line:0}:p={x:this.left+d,y:te(o,this.top+k+d,this.bottom-s[0].height),line:0},bp(this.ctx,t.textDirection);const M=b+d;this.legendItems.forEach((T,P)=>{i.strokeStyle=T.fontColor,i.fillStyle=T.fontColor;const F=i.measureText(T.text).width,Y=l.textAlign(T.textAlign||(T.textAlign=r.textAlign)),Q=m+f+F;let st=p.x,at=p.y;l.setWidth(this.width),S?P>0&&st+Q+d>this.right&&(at=p.y+=M,p.line++,st=p.x=te(o,this.left+d,this.right-n[p.line])):P>0&&at+M>this.bottom&&(st=p.x=st+s[p.line].width+d,p.line++,at=p.y=te(o,this.top+k+d,this.bottom-s[p.line].height));const gt=l.x(st);if(y(gt,at,T),st=D1(Y,st+m+f,S?st+Q:this.right,t.rtl),_(l.x(st),at,T),S)p.x+=Q+d;else if(typeof T.text!="string"){const Wt=c.lineHeight;p.y+=zp(T,Wt)+d}else p.y+=M}),yp(this.ctx,t.textDirection)}drawTitle(){const t=this.options,s=t.title,n=qt(s.font),i=re(s.padding);if(!s.display)return;const o=jn(t.rtl,this.left,this.width),r=this.ctx,a=s.position,l=n.size/2,c=i.top+l;let d,h=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),d=this.top+c,h=te(t.align,h,this.right-f);else{const m=this.columnSizes.reduce((g,b)=>Math.max(g,b.height),0);d=c+te(t.align,this.top,this.bottom-m-t.labels.padding-this._computeTitleHeight())}const p=te(a,h,h+f);r.textAlign=o.textAlign(tc(a)),r.textBaseline="middle",r.strokeStyle=s.color,r.fillStyle=s.color,r.font=n.string,mn(r,s.text,p,d,n)}_computeTitleHeight(){const t=this.options.title,s=qt(t.font),n=re(t.padding);return t.display?s.lineHeight+n.height:0}_getLegendItemAt(t,s){let n,i,o;if(bs(t,this.left,this.right)&&bs(s,this.top,this.bottom)){for(o=this.legendHitBoxes,n=0;n<o.length;++n)if(i=o[n],bs(t,i.left,i.left+i.width)&&bs(s,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(t){const s=this.options;if(!mS(t.type,s))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,o=uS(i,n);i&&!o&&It(s.onLeave,[t,i,this],this),this._hoveredItem=n,n&&!o&&It(s.onHover,[t,n,this],this)}else n&&It(s.onClick,[t,n,this],this)}}function hS(e,t,s,n,i){const o=fS(n,e,t,s),r=pS(i,n,t.lineHeight);return{itemWidth:o,itemHeight:r}}function fS(e,t,s,n){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((o,r)=>o.length>r.length?o:r)),t+s.size/2+n.measureText(i).width}function pS(e,t,s){let n=e;return typeof t.text!="string"&&(n=zp(t,s)),n}function zp(e,t){const s=e.text?e.text.length:0;return t*s}function mS(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var gS={id:"legend",_element:Iu,start(e,t,s){const n=e.legend=new Iu({ctx:e.ctx,options:s,chart:e});ne.configure(e,n,s),ne.addBox(e,n)},stop(e){ne.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,s){const n=e.legend;ne.configure(e,n,s),n.options=s},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,s){const n=t.datasetIndex,i=s.chart;i.isDatasetVisible(n)?(i.hide(n),t.hidden=!0):(i.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:i,color:o,useBorderRadius:r,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(s?0:void 0),d=re(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:o,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:r&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class dc extends Ms{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=s;const i=Lt(n.text)?n.text.length:1;this._padding=re(n.padding);const o=i*qt(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:s,left:n,bottom:i,right:o,options:r}=this,a=r.align;let l=0,c,d,h;return this.isHorizontal()?(d=te(a,n,o),h=s+t,c=o-n):(r.position==="left"?(d=n+t,h=te(a,i,s),l=Nt*-.5):(d=o-t,h=te(a,s,i),l=Nt*.5),c=i-s),{titleX:d,titleY:h,maxWidth:c,rotation:l}}draw(){const t=this.ctx,s=this.options;if(!s.display)return;const n=qt(s.font),o=n.lineHeight/2+this._padding.top,{titleX:r,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(o);mn(t,s.text,0,0,n,{color:s.color,maxWidth:l,rotation:c,textAlign:tc(s.align),textBaseline:"middle",translation:[r,a]})}}function bS(e,t){const s=new dc({ctx:e.ctx,options:t,chart:e});ne.configure(e,s,t),ne.addBox(e,s),e.titleBlock=s}var yS={id:"title",_element:dc,start(e,t,s){bS(e,s)},stop(e){const t=e.titleBlock;ne.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,s){const n=e.titleBlock;ne.configure(e,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Io=new WeakMap;var xS={id:"subtitle",start(e,t,s){const n=new dc({ctx:e.ctx,options:s,chart:e});ne.configure(e,n,s),ne.addBox(e,n),Io.set(e,n)},stop(e){ne.removeBox(e,Io.get(e)),Io.delete(e)},beforeUpdate(e,t,s){const n=Io.get(e);ne.configure(e,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const yi={average(e){if(!e.length)return!1;let t,s,n=new Set,i=0,o=0;for(t=0,s=e.length;t<s;++t){const a=e[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();n.add(l.x),i+=l.y,++o}}return o===0||n.size===0?!1:{x:[...n].reduce((a,l)=>a+l)/n.size,y:i/o}},nearest(e,t){if(!e.length)return!1;let s=t.x,n=t.y,i=Number.POSITIVE_INFINITY,o,r,a;for(o=0,r=e.length;o<r;++o){const l=e[o].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),d=sl(t,c);d<i&&(i=d,a=l)}}if(a){const l=a.tooltipPosition();s=l.x,n=l.y}return{x:s,y:n}}};function Xe(e,t){return t&&(Lt(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function us(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function _S(e,t){const{element:s,datasetIndex:n,index:i}=t,o=e.getDatasetMeta(n).controller,{label:r,value:a}=o.getLabelAndValue(i);return{chart:e,label:r,parsed:o.getParsed(i),raw:e.data.datasets[n].data[i],formattedValue:a,dataset:o.getDataset(),dataIndex:i,datasetIndex:n,element:s}}function Ru(e,t){const s=e.chart.ctx,{body:n,footer:i,title:o}=e,{boxWidth:r,boxHeight:a}=t,l=qt(t.bodyFont),c=qt(t.titleFont),d=qt(t.footerFont),h=o.length,f=i.length,p=n.length,m=re(t.padding);let g=m.height,b=0,y=n.reduce((k,M)=>k+M.before.length+M.lines.length+M.after.length,0);if(y+=e.beforeBody.length+e.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),y){const k=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=p*k+(y-p)*l.lineHeight+(y-1)*t.bodySpacing}f&&(g+=t.footerMarginTop+f*d.lineHeight+(f-1)*t.footerSpacing);let _=0;const S=function(k){b=Math.max(b,s.measureText(k).width+_)};return s.save(),s.font=c.string,At(e.title,S),s.font=l.string,At(e.beforeBody.concat(e.afterBody),S),_=t.displayColors?r+2+t.boxPadding:0,At(n,k=>{At(k.before,S),At(k.lines,S),At(k.after,S)}),_=0,s.font=d.string,At(e.footer,S),s.restore(),b+=m.width,{width:b,height:g}}function vS(e,t){const{y:s,height:n}=t;return s<n/2?"top":s>e.height-n/2?"bottom":"center"}function wS(e,t,s,n){const{x:i,width:o}=n,r=s.caretSize+s.caretPadding;if(e==="left"&&i+o+r>t.width||e==="right"&&i-o-r<0)return!0}function kS(e,t,s,n){const{x:i,width:o}=s,{width:r,chartArea:{left:a,right:l}}=e;let c="center";return n==="center"?c=i<=(a+l)/2?"left":"right":i<=o/2?c="left":i>=r-o/2&&(c="right"),wS(c,e,t,s)&&(c="center"),c}function Lu(e,t,s){const n=s.yAlign||t.yAlign||vS(e,s);return{xAlign:s.xAlign||t.xAlign||kS(e,t,s,n),yAlign:n}}function SS(e,t){let{x:s,width:n}=e;return t==="right"?s-=n:t==="center"&&(s-=n/2),s}function CS(e,t,s){let{y:n,height:i}=e;return t==="top"?n+=s:t==="bottom"?n-=i+s:n-=i/2,n}function Fu(e,t,s,n){const{caretSize:i,caretPadding:o,cornerRadius:r}=e,{xAlign:a,yAlign:l}=s,c=i+o,{topLeft:d,topRight:h,bottomLeft:f,bottomRight:p}=un(r);let m=SS(t,a);const g=CS(t,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(d,f)+i:a==="right"&&(m+=Math.max(h,p)+i),{x:Gt(m,0,n.width-t.width),y:Gt(g,0,n.height-t.height)}}function Ro(e,t,s){const n=re(s.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-n.right:e.x+n.left}function Nu(e){return Xe([],us(e))}function MS(e,t,s){return Gs(e,{tooltip:t,tooltipItems:s,type:"tooltip"})}function ju(e,t){const s=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return s?e.override(s):e}const Hp={beforeTitle:ls,title(e){if(e.length>0){const t=e[0],s=t.chart.data.labels,n=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return s[t.dataIndex]}return""},afterTitle:ls,beforeBody:ls,beforeLabel:ls,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const s=e.formattedValue;return bt(s)||(t+=s),t},labelColor(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:ls,afterBody:ls,beforeFooter:ls,footer:ls,afterFooter:ls};function pe(e,t,s,n){const i=e[t].call(s,n);return typeof i>"u"?Hp[t].call(s,n):i}class ul extends Ms{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const s=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&s.options.animation&&n.animations,o=new kp(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=MS(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,s){const{callbacks:n}=s,i=pe(n,"beforeTitle",this,t),o=pe(n,"title",this,t),r=pe(n,"afterTitle",this,t);let a=[];return a=Xe(a,us(i)),a=Xe(a,us(o)),a=Xe(a,us(r)),a}getBeforeBody(t,s){return Nu(pe(s.callbacks,"beforeBody",this,t))}getBody(t,s){const{callbacks:n}=s,i=[];return At(t,o=>{const r={before:[],lines:[],after:[]},a=ju(n,o);Xe(r.before,us(pe(a,"beforeLabel",this,o))),Xe(r.lines,pe(a,"label",this,o)),Xe(r.after,us(pe(a,"afterLabel",this,o))),i.push(r)}),i}getAfterBody(t,s){return Nu(pe(s.callbacks,"afterBody",this,t))}getFooter(t,s){const{callbacks:n}=s,i=pe(n,"beforeFooter",this,t),o=pe(n,"footer",this,t),r=pe(n,"afterFooter",this,t);let a=[];return a=Xe(a,us(i)),a=Xe(a,us(o)),a=Xe(a,us(r)),a}_createItems(t){const s=this._active,n=this.chart.data,i=[],o=[],r=[];let a=[],l,c;for(l=0,c=s.length;l<c;++l)a.push(_S(this.chart,s[l]));return t.filter&&(a=a.filter((d,h,f)=>t.filter(d,h,f,n))),t.itemSort&&(a=a.sort((d,h)=>t.itemSort(d,h,n))),At(a,d=>{const h=ju(t.callbacks,d);i.push(pe(h,"labelColor",this,d)),o.push(pe(h,"labelPointStyle",this,d)),r.push(pe(h,"labelTextColor",this,d))}),this.labelColors=i,this.labelPointStyles=o,this.labelTextColors=r,this.dataPoints=a,a}update(t,s){const n=this.options.setContext(this.getContext()),i=this._active;let o,r=[];if(!i.length)this.opacity!==0&&(o={opacity:0});else{const a=yi[n.position].call(this,i,this._eventPosition);r=this._createItems(n),this.title=this.getTitle(r,n),this.beforeBody=this.getBeforeBody(r,n),this.body=this.getBody(r,n),this.afterBody=this.getAfterBody(r,n),this.footer=this.getFooter(r,n);const l=this._size=Ru(this,n),c=Object.assign({},a,l),d=Lu(this.chart,n,c),h=Fu(n,c,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,o={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=r,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(t,s,n,i){const o=this.getCaretPosition(t,n,i);s.lineTo(o.x1,o.y1),s.lineTo(o.x2,o.y2),s.lineTo(o.x3,o.y3)}getCaretPosition(t,s,n){const{xAlign:i,yAlign:o}=this,{caretSize:r,cornerRadius:a}=n,{topLeft:l,topRight:c,bottomLeft:d,bottomRight:h}=un(a),{x:f,y:p}=t,{width:m,height:g}=s;let b,y,_,S,k,M;return o==="center"?(k=p+g/2,i==="left"?(b=f,y=b-r,S=k+r,M=k-r):(b=f+m,y=b+r,S=k-r,M=k+r),_=b):(i==="left"?y=f+Math.max(l,d)+r:i==="right"?y=f+m-Math.max(c,h)-r:y=this.caretX,o==="top"?(S=p,k=S-r,b=y-r,_=y+r):(S=p+g,k=S+r,b=y+r,_=y-r),M=S),{x1:b,x2:y,x3:_,y1:S,y2:k,y3:M}}drawTitle(t,s,n){const i=this.title,o=i.length;let r,a,l;if(o){const c=jn(n.rtl,this.x,this.width);for(t.x=Ro(this,n.titleAlign,n),s.textAlign=c.textAlign(n.titleAlign),s.textBaseline="middle",r=qt(n.titleFont),a=n.titleSpacing,s.fillStyle=n.titleColor,s.font=r.string,l=0;l<o;++l)s.fillText(i[l],c.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+a,l+1===o&&(t.y+=n.titleMarginBottom-a)}}_drawColorBox(t,s,n,i,o){const r=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:l,boxWidth:c}=o,d=qt(o.bodyFont),h=Ro(this,"left",o),f=i.x(h),p=l<d.lineHeight?(d.lineHeight-l)/2:0,m=s.y+p;if(o.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},b=i.leftForLtr(f,c)+c/2,y=m+l/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,il(t,g,b,y),t.strokeStyle=r.borderColor,t.fillStyle=r.backgroundColor,il(t,g,b,y)}else{t.lineWidth=xt(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,t.strokeStyle=r.borderColor,t.setLineDash(r.borderDash||[]),t.lineDashOffset=r.borderDashOffset||0;const g=i.leftForLtr(f,c),b=i.leftForLtr(i.xPlus(f,1),c-2),y=un(r.borderRadius);Object.values(y).some(_=>_!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Ji(t,{x:g,y:m,w:c,h:l,radius:y}),t.fill(),t.stroke(),t.fillStyle=r.backgroundColor,t.beginPath(),Ji(t,{x:b,y:m+1,w:c-2,h:l-2,radius:y}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(g,m,c,l),t.strokeRect(g,m,c,l),t.fillStyle=r.backgroundColor,t.fillRect(b,m+1,c-2,l-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,s,n){const{body:i}=this,{bodySpacing:o,bodyAlign:r,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:d}=n,h=qt(n.bodyFont);let f=h.lineHeight,p=0;const m=jn(n.rtl,this.x,this.width),g=function(F){s.fillText(F,m.x(t.x+p),t.y+f/2),t.y+=f+o},b=m.textAlign(r);let y,_,S,k,M,T,P;for(s.textAlign=r,s.textBaseline="middle",s.font=h.string,t.x=Ro(this,b,n),s.fillStyle=n.bodyColor,At(this.beforeBody,g),p=a&&b!=="right"?r==="center"?c/2+d:c+2+d:0,k=0,T=i.length;k<T;++k){for(y=i[k],_=this.labelTextColors[k],s.fillStyle=_,At(y.before,g),S=y.lines,a&&S.length&&(this._drawColorBox(s,t,k,m,n),f=Math.max(h.lineHeight,l)),M=0,P=S.length;M<P;++M)g(S[M]),f=h.lineHeight;At(y.after,g)}p=0,f=h.lineHeight,At(this.afterBody,g),t.y-=o}drawFooter(t,s,n){const i=this.footer,o=i.length;let r,a;if(o){const l=jn(n.rtl,this.x,this.width);for(t.x=Ro(this,n.footerAlign,n),t.y+=n.footerMarginTop,s.textAlign=l.textAlign(n.footerAlign),s.textBaseline="middle",r=qt(n.footerFont),s.fillStyle=n.footerColor,s.font=r.string,a=0;a<o;++a)s.fillText(i[a],l.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+n.footerSpacing}}drawBackground(t,s,n,i){const{xAlign:o,yAlign:r}=this,{x:a,y:l}=t,{width:c,height:d}=n,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:m}=un(i.cornerRadius);s.fillStyle=i.backgroundColor,s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.beginPath(),s.moveTo(a+h,l),r==="top"&&this.drawCaret(t,s,n,i),s.lineTo(a+c-f,l),s.quadraticCurveTo(a+c,l,a+c,l+f),r==="center"&&o==="right"&&this.drawCaret(t,s,n,i),s.lineTo(a+c,l+d-m),s.quadraticCurveTo(a+c,l+d,a+c-m,l+d),r==="bottom"&&this.drawCaret(t,s,n,i),s.lineTo(a+p,l+d),s.quadraticCurveTo(a,l+d,a,l+d-p),r==="center"&&o==="left"&&this.drawCaret(t,s,n,i),s.lineTo(a,l+h),s.quadraticCurveTo(a,l,a+h,l),s.closePath(),s.fill(),i.borderWidth>0&&s.stroke()}_updateAnimationTarget(t){const s=this.chart,n=this.$animations,i=n&&n.x,o=n&&n.y;if(i||o){const r=yi[t.position].call(this,this._active,this._eventPosition);if(!r)return;const a=this._size=Ru(this,t),l=Object.assign({},r,this._size),c=Lu(s,t,l),d=Fu(t,l,c,s);(i._to!==d.x||o._to!==d.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(t){const s=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(s);const i={width:this.width,height:this.height},o={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const r=re(s.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&a&&(t.save(),t.globalAlpha=n,this.drawBackground(o,t,i,s),bp(t,s.textDirection),o.y+=r.top,this.drawTitle(o,t,s),this.drawBody(o,t,s),this.drawFooter(o,t,s),yp(t,s.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,s){const n=this._active,i=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),o=!ur(n,i),r=this._positionChanged(i,s);(o||r)&&(this._active=i,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,s,n=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,o=this._active||[],r=this._getActiveElements(t,o,s,n),a=this._positionChanged(r,t),l=s||!ur(r,o)||a;return l&&(this._active=r,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,s))),l}_getActiveElements(t,s,n,i){const o=this.options;if(t.type==="mouseout")return[];if(!i)return s.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const r=this.chart.getElementsAtEventForMode(t,o.mode,o,n);return o.reverse&&r.reverse(),r}_positionChanged(t,s){const{caretX:n,caretY:i,options:o}=this,r=yi[o.position].call(this,t,s);return r!==!1&&(n!==r.x||i!==r.y)}}$(ul,"positioners",yi);var AS={id:"tooltip",_element:ul,positioners:yi,afterInit(e,t,s){s&&(e.tooltip=new ul({chart:e,options:s}))},beforeUpdate(e,t,s){e.tooltip&&e.tooltip.initialize(s)},reset(e,t,s){e.tooltip&&e.tooltip.initialize(s)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const s={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",s)}},afterEvent(e,t){if(e.tooltip){const s=t.replay;e.tooltip.handleEvent(t.event,s,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Hp},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},ES=Object.freeze({__proto__:null,Colors:U2,Decimation:H2,Filler:dS,Legend:gS,SubTitle:xS,Title:yS,Tooltip:AS});const PS=(e,t,s,n)=>(typeof t=="string"?(s=e.push(t)-1,n.unshift({index:s,label:t})):isNaN(t)&&(s=null),s);function TS(e,t,s,n){const i=e.indexOf(t);if(i===-1)return PS(e,t,s,n);const o=e.lastIndexOf(t);return i!==o?s:i}const OS=(e,t)=>e===null?null:Gt(Math.round(e),0,t);function Bu(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class hl extends yn{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const s=this._addedLabels;if(s.length){const n=this.getLabels();for(const{index:i,label:o}of s)n[i]===o&&n.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,s){if(bt(t))return null;const n=this.getLabels();return s=isFinite(s)&&n[s]===t?s:TS(n,t,ht(s,t),this._addedLabels),OS(s,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),s||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,s=this.max,n=this.options.offset,i=[];let o=this.getLabels();o=t===0&&s===o.length-1?o:o.slice(t,s+1),this._valueRange=Math.max(o.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let r=t;r<=s;r++)i.push({value:r});return i}getLabelForValue(t){return Bu.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}$(hl,"id","category"),$(hl,"defaults",{ticks:{callback:Bu}});function DS(e,t){const s=[],{bounds:i,step:o,min:r,max:a,precision:l,count:c,maxTicks:d,maxDigits:h,includeBounds:f}=e,p=o||1,m=d-1,{min:g,max:b}=t,y=!bt(r),_=!bt(a),S=!bt(c),k=(b-g)/(h+1);let M=Rd((b-g)/m/p)*p,T,P,F,Y;if(M<1e-14&&!y&&!_)return[{value:g},{value:b}];Y=Math.ceil(b/M)-Math.floor(g/M),Y>m&&(M=Rd(Y*M/m/p)*p),bt(l)||(T=Math.pow(10,l),M=Math.ceil(M*T)/T),i==="ticks"?(P=Math.floor(g/M)*M,F=Math.ceil(b/M)*M):(P=g,F=b),y&&_&&o&&C1((a-r)/o,M/1e3)?(Y=Math.round(Math.min((a-r)/M,d)),M=(a-r)/Y,P=r,F=a):S?(P=y?r:P,F=_?a:F,Y=c-1,M=(F-P)/Y):(Y=(F-P)/M,Oi(Y,Math.round(Y),M/1e3)?Y=Math.round(Y):Y=Math.ceil(Y));const Q=Math.max(Ld(M),Ld(P));T=Math.pow(10,bt(l)?Q:l),P=Math.round(P*T)/T,F=Math.round(F*T)/T;let st=0;for(y&&(f&&P!==r?(s.push({value:r}),P<r&&st++,Oi(Math.round((P+st*M)*T)/T,r,Uu(r,k,e))&&st++):P<r&&st++);st<Y;++st){const at=Math.round((P+st*M)*T)/T;if(_&&at>a)break;s.push({value:at})}return _&&f&&F!==a?s.length&&Oi(s[s.length-1].value,a,Uu(a,k,e))?s[s.length-1].value=a:s.push({value:a}):(!_||F===a)&&s.push({value:F}),s}function Uu(e,t,{horizontal:s,minRotation:n}){const i=Be(n),o=(s?Math.sin(i):Math.cos(i))||.001,r=.75*t*(""+e).length;return Math.min(t/o,r)}class yr extends yn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,s){return bt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:s,maxDefined:n}=this.getUserBounds();let{min:i,max:o}=this;const r=l=>i=s?i:l,a=l=>o=n?o:l;if(t){const l=ss(i),c=ss(o);l<0&&c<0?a(0):l>0&&c>0&&r(0)}if(i===o){let l=o===0?1:Math.abs(o*.05);a(o+l),t||r(i-l)}this.min=i,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:s,stepSize:n}=t,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),s=s||11),s&&(i=Math.min(s,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,s=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},o=this._range||this,r=DS(i,o);return t.bounds==="ticks"&&tp(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const t=this.ticks;let s=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-s)/Math.max(t.length-1,1)/2;s-=i,n+=i}this._startValue=s,this._endValue=n,this._valueRange=n-s}getLabelForValue(t){return co(t,this.chart.options.locale,this.options.ticks.format)}}class fl extends yr{determineDataLimits(){const{min:t,max:s}=this.getMinMax(!0);this.min=Ut(t)?t:0,this.max=Ut(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),s=t?this.width:this.height,n=Be(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,o.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}$(fl,"id","linear"),$(fl,"defaults",{ticks:{callback:Vr.formatters.numeric}});const Qi=e=>Math.floor(Ns(e)),sn=(e,t)=>Math.pow(10,Qi(e)+t);function $u(e){return e/Math.pow(10,Qi(e))===1}function Vu(e,t,s){const n=Math.pow(10,s),i=Math.floor(e/n);return Math.ceil(t/n)-i}function IS(e,t){const s=t-e;let n=Qi(s);for(;Vu(e,t,n)>10;)n++;for(;Vu(e,t,n)<10;)n--;return Math.min(n,Qi(e))}function RS(e,{min:t,max:s}){t=Se(e.min,t);const n=[],i=Qi(t);let o=IS(t,s),r=o<0?Math.pow(10,Math.abs(o)):1;const a=Math.pow(10,o),l=i>o?Math.pow(10,i):0,c=Math.round((t-l)*r)/r,d=Math.floor((t-l)/a/10)*a*10;let h=Math.floor((c-d)/Math.pow(10,o)),f=Se(e.min,Math.round((l+d+h*Math.pow(10,o))*r)/r);for(;f<s;)n.push({value:f,major:$u(f),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(o++,h=2,r=o>=0?1:r),f=Math.round((l+d+h*Math.pow(10,o))*r)/r;const p=Se(e.max,f);return n.push({value:p,major:$u(p),significand:h}),n}class pl extends yn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,s){const n=yr.prototype.parse.apply(this,[t,s]);if(n===0){this._zero=!0;return}return Ut(n)&&n>0?n:null}determineDataLimits(){const{min:t,max:s}=this.getMinMax(!0);this.min=Ut(t)?Math.max(0,t):null,this.max=Ut(s)?Math.max(0,s):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ut(this._userMin)&&(this.min=t===sn(this.min,0)?sn(this.min,-1):sn(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:s}=this.getUserBounds();let n=this.min,i=this.max;const o=a=>n=t?n:a,r=a=>i=s?i:a;n===i&&(n<=0?(o(1),r(10)):(o(sn(n,-1)),r(sn(i,1)))),n<=0&&o(sn(i,-1)),i<=0&&r(sn(n,1)),this.min=n,this.max=i}buildTicks(){const t=this.options,s={min:this._userMin,max:this._userMax},n=RS(s,this);return t.bounds==="ticks"&&tp(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return t===void 0?"0":co(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Ns(t),this._valueRange=Ns(this.max)-Ns(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Ns(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const s=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+s*this._valueRange)}}$(pl,"id","logarithmic"),$(pl,"defaults",{ticks:{callback:Vr.formatters.logarithmic,major:{enabled:!0}}});function ml(e){const t=e.ticks;if(t.display&&e.display){const s=re(t.backdropPadding);return ht(t.font&&t.font.size,Bt.font.size)+s.height}return 0}function LS(e,t,s){return s=Lt(s)?s:[s],{w:V1(e,t.string,s),h:s.length*t.lineHeight}}function zu(e,t,s,n,i){return e===n||e===i?{start:t-s/2,end:t+s/2}:e<n||e>i?{start:t-s,end:t}:{start:t,end:t+s}}function FS(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},s=Object.assign({},t),n=[],i=[],o=e._pointLabels.length,r=e.options.pointLabels,a=r.centerPointLabels?Nt/o:0;for(let l=0;l<o;l++){const c=r.setContext(e.getPointLabelContext(l));i[l]=c.padding;const d=e.getPointPosition(l,e.drawingArea+i[l],a),h=qt(c.font),f=LS(e.ctx,h,e._pointLabels[l]);n[l]=f;const p=Ce(e.getIndexAngle(l)+a),m=Math.round(Ql(p)),g=zu(m,d.x,f.w,0,180),b=zu(m,d.y,f.h,90,270);NS(s,t,p,g,b)}e.setCenterPoint(t.l-s.l,s.r-t.r,t.t-s.t,s.b-t.b),e._pointLabelItems=US(e,n,i)}function NS(e,t,s,n,i){const o=Math.abs(Math.sin(s)),r=Math.abs(Math.cos(s));let a=0,l=0;n.start<t.l?(a=(t.l-n.start)/o,e.l=Math.min(e.l,t.l-a)):n.end>t.r&&(a=(n.end-t.r)/o,e.r=Math.max(e.r,t.r+a)),i.start<t.t?(l=(t.t-i.start)/r,e.t=Math.min(e.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/r,e.b=Math.max(e.b,t.b+l))}function jS(e,t,s){const n=e.drawingArea,{extra:i,additionalAngle:o,padding:r,size:a}=s,l=e.getPointPosition(t,n+i+r,o),c=Math.round(Ql(Ce(l.angle+Vt))),d=zS(l.y,a.h,c),h=$S(c),f=VS(l.x,a.w,h);return{visible:!0,x:l.x,y:d,textAlign:h,left:f,top:d,right:f+a.w,bottom:d+a.h}}function BS(e,t){if(!t)return!0;const{left:s,top:n,right:i,bottom:o}=e;return!(xs({x:s,y:n},t)||xs({x:s,y:o},t)||xs({x:i,y:n},t)||xs({x:i,y:o},t))}function US(e,t,s){const n=[],i=e._pointLabels.length,o=e.options,{centerPointLabels:r,display:a}=o.pointLabels,l={extra:ml(o)/2,additionalAngle:r?Nt/i:0};let c;for(let d=0;d<i;d++){l.padding=s[d],l.size=t[d];const h=jS(e,d,l);n.push(h),a==="auto"&&(h.visible=BS(h,c),h.visible&&(c=h))}return n}function $S(e){return e===0||e===180?"center":e<180?"left":"right"}function VS(e,t,s){return s==="right"?e-=t:s==="center"&&(e-=t/2),e}function zS(e,t,s){return s===90||s===270?e-=t/2:(s>270||s<90)&&(e-=t),e}function HS(e,t,s){const{left:n,top:i,right:o,bottom:r}=s,{backdropColor:a}=t;if(!bt(a)){const l=un(t.borderRadius),c=re(t.backdropPadding);e.fillStyle=a;const d=n-c.left,h=i-c.top,f=o-n+c.width,p=r-i+c.height;Object.values(l).some(m=>m!==0)?(e.beginPath(),Ji(e,{x:d,y:h,w:f,h:p,radius:l}),e.fill()):e.fillRect(d,h,f,p)}}function WS(e,t){const{ctx:s,options:{pointLabels:n}}=e;for(let i=t-1;i>=0;i--){const o=e._pointLabelItems[i];if(!o.visible)continue;const r=n.setContext(e.getPointLabelContext(i));HS(s,r,o);const a=qt(r.font),{x:l,y:c,textAlign:d}=o;mn(s,e._pointLabels[i],l,c+a.lineHeight/2,a,{color:r.color,textAlign:d,textBaseline:"middle"})}}function Wp(e,t,s,n){const{ctx:i}=e;if(s)i.arc(e.xCenter,e.yCenter,t,0,Ft);else{let o=e.getPointPosition(0,t);i.moveTo(o.x,o.y);for(let r=1;r<n;r++)o=e.getPointPosition(r,t),i.lineTo(o.x,o.y)}}function qS(e,t,s,n,i){const o=e.ctx,r=t.circular,{color:a,lineWidth:l}=t;!r&&!n||!a||!l||s<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(i.dash||[]),o.lineDashOffset=i.dashOffset,o.beginPath(),Wp(e,s,r,n),o.closePath(),o.stroke(),o.restore())}function KS(e,t,s){return Gs(e,{label:s,index:t,type:"pointLabel"})}class xi extends yr{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=re(ml(this.options)/2),s=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+s/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(s,n)/2)}determineDataLimits(){const{min:t,max:s}=this.getMinMax(!1);this.min=Ut(t)&&!isNaN(t)?t:0,this.max=Ut(s)&&!isNaN(s)?s:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ml(this.options))}generateTickLabels(t){yr.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((s,n)=>{const i=It(this.options.pointLabels.callback,[s,n],this);return i||i===0?i:""}).filter((s,n)=>this.chart.getDataVisibility(n))}fit(){const t=this.options;t.display&&t.pointLabels.display?FS(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,s,n,i){this.xCenter+=Math.floor((t-s)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,s,n,i))}getIndexAngle(t){const s=Ft/(this._pointLabels.length||1),n=this.options.startAngle||0;return Ce(t*s+Be(n))}getDistanceFromCenterForValue(t){if(bt(t))return NaN;const s=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*s:(t-this.min)*s}getValueForDistanceFromCenter(t){if(bt(t))return NaN;const s=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-s:this.min+s}getPointLabelContext(t){const s=this._pointLabels||[];if(t>=0&&t<s.length){const n=s[t];return KS(this.getContext(),t,n)}}getPointPosition(t,s,n=0){const i=this.getIndexAngle(t)-Vt+n;return{x:Math.cos(i)*s+this.xCenter,y:Math.sin(i)*s+this.yCenter,angle:i}}getPointPositionForValue(t,s){return this.getPointPosition(t,this.getDistanceFromCenterForValue(s))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:s,top:n,right:i,bottom:o}=this._pointLabelItems[t];return{left:s,top:n,right:i,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:s}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),Wp(this,this.getDistanceFromCenterForValue(this._endValue),s,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,s=this.options,{angleLines:n,grid:i,border:o}=s,r=this._pointLabels.length;let a,l,c;if(s.pointLabels.display&&WS(this,r),i.display&&this.ticks.forEach((d,h)=>{if(h!==0||h===0&&this.min<0){l=this.getDistanceFromCenterForValue(d.value);const f=this.getContext(h),p=i.setContext(f),m=o.setContext(f);qS(this,p,l,r,m)}}),n.display){for(t.save(),a=r-1;a>=0;a--){const d=n.setContext(this.getPointLabelContext(a)),{color:h,lineWidth:f}=d;!f||!h||(t.lineWidth=f,t.strokeStyle=h,t.setLineDash(d.borderDash),t.lineDashOffset=d.borderDashOffset,l=this.getDistanceFromCenterForValue(s.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,s=this.options,n=s.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let o,r;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!s.reverse)return;const c=n.setContext(this.getContext(l)),d=qt(c.font);if(o=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=d.string,r=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const h=re(c.backdropPadding);t.fillRect(-r/2-h.left,-o-d.size/2-h.top,r+h.width,d.size+h.height)}mn(t,a.label,0,-o,d,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}$(xi,"id","radialLinear"),$(xi,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Vr.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),$(xi,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),$(xi,"descriptors",{angleLines:{_fallback:"grid"}});const qr={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ye=Object.keys(qr);function Hu(e,t){return e-t}function Wu(e,t){if(bt(t))return null;const s=e._adapter,{parser:n,round:i,isoWeekday:o}=e._parseOpts;let r=t;return typeof n=="function"&&(r=n(r)),Ut(r)||(r=typeof n=="string"?s.parse(r,n):s.parse(r)),r===null?null:(i&&(r=i==="week"&&(Wn(o)||o===!0)?s.startOf(r,"isoWeek",o):s.startOf(r,i)),+r)}function qu(e,t,s,n){const i=ye.length;for(let o=ye.indexOf(e);o<i-1;++o){const r=qr[ye[o]],a=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((s-t)/(a*r.size))<=n)return ye[o]}return ye[i-1]}function GS(e,t,s,n,i){for(let o=ye.length-1;o>=ye.indexOf(s);o--){const r=ye[o];if(qr[r].common&&e._adapter.diff(i,n,r)>=t-1)return r}return ye[s?ye.indexOf(s):0]}function YS(e){for(let t=ye.indexOf(e)+1,s=ye.length;t<s;++t)if(qr[ye[t]].common)return ye[t]}function Ku(e,t,s){if(!s)e[t]=!0;else if(s.length){const{lo:n,hi:i}=Zl(s,t),o=s[n]>=t?s[n]:s[i];e[o]=!0}}function JS(e,t,s,n){const i=e._adapter,o=+i.startOf(t[0].value,n),r=t[t.length-1].value;let a,l;for(a=o;a<=r;a=+i.add(a,1,n))l=s[a],l>=0&&(t[l].major=!0);return t}function Gu(e,t,s){const n=[],i={},o=t.length;let r,a;for(r=0;r<o;++r)a=t[r],i[a]=r,n.push({value:a,major:!1});return o===0||!s?n:JS(e,n,i,s)}class Zi extends yn{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,s={}){const n=t.time||(t.time={}),i=this._adapter=new ok._date(t.adapters.date);i.init(s),Ti(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=s.normalized}parse(t,s){return t===void 0?null:Wu(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,s=this._adapter,n=t.time.unit||"day";let{min:i,max:o,minDefined:r,maxDefined:a}=this.getUserBounds();function l(c){!r&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(o=Math.max(o,c.max))}(!r||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Ut(i)&&!isNaN(i)?i:+s.startOf(Date.now(),n),o=Ut(o)&&!isNaN(o)?o:+s.endOf(Date.now(),n)+1,this.min=Math.min(i,o-1),this.max=Math.max(i+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(s=t[0],n=t[t.length-1]),{min:s,max:n}}buildTicks(){const t=this.options,s=t.time,n=t.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const o=this.min,r=this.max,a=P1(i,o,r);return this._unit=s.unit||(n.autoSkip?qu(s.minUnit,this.min,this.max,this._getLabelCapacity(o)):GS(this,a.length,s.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:YS(this._unit),this.initOffsets(i),t.reverse&&a.reverse(),Gu(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let s=0,n=0,i,o;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?s=1-i:s=(this.getDecimalForValue(t[1])-i)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?n=o:n=(o-this.getDecimalForValue(t[t.length-2]))/2);const r=t.length<3?.5:.25;s=Gt(s,0,r),n=Gt(n,0,r),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const t=this._adapter,s=this.min,n=this.max,i=this.options,o=i.time,r=o.unit||qu(o.minUnit,s,n,this._getLabelCapacity(s)),a=ht(i.ticks.stepSize,1),l=r==="week"?o.isoWeekday:!1,c=Wn(l)||l===!0,d={};let h=s,f,p;if(c&&(h=+t.startOf(h,"isoWeek",l)),h=+t.startOf(h,c?"day":r),t.diff(n,s,r)>1e5*a)throw new Error(s+" and "+n+" are too far apart with stepSize of "+a+" "+r);const m=i.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<n;f=+t.add(f,a,r),p++)Ku(d,f,m);return(f===n||i.bounds==="ticks"||p===1)&&Ku(d,f,m),Object.keys(d).sort(Hu).map(g=>+g)}getLabelForValue(t){const s=this._adapter,n=this.options.time;return n.tooltipFormat?s.format(t,n.tooltipFormat):s.format(t,n.displayFormats.datetime)}format(t,s){const i=this.options.time.displayFormats,o=this._unit,r=s||i[o];return this._adapter.format(t,r)}_tickFormatFunction(t,s,n,i){const o=this.options,r=o.ticks.callback;if(r)return It(r,[t,s,n],this);const a=o.time.displayFormats,l=this._unit,c=this._majorUnit,d=l&&a[l],h=c&&a[c],f=n[s],p=c&&h&&f&&f.major;return this._adapter.format(t,i||(p?h:d))}generateTickLabels(t){let s,n,i;for(s=0,n=t.length;s<n;++s)i=t[s],i.label=this._tickFormatFunction(i.value,s,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const s=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((s.start+n)*s.factor)}getValueForPixel(t){const s=this._offsets,n=this.getDecimalForPixel(t)/s.factor-s.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const s=this.options.ticks,n=this.ctx.measureText(t).width,i=Be(this.isHorizontal()?s.maxRotation:s.minRotation),o=Math.cos(i),r=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:n*o+a*r,h:n*r+a*o}}_getLabelCapacity(t){const s=this.options.time,n=s.displayFormats,i=n[s.unit]||n.millisecond,o=this._tickFormatFunction(t,0,Gu(this,[t],this._majorUnit),i),r=this._getLabelSize(o),a=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],s,n;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(s=0,n=i.length;s<n;++s)t=t.concat(i[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let s,n;if(t.length)return t;const i=this.getLabels();for(s=0,n=i.length;s<n;++s)t.push(Wu(this,i[s]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return np(t.sort(Hu))}}$(Zi,"id","time"),$(Zi,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Lo(e,t,s){let n=0,i=e.length-1,o,r,a,l;s?(t>=e[n].pos&&t<=e[i].pos&&({lo:n,hi:i}=ys(e,"pos",t)),{pos:o,time:a}=e[n],{pos:r,time:l}=e[i]):(t>=e[n].time&&t<=e[i].time&&({lo:n,hi:i}=ys(e,"time",t)),{time:o,pos:a}=e[n],{time:r,pos:l}=e[i]);const c=r-o;return c?a+(l-a)*(t-o)/c:a}class gl extends Zi{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(t);this._minPos=Lo(s,this.min),this._tableRange=Lo(s,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:s,max:n}=this,i=[],o=[];let r,a,l,c,d;for(r=0,a=t.length;r<a;++r)c=t[r],c>=s&&c<=n&&i.push(c);if(i.length<2)return[{time:s,pos:0},{time:n,pos:1}];for(r=0,a=i.length;r<a;++r)d=i[r+1],l=i[r-1],c=i[r],Math.round((d+l)/2)!==c&&o.push({time:c,pos:r/(a-1)});return o}_generate(){const t=this.min,s=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(s)||n.length===1)&&n.push(s),n.sort((i,o)=>i-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const s=this.getDataTimestamps(),n=this.getLabelTimestamps();return s.length&&n.length?t=this.normalize(s.concat(n)):t=s.length?s:n,t=this._cache.all=t,t}getDecimalForValue(t){return(Lo(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const s=this._offsets,n=this.getDecimalForPixel(t)/s.factor-s.end;return Lo(this._table,n*this._tableRange+this._minPos,!0)}}$(gl,"id","timeseries"),$(gl,"defaults",Zi.defaults);var XS=Object.freeze({__proto__:null,CategoryScale:hl,LinearScale:fl,LogarithmicScale:pl,RadialLinearScale:xi,TimeScale:Zi,TimeSeriesScale:gl});const QS=[ik,I2,ES,XS];es.register(...QS);async function qp(){return await(await fetch("https://servicodados.ibge.gov.br/api/v1/localidades/estados?orderBy=nome")).json()}async function Kp(e){return e?await(await fetch(`https://servicodados.ibge.gov.br/api/v1/localidades/estados/${e}/municipios?orderBy=nome`)).json():[]}const ZS={name:"Dashboard",components:{Sidebar:Ee,HeaderUser:Pe,Modal:Ks,WeekView:Kf,AppointmentDetails:Gf},data(){return{userId:null,stats:{week:0,month:0,clients:0,newClients:0},upcomingAppointments:[],clients:[],services:[],rooms:[],topClients:[],sidebarOpen:window.innerWidth>=768,showClientModal:!1,showAppointmentModal:!1,editingId:null,showDetailsModal:!1,weekChart:null,weekCounts:[0,0,0,0,0,0,0],states:[],cities:[],clientForm:{name:"",email:"",phone:"",birthdate:"",cpf:"",cep:"",street:"",number:"",complement:"",neighborhood:"",stateId:"",cityId:""},appointmentForm:{date:"",time:"",clientId:"",serviceId:"",duration:"",description:""},selectedAppointment:null}},methods:{phoneMask:$r,cpfMask:Wf,cepMask:qf,async fetchStatesList(){this.states=await qp()},async fetchCitiesList(){this.cities=await Kp(this.clientForm.stateId)},async openClientModal(){await this.fetchStatesList(),this.clientForm.stateId&&await this.fetchCitiesList(),this.showClientModal=!0},async fetchStats(){const e=new Date,t=e.getDay(),s=new Date(e);s.setDate(e.getDate()-t),s.setHours(0,0,0,0);const n=new Date(e);n.setDate(e.getDate()+(6-t)),n.setHours(23,59,59,999);const i=s.toISOString().split("T")[0],o=n.toISOString().split("T")[0],r=new Date(e.getFullYear(),e.getMonth(),1),a=new Date(e.getFullYear(),e.getMonth()+1,0);a.setHours(23,59,59,999);const l=r.toISOString().split("T")[0],c=a.toISOString().split("T")[0],{data:d}=await B.from("appointments").select().eq("user_id",this.userId).gte("date",i).lte("date",o);this.stats.week=d?d.length:0;const h=[0,0,0,0,0,0,0];d&&d.forEach(m=>{const g=new Date(m.date);h[g.getDay()]++}),this.weekCounts=h;const{data:f}=await B.from("appointments").select().eq("user_id",this.userId).gte("date",l).lte("date",c);this.stats.month=f?f.length:0;const{data:p}=await B.from("clients").select().eq("user_id",this.userId);p&&(this.stats.clients=p.length,this.clients=p,this.stats.newClients=p.filter(m=>{const g=new Date(m.created_at);return g>=r&&g<=a}).length),await this.fetchTopClients(),this.$nextTick(()=>this.renderWeekChart())},async fetchUpcomingAppointments(){const e=new Date,t=e.getDay(),s=new Date(e);s.setDate(e.getDate()-t),s.setHours(0,0,0,0);const n=new Date(e);n.setDate(e.getDate()+(6-t)),n.setHours(23,59,59,999);const i=s.toISOString().split("T")[0],o=n.toISOString().split("T")[0],{data:r}=await B.from("appointments").select().eq("user_id",this.userId).gte("date",i).lte("date",o).order("date",{ascending:!0}).order("time",{ascending:!0});this.upcomingAppointments=r||[]},async fetchTopClients(){const{data:e}=await B.from("appointments").select("client_id").eq("user_id",this.userId),t={};e&&e.forEach(n=>{t[n.client_id]=(t[n.client_id]||0)+1});const s=Object.entries(t).sort((n,i)=>i[1]-n[1]).slice(0,5);this.topClients=s.map(([n,i])=>({id:n,count:i,name:this.getClientName(n)}))},renderWeekChart(){const e=this.$refs.weekChartCanvas.getContext("2d");this.weekChart&&this.weekChart.destroy(),this.weekChart=new es(e,{type:"bar",data:{labels:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],datasets:[{label:"Agendamentos",data:this.weekCounts,backgroundColor:"#6366f1",borderColor:"#4f46e5",borderWidth:1,borderRadius:4}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{grid:{display:!1}},y:{beginAtZero:!0,grid:{color:"#e5e7eb"}}}}})},getClientName(e){const t=this.clients.find(s=>s.id===e);return t?t.name:""},getServiceName(e){const t=this.services.find(s=>s.id===e);return t?t.name:""},getRoomName(e){const t=this.rooms.find(s=>s.id===e);return t?t.name:""},getRoomLink(e){const t=this.rooms.find(s=>s.id===e);return t?t.google_meet_link:""},openDetails(e){this.selectedAppointment=e,this.showDetailsModal=!0},closeDetails(){this.showDetailsModal=!1,this.selectedAppointment=null},async handleDeleteAppointment(e,t="Tem certeza que deseja excluir este agendamento?"){if(!confirm(t))return;const{error:n}=await B.from("appointments").delete().eq("id",e);n?alert("Erro ao excluir agendamento: "+n.message):(this.upcomingAppointments=this.upcomingAppointments.filter(i=>i.id!==e),this.selectedAppointment&&this.selectedAppointment.id===e&&this.closeDetails(),await this.fetchStats(),await this.fetchTopClients(),await this.fetchUpcomingAppointments())},async handleAddClient(){if(this.clientForm.email&&!is(this.clientForm.email)){alert("E-mail inválido");return}const{data:e,error:t}=await B.from("clients").insert({name:this.clientForm.name,email:this.clientForm.email,phone:this.clientForm.phone,birthdate:this.clientForm.birthdate,cpf:this.clientForm.cpf,cep:this.clientForm.cep,street:this.clientForm.street,number:this.clientForm.number,complement:this.clientForm.complement,neighborhood:this.clientForm.neighborhood,state_id:this.clientForm.stateId,city_id:this.clientForm.cityId,user_id:this.userId}).select().single();if(t)alert("Erro ao salvar cliente: "+t.message);else{this.clients.push(e),this.clientForm={name:"",email:"",phone:"",birthdate:"",cpf:"",cep:"",street:"",number:"",complement:"",neighborhood:"",stateId:"",cityId:""},this.stats.clients+=1;const s=new Date(e.created_at),n=new Date(s.getFullYear(),s.getMonth(),1),i=new Date(s.getFullYear(),s.getMonth()+1,0);i.setHours(23,59,59,999),s>=n&&s<=i&&(this.stats.newClients+=1),await this.fetchTopClients(),alert("Cliente cadastrado!")}},openAppointmentModal(e){e?(this.editingId=e.id,this.appointmentForm={date:e.date,time:e.time,clientId:e.client_id,serviceId:e.service_id,duration:e.duration,description:e.description}):(this.editingId=null,this.appointmentForm={date:"",time:"",clientId:"",serviceId:"",duration:"",description:""}),this.showAppointmentModal=!0},closeAppointmentModal(){this.showAppointmentModal=!1,this.appointmentForm={date:"",time:"",clientId:"",serviceId:"",duration:"",description:""},this.editingId=null},editFromDetails(){this.selectedAppointment&&(this.openAppointmentModal(this.selectedAppointment),this.closeDetails())},startAppointment(){this.selectedAppointment&&this.$router.push(`/atendimento/${this.selectedAppointment.id}`)},async cancelAppointment(){this.selectedAppointment&&(await this.handleDeleteAppointment(this.selectedAppointment.id,"Tem certeza que deseja desmarcar este atendimento?"),this.closeDetails())},markNoShow(){alert("Falta registrada para este atendimento.")},sendConfirmationWhatsApp(){const e=this.selectedAppointment;if(!e)return;const t=this.clients.find(r=>r.id===e.client_id);if(!(t!=null&&t.phone)){alert("Cliente sem telefone cadastrado");return}const s=this.rooms.find(r=>r.id===e.room_id),n=`Olá ${t.name},

Passando para informar que seu agendamento está confirmado!

Segue os dados para consulta:
Cliente: ${t.name}
Data: ${ge(e.date)} - Hora: ${e.time}
Sala: ${(s==null?void 0:s.google_meet_link)||""}

Obrigado.

Está mensagem é uma mensagem automática.`,o=`https://wa.me/${dr(t.phone)}?text=${encodeURIComponent(n)}`;window.open(o,"_blank")},async handleAddAppointment(){if(this.editingId){const{data:e,error:t}=await B.from("appointments").update({date:this.appointmentForm.date,time:this.appointmentForm.time,client_id:this.appointmentForm.clientId,service_id:this.appointmentForm.serviceId,duration:this.appointmentForm.duration,description:this.appointmentForm.description}).eq("id",this.editingId).select().single();if(t)alert("Erro ao atualizar agendamento: "+t.message);else{const s=this.upcomingAppointments.findIndex(n=>n.id===this.editingId);s!==-1&&(this.upcomingAppointments[s]=e),this.closeAppointmentModal(),await this.fetchStats(),await this.fetchUpcomingAppointments()}}else{const{data:e,error:t}=await B.from("appointments").insert({date:this.appointmentForm.date,time:this.appointmentForm.time,client_id:this.appointmentForm.clientId,service_id:this.appointmentForm.serviceId,duration:this.appointmentForm.duration,description:this.appointmentForm.description,user_id:this.userId}).select().single();if(t)alert("Erro ao salvar agendamento: "+t.message);else{this.upcomingAppointments.push(e),this.closeAppointmentModal(),this.stats.week+=1,this.stats.month+=1;const s=new Date(e.date);this.weekCounts[s.getDay()]++,await this.fetchTopClients(),this.renderWeekChart()}}}},watch:{"appointmentForm.serviceId"(e){const t=this.services.find(s=>s.id===e);t&&this.appointmentForm.duration===""&&(this.appointmentForm.duration=t.duration)},"clientForm.stateId"(){this.fetchCitiesList()}},async mounted(){const{data:{user:e}}=await B.auth.getUser();if(!e){this.$router.push("/login");return}this.userId=e.id,await this.fetchStats(),await this.fetchUpcomingAppointments();const{data:t}=await B.from("services").select().eq("user_id",this.userId);t&&(this.services=t);const{data:s}=await B.from("rooms").select().eq("user_id",this.userId);s&&(this.rooms=s),await this.fetchStatesList()}},tC={class:"min-h-screen flex bg-gray-50 relative"},eC={class:"flex-1 p-4 md:p-8 space-y-8"},sC={key:0,class:"flex items-center mb-4"},nC={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},iC={class:"bg-white p-6 rounded-lg shadow-lg text-center"},oC={class:"text-2xl font-bold"},rC={class:"bg-white p-6 rounded-lg shadow-lg text-center"},aC={class:"text-2xl font-bold"},lC={class:"bg-white p-6 rounded-lg shadow-lg text-center"},cC={class:"text-2xl font-bold"},dC={class:"bg-white p-6 rounded-lg shadow-lg text-center"},uC={class:"text-2xl font-bold"},hC={class:"bg-white p-6 rounded-lg shadow-lg h-64"},fC={ref:"weekChartCanvas",class:"w-full h-full"},pC={class:"grid grid-cols-1 md:grid-cols-12 gap-6"},mC={class:"md:col-span-8"},gC={class:"flex items-center justify-between mb-4"},bC={class:"md:col-span-4 space-y-4"},yC={class:"bg-white p-4 rounded-lg shadow"},xC={class:"overflow-x-auto"},_C={class:"min-w-full text-left"},vC={class:"px-4 py-2"},wC={class:"px-4 py-2 text-right"},kC={key:0},SC=["value"],CC=["value"],MC={class:"flex justify-end space-x-2"},AC={class:"text-lg font-semibold mb-4"},EC=["value"],PC=["value"],TC={class:"flex justify-end space-x-2"},OC={class:"mt-4"},DC={class:"flex flex-wrap justify-center gap-2"},IC={class:"mt-4"},RC={class:"flex flex-wrap justify-center gap-2"};function LC(e,t,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser"),l=H("WeekView"),c=H("Modal"),d=H("AppointmentDetails");return w(),C("div",tC,[I(r,{"is-open":i.sidebarOpen,onClose:t[0]||(t[0]=h=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",eC,[i.sidebarOpen?z("",!0):(w(),C("div",sC,[u("button",{onClick:t[1]||(t[1]=h=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},t[37]||(t[37]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),I(a,{title:"Dashboard"}),u("section",nC,[u("div",iC,[t[38]||(t[38]=u("p",{class:"text-sm text-gray-500"},"Agendamentos na semana",-1)),u("p",oC,E(i.stats.week),1)]),u("div",rC,[t[39]||(t[39]=u("p",{class:"text-sm text-gray-500"},"Agendamentos no mês",-1)),u("p",aC,E(i.stats.month),1)]),u("div",lC,[t[40]||(t[40]=u("p",{class:"text-sm text-gray-500"},"Clientes cadastrados",-1)),u("p",cC,E(i.stats.clients),1)]),u("div",dC,[t[41]||(t[41]=u("p",{class:"text-sm text-gray-500"},"Novos clientes no mês",-1)),u("p",uC,E(i.stats.newClients),1)])]),u("section",hC,[t[42]||(t[42]=u("h3",{class:"text-lg font-medium mb-4"},"Agendamentos na semana",-1)),u("canvas",fC,null,512)]),u("section",pC,[u("div",mC,[u("div",gC,[t[43]||(t[43]=u("h3",{class:"text-lg font-medium"},"Agenda da Semana",-1)),u("button",{onClick:t[2]||(t[2]=h=>o.openAppointmentModal()),class:"btn"},"Novo Agendamento")]),I(l,{appointments:i.upcomingAppointments,getClientName:o.getClientName,onSelect:o.openDetails},null,8,["appointments","getClientName","onSelect"])]),u("div",bC,[u("button",{onClick:t[3]||(t[3]=(...h)=>o.openClientModal&&o.openClientModal(...h)),class:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700"},"Novo Cliente"),u("div",yC,[t[46]||(t[46]=u("h4",{class:"font-medium mb-2"},"Clientes com mais agendamentos",-1)),u("div",xC,[u("table",_C,[t[45]||(t[45]=u("thead",{class:"bg-gray-50"},[u("tr",null,[u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Cliente"),u("th",{class:"px-4 py-2 font-medium text-gray-700 text-right"},"Agendamentos")])],-1)),u("tbody",null,[(w(!0),C(X,null,pt(i.topClients,h=>(w(),C("tr",{key:h.id,class:"border-b last:border-b-0"},[u("td",vC,E(h.name),1),u("td",wC,E(h.count),1)]))),128)),i.topClients.length===0?(w(),C("tr",kC,t[44]||(t[44]=[u("td",{colspan:"2",class:"px-4 py-6 text-center text-gray-500"},"Nenhum dado",-1)]))):z("",!0)])])])])])]),i.showClientModal?(w(),ue(c,{key:1,onClose:t[21]||(t[21]=h=>i.showClientModal=!1)},{default:et(()=>[t[62]||(t[62]=u("h3",{class:"text-lg font-semibold mb-4"},"Adicionar Cliente",-1)),u("form",{onSubmit:t[20]||(t[20]=oe((...h)=>o.handleAddClient&&o.handleAddClient(...h),["prevent"])),class:"space-y-4"},[u("div",null,[t[47]||(t[47]=u("label",{class:"block text-sm font-medium text-gray-700"},"Nome",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=h=>i.clientForm.name=h),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.clientForm.name]])]),u("div",null,[t[48]||(t[48]=u("label",{class:"block text-sm font-medium text-gray-700"},"CPF",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=h=>i.clientForm.cpf=h),onInput:t[6]||(t[6]=h=>i.clientForm.cpf=o.cpfMask(i.clientForm.cpf)),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,544),[[N,i.clientForm.cpf]])]),u("div",null,[t[49]||(t[49]=u("label",{class:"block text-sm font-medium text-gray-700"},"Data de nascimento",-1)),O(u("input",{type:"date","onUpdate:modelValue":t[7]||(t[7]=h=>i.clientForm.birthdate=h),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.clientForm.birthdate]])]),u("div",null,[t[50]||(t[50]=u("label",{class:"block text-sm font-medium text-gray-700"},"E-mail",-1)),O(u("input",{type:"email","onUpdate:modelValue":t[8]||(t[8]=h=>i.clientForm.email=h),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.clientForm.email]])]),u("div",null,[t[51]||(t[51]=u("label",{class:"block text-sm font-medium text-gray-700"},"Telefone",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=h=>i.clientForm.phone=h),onInput:t[10]||(t[10]=h=>i.clientForm.phone=o.phoneMask(i.clientForm.phone)),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,544),[[N,i.clientForm.phone]])]),u("div",null,[t[52]||(t[52]=u("label",{class:"block text-sm font-medium text-gray-700"},"CEP",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[11]||(t[11]=h=>i.clientForm.cep=h),onInput:t[12]||(t[12]=h=>i.clientForm.cep=o.cepMask(i.clientForm.cep)),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,544),[[N,i.clientForm.cep]])]),u("div",null,[t[53]||(t[53]=u("label",{class:"block text-sm font-medium text-gray-700"},"Endereço",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[13]||(t[13]=h=>i.clientForm.street=h),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.clientForm.street]])]),u("div",null,[t[54]||(t[54]=u("label",{class:"block text-sm font-medium text-gray-700"},"Número",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[14]||(t[14]=h=>i.clientForm.number=h),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.clientForm.number]])]),u("div",null,[t[55]||(t[55]=u("label",{class:"block text-sm font-medium text-gray-700"},"Complemento",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[15]||(t[15]=h=>i.clientForm.complement=h),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.clientForm.complement]])]),u("div",null,[t[56]||(t[56]=u("label",{class:"block text-sm font-medium text-gray-700"},"Bairro",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[16]||(t[16]=h=>i.clientForm.neighborhood=h),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.clientForm.neighborhood]])]),u("div",null,[t[58]||(t[58]=u("label",{class:"block text-sm font-medium text-gray-700"},"Estado",-1)),O(u("select",{"onUpdate:modelValue":t[17]||(t[17]=h=>i.clientForm.stateId=h),class:"w-full mt-1 px-4 py-2 border rounded-md"},[t[57]||(t[57]=u("option",{disabled:"",value:""},"Selecione",-1)),(w(!0),C(X,null,pt(i.states,h=>(w(),C("option",{key:h.id,value:h.id},E(h.nome)+" ("+E(h.sigla)+")",9,SC))),128))],512),[[Ae,i.clientForm.stateId]])]),u("div",null,[t[60]||(t[60]=u("label",{class:"block text-sm font-medium text-gray-700"},"Cidade",-1)),O(u("select",{"onUpdate:modelValue":t[18]||(t[18]=h=>i.clientForm.cityId=h),class:"w-full mt-1 px-4 py-2 border rounded-md"},[t[59]||(t[59]=u("option",{disabled:"",value:""},"Selecione",-1)),(w(!0),C(X,null,pt(i.cities,h=>(w(),C("option",{key:h.id,value:h.id},E(h.nome),9,CC))),128))],512),[[Ae,i.clientForm.cityId]])]),u("div",MC,[u("button",{type:"button",onClick:t[19]||(t[19]=h=>i.showClientModal=!1),class:"px-4 py-2 rounded border"},"Cancelar"),t[61]||(t[61]=u("button",{type:"submit",class:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700"},"Salvar",-1))])],32)]),_:1,__:[62]})):z("",!0),i.showAppointmentModal?(w(),ue(c,{key:2,onClose:o.closeAppointmentModal},{default:et(()=>[u("h3",AC,E(i.editingId?"Editar Agendamento":"Adicionar Agendamento"),1),u("form",{onSubmit:t[29]||(t[29]=oe((...h)=>o.handleAddAppointment&&o.handleAddAppointment(...h),["prevent"])),class:"space-y-4"},[u("div",null,[t[63]||(t[63]=u("label",{class:"block text-sm font-medium text-gray-700"},"Data",-1)),O(u("input",{type:"date","onUpdate:modelValue":t[22]||(t[22]=h=>i.appointmentForm.date=h),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.appointmentForm.date]])]),u("div",null,[t[64]||(t[64]=u("label",{class:"block text-sm font-medium text-gray-700"},"Hora",-1)),O(u("input",{type:"time",step:"60","onUpdate:modelValue":t[23]||(t[23]=h=>i.appointmentForm.time=h),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.appointmentForm.time]])]),u("div",null,[t[66]||(t[66]=u("label",{class:"block text-sm font-medium text-gray-700"},"Cliente",-1)),O(u("select",{"onUpdate:modelValue":t[24]||(t[24]=h=>i.appointmentForm.clientId=h),class:"w-full mt-1 px-4 py-2 border rounded-md"},[t[65]||(t[65]=u("option",{disabled:"",value:""},"Selecione um cliente",-1)),(w(!0),C(X,null,pt(i.clients,h=>(w(),C("option",{key:h.id,value:h.id},E(h.name),9,EC))),128))],512),[[Ae,i.appointmentForm.clientId]])]),u("div",null,[t[68]||(t[68]=u("label",{class:"block text-sm font-medium text-gray-700"},"Serviço",-1)),O(u("select",{"onUpdate:modelValue":t[25]||(t[25]=h=>i.appointmentForm.serviceId=h),class:"w-full mt-1 px-4 py-2 border rounded-md"},[t[67]||(t[67]=u("option",{disabled:"",value:""},"Selecione um serviço",-1)),(w(!0),C(X,null,pt(i.services,h=>(w(),C("option",{key:h.id,value:h.id},E(h.name),9,PC))),128))],512),[[Ae,i.appointmentForm.serviceId]])]),u("div",null,[t[69]||(t[69]=u("label",{class:"block text-sm font-medium text-gray-700"},"Duração (minutos)",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[26]||(t[26]=h=>i.appointmentForm.duration=h),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.appointmentForm.duration]])]),u("div",null,[t[70]||(t[70]=u("label",{class:"block text-sm font-medium text-gray-700"},"Descrição",-1)),O(u("textarea",{"onUpdate:modelValue":t[27]||(t[27]=h=>i.appointmentForm.description=h),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.appointmentForm.description]])]),u("div",TC,[u("button",{type:"button",onClick:t[28]||(t[28]=(...h)=>o.closeAppointmentModal&&o.closeAppointmentModal(...h)),class:"px-4 py-2 rounded border"},"Cancelar"),t[71]||(t[71]=u("button",{type:"submit",class:"btn"},"Salvar",-1))])],32)]),_:1},8,["onClose"])):z("",!0),i.showDetailsModal?(w(),ue(c,{key:3,onClose:o.closeDetails},{default:et(()=>[I(d,{appointment:i.selectedAppointment,getClientName:o.getClientName,getServiceName:o.getServiceName,getRoomName:o.getRoomName,getRoomLink:o.getRoomLink,onClose:o.closeDetails},{actions:et(()=>[u("div",OC,[t[72]||(t[72]=u("h4",{class:"font-medium mb-2"},"Ações de atendimento",-1)),u("div",DC,[u("button",{onClick:t[30]||(t[30]=(...h)=>o.sendConfirmationWhatsApp&&o.sendConfirmationWhatsApp(...h)),class:"btn btn-success"},"Enviar confirmação"),u("button",{onClick:t[31]||(t[31]=(...h)=>o.cancelAppointment&&o.cancelAppointment(...h)),class:"btn btn-warning"},"Desmarcou"),u("button",{onClick:t[32]||(t[32]=(...h)=>o.markNoShow&&o.markNoShow(...h)),class:"btn btn-secondary"},"Faltou"),u("button",{onClick:t[33]||(t[33]=(...h)=>o.startAppointment&&o.startAppointment(...h)),class:"btn btn-primary"},"Iniciar atendimento")])]),u("div",IC,[t[73]||(t[73]=u("h4",{class:"font-medium mb-2"},"Ações de cadastro",-1)),u("div",RC,[u("button",{onClick:t[34]||(t[34]=(...h)=>o.editFromDetails&&o.editFromDetails(...h)),class:"btn"},"Editar"),u("button",{onClick:t[35]||(t[35]=h=>o.handleDeleteAppointment(i.selectedAppointment.id)),class:"btn btn-danger"},"Excluir"),u("button",{onClick:t[36]||(t[36]=(...h)=>o.closeDetails&&o.closeDetails(...h)),class:"px-4 py-2 rounded border"},"Fechar")])])]),_:1},8,["appointment","getClientName","getServiceName","getRoomName","getRoomLink","onClose"])]),_:1},8,["onClose"])):z("",!0)])])}const FC=mt(ZS,[["render",LC]]),NC={name:"Configuracao",components:{Sidebar:Ee,HeaderUser:Pe},data(){return{userId:null,sidebarOpen:window.innerWidth>=768,slug:"",activeTab:"perfil",form:{businessName:"",description:"",areaAtuacao:"",phone:"",whatsapp:"",email:"",address:"",instagram:"",facebook:"",youtube:"",x:"",imageUrl:""},agenda:{cancelLimitHours:0,dailySchedule:{0:{enabled:!1,start:"",end:""},1:{enabled:!1,start:"",end:""},2:{enabled:!1,start:"",end:""},3:{enabled:!1,start:"",end:""},4:{enabled:!1,start:"",end:""},5:{enabled:!1,start:"",end:""},6:{enabled:!1,start:"",end:""}}},daysOfWeekOptions:[{value:"0",label:"Domingo"},{value:"1",label:"Segunda"},{value:"2",label:"Terça"},{value:"3",label:"Quarta"},{value:"4",label:"Quinta"},{value:"5",label:"Sexta"},{value:"6",label:"Sábado"}]}},methods:{phoneMask:$r,updateSlug(){this.slug=this.form.businessName.toLowerCase().normalize("NFD").replace(/\p{Diacritic}/gu,"").replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")},async handleSave(){if(this.form.email&&!is(this.form.email)){alert("E-mail inválido");return}const e={id:this.userId,business_name:this.form.businessName,slug:this.slug,description:this.form.description,area_atuacao:this.form.areaAtuacao,phone:this.form.phone,whatsapp:this.form.whatsapp,email:this.form.email,address:this.form.address,instagram:this.form.instagram,facebook:this.form.facebook,youtube:this.form.youtube,x:this.form.x,image_url:this.form.imageUrl},{error:t}=await B.from("profiles").upsert(e,{onConflict:["id"]});alert(t?"Erro ao salvar dados: "+t.message:"Dados salvos com sucesso!")},async handleImageUpload(e){const t=e.target.files[0];if(!t)return;const s=t.name.split(".").pop(),n=`${this.userId}.${s}`,{error:i}=await B.storage.from("profile-images").upload(n,t,{upsert:!0});if(i){alert("Erro ao enviar imagem: "+i.message);return}const{data:{publicUrl:o}}=B.storage.from("profile-images").getPublicUrl(n);this.form.imageUrl=o},async handleSaveAgenda(){const e={start:null,end:null,days:[]};for(const[n,i]of Object.entries(this.agenda.dailySchedule))i.enabled&&i.start&&i.end&&(e.days.push(n),(!e.start||i.start<e.start)&&(e.start=i.start),(!e.end||i.end>e.end)&&(e.end=i.end));const t={id:this.userId,start_time:e.start,end_time:e.end,week_days:e.days.join(","),daily_schedule:this.agenda.dailySchedule,cancel_limit_hours:this.agenda.cancelLimitHours},{error:s}=await B.from("profiles").upsert(t,{onConflict:["id"]});alert(s?"Erro ao salvar dados: "+s.message:"Dados salvos com sucesso!")}},async mounted(){const{data:{user:e}}=await B.auth.getUser();if(!e){this.$router.push("/login");return}this.userId=e.id;const{data:t,error:s}=await B.from("profiles").select().eq("id",this.userId).single();if(t){if(this.form={businessName:t.business_name||"",description:t.description||"",areaAtuacao:t.area_atuacao||"",phone:t.phone||"",whatsapp:t.whatsapp||"",email:t.email||"",address:t.address||"",instagram:t.instagram||"",facebook:t.facebook||"",youtube:t.youtube||"",x:t.x||"",imageUrl:t.image_url||""},this.agenda={cancelLimitHours:t.cancel_limit_hours||0,dailySchedule:{0:{enabled:!1,start:"",end:""},1:{enabled:!1,start:"",end:""},2:{enabled:!1,start:"",end:""},3:{enabled:!1,start:"",end:""},4:{enabled:!1,start:"",end:""},5:{enabled:!1,start:"",end:""},6:{enabled:!1,start:"",end:""}}},t.daily_schedule)Object.assign(this.agenda.dailySchedule,typeof t.daily_schedule=="string"?JSON.parse(t.daily_schedule):t.daily_schedule);else{const n=t.week_days?t.week_days.split(","):[];for(const i of n)this.agenda.dailySchedule[i]={enabled:!0,start:t.start_time||"",end:t.end_time||""}}this.updateSlug()}}},jC={class:"min-h-screen flex bg-gray-100 relative"},BC={class:"flex-1 p-8"},UC={key:0,class:"flex items-center mb-4"},$C={class:"mb-6 space-x-2"},VC={class:"text-sm text-gray-500 mt-1"},zC={class:"font-mono"},HC=["href"],WC={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},qC={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},KC={key:0,class:"mt-2"},GC=["src"],YC={class:"mt-1 space-y-2"},JC=["onUpdate:modelValue"],XC={class:"w-20"},QC=["onUpdate:modelValue"],ZC=["onUpdate:modelValue"];function tM(e,t,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser"),l=H("router-link");return w(),C("div",jC,[I(r,{"is-open":i.sidebarOpen,onClose:t[0]||(t[0]=c=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",BC,[i.sidebarOpen?z("",!0):(w(),C("div",UC,[u("button",{onClick:t[1]||(t[1]=c=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},t[22]||(t[22]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),I(a,{title:"Configurações"}),I(l,{to:"/onboarding",class:"text-blue-600 underline mb-4 inline-block"},{default:et(()=>t[23]||(t[23]=[it("Refazer Onboarding")])),_:1,__:[23]}),u("nav",$C,[u("button",{onClick:t[2]||(t[2]=c=>i.activeTab="perfil"),class:Qt([i.activeTab==="perfil"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700","px-4 py-2 rounded-l"])},"Perfil",2),u("button",{onClick:t[3]||(t[3]=c=>i.activeTab="agenda"),class:Qt([i.activeTab==="agenda"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700","px-4 py-2 rounded-r"])},"Agenda",2)]),i.activeTab==="perfil"?(w(),C("form",{key:1,onSubmit:t[19]||(t[19]=oe((...c)=>o.handleSave&&o.handleSave(...c),["prevent"])),class:"space-y-6 max-w-3xl"},[u("div",null,[t[25]||(t[25]=u("label",{class:"block text-sm font-medium text-gray-700"},"Nome Comercial",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=c=>i.form.businessName=c),onInput:t[5]||(t[5]=(...c)=>o.updateSlug&&o.updateSlug(...c)),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,544),[[N,i.form.businessName]]),u("p",VC,[t[24]||(t[24]=it(" Seu link público: ")),u("span",zC,"#/"+E(i.slug),1),u("a",{href:"#/"+i.slug,target:"_blank",class:"text-blue-600 hover:underline ml-2"},"Abrir página do cliente",8,HC)])]),u("div",null,[t[26]||(t[26]=u("label",{class:"block text-sm font-medium text-gray-700"},"Descrição do Estabelecimento",-1)),O(u("textarea",{"onUpdate:modelValue":t[6]||(t[6]=c=>i.form.description=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.form.description]])]),u("div",null,[t[28]||(t[28]=u("label",{class:"block text-sm font-medium text-gray-700"},"Área de Atuação",-1)),O(u("select",{"onUpdate:modelValue":t[7]||(t[7]=c=>i.form.areaAtuacao=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},t[27]||(t[27]=[fn('<option disabled value="">Selecione</option><option>Psicologia</option><option>Terapias Gerais</option><option>Psicopedagogia</option><option>Medicina</option><option>Coaching</option><option>Fonoaudiologia</option><option>Fisioterapia</option><option>Nutrição</option><option>Terapia Ocupacional</option>',10)]),512),[[Ae,i.form.areaAtuacao]])]),u("div",WC,[u("div",null,[t[29]||(t[29]=u("label",{class:"block text-sm font-medium text-gray-700"},"Telefone de Contato",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=c=>i.form.phone=c),onInput:t[9]||(t[9]=c=>i.form.phone=o.phoneMask(i.form.phone)),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,544),[[N,i.form.phone]])]),u("div",null,[t[30]||(t[30]=u("label",{class:"block text-sm font-medium text-gray-700"},"WhatsApp",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[10]||(t[10]=c=>i.form.whatsapp=c),onInput:t[11]||(t[11]=c=>i.form.whatsapp=o.phoneMask(i.form.whatsapp)),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,544),[[N,i.form.whatsapp]])]),u("div",null,[t[31]||(t[31]=u("label",{class:"block text-sm font-medium text-gray-700"},"E-mail",-1)),O(u("input",{type:"email","onUpdate:modelValue":t[12]||(t[12]=c=>i.form.email=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.form.email]])]),u("div",null,[t[32]||(t[32]=u("label",{class:"block text-sm font-medium text-gray-700"},"Endereço",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[13]||(t[13]=c=>i.form.address=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.form.address]])])]),u("div",qC,[u("div",null,[t[33]||(t[33]=u("label",{class:"block text-sm font-medium text-gray-700"},"Instagram",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[14]||(t[14]=c=>i.form.instagram=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.form.instagram]])]),u("div",null,[t[34]||(t[34]=u("label",{class:"block text-sm font-medium text-gray-700"},"Facebook",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[15]||(t[15]=c=>i.form.facebook=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.form.facebook]])]),u("div",null,[t[35]||(t[35]=u("label",{class:"block text-sm font-medium text-gray-700"},"YouTube",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[16]||(t[16]=c=>i.form.youtube=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.form.youtube]])]),u("div",null,[t[36]||(t[36]=u("label",{class:"block text-sm font-medium text-gray-700"},"X (Twitter)",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[17]||(t[17]=c=>i.form.x=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.form.x]])])]),u("div",null,[t[37]||(t[37]=u("label",{class:"block text-sm font-medium text-gray-700"},"Imagem do Estabelecimento",-1)),u("input",{type:"file",accept:"image/*",onChange:t[18]||(t[18]=(...c)=>o.handleImageUpload&&o.handleImageUpload(...c)),class:"mt-1"},null,32),i.form.imageUrl?(w(),C("div",KC,[u("img",{src:i.form.imageUrl,alt:"Imagem do estabelecimento",class:"h-24 rounded-md"},null,8,GC)])):z("",!0)]),t[38]||(t[38]=u("div",null,[u("button",{type:"submit",class:"btn"},"Salvar")],-1))],32)):z("",!0),i.activeTab==="agenda"?(w(),C("form",{key:2,onSubmit:t[21]||(t[21]=oe((...c)=>o.handleSaveAgenda&&o.handleSaveAgenda(...c),["prevent"])),class:"space-y-6 max-w-3xl"},[u("div",null,[t[40]||(t[40]=u("label",{class:"block text-sm font-medium text-gray-700"},"Horários por dia",-1)),u("div",YC,[(w(!0),C(X,null,pt(i.daysOfWeekOptions,c=>(w(),C("div",{key:c.value,class:"flex items-center space-x-2"},[O(u("input",{type:"checkbox","onUpdate:modelValue":d=>i.agenda.dailySchedule[c.value].enabled=d},null,8,JC),[[Ul,i.agenda.dailySchedule[c.value].enabled]]),u("span",XC,E(c.label),1),O(u("input",{type:"time",step:"60","onUpdate:modelValue":d=>i.agenda.dailySchedule[c.value].start=d,class:"border rounded-md px-2 py-1"},null,8,QC),[[N,i.agenda.dailySchedule[c.value].start]]),t[39]||(t[39]=u("span",null,"-",-1)),O(u("input",{type:"time",step:"60","onUpdate:modelValue":d=>i.agenda.dailySchedule[c.value].end=d,class:"border rounded-md px-2 py-1"},null,8,ZC),[[N,i.agenda.dailySchedule[c.value].end]])]))),128))])]),u("div",null,[t[41]||(t[41]=u("label",{class:"block text-sm font-medium text-gray-700"},"Horas para cancelamento sem custo",-1)),O(u("input",{type:"number",min:"0","onUpdate:modelValue":t[20]||(t[20]=c=>i.agenda.cancelLimitHours=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.agenda.cancelLimitHours,void 0,{number:!0}]])]),t[42]||(t[42]=u("div",null,[u("button",{type:"submit",class:"btn"},"Salvar")],-1))],32)):z("",!0)])])}const eM=mt(NC,[["render",tM]]),sM={name:"Clientes",components:{Sidebar:Ee,HeaderUser:Pe,Modal:Ks},data(){return{userId:null,showModal:!1,modalMode:"new",editingId:null,search:"",form:{name:"",email:"",phone:"",birthdate:"",cpf:"",cep:"",street:"",number:"",complement:"",neighborhood:"",stateId:"",cityId:""},states:[],cities:[],clients:[],sidebarOpen:window.innerWidth>=768,page:1,pageSize:10,activeTab:"cadastro",originalForm:{},clientAppointments:[],history:[],services:[]}},methods:{phoneMask:$r,digitsOnly:dr,cpfMask:Wf,cepMask:qf,formatDateBR:ge,async fetchServicesList(){const{data:e}=await B.from("services").select().eq("user_id",this.userId);e&&(this.services=e)},async fetchStatesList(){this.states=await qp()},async fetchCitiesList(){this.cities=await Kp(this.form.stateId)},async openModal(e,t="new"){this.modalMode=t,this.activeTab="cadastro",e?(this.editingId=e.id,this.form={name:e.name,email:e.email,phone:e.phone,birthdate:e.birthdate,cpf:e.cpf,cep:e.cep,street:e.street,number:e.number,complement:e.complement,neighborhood:e.neighborhood,stateId:e.state_id,cityId:e.city_id},this.originalForm={...this.form},await this.fetchClientAppointments(),await this.fetchClientHistory()):(this.editingId=null,this.form={name:"",email:"",phone:"",birthdate:"",cpf:"",cep:"",street:"",number:"",complement:"",neighborhood:"",stateId:"",cityId:""},this.originalForm={...this.form},this.clientAppointments=[],this.history=[]),await this.fetchStatesList(),this.form.stateId&&await this.fetchCitiesList(),await this.fetchServicesList(),this.showModal=!0},closeModal(){this.showModal=!1,this.modalMode="new",this.editingId=null,this.form={name:"",email:"",phone:"",birthdate:"",cpf:"",cep:"",street:"",number:"",complement:"",neighborhood:"",stateId:"",cityId:""},this.activeTab="cadastro",this.clientAppointments=[],this.history=[]},handleClose(){this.modalMode==="view"?this.closeModal():confirm("Tem certeza? Os dados não foram salvos e serão perdidos.")&&this.closeModal()},whatsappLink(e){return`https://wa.me/${dr(e)}`},async handleSaveClient(){if(this.form.email&&!is(this.form.email)){alert("E-mail inválido");return}let e,t;if(this.editingId?({data:e,error:t}=await B.from("clients").update({name:this.form.name,email:this.form.email,phone:this.form.phone,birthdate:this.form.birthdate,cpf:this.form.cpf,cep:this.form.cep,street:this.form.street,number:this.form.number,complement:this.form.complement,neighborhood:this.form.neighborhood,state_id:this.form.stateId,city_id:this.form.cityId}).eq("id",this.editingId).select().single(),this.originalForm={...e}):({data:e,error:t}=await B.from("clients").insert({name:this.form.name,email:this.form.email,phone:this.form.phone,birthdate:this.form.birthdate,cpf:this.form.cpf,cep:this.form.cep,street:this.form.street,number:this.form.number,complement:this.form.complement,neighborhood:this.form.neighborhood,state_id:this.form.stateId,city_id:this.form.cityId,user_id:this.userId}).select().single(),this.originalForm={...e}),t)alert("Erro ao salvar cliente: "+t.message);else{if(this.editingId){const s=this.clients.findIndex(n=>n.id===this.editingId);s!==-1&&(this.clients[s]=e)}else this.clients.push(e);this.closeModal()}},async handleDeleteClient(e){if(!confirm("Tem certeza que deseja excluir este cliente?"))return;const{error:s}=await B.from("clients").delete().eq("id",e);s?alert("Erro ao excluir cliente: "+s.message):this.clients=this.clients.filter(n=>n.id!==e)},enableEdit(){this.modalMode="edit"},changeTab(e){if(e!=="cadastro"&&this.modalMode!=="view"){if(!confirm("Dados não salvos serão perdidos. Deseja continuar?"))return;this.modalMode="view",this.form={...this.originalForm}}this.activeTab=e},async fetchClientAppointments(){if(!this.editingId){this.clientAppointments=[];return}const{data:e}=await B.from("appointments").select().eq("user_id",this.userId).eq("client_id",this.editingId).order("date",{ascending:!0}).order("time",{ascending:!0});this.clientAppointments=e||[]},async fetchClientHistory(){if(!this.editingId){this.history=[];return}if(!this.clientAppointments.length){this.history=[];return}const e=this.clientAppointments.map(s=>s.id),{data:t}=await B.from("appointment_notes").select().in("appointment_id",e).order("created_at",{ascending:!1});this.history=(t||[]).map(s=>({...s,appointment:this.clientAppointments.find(n=>n.id===s.appointment_id)||{}}))},getServiceName(e){const t=this.services.find(s=>s.id===e);return t?t.name:""},nextPage(){this.page<this.totalPages&&this.page++},prevPage(){this.page>1&&this.page--}},computed:{isReadOnly(){return this.modalMode==="view"},filteredClients(){const e=this.search.toLowerCase();return this.clients.filter(t=>t.name.toLowerCase().includes(e)||t.email.toLowerCase().includes(e)||t.phone.toLowerCase().includes(e))},paginatedClients(){const e=(this.page-1)*this.pageSize;return this.filteredClients.slice(e,e+this.pageSize)},totalPages(){return Math.max(1,Math.ceil(this.filteredClients.length/this.pageSize))}},watch:{search(){this.page=1},"form.stateId"(){this.fetchCitiesList()}},async mounted(){const{data:{user:e}}=await B.auth.getUser();if(!e){this.$router.push("/login");return}this.userId=e.id;const{data:t}=await B.from("clients").select().eq("user_id",this.userId);t&&(this.clients=t),await this.fetchStatesList(),await this.fetchServicesList()}},nM={class:"min-h-screen flex bg-gray-100 relative"},iM={class:"flex-1 p-4 md:p-8 space-y-6"},oM={key:0,class:"flex items-center mb-4"},rM={class:"bg-white p-4 rounded-lg shadow"},aM={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 space-y-4 sm:space-y-0"},lM={class:"flex flex-col sm:flex-row items-stretch sm:items-center w-full sm:w-auto space-y-2 sm:space-y-0 sm:space-x-3"},cM={class:"overflow-x-auto"},dM={class:"min-w-full text-left"},uM={class:"px-4 py-2"},hM={class:"px-4 py-2"},fM={class:"px-4 py-2"},pM={class:"px-4 py-2 text-right space-x-2"},mM=["href"],gM=["onClick"],bM=["onClick"],yM={key:0},xM={class:"mt-4 flex justify-between items-center"},_M=["disabled"],vM={class:"text-sm"},wM=["disabled"],kM={class:"text-lg font-semibold mb-4"},SM={key:0,class:"border-b mb-4"},CM={class:"flex space-x-4"},MM=["disabled"],AM=["disabled"],EM=["disabled"],PM=["disabled"],TM=["disabled"],OM=["disabled"],DM=["disabled"],IM=["disabled"],RM=["disabled"],LM=["disabled"],FM=["disabled"],NM=["value"],jM=["disabled"],BM=["value"],UM={class:"flex justify-end space-x-2 md:col-span-2"},$M=["disabled"],VM={class:"min-w-full text-left"},zM={class:"px-4 py-2"},HM={class:"px-4 py-2"},WM={class:"px-4 py-2 text-right"},qM={key:0},KM={class:"space-y-4"},GM={class:"text-sm text-gray-600 mb-1"},YM={class:"mb-2 whitespace-pre-line"},JM={class:"text-right"},XM={key:0,class:"text-center text-gray-500"};function QM(e,t,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser"),l=H("router-link"),c=H("Modal");return w(),C("div",nM,[I(r,{"is-open":i.sidebarOpen,onClose:t[0]||(t[0]=d=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",iM,[i.sidebarOpen?z("",!0):(w(),C("div",oM,[u("button",{onClick:t[1]||(t[1]=d=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},t[27]||(t[27]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),I(a,{title:"Clientes"}),u("section",rM,[u("div",aM,[t[28]||(t[28]=u("h3",{class:"text-lg font-medium"},"Clientes cadastrados",-1)),u("div",lM,[O(u("input",{"onUpdate:modelValue":t[2]||(t[2]=d=>i.search=d),type:"text",placeholder:"Buscar...",class:"border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 w-full sm:w-64"},null,512),[[N,i.search]]),u("button",{onClick:t[3]||(t[3]=(...d)=>o.openModal&&o.openModal(...d)),class:"btn w-full sm:w-auto"}," Novo Cliente ")])]),u("div",cM,[u("table",dM,[t[30]||(t[30]=u("thead",{class:"bg-gray-50"},[u("tr",null,[u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Nome"),u("th",{class:"px-4 py-2 font-medium text-gray-700"},"E-mail"),u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Telefone"),u("th",{class:"px-4 py-2"})])],-1)),u("tbody",null,[(w(!0),C(X,null,pt(o.paginatedClients,d=>(w(),C("tr",{key:d.id,class:"border-b last:border-b-0"},[u("td",uM,E(d.name),1),u("td",hM,E(d.email),1),u("td",fM,E(o.phoneMask(d.phone)),1),u("td",pM,[u("a",{href:o.whatsappLink(d.phone),target:"_blank",rel:"noopener",class:"btn btn-sm btn-success"}," WhatsApp ",8,mM),u("button",{onClick:h=>o.openModal(d,"view"),class:"btn btn-sm"}," Visualizar ",8,gM),u("button",{onClick:h=>o.handleDeleteClient(d.id),class:"btn btn-sm btn-danger"}," Excluir ",8,bM)])]))),128)),o.filteredClients.length===0?(w(),C("tr",yM,t[29]||(t[29]=[u("td",{colspan:"4",class:"px-4 py-6 text-center text-gray-500"}," Nenhum cliente encontrado ",-1)]))):z("",!0)])]),u("div",xM,[u("button",{class:"px-3 py-1 border rounded",onClick:t[4]||(t[4]=(...d)=>o.prevPage&&o.prevPage(...d)),disabled:i.page===1}," Anterior ",8,_M),u("span",vM,"Página "+E(i.page)+" de "+E(o.totalPages),1),u("button",{class:"px-3 py-1 border rounded",onClick:t[5]||(t[5]=(...d)=>o.nextPage&&o.nextPage(...d)),disabled:i.page===o.totalPages}," Próxima ",8,wM)])])]),i.showModal?(w(),ue(c,{key:1,onClose:o.handleClose},{default:et(()=>[u("h3",kM,E(i.modalMode==="new"?"Adicionar Cliente":"Cadastro do Cliente"),1),i.editingId?(w(),C("div",SM,[u("nav",CM,[u("button",{class:Qt(i.activeTab==="cadastro"?"border-b-2 border-blue-500 pb-2":"text-gray-500 pb-2"),onClick:t[6]||(t[6]=d=>o.changeTab("cadastro"))},"Cadastro",2),u("button",{class:Qt(i.activeTab==="agendamentos"?"border-b-2 border-blue-500 pb-2":"text-gray-500 pb-2"),onClick:t[7]||(t[7]=d=>o.changeTab("agendamentos"))},"Agendamentos",2),u("button",{class:Qt(i.activeTab==="historico"?"border-b-2 border-blue-500 pb-2":"text-gray-500 pb-2"),onClick:t[8]||(t[8]=d=>o.changeTab("historico"))},"Histórico de atendimento",2)])])):z("",!0),O(u("form",{onSubmit:t[26]||(t[26]=oe((...d)=>o.handleSaveClient&&o.handleSaveClient(...d),["prevent"])),class:"grid grid-cols-1 md:grid-cols-2 gap-4"},[u("div",null,[t[31]||(t[31]=u("label",{class:"block text-sm font-medium text-gray-700"},"Nome",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=d=>i.form.name=d),disabled:o.isReadOnly,class:"w-full mt-1 px-4 py-2 border rounded-md"},null,8,MM),[[N,i.form.name]])]),u("div",null,[t[32]||(t[32]=u("label",{class:"block text-sm font-medium text-gray-700"},"CPF",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[10]||(t[10]=d=>i.form.cpf=d),disabled:o.isReadOnly,onInput:t[11]||(t[11]=d=>i.form.cpf=o.cpfMask(i.form.cpf)),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,40,AM),[[N,i.form.cpf]])]),u("div",null,[t[33]||(t[33]=u("label",{class:"block text-sm font-medium text-gray-700"},"Data de nascimento",-1)),O(u("input",{type:"date","onUpdate:modelValue":t[12]||(t[12]=d=>i.form.birthdate=d),disabled:o.isReadOnly,class:"w-full mt-1 px-4 py-2 border rounded-md"},null,8,EM),[[N,i.form.birthdate]])]),u("div",null,[t[34]||(t[34]=u("label",{class:"block text-sm font-medium text-gray-700"},"E-mail",-1)),O(u("input",{type:"email","onUpdate:modelValue":t[13]||(t[13]=d=>i.form.email=d),disabled:o.isReadOnly,class:"w-full mt-1 px-4 py-2 border rounded-md"},null,8,PM),[[N,i.form.email]])]),u("div",null,[t[35]||(t[35]=u("label",{class:"block text-sm font-medium text-gray-700"},"Telefone",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[14]||(t[14]=d=>i.form.phone=d),disabled:o.isReadOnly,onInput:t[15]||(t[15]=d=>i.form.phone=o.phoneMask(i.form.phone)),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,40,TM),[[N,i.form.phone]])]),u("div",null,[t[36]||(t[36]=u("label",{class:"block text-sm font-medium text-gray-700"},"CEP",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[16]||(t[16]=d=>i.form.cep=d),disabled:o.isReadOnly,onInput:t[17]||(t[17]=d=>i.form.cep=o.cepMask(i.form.cep)),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,40,OM),[[N,i.form.cep]])]),u("div",null,[t[37]||(t[37]=u("label",{class:"block text-sm font-medium text-gray-700"},"Endereço",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[18]||(t[18]=d=>i.form.street=d),disabled:o.isReadOnly,class:"w-full mt-1 px-4 py-2 border rounded-md"},null,8,DM),[[N,i.form.street]])]),u("div",null,[t[38]||(t[38]=u("label",{class:"block text-sm font-medium text-gray-700"},"Número",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[19]||(t[19]=d=>i.form.number=d),disabled:o.isReadOnly,class:"w-full mt-1 px-4 py-2 border rounded-md"},null,8,IM),[[N,i.form.number]])]),u("div",null,[t[39]||(t[39]=u("label",{class:"block text-sm font-medium text-gray-700"},"Complemento",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[20]||(t[20]=d=>i.form.complement=d),disabled:o.isReadOnly,class:"w-full mt-1 px-4 py-2 border rounded-md"},null,8,RM),[[N,i.form.complement]])]),u("div",null,[t[40]||(t[40]=u("label",{class:"block text-sm font-medium text-gray-700"},"Bairro",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[21]||(t[21]=d=>i.form.neighborhood=d),disabled:o.isReadOnly,class:"w-full mt-1 px-4 py-2 border rounded-md"},null,8,LM),[[N,i.form.neighborhood]])]),u("div",null,[t[42]||(t[42]=u("label",{class:"block text-sm font-medium text-gray-700"},"Estado",-1)),O(u("select",{"onUpdate:modelValue":t[22]||(t[22]=d=>i.form.stateId=d),disabled:o.isReadOnly,class:"w-full mt-1 px-4 py-2 border rounded-md"},[t[41]||(t[41]=u("option",{disabled:"",value:""},"Selecione",-1)),(w(!0),C(X,null,pt(i.states,d=>(w(),C("option",{key:d.id,value:d.id},E(d.nome)+" ("+E(d.sigla)+")",9,NM))),128))],8,FM),[[Ae,i.form.stateId]])]),u("div",null,[t[44]||(t[44]=u("label",{class:"block text-sm font-medium text-gray-700"},"Cidade",-1)),O(u("select",{"onUpdate:modelValue":t[23]||(t[23]=d=>i.form.cityId=d),disabled:o.isReadOnly,class:"w-full mt-1 px-4 py-2 border rounded-md"},[t[43]||(t[43]=u("option",{disabled:"",value:""},"Selecione",-1)),(w(!0),C(X,null,pt(i.cities,d=>(w(),C("option",{key:d.id,value:d.id},E(d.nome),9,BM))),128))],8,jM),[[Ae,i.form.cityId]])]),u("div",UM,[u("button",{type:"button",onClick:t[24]||(t[24]=(...d)=>o.handleClose&&o.handleClose(...d)),class:"px-4 py-2 rounded border"},"Fechar"),i.modalMode==="view"?(w(),C("button",{key:0,type:"button",onClick:t[25]||(t[25]=(...d)=>o.enableEdit&&o.enableEdit(...d)),class:"btn btn-success"},"Editar")):z("",!0),u("button",{type:"submit",class:"btn",disabled:o.isReadOnly},"Salvar",8,$M)])],544),[[Fn,i.activeTab==="cadastro"]]),O(u("div",null,[u("table",VM,[t[47]||(t[47]=u("thead",{class:"bg-gray-50"},[u("tr",null,[u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Data/Hora"),u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Serviço"),u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Ações")])],-1)),u("tbody",null,[(w(!0),C(X,null,pt(i.clientAppointments,d=>(w(),C("tr",{key:d.id,class:"border-b last:border-b-0"},[u("td",zM,E(o.formatDateBR(d.date))+" "+E(d.time),1),u("td",HM,E(o.getServiceName(d.service_id)),1),u("td",WM,[I(l,{to:{path:"/agendamentos",query:{edit:d.id}},class:"btn btn-sm"},{default:et(()=>t[45]||(t[45]=[it("Editar")])),_:2,__:[45]},1032,["to"])])]))),128)),i.clientAppointments.length===0?(w(),C("tr",qM,t[46]||(t[46]=[u("td",{colspan:"3",class:"px-4 py-6 text-center text-gray-500"},"Nenhum agendamento",-1)]))):z("",!0)])])],512),[[Fn,i.activeTab==="agendamentos"]]),O(u("div",KM,[(w(!0),C(X,null,pt(i.history,d=>(w(),C("div",{key:d.id,class:"border p-2 rounded"},[u("p",GM,E(o.formatDateBR(d.appointment.date))+" "+E(d.appointment.time),1),u("p",YM,E(d.note),1),u("div",JM,[I(l,{to:`/atendimento/${d.appointment_id}`,class:"btn btn-sm"},{default:et(()=>t[48]||(t[48]=[it("Editar atendimento")])),_:2,__:[48]},1032,["to"])])]))),128)),i.history.length===0?(w(),C("p",XM,"Nenhum atendimento encontrado")):z("",!0)],512),[[Fn,i.activeTab==="historico"]])]),_:1},8,["onClose"])):z("",!0)])])}const ZM=mt(sM,[["render",QM]]),tA={name:"CalendarView",props:{appointments:{type:Array,required:!0},getClientName:{type:Function,required:!0}},data(){const e=new Date;return{currentYear:e.getFullYear(),currentMonth:e.getMonth(),monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],daysOfWeek:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"]}},computed:{daysInMonth(){return new Date(this.currentYear,this.currentMonth+1,0).getDate()},leadingBlanks(){return new Date(this.currentYear,this.currentMonth,1).getDay()}},methods:{prevMonth(){this.currentMonth===0?(this.currentMonth=11,this.currentYear--):this.currentMonth--},nextMonth(){this.currentMonth===11?(this.currentMonth=0,this.currentYear++):this.currentMonth++},goToCurrentMonth(){const e=new Date;this.currentYear=e.getFullYear(),this.currentMonth=e.getMonth()},getAppointmentsForDay(e){const t=String(this.currentMonth+1).padStart(2,"0"),s=String(e).padStart(2,"0"),n=`${this.currentYear}-${t}-${s}`;return this.appointments.filter(i=>i.date===n)},isToday(e){const t=new Date;return this.currentYear===t.getFullYear()&&this.currentMonth===t.getMonth()&&e===t.getDate()}}},eA={class:"bg-white rounded-lg shadow overflow-hidden"},sA={class:"flex justify-between items-center px-4 py-2 border-b bg-gray-50"},nA={class:"font-semibold"},iA={class:"grid grid-cols-7 gap-px text-sm bg-gray-100"},oA={class:"text-center font-medium"},rA=["onClick"];function aA(e,t,s,n,i,o){return w(),C("div",eA,[u("div",sA,[u("button",{onClick:t[0]||(t[0]=(...r)=>o.prevMonth&&o.prevMonth(...r)),class:"p-1 rounded hover:bg-gray-200"},t[2]||(t[2]=[u("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),u("div",nA,E(i.monthNames[i.currentMonth])+" "+E(i.currentYear),1),u("button",{onClick:t[1]||(t[1]=(...r)=>o.nextMonth&&o.nextMonth(...r)),class:"p-1 rounded hover:bg-gray-200"},t[3]||(t[3]=[u("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))]),u("div",iA,[(w(!0),C(X,null,pt(i.daysOfWeek,r=>(w(),C("div",{class:"font-semibold text-center bg-gray-50 p-1",key:r},E(r),1))),128)),(w(!0),C(X,null,pt(o.leadingBlanks,r=>(w(),C("div",{key:"b"+r,class:"bg-white h-24"}))),128)),(w(!0),C(X,null,pt(o.daysInMonth,r=>(w(),C("div",{key:r,class:Qt(["border border-gray-200 h-24 p-1 overflow-auto bg-white",{"bg-blue-50 border-l-4 border-blue-500":o.isToday(r)}])},[u("div",oA,E(r),1),u("ul",null,[(w(!0),C(X,null,pt(o.getAppointmentsForDay(r),a=>(w(),C("li",{key:a.id,class:"text-xs truncate cursor-pointer",onClick:l=>e.$emit("select",a)},E(a.time)+" - "+E(s.getClientName(a.client_id)),9,rA))),128))])],2))),128))])])}const lA=mt(tA,[["render",aA]]);async function Yu(e){const{error:t}=await B.functions.invoke("send-appointment-email",{body:e});t&&console.error("Erro ao enviar email de agendamento:",t.message)}const cA={name:"Agendamentos",components:{Sidebar:Ee,HeaderUser:Pe,Modal:Ks,CalendarView:lA,WeekView:Kf,AppointmentDetails:Gf},data(){return{userId:null,showModal:!1,editingId:null,viewMode:"week",form:{date:"",time:"",clientId:"",serviceId:"",roomId:"",duration:"",description:""},clients:[],services:[],rooms:[],appointments:[],selectedAppointment:null,showDetailsModal:!1,filterStartDate:"",filterEndDate:"",searchQuery:"",sortColumn:"",sortAsc:!0,showViewDropdown:!1,sidebarOpen:window.innerWidth>=768,schedule:{startTime:"",endTime:"",weekDays:[],dailySchedule:null,cancelLimitHours:0},profileWhatsapp:""}},computed:{processedAppointments(){let e=this.appointments.slice();if(this.searchQuery){const t=this.searchQuery.toLowerCase();e=e.filter(s=>s.date.toLowerCase().includes(t)||s.time.toLowerCase().includes(t)||this.getClientName(s.client_id).toLowerCase().includes(t)||this.getServiceName(s.service_id).toLowerCase().includes(t)||s.description&&s.description.toLowerCase().includes(t))}return this.filterStartDate&&(e=e.filter(t=>t.date>=this.filterStartDate)),this.filterEndDate&&(e=e.filter(t=>t.date<=this.filterEndDate)),this.sortColumn&&e.sort((t,s)=>{let n,i;switch(this.sortColumn){case"client":n=this.getClientName(t.client_id),i=this.getClientName(s.client_id);break;case"service":n=this.getServiceName(t.service_id),i=this.getServiceName(s.service_id);break;case"datetime":n=t.date+" "+t.time,i=s.date+" "+s.time;break;default:n=t[this.sortColumn],i=s[this.sortColumn]}return n<i?this.sortAsc?-1:1:n>i?this.sortAsc?1:-1:0}),e}},methods:{formatDateBR:ge,openModal(e){e?(this.editingId=e.id,this.form={date:e.date,time:e.time,clientId:e.client_id,serviceId:e.service_id,roomId:e.room_id||"",duration:e.duration,description:e.description}):(this.editingId=null,this.form={date:"",time:"",clientId:"",serviceId:"",roomId:"",duration:"",description:""}),this.showModal=!0},closeModal(){this.showModal=!1,this.form={date:"",time:"",clientId:"",serviceId:"",roomId:"",duration:"",description:""},this.editingId=null},editFromDetails(){this.selectedAppointment&&(this.openModal(this.selectedAppointment),this.closeDetails())},closeDetails(){this.showDetailsModal=!1,this.selectedAppointment=null},isSlotAllowed(e,t){if(!e||!t)return!1;const s=new Date(e+"T12:00:00").getDay().toString();if(this.schedule.dailySchedule){const n=this.schedule.dailySchedule[s];return!n||!n.enabled||!n.start||!n.end?!1:t>=n.start&&t<=n.end}return!(this.schedule.weekDays.length&&(!this.schedule.weekDays.includes(s)||this.schedule.startTime&&t<this.schedule.startTime||this.schedule.endTime&&t>this.schedule.endTime))},canCancelAppointment(e){const t=this.schedule.cancelLimitHours||0;return t===0?!0:(new Date(`${e.date}T${e.time}`)-new Date)/36e5>=t},async handleSaveAppointment(){if(!this.isSlotAllowed(this.form.date,this.form.time)){alert("Horário fora do horário de trabalho configurado");return}if(this.editingId){const{data:e,error:t}=await B.from("appointments").update({date:this.form.date,time:this.form.time,client_id:this.form.clientId,service_id:this.form.serviceId,room_id:this.form.roomId||null,duration:this.form.duration,description:this.form.description}).eq("id",this.editingId).select().single();if(t)alert("Erro ao atualizar agendamento: "+t.message);else{const s=this.appointments.findIndex(n=>n.id===this.editingId);s!==-1&&(this.appointments[s]=e),this.closeModal()}}else{const{data:e,error:t}=await B.from("appointments").insert({date:this.form.date,time:this.form.time,client_id:this.form.clientId,service_id:this.form.serviceId,room_id:this.form.roomId||null,duration:this.form.duration,description:this.form.description,user_id:this.userId}).select().single();if(t)alert("Erro ao salvar agendamento: "+t.message);else{this.appointments.push(e);const s=this.clients.find(o=>o.id===this.form.clientId),n=this.services.find(o=>o.id===this.form.serviceId),i=this.rooms.find(o=>o.id===this.form.roomId);await Yu({to:s==null?void 0:s.email,subject:`Agendamento confirmado para ${ge(this.form.date)} às ${this.form.time}`,text:`Olá ${s==null?void 0:s.name},

Seu agendamento para ${n==null?void 0:n.name} foi confirmado para ${ge(this.form.date)} às ${this.form.time}.
${i?`Sala: ${i.name}
`:""}${i!=null&&i.google_meet_link?`Link: ${i.google_meet_link}
`:""}${this.form.description?`Observações: ${this.form.description}`:""}`}),this.closeModal()}}},async handleDeleteAppointment(e,t="Tem certeza que deseja excluir este agendamento?"){const s=this.appointments.find(o=>o.id===e);if(s&&!this.canCancelAppointment(s)){alert("Agendamento fora da política de cancelamento.");return}if(!confirm(t))return;const{error:i}=await B.from("appointments").delete().eq("id",e);i?alert("Erro ao excluir agendamento: "+i.message):(this.appointments=this.appointments.filter(o=>o.id!==e),this.selectedAppointment&&this.selectedAppointment.id===e&&(this.showDetailsModal=!1,this.selectedAppointment=null))},getClientName(e){const t=this.clients.find(s=>s.id===e);return t?t.name:""},getClientEmail(e){const t=this.clients.find(s=>s.id===e);return t?t.email:""},getServiceName(e){const t=this.services.find(s=>s.id===e);return t?t.name:""},getRoomName(e){const t=this.rooms.find(s=>s.id===e);return t?t.name:""},getRoomLink(e){const t=this.rooms.find(s=>s.id===e);return t?t.google_meet_link:""},sortBy(e){this.sortColumn===e?this.sortAsc=!this.sortAsc:(this.sortColumn=e,this.sortAsc=!0)},setViewMode(e){this.viewMode=e,this.showViewDropdown=!1,e==="calendar"&&this.$refs.calendarView&&this.$refs.calendarView.goToCurrentMonth&&this.$refs.calendarView.goToCurrentMonth()},openDetails(e){this.selectedAppointment=e,this.showDetailsModal=!0},startAppointment(){this.selectedAppointment&&this.$router.push(`/atendimento/${this.selectedAppointment.id}`)},async cancelAppointment(){if(this.selectedAppointment){if(!this.canCancelAppointment(this.selectedAppointment)){alert("Agendamento fora da política de cancelamento.");return}await this.handleDeleteAppointment(this.selectedAppointment.id,"Tem certeza que deseja desmarcar este atendimento?"),this.closeDetails()}},markNoShow(){alert("Falta registrada para este atendimento.")},async sendConfirmationEmail(){const e=this.selectedAppointment;if(!e)return;const t=this.clients.find(i=>i.id===e.client_id),s=this.services.find(i=>i.id===e.service_id),n=this.rooms.find(i=>i.id===e.room_id);await Yu({to:t==null?void 0:t.email,subject:`Agendamento confirmado para ${ge(e.date)} às ${e.time}`,text:`Olá ${t==null?void 0:t.name},

Seu agendamento para ${s==null?void 0:s.name} foi confirmado para ${ge(e.date)} às ${e.time}.
${n?`Sala: ${n.name}
`:""}${n!=null&&n.google_meet_link?`Link: ${n.google_meet_link}
`:""}${e.description?`Observações: ${e.description}`:""}`})},sendConfirmationWhatsApp(){const e=this.selectedAppointment;if(!e)return;const t=this.clients.find(r=>r.id===e.client_id);if(!(t!=null&&t.phone)){alert("Cliente sem telefone cadastrado");return}const s=this.rooms.find(r=>r.id===e.room_id),n=`Olá ${t.name},

Passando para informar que seu agendamento está confirmado!

Segue os dados para consulta:
Cliente: ${t.name}
Data: ${ge(e.date)} - Hora: ${e.time}
Sala: ${(s==null?void 0:s.google_meet_link)||""}

Obrigado.

Está mensagem é uma mensagem automática.`,o=`https://wa.me/${dr(t.phone)}?text=${encodeURIComponent(n)}`;window.open(o,"_blank")},exportCSV(){const e=["Data","Hora","Cliente","Serviço","Duração","Descrição"],t=this.appointments.map(o=>[ge(o.date),o.time,this.getClientName(o.client_id),this.getServiceName(o.service_id),o.duration,(o.description||"").replace(/(\r\n|\n|\r)/g," ")]),s=[e.join(","),...t.map(o=>o.map(r=>`"${String(r).replace(/"/g,'""')}"`).join(","))].join(`
`),n=new Blob([s],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a");i.href=URL.createObjectURL(n),i.setAttribute("download","agendamentos.csv"),document.body.appendChild(i),i.click(),document.body.removeChild(i)},clearFilters(){this.searchQuery="",this.filterStartDate="",this.filterEndDate=""}},watch:{"form.serviceId"(e){const t=this.services.find(s=>s.id===e);t&&(!this.editingId||this.form.duration==="")&&(this.form.duration=t.duration)}},async mounted(){const{data:{user:e}}=await B.auth.getUser();if(!e){this.$router.push("/login");return}this.userId=e.id;const{data:t}=await B.from("clients").select().eq("user_id",this.userId);t&&(this.clients=t);const{data:s}=await B.from("services").select().eq("user_id",this.userId);s&&(this.services=s);const{data:n}=await B.from("rooms").select().eq("user_id",this.userId);n&&(this.rooms=n);const{data:i}=await B.from("profiles").select("start_time, end_time, week_days, daily_schedule, whatsapp, cancel_limit_hours").eq("id",this.userId).single();i&&(this.schedule.startTime=i.start_time||"",this.schedule.endTime=i.end_time||"",this.schedule.weekDays=i.week_days?i.week_days.split(","):[],this.schedule.dailySchedule=i.daily_schedule?typeof i.daily_schedule=="string"?JSON.parse(i.daily_schedule):i.daily_schedule:null,this.schedule.cancelLimitHours=i.cancel_limit_hours||0,this.profileWhatsapp=i.whatsapp||"");const{data:o}=await B.from("appointments").select().eq("user_id",this.userId);o&&(this.appointments=o);const r=this.$route.query.edit;if(r){const a=this.appointments.find(l=>l.id===r);a&&this.openModal(a)}}},dA={class:"min-h-screen flex bg-gray-100 relative"},uA={class:"flex-1 p-4 md:p-8"},hA={key:0,class:"flex items-center mb-4"},fA={class:"flex flex-col sm:flex-row sm:items-center mb-4 gap-2"},pA={class:"mb-4 flex items-center space-x-2"},mA={class:"relative"},gA={key:0,class:"absolute right-0 mt-2 w-32 bg-white border rounded shadow z-20"},bA={class:"text-lg font-semibold mb-4"},yA=["value"],xA=["value"],_A=["value"],vA={class:"flex justify-end space-x-2"},wA={class:"mt-4"},kA={class:"flex flex-wrap justify-center gap-2"},SA={class:"mt-4"},CA={class:"flex flex-wrap justify-center gap-2"},MA={class:"mt-8"},AA={class:"bg-white p-4 rounded-lg shadow"},EA={class:"overflow-x-auto"},PA={class:"min-w-full text-left"},TA={class:"bg-gray-50"},OA={key:0},DA={key:0},IA={key:0},RA={key:0},LA={key:0},FA={class:"px-4 py-2"},NA={class:"px-4 py-2"},jA={class:"px-4 py-2"},BA={class:"px-4 py-2"},UA={class:"px-4 py-2"},$A={class:"px-4 py-2"},VA={class:"px-4 py-2 text-right space-x-2"},zA=["onClick"],HA=["onClick"],WA={key:0},qA={class:"mt-8"},KA={class:"mt-8"};function GA(e,t,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser"),l=H("Modal"),c=H("AppointmentDetails"),d=H("CalendarView"),h=H("WeekView");return w(),C("div",dA,[I(r,{"is-open":i.sidebarOpen,onClose:t[0]||(t[0]=f=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",uA,[i.sidebarOpen?z("",!0):(w(),C("div",hA,[u("button",{onClick:t[1]||(t[1]=f=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},t[32]||(t[32]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),I(a,{title:"Agendamentos"}),u("section",null,[u("div",fA,[O(u("input",{"onUpdate:modelValue":t[2]||(t[2]=f=>i.searchQuery=f),type:"text",placeholder:"Buscar...",class:"border px-3 py-2 rounded-lg flex-grow sm:max-w-xs"},null,512),[[N,i.searchQuery]]),O(u("input",{"onUpdate:modelValue":t[3]||(t[3]=f=>i.filterStartDate=f),type:"date",class:"border px-3 py-2 rounded-lg"},null,512),[[N,i.filterStartDate]]),O(u("input",{"onUpdate:modelValue":t[4]||(t[4]=f=>i.filterEndDate=f),type:"date",class:"border px-3 py-2 rounded-lg"},null,512),[[N,i.filterEndDate]]),u("button",{onClick:t[5]||(t[5]=(...f)=>o.clearFilters&&o.clearFilters(...f)),class:"bg-gray-300 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-400 w-full sm:w-auto"},"Limpar"),u("button",{onClick:t[6]||(t[6]=f=>o.openModal()),class:"btn sm:ml-auto w-full sm:w-auto"},"Novo"),u("button",{onClick:t[7]||(t[7]=(...f)=>o.exportCSV&&o.exportCSV(...f)),class:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 w-full sm:w-auto"},"Exportar")]),u("div",pA,[t[33]||(t[33]=u("span",{class:"text-xs text-gray-600"},"Modo de exibição:",-1)),u("div",mA,[u("button",{onClick:t[8]||(t[8]=f=>i.showViewDropdown=!i.showViewDropdown),class:"px-4 py-2 bg-gray-200 rounded-lg"},E(i.viewMode==="list"?"Lista":i.viewMode==="calendar"?"Calendário":"Semana"),1),i.showViewDropdown?(w(),C("div",gA,[u("button",{onClick:t[9]||(t[9]=f=>o.setViewMode("list")),class:"block w-full text-left px-4 py-2 hover:bg-gray-100"},"Lista"),u("button",{onClick:t[10]||(t[10]=f=>o.setViewMode("calendar")),class:"block w-full text-left px-4 py-2 hover:bg-gray-100"},"Calendário"),u("button",{onClick:t[11]||(t[11]=f=>o.setViewMode("week")),class:"block w-full text-left px-4 py-2 hover:bg-gray-100"},"Semana")])):z("",!0)])]),i.showModal?(w(),ue(l,{key:0,onClose:o.closeModal},{default:et(()=>[u("h3",bA,E(i.editingId?"Editar Agendamento":"Adicionar Agendamento"),1),u("form",{onSubmit:t[20]||(t[20]=oe((...f)=>o.handleSaveAppointment&&o.handleSaveAppointment(...f),["prevent"])),class:"space-y-4"},[u("div",null,[t[34]||(t[34]=u("label",{class:"block text-sm font-medium text-gray-700"},"Data",-1)),O(u("input",{type:"date","onUpdate:modelValue":t[12]||(t[12]=f=>i.form.date=f),class:"w-full mt-1 px-4 py-2 border rounded-lg"},null,512),[[N,i.form.date]])]),u("div",null,[t[35]||(t[35]=u("label",{class:"block text-sm font-medium text-gray-700"},"Hora",-1)),O(u("input",{type:"time",step:"60","onUpdate:modelValue":t[13]||(t[13]=f=>i.form.time=f),class:"w-full mt-1 px-4 py-2 border rounded-lg"},null,512),[[N,i.form.time]])]),u("div",null,[t[37]||(t[37]=u("label",{class:"block text-sm font-medium text-gray-700"},"Cliente",-1)),O(u("select",{"onUpdate:modelValue":t[14]||(t[14]=f=>i.form.clientId=f),class:"w-full mt-1 px-4 py-2 border rounded-lg"},[t[36]||(t[36]=u("option",{disabled:"",value:""},"Selecione um cliente",-1)),(w(!0),C(X,null,pt(i.clients,f=>(w(),C("option",{key:f.id,value:f.id},E(f.name),9,yA))),128))],512),[[Ae,i.form.clientId]])]),u("div",null,[t[39]||(t[39]=u("label",{class:"block text-sm font-medium text-gray-700"},"Serviço",-1)),O(u("select",{"onUpdate:modelValue":t[15]||(t[15]=f=>i.form.serviceId=f),class:"w-full mt-1 px-4 py-2 border rounded-lg"},[t[38]||(t[38]=u("option",{disabled:"",value:""},"Selecione um serviço",-1)),(w(!0),C(X,null,pt(i.services,f=>(w(),C("option",{key:f.id,value:f.id},E(f.name),9,xA))),128))],512),[[Ae,i.form.serviceId]])]),u("div",null,[t[41]||(t[41]=u("label",{class:"block text-sm font-medium text-gray-700"},"Sala de Reunião",-1)),O(u("select",{"onUpdate:modelValue":t[16]||(t[16]=f=>i.form.roomId=f),class:"w-full mt-1 px-4 py-2 border rounded-lg"},[t[40]||(t[40]=u("option",{disabled:"",value:""},"Selecione uma sala",-1)),(w(!0),C(X,null,pt(i.rooms,f=>(w(),C("option",{key:f.id,value:f.id},E(f.name),9,_A))),128))],512),[[Ae,i.form.roomId]])]),u("div",null,[t[42]||(t[42]=u("label",{class:"block text-sm font-medium text-gray-700"},"Duração (minutos)",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[17]||(t[17]=f=>i.form.duration=f),class:"w-full mt-1 px-4 py-2 border rounded-lg"},null,512),[[N,i.form.duration]])]),u("div",null,[t[43]||(t[43]=u("label",{class:"block text-sm font-medium text-gray-700"},"Descrição",-1)),O(u("textarea",{"onUpdate:modelValue":t[18]||(t[18]=f=>i.form.description=f),class:"w-full mt-1 px-4 py-2 border rounded-lg"},null,512),[[N,i.form.description]])]),u("div",vA,[u("button",{type:"button",onClick:t[19]||(t[19]=(...f)=>o.closeModal&&o.closeModal(...f)),class:"px-4 py-2 rounded border"},"Cancelar"),t[44]||(t[44]=u("button",{type:"submit",class:"btn"},"Salvar",-1))])],32)]),_:1},8,["onClose"])):z("",!0),i.showDetailsModal?(w(),ue(l,{key:1,onClose:o.closeDetails},{default:et(()=>[I(c,{appointment:i.selectedAppointment,getClientName:o.getClientName,getServiceName:o.getServiceName,getRoomName:o.getRoomName,getRoomLink:o.getRoomLink,onClose:o.closeDetails},{actions:et(()=>[u("div",wA,[t[45]||(t[45]=u("h4",{class:"font-medium mb-2"},"Ações de atendimento",-1)),u("div",kA,[u("button",{onClick:t[21]||(t[21]=(...f)=>o.sendConfirmationWhatsApp&&o.sendConfirmationWhatsApp(...f)),class:"btn btn-success"},"Enviar confirmação"),u("button",{onClick:t[22]||(t[22]=(...f)=>o.cancelAppointment&&o.cancelAppointment(...f)),class:"btn btn-warning"},"Desmarcou"),u("button",{onClick:t[23]||(t[23]=(...f)=>o.markNoShow&&o.markNoShow(...f)),class:"btn btn-secondary"},"Faltou"),u("button",{onClick:t[24]||(t[24]=(...f)=>o.startAppointment&&o.startAppointment(...f)),class:"btn btn-primary"},"Iniciar atendimento")])]),u("div",SA,[t[46]||(t[46]=u("h4",{class:"font-medium mb-2"},"Ações de cadastro",-1)),u("div",CA,[u("button",{onClick:t[25]||(t[25]=(...f)=>o.editFromDetails&&o.editFromDetails(...f)),class:"btn"},"Editar"),u("button",{onClick:t[26]||(t[26]=f=>o.handleDeleteAppointment(i.selectedAppointment.id)),class:"btn btn-danger"},"Excluir")])])]),_:1},8,["appointment","getClientName","getServiceName","getRoomName","getRoomLink","onClose"])]),_:1},8,["onClose"])):z("",!0),O(u("div",MA,[t[55]||(t[55]=u("h3",{class:"text-lg font-medium mb-4"},"Agendamentos",-1)),u("div",AA,[u("div",EA,[u("table",PA,[u("thead",TA,[u("tr",null,[u("th",{onClick:t[27]||(t[27]=f=>o.sortBy("datetime")),class:"px-4 py-2 font-medium text-gray-700 cursor-pointer"},[t[47]||(t[47]=it(" Data/Hora ")),i.sortColumn==="datetime"?(w(),C("span",OA,E(i.sortAsc?"▲":"▼"),1)):z("",!0)]),u("th",{onClick:t[28]||(t[28]=f=>o.sortBy("client")),class:"px-4 py-2 font-medium text-gray-700 cursor-pointer"},[t[48]||(t[48]=it(" Cliente ")),i.sortColumn==="client"?(w(),C("span",DA,E(i.sortAsc?"▲":"▼"),1)):z("",!0)]),u("th",{onClick:t[29]||(t[29]=f=>o.sortBy("service")),class:"px-4 py-2 font-medium text-gray-700 cursor-pointer"},[t[49]||(t[49]=it(" Serviço ")),i.sortColumn==="service"?(w(),C("span",IA,E(i.sortAsc?"▲":"▼"),1)):z("",!0)]),t[52]||(t[52]=u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Sala",-1)),u("th",{onClick:t[30]||(t[30]=f=>o.sortBy("duration")),class:"px-4 py-2 font-medium text-gray-700 cursor-pointer"},[t[50]||(t[50]=it(" Duração ")),i.sortColumn==="duration"?(w(),C("span",RA,E(i.sortAsc?"▲":"▼"),1)):z("",!0)]),u("th",{onClick:t[31]||(t[31]=f=>o.sortBy("description")),class:"px-4 py-2 font-medium text-gray-700 cursor-pointer"},[t[51]||(t[51]=it(" Descrição ")),i.sortColumn==="description"?(w(),C("span",LA,E(i.sortAsc?"▲":"▼"),1)):z("",!0)]),t[53]||(t[53]=u("th",{class:"px-4 py-2"},null,-1))])]),u("tbody",null,[(w(!0),C(X,null,pt(o.processedAppointments,f=>(w(),C("tr",{key:f.id,class:"border-b last:border-b-0"},[u("td",FA,E(o.formatDateBR(f.date))+" "+E(f.time),1),u("td",NA,E(o.getClientName(f.client_id)),1),u("td",jA,E(o.getServiceName(f.service_id)),1),u("td",BA,E(o.getRoomName(f.room_id)),1),u("td",UA,E(f.duration),1),u("td",$A,E(f.description),1),u("td",VA,[u("button",{onClick:p=>o.openModal(f),class:"btn btn-sm"},"Editar",8,zA),u("button",{onClick:p=>o.handleDeleteAppointment(f.id),class:"btn btn-sm btn-danger"},"Excluir",8,HA)])]))),128)),o.processedAppointments.length===0?(w(),C("tr",WA,t[54]||(t[54]=[u("td",{colspan:"7",class:"px-4 py-6 text-center text-gray-500"},"Nenhum agendamento encontrado",-1)]))):z("",!0)])])])])],512),[[Fn,i.viewMode==="list"]]),O(u("div",qA,[t[56]||(t[56]=u("h3",{class:"text-lg font-medium mb-4"},"Calendário",-1)),I(d,{ref:"calendarView",appointments:o.processedAppointments,getClientName:o.getClientName,onSelect:o.openDetails},null,8,["appointments","getClientName","onSelect"])],512),[[Fn,i.viewMode==="calendar"]]),O(u("div",KA,[t[57]||(t[57]=u("h3",{class:"text-lg font-medium mb-4"},"Semana",-1)),I(h,{appointments:o.processedAppointments,getClientName:o.getClientName,onSelect:o.openDetails},null,8,["appointments","getClientName","onSelect"])],512),[[Fn,i.viewMode==="week"]])])])])}const YA=mt(cA,[["render",GA]]),JA={name:"Servicos",components:{Sidebar:Ee,HeaderUser:Pe,Modal:Ks},data(){return{userId:null,showModal:!1,editingId:null,search:"",sidebarOpen:window.innerWidth>=768,form:{name:"",description:"",duration:"",price:""},services:[],page:1,pageSize:10}},methods:{openModal(e){e?(this.editingId=e.id,this.form={name:e.name,description:e.description,duration:e.duration,price:e.price}):(this.editingId=null,this.form={name:"",description:"",duration:"",price:""}),this.showModal=!0},closeModal(){this.showModal=!1,this.form={name:"",description:"",duration:"",price:""},this.editingId=null},async handleSaveService(){let e,t;if(this.editingId?{data:e,error:t}=await B.from("services").update({name:this.form.name,description:this.form.description,duration:this.form.duration,price:parseFloat(this.form.price)}).eq("id",this.editingId).select().single():{data:e,error:t}=await B.from("services").insert({name:this.form.name,description:this.form.description,duration:this.form.duration,price:parseFloat(this.form.price),user_id:this.userId}).select().single(),t)alert("Erro ao salvar serviço: "+t.message);else{if(this.editingId){const s=this.services.findIndex(n=>n.id===this.editingId);s!==-1&&(this.services[s]=e)}else this.services.push(e);this.closeModal()}},async handleDeleteService(e){if(!confirm("Tem certeza que deseja excluir este serviço?"))return;const{error:s}=await B.from("services").delete().eq("id",e);s?alert("Erro ao excluir serviço: "+s.message):this.services=this.services.filter(n=>n.id!==e)},nextPage(){this.page<this.totalPages&&this.page++},prevPage(){this.page>1&&this.page--},formatPrice(e){return e==null||e===""?"":Number(e).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}},computed:{filteredServices(){const e=this.search.toLowerCase();return this.services.filter(t=>t.name.toLowerCase().includes(e)||(t.description||"").toLowerCase().includes(e)||(t.duration||"").toLowerCase().includes(e)||t.price!==null&&t.price.toString().includes(e))},paginatedServices(){const e=(this.page-1)*this.pageSize;return this.filteredServices.slice(e,e+this.pageSize)},totalPages(){return Math.max(1,Math.ceil(this.filteredServices.length/this.pageSize))}},watch:{search(){this.page=1}},async mounted(){const{data:{user:e}}=await B.auth.getUser();if(!e){this.$router.push("/login");return}this.userId=e.id;const{data:t}=await B.from("services").select().eq("user_id",this.userId);t&&(this.services=t)}},XA={class:"min-h-screen flex bg-gray-100 relative"},QA={class:"flex-1 p-4 md:p-8 space-y-6"},ZA={key:0,class:"flex items-center mb-4"},tE={class:"bg-white p-4 rounded-lg shadow"},eE={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 space-y-4 sm:space-y-0"},sE={class:"flex flex-col sm:flex-row items-stretch sm:items-center w-full sm:w-auto space-y-2 sm:space-y-0 sm:space-x-3"},nE={class:"overflow-x-auto"},iE={class:"min-w-full text-left"},oE={class:"px-4 py-2"},rE={class:"px-4 py-2"},aE={class:"px-4 py-2"},lE={class:"px-4 py-2"},cE={class:"px-4 py-2 text-right space-x-2"},dE=["onClick"],uE=["onClick"],hE={key:0},fE={class:"mt-4 flex justify-between items-center"},pE=["disabled"],mE={class:"text-sm"},gE=["disabled"],bE={class:"text-lg font-semibold mb-4"},yE={class:"flex justify-end space-x-2"};function xE(e,t,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser"),l=H("Modal");return w(),C("div",XA,[I(r,{"is-open":i.sidebarOpen,onClose:t[0]||(t[0]=c=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",QA,[i.sidebarOpen?z("",!0):(w(),C("div",ZA,[u("button",{onClick:t[1]||(t[1]=c=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},t[12]||(t[12]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),I(a,{title:"Serviços"}),u("section",tE,[u("div",eE,[t[13]||(t[13]=u("h3",{class:"text-lg font-medium"},"Serviços cadastrados",-1)),u("div",sE,[O(u("input",{"onUpdate:modelValue":t[2]||(t[2]=c=>i.search=c),type:"text",placeholder:"Buscar...",class:"border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 w-full sm:w-64"},null,512),[[N,i.search]]),u("button",{onClick:t[3]||(t[3]=c=>o.openModal()),class:"btn w-full sm:w-auto"}," Novo Serviço ")])]),u("div",nE,[u("table",iE,[t[15]||(t[15]=u("thead",{class:"bg-gray-50"},[u("tr",null,[u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Nome"),u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Descrição"),u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Duração"),u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Valor"),u("th",{class:"px-4 py-2"})])],-1)),u("tbody",null,[(w(!0),C(X,null,pt(o.paginatedServices,c=>(w(),C("tr",{key:c.id,class:"border-b last:border-b-0"},[u("td",oE,E(c.name),1),u("td",rE,E(c.description),1),u("td",aE,E(c.duration),1),u("td",lE,E(o.formatPrice(c.price)),1),u("td",cE,[u("button",{onClick:d=>o.openModal(c),class:"btn btn-sm"}," Editar ",8,dE),u("button",{onClick:d=>o.handleDeleteService(c.id),class:"btn btn-sm btn-danger"}," Excluir ",8,uE)])]))),128)),o.filteredServices.length===0?(w(),C("tr",hE,t[14]||(t[14]=[u("td",{colspan:"5",class:"px-4 py-6 text-center text-gray-500"}," Nenhum serviço encontrado ",-1)]))):z("",!0)])]),u("div",fE,[u("button",{class:"px-3 py-1 border rounded",onClick:t[4]||(t[4]=(...c)=>o.prevPage&&o.prevPage(...c)),disabled:i.page===1}," Anterior ",8,pE),u("span",mE,"Página "+E(i.page)+" de "+E(o.totalPages),1),u("button",{class:"px-3 py-1 border rounded",onClick:t[5]||(t[5]=(...c)=>o.nextPage&&o.nextPage(...c)),disabled:i.page===o.totalPages}," Próxima ",8,gE)])])]),i.showModal?(w(),ue(l,{key:1,onClose:o.closeModal},{default:et(()=>[u("h3",bE,E(i.editingId?"Editar Serviço":"Adicionar Serviço"),1),u("form",{onSubmit:t[11]||(t[11]=oe((...c)=>o.handleSaveService&&o.handleSaveService(...c),["prevent"])),class:"space-y-6"},[u("div",null,[t[16]||(t[16]=u("label",{class:"block text-sm font-medium text-gray-700"},"Nome",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=c=>i.form.name=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.form.name]])]),u("div",null,[t[17]||(t[17]=u("label",{class:"block text-sm font-medium text-gray-700"},"Descrição",-1)),O(u("textarea",{"onUpdate:modelValue":t[7]||(t[7]=c=>i.form.description=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.form.description]])]),u("div",null,[t[18]||(t[18]=u("label",{class:"block text-sm font-medium text-gray-700"},"Tempo de duração",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=c=>i.form.duration=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.form.duration]])]),u("div",null,[t[19]||(t[19]=u("label",{class:"block text-sm font-medium text-gray-700"},"Valor",-1)),O(u("input",{type:"number",step:"0.01","onUpdate:modelValue":t[9]||(t[9]=c=>i.form.price=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.form.price]])]),u("div",yE,[u("button",{type:"button",onClick:t[10]||(t[10]=(...c)=>o.closeModal&&o.closeModal(...c)),class:"px-4 py-2 rounded border"},"Cancelar"),t[20]||(t[20]=u("button",{type:"submit",class:"btn"},"Salvar",-1))])],32)]),_:1},8,["onClose"])):z("",!0)])])}const _E=mt(JA,[["render",xE]]),vE={name:"Usuarios",components:{Sidebar:Ee,HeaderUser:Pe,Modal:Ks},data(){return{form:{email:"",password:""},sidebarOpen:window.innerWidth>=768,userId:null,successMessage:"",errorMessage:"",users:[],search:"",showUserModal:!1,userModalMode:"new",selectedUserId:null,userForm:{email:"",password:""}}},methods:{async handleAddUser(){if(this.successMessage="",this.errorMessage="",this.form.email&&!is(this.form.email)){this.errorMessage="E-mail inválido";return}const{data:{user:e}}=await B.auth.getUser(),{data:{session:t}}=await B.auth.getSession();let s=null;if(e){const{data:o}=await B.from("profiles").select("*").eq("id",e.id).single();s=o}const{data:n,error:i}=await B.auth.signUp({email:this.form.email,password:this.form.password});t&&await B.auth.setSession(t),i?this.errorMessage="Erro ao cadastrar usuário: "+i.message:(n!=null&&n.user&&s&&await B.from("profiles").insert({id:n.user.id,business_name:s.business_name,description:s.description,phone:s.phone,whatsapp:s.whatsapp,email:s.email,address:s.address,instagram:s.instagram,facebook:s.facebook,youtube:s.youtube,x:s.x,slug:s.slug}),this.successMessage="Usuário cadastrado! Verifique o e-mail para ativar a conta.",this.form={email:"",password:""},await this.fetchUsers())},openUserModal(e,t="new"){this.userModalMode=t,e?(this.selectedUserId=e.id,this.userForm={email:e.email,password:""}):(this.selectedUserId=null,this.userForm={email:"",password:""}),this.showUserModal=!0},handleUserClose(){this.userModalMode==="view"?this.closeUserModal():confirm("Tem certeza? Os dados não foram salvos e serão perdidos.")&&this.closeUserModal()},closeUserModal(){this.showUserModal=!1,this.userModalMode="new",this.selectedUserId=null,this.userForm={email:"",password:""}},enableUserEdit(){this.userModalMode="edit"},async handleSaveUser(){if(this.userModalMode!=="view"){if(this.userForm.email&&!is(this.userForm.email)){alert("E-mail inválido");return}if(this.selectedUserId){const{error:e}=await B.from("profiles").update({email:this.userForm.email}).eq("id",this.selectedUserId);if(e)alert("Erro ao salvar usuário: "+e.message);else{const t=this.users.findIndex(s=>s.id===this.selectedUserId);t!==-1&&(this.users[t].email=this.userForm.email),this.closeUserModal()}}else this.form={email:this.userForm.email,password:this.userForm.password},await this.handleAddUser(),this.closeUserModal()}},async fetchUsers(){const{data:e}=await B.from("profiles").select("slug").eq("id",this.userId).single();if(e){const{data:t}=await B.from("profiles").select("id, email").eq("slug",e.slug);this.users=t||[]}}},computed:{isUserView(){return this.userModalMode==="view"},filteredUsers(){const e=this.search.toLowerCase();return this.users.filter(t=>t.id.toLowerCase().includes(e)||(t.email||"").toLowerCase().includes(e))}},async mounted(){const{data:{user:e}}=await B.auth.getUser();if(!e){this.$router.push("/login");return}this.userId=e.id,await this.fetchUsers()}},wE={class:"min-h-screen flex bg-gray-100 relative"},kE={class:"flex-1 p-8 space-y-6"},SE={key:0,class:"flex items-center mb-4"},CE={class:"bg-white p-4 rounded-lg shadow"},ME={key:0,class:"text-green-600 mt-4"},AE={key:1,class:"text-red-600 mt-4"},EE={class:"bg-white p-4 rounded-lg shadow"},PE={class:"flex justify-between items-center mb-4"},TE={class:"overflow-x-auto"},OE={class:"min-w-full text-left"},DE={class:"px-4 py-2"},IE={class:"px-4 py-2"},RE={class:"px-4 py-2 text-right"},LE=["onClick"],FE={key:0},NE={class:"text-lg font-semibold mb-4"},jE=["disabled"],BE=["disabled"],UE={class:"flex justify-end space-x-2"},$E=["disabled"];function VE(e,t,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser"),l=H("Modal");return w(),C("div",wE,[I(r,{"is-open":i.sidebarOpen,onClose:t[0]||(t[0]=c=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",kE,[i.sidebarOpen?z("",!0):(w(),C("div",SE,[u("button",{onClick:t[1]||(t[1]=c=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},t[11]||(t[11]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),I(a,{title:"Usuários"}),u("section",CE,[t[15]||(t[15]=u("h3",{class:"text-lg font-medium mb-4"},"Cadastrar novo usuário",-1)),u("form",{onSubmit:t[4]||(t[4]=oe((...c)=>o.handleAddUser&&o.handleAddUser(...c),["prevent"])),class:"space-y-4"},[u("div",null,[t[12]||(t[12]=u("label",{class:"block text-sm font-medium text-gray-700"},"E-mail",-1)),O(u("input",{type:"email","onUpdate:modelValue":t[2]||(t[2]=c=>i.form.email=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.form.email]])]),u("div",null,[t[13]||(t[13]=u("label",{class:"block text-sm font-medium text-gray-700"},"Senha",-1)),O(u("input",{type:"password","onUpdate:modelValue":t[3]||(t[3]=c=>i.form.password=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.form.password]])]),t[14]||(t[14]=u("div",{class:"flex justify-end"},[u("button",{type:"submit",class:"btn"},"Cadastrar")],-1))],32),i.successMessage?(w(),C("p",ME,E(i.successMessage),1)):z("",!0),i.errorMessage?(w(),C("p",AE,E(i.errorMessage),1)):z("",!0)]),u("section",EE,[u("div",PE,[t[16]||(t[16]=u("h3",{class:"text-lg font-medium"},"Usuários cadastrados",-1)),O(u("input",{"onUpdate:modelValue":t[5]||(t[5]=c=>i.search=c),type:"text",placeholder:"Buscar...",class:"border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[N,i.search]])]),u("div",TE,[u("table",OE,[t[18]||(t[18]=u("thead",{class:"bg-gray-50"},[u("tr",null,[u("th",{class:"px-4 py-2 font-medium text-gray-700"},"ID"),u("th",{class:"px-4 py-2 font-medium text-gray-700"},"E-mail"),u("th",{class:"px-4 py-2"})])],-1)),u("tbody",null,[(w(!0),C(X,null,pt(o.filteredUsers,c=>(w(),C("tr",{key:c.id,class:"border-b last:border-b-0"},[u("td",DE,E(c.id),1),u("td",IE,E(c.email),1),u("td",RE,[u("button",{onClick:d=>o.openUserModal(c,"view"),class:"btn btn-sm"},"Visualizar",8,LE)])]))),128)),o.filteredUsers.length===0?(w(),C("tr",FE,t[17]||(t[17]=[u("td",{colspan:"3",class:"px-4 py-6 text-center text-gray-500"},"Nenhum usuário encontrado",-1)]))):z("",!0)])])])]),i.showUserModal?(w(),ue(l,{key:1,onClose:o.handleUserClose},{default:et(()=>[u("h3",NE,E(i.userModalMode==="new"?"Adicionar Usuário":"Cadastro de Usuário"),1),u("form",{onSubmit:t[10]||(t[10]=oe((...c)=>o.handleSaveUser&&o.handleSaveUser(...c),["prevent"])),class:"space-y-4"},[u("div",null,[t[19]||(t[19]=u("label",{class:"block text-sm font-medium text-gray-700"},"E-mail",-1)),O(u("input",{type:"email","onUpdate:modelValue":t[6]||(t[6]=c=>i.userForm.email=c),disabled:o.isUserView,class:"w-full mt-1 px-4 py-2 border rounded-md"},null,8,jE),[[N,i.userForm.email]])]),u("div",null,[t[20]||(t[20]=u("label",{class:"block text-sm font-medium text-gray-700"},"Senha",-1)),O(u("input",{type:"password","onUpdate:modelValue":t[7]||(t[7]=c=>i.userForm.password=c),disabled:o.isUserView,class:"w-full mt-1 px-4 py-2 border rounded-md"},null,8,BE),[[N,i.userForm.password]])]),u("div",UE,[u("button",{type:"button",onClick:t[8]||(t[8]=(...c)=>o.handleUserClose&&o.handleUserClose(...c)),class:"px-4 py-2 rounded border"},"Fechar"),i.userModalMode==="view"?(w(),C("button",{key:0,type:"button",onClick:t[9]||(t[9]=(...c)=>o.enableUserEdit&&o.enableUserEdit(...c)),class:"btn btn-success"},"Editar")):z("",!0),u("button",{type:"submit",class:"btn",disabled:o.isUserView},"Salvar",8,$E)])],32)]),_:1},8,["onClose"])):z("",!0)])])}const zE=mt(vE,[["render",VE]]),HE={name:"SearchProfiles",components:{Navbar:We,Footer:qe},data(){return{profiles:[],search:""}},computed:{filteredProfiles(){const e=this.search.toLowerCase();return this.profiles.filter(t=>t.business_name.toLowerCase().includes(e))}},async mounted(){const{data:e}=await B.from("profiles").select("id, business_name, description, slug, area_atuacao");e&&(this.profiles=e)}},WE={class:"min-h-screen bg-gradient-to-b from-white to-blue-50 py-10"},qE={class:"max-w-2xl mx-auto px-4"},KE={class:"mb-6 text-center"},GE={class:"space-y-4"},YE={class:"text-xl font-semibold text-blue-600"},JE={key:0,class:"text-sm text-gray-500"},XE={class:"text-gray-700 mb-2"},QE={key:0,class:"text-center text-gray-500 py-6"};function ZE(e,t,s,n,i,o){const r=H("Navbar"),a=H("router-link"),l=H("Footer");return w(),C(X,null,[I(r),u("div",WE,[u("div",qE,[u("div",KE,[t[1]||(t[1]=u("h1",{class:"text-3xl font-extrabold text-blue-700 mb-4"},"Buscar perfis",-1)),O(u("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>i.search=c),type:"text",placeholder:"Digite o nome do estabelecimento",class:"w-full px-4 py-2 border rounded-md"},null,512),[[N,i.search]])]),u("ul",GE,[(w(!0),C(X,null,pt(o.filteredProfiles,c=>(w(),C("li",{key:c.id,class:"bg-white p-4 rounded-md shadow"},[u("h2",YE,E(c.business_name),1),c.area_atuacao?(w(),C("p",JE,E(c.area_atuacao),1)):z("",!0),u("p",XE,E(c.description),1),I(a,{to:"/"+c.slug,class:"text-blue-600 hover:underline"},{default:et(()=>t[2]||(t[2]=[it(" Ver perfil ")])),_:2,__:[2]},1032,["to"])]))),128)),o.filteredProfiles.length===0?(w(),C("li",QE," Nenhum resultado encontrado ")):z("",!0)])])]),I(l)],64)}const tP=mt(HE,[["render",ZE]]),Gp="/icons/whatsapp.svg",eP={name:"PublicPage",data(){return{profile:null,services:[]}},computed:{whatsappLink(){var s;return`https://wa.me/${(((s=this.profile)==null?void 0:s.whatsapp)||"").replace(/\D/g,"")}`}},methods:{formatPrice(e){return e==null||e===""?"":Number(e).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}},async mounted(){const e=this.$route.params.slug,{data:t}=await B.from("profiles").select("*").eq("slug",e).single();if(t){this.profile=t;const{data:s}=await B.from("services").select().eq("user_id",t.id);this.services=s||[]}}},sP={class:"min-h-screen flex flex-col bg-white"},nP={key:0,class:"flex-1"},iP={class:"bg-blue-600 text-white py-12"},oP={class:"max-w-5xl mx-auto px-4 text-center space-y-4"},rP=["src"],aP={class:"text-4xl font-bold"},lP={key:0,class:"text-sm"},cP={class:"text-lg"},dP={class:"max-w-5xl mx-auto px-4 py-12 space-y-16"},uP={key:0,class:"grid gap-6 md:grid-cols-2"},hP={class:"text-lg font-medium text-blue-700"},fP={class:"text-sm text-gray-600"},pP={class:"text-sm text-gray-500 mt-1"},mP={class:"text-sm text-gray-500"},gP={key:1,class:"text-gray-500"},bP={class:"space-y-1 text-gray-700"},yP=["href"],xP={key:2,class:"flex-1 flex items-center justify-center text-gray-500"},_P={key:3,class:"bg-gray-100 py-6"},vP={class:"max-w-5xl mx-auto px-4 text-center space-y-2"},wP={class:"space-x-4 text-blue-600"},kP=["href"],SP=["href"],CP=["href"],MP=["href"],AP={class:"text-sm text-gray-500"};function EP(e,t,s,n,i,o){return w(),C("div",sP,[i.profile?(w(),C("section",nP,[u("div",iP,[u("div",oP,[u("img",{src:i.profile.image_url||"/hero-illustration.png",alt:"Banner",class:"w-32 h-32 mx-auto rounded-full shadow-lg"},null,8,rP),u("h1",aP,E(i.profile.business_name),1),i.profile.area_atuacao?(w(),C("p",lP,E(i.profile.area_atuacao),1)):z("",!0),u("p",cP,E(i.profile.description),1)])]),u("div",dP,[u("div",null,[t[0]||(t[0]=u("h2",{class:"text-2xl font-semibold text-blue-600 mb-4"},"Serviços",-1)),i.services.length?(w(),C("ul",uP,[(w(!0),C(X,null,pt(i.services,r=>(w(),C("li",{key:r.id,class:"p-4 bg-gray-50 border rounded-lg shadow"},[u("h3",hP,E(r.name),1),u("p",fP,E(r.description),1),u("p",pP,"Duração: "+E(r.duration),1),u("p",mP,"Valor: "+E(o.formatPrice(r.price)),1)]))),128))])):(w(),C("p",gP,"Nenhum serviço cadastrado."))]),u("div",null,[t[5]||(t[5]=u("h2",{class:"text-2xl font-semibold text-blue-600 mb-4"},"Contato",-1)),u("ul",bP,[u("li",null,[t[1]||(t[1]=u("strong",null,"Telefone:",-1)),it(" "+E(i.profile.phone),1)]),u("li",null,[t[2]||(t[2]=u("strong",null,"WhatsApp:",-1)),it(" "+E(i.profile.whatsapp),1)]),u("li",null,[t[3]||(t[3]=u("strong",null,"Email:",-1)),it(" "+E(i.profile.email),1)]),u("li",null,[t[4]||(t[4]=u("strong",null,"Endereço:",-1)),it(" "+E(i.profile.address),1)])])])])])):z("",!0),i.profile&&i.profile.whatsapp?(w(),C("a",{key:1,href:o.whatsappLink,target:"_blank",rel:"noopener",class:"fixed bottom-4 right-4 bg-green-500 hover:bg-green-600 text-white p-4 rounded-full shadow-lg"},t[6]||(t[6]=[u("img",{src:Gp,alt:"WhatsApp",class:"w-6 h-6"},null,-1)]),8,yP)):(w(),C("div",xP,t[7]||(t[7]=[u("p",null,"Carregando perfil...",-1)]))),i.profile?(w(),C("footer",_P,[u("div",vP,[u("div",wP,[i.profile.instagram?(w(),C("a",{key:0,href:i.profile.instagram,class:"hover:underline"},"Instagram",8,kP)):z("",!0),i.profile.facebook?(w(),C("a",{key:1,href:i.profile.facebook,class:"hover:underline"},"Facebook",8,SP)):z("",!0),i.profile.youtube?(w(),C("a",{key:2,href:i.profile.youtube,class:"hover:underline"},"YouTube",8,CP)):z("",!0),i.profile.x?(w(),C("a",{key:3,href:i.profile.x,class:"hover:underline"},"X (Twitter)",8,MP)):z("",!0)]),u("p",AP,"© "+E(new Date().getFullYear())+" "+E(i.profile.business_name),1)])])):z("",!0)])}const PP=mt(eP,[["render",EP]]),TP={name:"Planos",components:{Navbar:We,Footer:qe}},OP={class:"max-w-5xl mx-auto px-4 py-16"},DP={class:"text-center mt-8"};function IP(e,t,s,n,i,o){const r=H("Navbar"),a=H("router-link"),l=H("Footer");return w(),C(X,null,[I(r),u("section",OP,[t[1]||(t[1]=fn('<h1 class="text-3xl font-bold text-center mb-8">Conheça nossos planos</h1><div class="bg-white p-4 rounded-lg shadow"><div class="overflow-x-auto"><table class="min-w-full text-left"><thead class="bg-gray-50"><tr><th class="px-4 py-2 font-medium text-gray-700">Recursos</th><th class="px-4 py-2 font-medium text-gray-700 text-center">Básico</th><th class="px-4 py-2 font-medium text-gray-700 text-center">Beta</th></tr></thead><tbody><tr><td class="border-t px-4 py-2 text-gray-600">Valor</td><td class="border-t px-4 py-2 text-center font-semibold">Grátis</td><td class="border-t px-4 py-2 text-center font-semibold line-through text-gray-400">R$167,97</td></tr><tr class="bg-gray-50"><td class="border-t px-4 py-2 text-gray-600">Cadastro de pacientes</td><td class="border-t px-4 py-2 text-center">Até 5 pacientes</td><td class="border-t px-4 py-2 text-center">Ilimitado</td></tr><tr><td class="border-t px-4 py-2 text-gray-600">Lembretes por e-mail</td><td class="border-t px-4 py-2 text-center">✓</td><td class="border-t px-4 py-2 text-center">✓</td></tr><tr class="bg-gray-50"><td class="border-t px-4 py-2 text-gray-600">Lembretes via WhatsApp</td><td class="border-t px-4 py-2 text-center line-through text-gray-400">✓</td><td class="border-t px-4 py-2 text-center">✓</td></tr><tr><td class="border-t px-4 py-2 text-gray-600">Customização de domínio da página pública</td><td class="border-t px-4 py-2 text-center line-through text-gray-400">✓</td><td class="border-t px-4 py-2 text-center">✓</td></tr><tr class="bg-gray-50"><td class="border-t px-4 py-2 text-gray-600">Página pública sem banner do Agenda Zen</td><td class="border-t px-4 py-2 text-center line-through text-gray-400">✓</td><td class="border-t px-4 py-2 text-center">✓</td></tr><tr><td class="border-t px-4 py-2 text-gray-600">Geração de recibos de atendimentos</td><td class="border-t px-4 py-2 text-center line-through text-gray-400">✓</td><td class="border-t px-4 py-2 text-center">✓</td></tr><tr class="bg-gray-50"><td class="border-t px-4 py-2 text-gray-600">Envio de recibos por e-mail automático</td><td class="border-t px-4 py-2 text-center line-through text-gray-400">✓</td><td class="border-t px-4 py-2 text-center">✓</td></tr></tbody></table></div></div>',2)),u("div",DP,[I(a,{to:"/cadastro",class:"btn"},{default:et(()=>t[0]||(t[0]=[it(" Contratar plano ")])),_:1,__:[0]})])]),I(l)],64)}const RP=mt(TP,[["render",IP]]),LP={name:"Salas",components:{Sidebar:Ee,HeaderUser:Pe,Modal:Ks},data(){return{userId:null,showModal:!1,search:"",form:{name:"",googleMeetLink:""},rooms:[],sidebarOpen:window.innerWidth>=768,page:1,pageSize:10}},methods:{openModal(){this.showModal=!0},generateMeetLink(){const e=window.open("https://meet.google.com/new","_blank");setTimeout(()=>{try{this.form.googleMeetLink=e.location.href}catch{}},3e3)},async pasteFromClipboard(){try{const e=await navigator.clipboard.readText();this.form.googleMeetLink=e}catch{alert("Não foi possível acessar o conteúdo da área de transferência.")}},closeModal(){this.showModal=!1,this.form={name:"",googleMeetLink:""}},async handleAddRoom(){const{data:e,error:t}=await B.from("rooms").insert({name:this.form.name,google_meet_link:this.form.googleMeetLink,user_id:this.userId}).select().single();t?alert("Erro ao salvar sala: "+t.message):(this.rooms.push(e),this.closeModal())},async handleDeleteRoom(e){if(!confirm("Tem certeza que deseja excluir esta sala?"))return;const{error:s}=await B.from("rooms").delete().eq("id",e);s?alert("Erro ao excluir sala: "+s.message):this.rooms=this.rooms.filter(n=>n.id!==e)},nextPage(){this.page<this.totalPages&&this.page++},prevPage(){this.page>1&&this.page--}},computed:{filteredRooms(){const e=this.search.toLowerCase();return this.rooms.filter(t=>t.name.toLowerCase().includes(e)||t.google_meet_link&&t.google_meet_link.toLowerCase().includes(e))},paginatedRooms(){const e=(this.page-1)*this.pageSize;return this.filteredRooms.slice(e,e+this.pageSize)},totalPages(){return Math.max(1,Math.ceil(this.filteredRooms.length/this.pageSize))}},watch:{search(){this.page=1}},async mounted(){const{data:{user:e}}=await B.auth.getUser();if(!e){this.$router.push("/login");return}this.userId=e.id;const{data:t}=await B.from("rooms").select().eq("user_id",this.userId);t&&(this.rooms=t)}},FP={class:"min-h-screen flex bg-gray-100 relative"},NP={class:"flex-1 p-4 md:p-8 space-y-6"},jP={key:0,class:"flex items-center mb-4"},BP={class:"bg-white p-4 rounded-lg shadow"},UP={class:"flex justify-between items-center mb-4"},$P={class:"flex items-center space-x-3"},VP={class:"overflow-x-auto"},zP={class:"min-w-full text-left"},HP={class:"px-4 py-2"},WP={class:"px-4 py-2"},qP=["href"],KP={class:"px-4 py-2 text-right"},GP=["onClick"],YP={key:0},JP={class:"mt-4 flex justify-between items-center"},XP=["disabled"],QP={class:"text-sm"},ZP=["disabled"],tT={class:"flex space-x-2 mt-1"},eT={class:"flex justify-end space-x-2"};function sT(e,t,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser"),l=H("Modal");return w(),C("div",FP,[I(r,{"is-open":i.sidebarOpen,onClose:t[0]||(t[0]=c=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",NP,[i.sidebarOpen?z("",!0):(w(),C("div",jP,[u("button",{onClick:t[1]||(t[1]=c=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},t[12]||(t[12]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),I(a,{title:"Salas"}),u("section",BP,[u("div",UP,[t[13]||(t[13]=u("h3",{class:"text-lg font-medium"},"Salas cadastradas",-1)),u("div",$P,[O(u("input",{"onUpdate:modelValue":t[2]||(t[2]=c=>i.search=c),type:"text",placeholder:"Buscar...",class:"border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[N,i.search]]),u("button",{onClick:t[3]||(t[3]=(...c)=>o.openModal&&o.openModal(...c)),class:"btn"}," Nova Sala ")])]),u("div",VP,[u("table",zP,[t[15]||(t[15]=u("thead",{class:"bg-gray-50"},[u("tr",null,[u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Nome"),u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Google Meet"),u("th",{class:"px-4 py-2"})])],-1)),u("tbody",null,[(w(!0),C(X,null,pt(o.paginatedRooms,c=>(w(),C("tr",{key:c.id,class:"border-b last:border-b-0"},[u("td",HP,E(c.name),1),u("td",WP,[c.google_meet_link?(w(),C("a",{key:0,href:c.google_meet_link,class:"text-blue-600 underline",target:"_blank"}," Link ",8,qP)):z("",!0)]),u("td",KP,[u("button",{onClick:d=>o.handleDeleteRoom(c.id),class:"btn btn-sm btn-danger"}," Excluir ",8,GP)])]))),128)),o.filteredRooms.length===0?(w(),C("tr",YP,t[14]||(t[14]=[u("td",{colspan:"3",class:"px-4 py-6 text-center text-gray-500"}," Nenhuma sala encontrada ",-1)]))):z("",!0)])]),u("div",JP,[u("button",{class:"px-3 py-1 border rounded",onClick:t[4]||(t[4]=(...c)=>o.prevPage&&o.prevPage(...c)),disabled:i.page===1}," Anterior ",8,XP),u("span",QP,"Página "+E(i.page)+" de "+E(o.totalPages),1),u("button",{class:"px-3 py-1 border rounded",onClick:t[5]||(t[5]=(...c)=>o.nextPage&&o.nextPage(...c)),disabled:i.page===o.totalPages}," Próxima ",8,ZP)])])]),i.showModal?(w(),ue(l,{key:1,onClose:o.closeModal},{default:et(()=>[t[20]||(t[20]=u("h3",{class:"text-lg font-semibold mb-4"},"Adicionar Sala",-1)),u("form",{onSubmit:t[11]||(t[11]=oe((...c)=>o.handleAddRoom&&o.handleAddRoom(...c),["prevent"])),class:"space-y-6"},[u("div",null,[t[16]||(t[16]=u("label",{class:"block text-sm font-medium text-gray-700"},"Nome",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=c=>i.form.name=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.form.name]])]),u("div",null,[t[17]||(t[17]=u("label",{class:"block text-sm font-medium text-gray-700"},"Link do Google Meet",-1)),u("div",tT,[O(u("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=c=>i.form.googleMeetLink=c),class:"flex-grow px-4 py-2 border rounded-md"},null,512),[[N,i.form.googleMeetLink]]),u("button",{type:"button",onClick:t[8]||(t[8]=(...c)=>o.generateMeetLink&&o.generateMeetLink(...c)),class:"btn"},"Gerar"),u("button",{type:"button",onClick:t[9]||(t[9]=(...c)=>o.pasteFromClipboard&&o.pasteFromClipboard(...c)),class:"btn"},"Paste")]),t[18]||(t[18]=u("p",{class:"text-xs text-gray-500 mt-2"}," Após abrir a nova aba, copie o link da reunião e cole no campo acima. ",-1))]),u("div",eT,[u("button",{type:"button",onClick:t[10]||(t[10]=(...c)=>o.closeModal&&o.closeModal(...c)),class:"px-4 py-2 rounded border"},"Cancelar"),t[19]||(t[19]=u("button",{type:"submit",class:"btn"},"Salvar",-1))])],32)]),_:1,__:[20]},8,["onClose"])):z("",!0)])])}const nT=mt(LP,[["render",sT]]),iT={name:"Comprovantes",components:{Sidebar:Ee,HeaderUser:Pe,Modal:Ks},data(){return{userId:null,sidebarOpen:window.innerWidth>=768,templates:[],receipts:[],clients:[],showGenerateModal:!1,generateForm:{clientId:"",startDate:"",endDate:"",templateId:""},receiptContent:null}},methods:{formatDateBR:ge,closeGenerateModal(){this.showGenerateModal=!1,this.generateForm={clientId:"",startDate:"",endDate:"",templateId:""}},getClientName(e){const t=this.clients.find(s=>s.id===e);return t?t.name:""},showReceipt(e){this.receiptContent=e},async handleGenerate(){const{data:e}=await B.from("appointments").select().eq("user_id",this.userId).eq("client_id",this.generateForm.clientId).gte("date",this.generateForm.startDate).lte("date",this.generateForm.endDate).order("date",{ascending:!0}).order("time",{ascending:!0}),t=this.templates.find(a=>a.id===this.generateForm.templateId),s=this.clients.find(a=>a.id===this.generateForm.clientId);let n=t?t.content:"";s&&(n=n.replace("{{client_name}}",s.name));const i=(e||[]).map(a=>`- ${ge(a.date)} ${a.time}`).join(`
`);n=n.replace("{{appointments}}",i);const{data:o,error:r}=await B.from("receipts").insert({user_id:this.userId,client_id:this.generateForm.clientId,template_id:this.generateForm.templateId,start_date:this.generateForm.startDate,end_date:this.generateForm.endDate,content:n}).select().single();r?alert("Erro ao gerar comprovante: "+r.message):(this.receipts.push(o),this.closeGenerateModal())}},async mounted(){const{data:{user:e}}=await B.auth.getUser();if(!e){this.$router.push("/login");return}this.userId=e.id;const{data:t}=await B.from("clients").select().eq("user_id",this.userId);t&&(this.clients=t);const{data:s}=await B.from("receipt_templates").select().eq("user_id",this.userId);s&&(this.templates=s);const{data:n}=await B.from("receipts").select().eq("user_id",this.userId).order("created_at",{ascending:!1});n&&(this.receipts=n)}},oT={class:"min-h-screen flex bg-gray-100 relative"},rT={class:"flex-1 p-4 md:p-8 space-y-6"},aT={key:0,class:"flex items-center mb-4"},lT={class:"bg-white p-4 rounded-lg shadow space-y-4"},cT={class:"flex justify-between items-center"},dT={class:"overflow-x-auto"},uT={class:"min-w-full text-left"},hT={class:"px-4 py-2"},fT={class:"px-4 py-2"},pT={class:"px-4 py-2"},mT={class:"px-4 py-2 text-right"},gT=["onClick"],bT={key:0},yT=["value"],xT={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},_T=["value"],vT={class:"flex justify-end space-x-2"},wT={class:"border rounded-md p-4 bg-gray-50"},kT={class:"whitespace-pre-wrap font-mono text-sm"};function ST(e,t,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser"),l=H("Modal");return w(),C("div",oT,[I(r,{"is-open":i.sidebarOpen,onClose:t[0]||(t[0]=c=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",rT,[i.sidebarOpen?z("",!0):(w(),C("div",aT,[u("button",{onClick:t[1]||(t[1]=c=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},t[10]||(t[10]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),I(a,{title:"Comprovantes"}),u("section",lT,[u("div",cT,[t[11]||(t[11]=u("h3",{class:"text-lg font-medium"},"Comprovantes Gerados",-1)),u("button",{onClick:t[2]||(t[2]=c=>i.showGenerateModal=!0),class:"btn"},"Novo Comprovante")]),u("div",dT,[u("table",uT,[t[13]||(t[13]=u("thead",{class:"bg-gray-50"},[u("tr",null,[u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Cliente"),u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Período"),u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Criado em"),u("th",{class:"px-4 py-2"})])],-1)),u("tbody",null,[(w(!0),C(X,null,pt(i.receipts,c=>(w(),C("tr",{key:c.id,class:"border-b last:border-b-0"},[u("td",hT,E(o.getClientName(c.client_id)),1),u("td",fT,E(o.formatDateBR(c.start_date))+" - "+E(o.formatDateBR(c.end_date)),1),u("td",pT,E(o.formatDateBR(c.created_at.split("T")[0])),1),u("td",mT,[u("button",{onClick:d=>o.showReceipt(c.content),class:"btn btn-sm"},"Ver",8,gT)])]))),128)),i.receipts.length===0?(w(),C("tr",bT,t[12]||(t[12]=[u("td",{colspan:"4",class:"px-4 py-6 text-center text-gray-500"},"Nenhum comprovante",-1)]))):z("",!0)])])])]),i.showGenerateModal?(w(),ue(l,{key:1,onClose:o.closeGenerateModal},{default:et(()=>[t[21]||(t[21]=u("h3",{class:"text-lg font-semibold mb-4"},"Novo Comprovante",-1)),u("form",{onSubmit:t[8]||(t[8]=oe((...c)=>o.handleGenerate&&o.handleGenerate(...c),["prevent"])),class:"space-y-4"},[u("div",null,[t[15]||(t[15]=u("label",{class:"block text-sm font-medium text-gray-700"},"Cliente",-1)),O(u("select",{"onUpdate:modelValue":t[3]||(t[3]=c=>i.generateForm.clientId=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},[t[14]||(t[14]=u("option",{disabled:"",value:""},"Selecione",-1)),(w(!0),C(X,null,pt(i.clients,c=>(w(),C("option",{key:c.id,value:c.id},E(c.name),9,yT))),128))],512),[[Ae,i.generateForm.clientId]])]),u("div",xT,[u("div",null,[t[16]||(t[16]=u("label",{class:"block text-sm font-medium text-gray-700"},"De",-1)),O(u("input",{type:"date","onUpdate:modelValue":t[4]||(t[4]=c=>i.generateForm.startDate=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.generateForm.startDate]])]),u("div",null,[t[17]||(t[17]=u("label",{class:"block text-sm font-medium text-gray-700"},"Até",-1)),O(u("input",{type:"date","onUpdate:modelValue":t[5]||(t[5]=c=>i.generateForm.endDate=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.generateForm.endDate]])])]),u("div",null,[t[19]||(t[19]=u("label",{class:"block text-sm font-medium text-gray-700"},"Template",-1)),O(u("select",{"onUpdate:modelValue":t[6]||(t[6]=c=>i.generateForm.templateId=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},[t[18]||(t[18]=u("option",{disabled:"",value:""},"Selecione",-1)),(w(!0),C(X,null,pt(i.templates,c=>(w(),C("option",{key:c.id,value:c.id},E(c.name),9,_T))),128))],512),[[Ae,i.generateForm.templateId]])]),u("div",vT,[u("button",{type:"button",onClick:t[7]||(t[7]=(...c)=>o.closeGenerateModal&&o.closeGenerateModal(...c)),class:"px-4 py-2 rounded border"},"Cancelar"),t[20]||(t[20]=u("button",{type:"submit",class:"btn"},"Gerar",-1))])],32)]),_:1,__:[21]},8,["onClose"])):z("",!0),i.receiptContent?(w(),ue(l,{key:2,onClose:t[9]||(t[9]=c=>i.receiptContent=null)},{default:et(()=>[t[22]||(t[22]=u("h3",{class:"text-lg font-semibold text-center mb-4"},"Comprovante",-1)),u("div",wT,[u("pre",kT,E(i.receiptContent),1)])]),_:1,__:[22]})):z("",!0)])])}const CT=mt(iT,[["render",ST]]),MT={name:"Atendimento",components:{Sidebar:Ee,HeaderUser:Pe},data(){return{sidebarOpen:window.innerWidth>=768,activeTab:"current",appointment:null,note:"",files:[],notes:[],userId:null,isEditing:!1,editingNoteId:null,editingAttachments:[]}},computed:{appointmentDateTime(){return this.appointment?`${ge(this.appointment.date)} ${this.appointment.time}`:""},groupedNotes(){const e={};return this.notes.forEach(t=>{const s=t.created_at.split("T")[0];e[s]||(e[s]=[]),e[s].push(t)}),Object.keys(e).sort((t,s)=>new Date(s)-new Date(t)).map(t=>({date:ge(t),items:e[t]}))}},methods:{formatDateTime(e){return new Date(e).toLocaleString("pt-BR")},handleFileChange(e){const t=["pdf","doc","txt","png","jpeg","jpg"],s=Array.from(e.target.files);this.files=[];for(const n of s){const i=n.name.split(".").pop().toLowerCase();t.includes(i)?this.files.push(n):alert(`Formato de arquivo não permitido: ${n.name}`)}},editExistingNote(e){(this.note&&this.note.trim()||this.files.length)&&!confirm("Dados não salvos serão perdidos. Deseja continuar?")||(this.isEditing=!0,this.editingNoteId=e.id,this.editingAttachments=[...e.attachments||[]],this.note=e.note,this.files=[],this.activeTab="current")},cancelEdit(){this.isEditing=!1,this.editingNoteId=null,this.editingAttachments=[],this.note="",this.files=[]},async removeAttachment(e){if(!confirm("Remover este anexo?"))return;const n=this.editingAttachments[e].split("/appointment-attachments/");if(n.length===2){const i=n[1];await B.storage.from("appointment-attachments").remove([i])}this.editingAttachments.splice(e,1)},async fetchData(){const{data:{user:e}}=await B.auth.getUser();if(!e){this.$router.push("/login");return}this.userId=e.id;const{data:t}=await B.from("appointments").select().eq("id",this.$route.params.id).single();this.appointment=t;const{data:s}=await B.from("appointment_notes").select().eq("appointment_id",this.$route.params.id).order("created_at",{ascending:!1});this.notes=(s||[]).map(n=>({...n,attachments:n.attachments||[]}))},async saveNote(){if(!this.note.trim()&&!this.files.length&&!this.editingAttachments.length)return;const e=[];for(const n of this.files){const i=n.name.split(".").pop(),o=`${this.$route.params.id}-${Date.now()}-${Math.random().toString(36).slice(2)}.${i}`,{error:r}=await B.storage.from("appointment-attachments").upload(o,n);if(!r){const{data:{publicUrl:a}}=B.storage.from("appointment-attachments").getPublicUrl(o);e.push(a)}}let t,s;if(this.isEditing){const n=[...this.editingAttachments,...e];if({data:t,error:s}=await B.from("appointment_notes").update({note:this.note,attachments:n}).eq("id",this.editingNoteId).select().single(),!s){const i=this.notes.findIndex(o=>o.id===this.editingNoteId);i!==-1&&(this.notes[i]={...t,attachments:t.attachments||[]})}}else({data:t,error:s}=await B.from("appointment_notes").insert({appointment_id:this.$route.params.id,user_id:this.userId,note:this.note,attachments:e}).select().single()),s||this.notes.unshift({...t,attachments:t.attachments||[]});s?alert("Erro ao salvar atendimento: "+s.message):(this.note="",this.files=[],this.isEditing=!1,this.editingNoteId=null,this.editingAttachments=[])}},async mounted(){await this.fetchData()}},AT={class:"min-h-screen flex bg-gray-100 relative"},ET={class:"flex-1 p-4 md:p-8"},PT={key:0,class:"flex items-center mb-4"},TT={class:"bg-white p-4 rounded-lg shadow mt-4"},OT={class:"border-b mb-4"},DT={class:"flex space-x-4"},IT={key:0},RT={class:"mb-2 text-sm text-gray-600"},LT={key:0,class:"mb-4 space-y-1"},FT=["href"],NT=["onClick"],jT={class:"space-x-2"},BT={key:1},UT={class:"font-semibold mb-2"},$T={class:"text-sm text-gray-600 mb-1"},VT={class:"mb-2 whitespace-pre-line"},zT={key:0,class:"space-x-2 mb-2"},HT=["href"],WT={class:"text-right"},qT=["onClick"];function KT(e,t,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser");return w(),C("div",AT,[I(r,{"is-open":i.sidebarOpen,onClose:t[0]||(t[0]=l=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",ET,[i.sidebarOpen?z("",!0):(w(),C("div",PT,[u("button",{onClick:t[1]||(t[1]=l=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},t[8]||(t[8]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),I(a,{title:"Atendimento"}),u("section",TT,[u("div",OT,[u("nav",DT,[u("button",{class:Qt(i.activeTab==="current"?"border-b-2 border-blue-500 pb-2":"text-gray-500 pb-2"),onClick:t[2]||(t[2]=l=>i.activeTab="current")},"Atendimento",2),u("button",{class:Qt(i.activeTab==="history"?"border-b-2 border-blue-500 pb-2":"text-gray-500 pb-2"),onClick:t[3]||(t[3]=l=>i.activeTab="history")},"Histórico de atendimento",2)])]),i.activeTab==="current"?(w(),C("div",IT,[u("p",RT,"Data/hora: "+E(o.appointmentDateTime),1),O(u("textarea",{"onUpdate:modelValue":t[4]||(t[4]=l=>i.note=l),class:"w-full border rounded p-2 mb-4",rows:"6",placeholder:"Descreva o atendimento"},null,512),[[N,i.note]]),i.isEditing&&i.editingAttachments.length?(w(),C("div",LT,[(w(!0),C(X,null,pt(i.editingAttachments,(l,c)=>(w(),C("div",{key:c,class:"flex items-center space-x-2"},[u("a",{href:l,target:"_blank",download:"",class:"text-blue-600 underline"},"Anexo "+E(c+1),9,FT),u("button",{type:"button",onClick:d=>o.removeAttachment(c),class:"text-red-600 text-sm"},"Remover",8,NT)]))),128))])):z("",!0),u("input",{type:"file",multiple:"",onChange:t[5]||(t[5]=(...l)=>o.handleFileChange&&o.handleFileChange(...l)),class:"mb-4",accept:".pdf,.doc,.txt,.png,.jpeg,.jpg"},null,32),u("div",jT,[u("button",{onClick:t[6]||(t[6]=(...l)=>o.saveNote&&o.saveNote(...l)),class:"btn"},E(i.isEditing?"Atualizar":"Salvar"),1),i.isEditing?(w(),C("button",{key:0,onClick:t[7]||(t[7]=(...l)=>o.cancelEdit&&o.cancelEdit(...l)),class:"btn btn-danger"},"Cancelar")):z("",!0)])])):(w(),C("div",BT,[(w(!0),C(X,null,pt(o.groupedNotes,l=>(w(),C("div",{key:l.date,class:"mb-4"},[u("h4",UT,E(l.date),1),(w(!0),C(X,null,pt(l.items,c=>(w(),C("div",{key:c.id,class:"border p-2 rounded mb-2"},[u("p",$T,E(o.formatDateTime(c.created_at)),1),u("p",VT,E(c.note),1),c.attachments&&c.attachments.length?(w(),C("div",zT,[(w(!0),C(X,null,pt(c.attachments,(d,h)=>(w(),C("a",{key:h,href:d,target:"_blank",download:"",class:"text-blue-600 underline"},"Anexo "+E(h+1),9,HT))),128))])):z("",!0),u("div",WT,[u("button",{onClick:d=>o.editExistingNote(c),class:"btn btn-sm"},"Editar atendimento",8,qT)])]))),128))]))),128))]))])])])}const GT=mt(MT,[["render",KT]]),YT={name:"Templates",components:{Sidebar:Ee,HeaderUser:Pe,Modal:Ks},data(){return{userId:null,sidebarOpen:window.innerWidth>=768,templates:[],showTemplateModal:!1,templateForm:{name:"",content:""}}},methods:{closeTemplateModal(){this.showTemplateModal=!1,this.templateForm={name:"",content:""}},async handleAddTemplate(){const{data:e,error:t}=await B.from("receipt_templates").insert({name:this.templateForm.name,content:this.templateForm.content,user_id:this.userId}).select().single();t?alert("Erro ao salvar template: "+t.message):(this.templates.push(e),this.closeTemplateModal())}},async mounted(){const{data:{user:e}}=await B.auth.getUser();if(!e){this.$router.push("/login");return}this.userId=e.id;const{data:t}=await B.from("receipt_templates").select().eq("user_id",this.userId);t&&(this.templates=t)}},JT={class:"min-h-screen flex bg-gray-100 relative"},XT={class:"flex-1 p-4 md:p-8 space-y-6"},QT={key:0,class:"flex items-center mb-4"},ZT={class:"bg-white p-4 rounded-lg shadow space-y-4"},t4={class:"flex justify-between items-center"},e4={class:"overflow-x-auto"},s4={class:"min-w-full text-left"},n4={class:"px-4 py-2"},i4={key:0},o4={class:"flex justify-end space-x-2"};function r4(e,t,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser"),l=H("Modal");return w(),C("div",JT,[I(r,{"is-open":i.sidebarOpen,onClose:t[0]||(t[0]=c=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",XT,[i.sidebarOpen?z("",!0):(w(),C("div",QT,[u("button",{onClick:t[1]||(t[1]=c=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},t[7]||(t[7]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),I(a,{title:"Templates"}),u("section",ZT,[u("div",t4,[t[8]||(t[8]=u("h3",{class:"text-lg font-medium"},"Templates",-1)),u("button",{onClick:t[2]||(t[2]=c=>i.showTemplateModal=!0),class:"btn"},"Novo Template")]),u("div",e4,[u("table",s4,[t[10]||(t[10]=u("thead",{class:"bg-gray-50"},[u("tr",null,[u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Nome")])],-1)),u("tbody",null,[(w(!0),C(X,null,pt(i.templates,c=>(w(),C("tr",{key:c.id,class:"border-b last:border-b-0"},[u("td",n4,E(c.name),1)]))),128)),i.templates.length===0?(w(),C("tr",i4,t[9]||(t[9]=[u("td",{class:"px-4 py-6 text-center text-gray-500"},"Nenhum template",-1)]))):z("",!0)])])])]),i.showTemplateModal?(w(),ue(l,{key:1,onClose:o.closeTemplateModal},{default:et(()=>[t[15]||(t[15]=u("h3",{class:"text-lg font-semibold mb-4"},"Novo Template",-1)),u("form",{onSubmit:t[6]||(t[6]=oe((...c)=>o.handleAddTemplate&&o.handleAddTemplate(...c),["prevent"])),class:"space-y-4"},[u("div",null,[t[11]||(t[11]=u("label",{class:"block text-sm font-medium text-gray-700"},"Nome",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=c=>i.templateForm.name=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.templateForm.name]])]),u("div",null,[t[12]||(t[12]=u("label",{class:"block text-sm font-medium text-gray-700"},"Conteúdo",-1)),O(u("textarea",{"onUpdate:modelValue":t[4]||(t[4]=c=>i.templateForm.content=c),class:"w-full mt-1 px-4 py-2 border rounded-md",rows:"4"},null,512),[[N,i.templateForm.content]]),t[13]||(t[13]=u("p",{class:"text-sm text-gray-500 mt-1"},"Use {{client_name}} e {{appointments}}",-1))]),u("div",o4,[u("button",{type:"button",onClick:t[5]||(t[5]=(...c)=>o.closeTemplateModal&&o.closeTemplateModal(...c)),class:"px-4 py-2 rounded border"},"Cancelar"),t[14]||(t[14]=u("button",{type:"submit",class:"btn"},"Salvar",-1))])],32)]),_:1,__:[15]},8,["onClose"])):z("",!0)])])}const a4=mt(YT,[["render",r4]]),l4={name:"Contato",components:{Navbar:We,Footer:qe},data(){return{nome:"",email:"",mensagem:"",sucesso:!1,erro:""}},methods:{async enviar(){if(this.sucesso=!1,this.erro="",this.email&&!is(this.email)){this.erro="E-mail inválido";return}const{error:e}=await B.from("contacts").insert({name:this.nome,email:this.email,message:this.mensagem});e?this.erro="Erro ao enviar mensagem: "+e.message:(this.sucesso=!0,this.nome="",this.email="",this.mensagem="")}}},c4={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 px-4"},d4={class:"bg-white p-10 rounded-2xl shadow-xl w-full max-w-lg"},u4={key:0,class:"mt-4 text-green-600 text-center"},h4={key:1,class:"mt-4 text-red-600 text-center"};function f4(e,t,s,n,i,o){const r=H("Navbar"),a=H("Footer");return w(),C(X,null,[I(r),u("section",c4,[u("div",d4,[t[8]||(t[8]=fn('<div class="mb-8 text-center"><h2 class="text-3xl font-extrabold text-blue-700">Fale conosco</h2><p class="text-gray-500">Envie sua mensagem e entraremos em contato</p></div><div class="mb-6 text-center"><a href="https://wa.me/5518996233098" target="_blank" rel="noopener" class="btn btn-success inline-flex items-center space-x-2"><img src="'+Gp+'" alt="WhatsApp" class="w-5 h-5"><span>Falar via WhatsApp</span></a></div>',2)),u("form",{onSubmit:t[3]||(t[3]=oe((...l)=>o.enviar&&o.enviar(...l),["prevent"])),class:"space-y-5"},[u("div",null,[t[4]||(t[4]=u("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"nome"},"Nome",-1)),O(u("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>i.nome=l),id:"nome",type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[N,i.nome]])]),u("div",null,[t[5]||(t[5]=u("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"email"},"E-mail",-1)),O(u("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>i.email=l),id:"email",type:"email",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[N,i.email]])]),u("div",null,[t[6]||(t[6]=u("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"mensagem"},"Mensagem",-1)),O(u("textarea",{"onUpdate:modelValue":t[2]||(t[2]=l=>i.mensagem=l),id:"mensagem",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"4"},null,512),[[N,i.mensagem]])]),t[7]||(t[7]=u("button",{type:"submit",class:"btn w-full"},"Enviar",-1))],32),i.sucesso?(w(),C("p",u4,"Mensagem enviada com sucesso!")):z("",!0),i.erro?(w(),C("p",h4,E(i.erro),1)):z("",!0)])]),I(a)],64)}const p4=mt(l4,[["render",f4]]),m4={name:"MinhaAssinatura",components:{Sidebar:Ee,HeaderUser:Pe},data(){return{sidebarOpen:window.innerWidth>=768}},methods:{goBeta(){this.$router.push({path:"/assinatura-plus",query:{amount:"167.97"}})},goBasico(){this.$router.push("/dashboard")}}},g4={class:"min-h-screen flex bg-gray-100 relative"},b4={class:"flex-1 p-4 md:p-8 space-y-6"},y4={key:0,class:"flex items-center mb-4"},x4={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},_4={class:"bg-white p-6 rounded-lg shadow space-y-4"},v4={class:"bg-white p-6 rounded-lg shadow space-y-4"};function w4(e,t,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser");return w(),C("div",g4,[I(r,{"is-open":i.sidebarOpen,onClose:t[0]||(t[0]=l=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",b4,[i.sidebarOpen?z("",!0):(w(),C("div",y4,[u("button",{onClick:t[1]||(t[1]=l=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},t[4]||(t[4]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),I(a,{title:"Minha Assinatura"}),u("section",x4,[u("div",_4,[t[5]||(t[5]=fn('<h3 class="text-xl font-semibold text-center">Básico</h3><p class="text-center text-2xl font-bold text-blue-600">Grátis</p><ul class="space-y-2"><li class="flex items-start"><span class="mr-2">✓</span>Cadastro de até 5 pacientes</li><li class="flex items-start"><span class="mr-2">✓</span>Lembretes por e-mail</li><li class="flex items-start line-through text-gray-400"><span class="mr-2">✓</span>Lembretes via WhatsApp</li><li class="flex items-start line-through text-gray-400"><span class="mr-2">✓</span>Customização de domínio da página pública</li><li class="flex items-start line-through text-gray-400"><span class="mr-2">✓</span>Página pública sem banner do Agenda Zen</li><li class="flex items-start line-through text-gray-400"><span class="mr-2">✓</span>Geração de recibos de atendimentos</li><li class="flex items-start line-through text-gray-400"><span class="mr-2">✓</span>Envio de recibos por e-mail automático</li></ul>',3)),u("button",{class:"btn mt-4 w-full",onClick:t[2]||(t[2]=(...l)=>o.goBasico&&o.goBasico(...l))},"Escolher")]),u("div",v4,[t[6]||(t[6]=fn('<h3 class="text-xl font-semibold text-center">Beta</h3><p class="text-center text-2xl font-bold line-through text-gray-400">R$167,97</p><ul class="space-y-2"><li class="flex items-start"><span class="mr-2">✓</span>Cadastro de pacientes ilimitado</li><li class="flex items-start"><span class="mr-2">✓</span>Lembretes por e-mail</li><li class="flex items-start"><span class="mr-2">✓</span>Lembretes via WhatsApp</li><li class="flex items-start"><span class="mr-2">✓</span>Customização de domínio da página pública</li><li class="flex items-start"><span class="mr-2">✓</span>Página pública sem banner do Agenda Zen</li><li class="flex items-start"><span class="mr-2">✓</span>Geração de recibos de atendimentos</li><li class="flex items-start"><span class="mr-2">✓</span>Envio de recibos por e-mail automático</li></ul>',3)),u("button",{class:"btn mt-4 w-full",onClick:t[3]||(t[3]=(...l)=>o.goBeta&&o.goBeta(...l))},"Escolher")])])])])}const k4=mt(m4,[["render",w4]]),S4={name:"Faturamento",components:{Sidebar:Ee,HeaderUser:Pe},data(){return{userId:null,sidebarOpen:window.innerWidth>=768,services:[],selectedServices:[],filterStart:"",filterEnd:"",groupBy:"mes",revenueData:[],chart:null}},methods:{async fetchServices(){const{data:e}=await B.from("services").select().eq("user_id",this.userId);this.services=e||[],this.selectedServices=this.services.map(t=>t.id)},async fetchRevenue(){if(!this.filterStart||!this.filterEnd)return;const{data:e}=await B.from("appointments").select("date, service_id").eq("user_id",this.userId).gte("date",this.filterStart).lte("date",this.filterEnd),t=e||[],s={};this.services.forEach(o=>{s[o.id]=Number(o.price)||0});const n=this.selectedServices.length?t.filter(o=>this.selectedServices.includes(o.service_id)):t,i={};n.forEach(o=>{const r=new Date(o.date);let a="";if(this.groupBy==="dia")a=r.toISOString().split("T")[0];else if(this.groupBy==="semana"){const c=this.getWeekNumber(r);a=`${r.getFullYear()}-W${c}`}else a=`${r.getFullYear()}-${(r.getMonth()+1).toString().padStart(2,"0")}`;const l=s[o.service_id]||0;i[a]=(i[a]||0)+l}),this.revenueData=Object.keys(i).sort().map(o=>({label:o,total:i[o]})),this.renderChart()},getWeekNumber(e){const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),s=t.getUTCDay()||7;t.setUTCDate(t.getUTCDate()+4-s);const n=new Date(Date.UTC(t.getUTCFullYear(),0,1));return Math.ceil(((t-n)/864e5+1)/7)},renderChart(){const e=this.$refs.chartCanvas.getContext("2d");this.chart&&this.chart.destroy(),this.chart=new es(e,{type:"bar",data:{labels:this.revenueData.map(t=>this.formatLabel(t.label)),datasets:[{label:"Faturamento",data:this.revenueData.map(t=>t.total),backgroundColor:"#3b82f6"}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0}}}})},formatPrice(e){return Number(e).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},formatLabel(e){if(this.groupBy==="dia")return ge(e);if(this.groupBy==="semana"){const[t,s]=e.split("-W");return`Semana ${s}/${t}`}if(this.groupBy==="mes"){const[t,s]=e.split("-");return`${s.padStart(2,"0")}/${t}`}return e}},async mounted(){const{data:{user:e}}=await B.auth.getUser();if(!e){this.$router.push("/login");return}this.userId=e.id,await this.fetchServices();const t=new Date,s=new Date(t.getFullYear(),t.getMonth(),1),n=new Date(t.getFullYear(),t.getMonth()+1,0);this.filterStart=s.toISOString().split("T")[0],this.filterEnd=n.toISOString().split("T")[0]}},C4={class:"min-h-screen flex bg-gray-100 relative"},M4={class:"flex-1 p-4 md:p-8 space-y-6"},A4={key:0,class:"flex items-center mb-4"},E4={class:"bg-white p-4 rounded-lg shadow space-y-4"},P4={class:"grid grid-cols-1 md:grid-cols-4 gap-4 items-start"},T4={class:"mt-1 space-y-1"},O4=["value"],D4={class:"md:col-span-2"},I4={class:"grid grid-cols-2 gap-2 mt-1"},R4={class:"flex flex-col mt-3"},L4={class:"flex justify-end"},F4={class:"bg-white p-4 rounded-lg shadow space-y-4"},N4={class:"overflow-x-auto"},j4={class:"min-w-full text-left"},B4={class:"px-4 py-2"},U4={class:"px-4 py-2"},$4={key:0},V4={class:"h-64"},z4={ref:"chartCanvas",class:"w-full h-full"};function H4(e,t,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser");return w(),C("div",C4,[I(r,{"is-open":i.sidebarOpen,onClose:t[0]||(t[0]=l=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",M4,[i.sidebarOpen?z("",!0):(w(),C("div",A4,[u("button",{onClick:t[1]||(t[1]=l=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},t[7]||(t[7]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),I(a,{title:"Relatório de Faturamento"}),u("section",E4,[u("div",P4,[u("div",null,[t[8]||(t[8]=u("label",{class:"block text-sm font-medium text-gray-700"},"Serviços",-1)),u("div",T4,[(w(!0),C(X,null,pt(i.services,l=>(w(),C("label",{key:l.id,class:"flex items-center space-x-2"},[O(u("input",{type:"checkbox",value:l.id,"onUpdate:modelValue":t[2]||(t[2]=c=>i.selectedServices=c)},null,8,O4),[[Ul,i.selectedServices]]),u("span",null,E(l.name),1)]))),128))])]),u("div",D4,[t[13]||(t[13]=u("label",{class:"block text-sm font-medium text-gray-700"},"Datas",-1)),u("div",I4,[u("div",null,[t[9]||(t[9]=u("label",{class:"block text-xs font-medium text-gray-700"},"De",-1)),O(u("input",{type:"date","onUpdate:modelValue":t[3]||(t[3]=l=>i.filterStart=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.filterStart]])]),u("div",null,[t[10]||(t[10]=u("label",{class:"block text-xs font-medium text-gray-700"},"Até",-1)),O(u("input",{type:"date","onUpdate:modelValue":t[4]||(t[4]=l=>i.filterEnd=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.filterEnd]])])]),u("div",R4,[t[12]||(t[12]=u("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Agrupar por",-1)),O(u("select",{"onUpdate:modelValue":t[5]||(t[5]=l=>i.groupBy=l),class:"w-full px-4 py-2 border rounded-md"},t[11]||(t[11]=[u("option",{value:"mes"},"Mês",-1),u("option",{value:"semana"},"Semana",-1),u("option",{value:"dia"},"Dia",-1)]),512),[[Ae,i.groupBy]])])])]),u("div",L4,[u("button",{onClick:t[6]||(t[6]=(...l)=>o.fetchRevenue&&o.fetchRevenue(...l)),class:"btn"},"Aplicar")])]),u("section",F4,[u("div",N4,[u("table",j4,[t[15]||(t[15]=u("thead",{class:"bg-gray-50"},[u("tr",null,[u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Período"),u("th",{class:"px-4 py-2 font-medium text-gray-700"},"Faturamento")])],-1)),u("tbody",null,[(w(!0),C(X,null,pt(i.revenueData,l=>(w(),C("tr",{key:l.label,class:"border-b last:border-b-0"},[u("td",B4,E(o.formatLabel(l.label)),1),u("td",U4,E(o.formatPrice(l.total)),1)]))),128)),i.revenueData.length===0?(w(),C("tr",$4,t[14]||(t[14]=[u("td",{colspan:"2",class:"px-4 py-6 text-center text-gray-500"},"Nenhum dado",-1)]))):z("",!0)])])]),u("div",V4,[u("canvas",z4,null,512)])])])])}const W4=mt(S4,[["render",H4]]),q4={name:"Faq",components:{Navbar:We,Footer:qe},data(){return{faqs:[{question:"Como me cadastro?",answer:'Clique em "Cadastre-se" no menu e preencha o formulário.'},{question:"Posso cancelar a qualquer momento?",answer:"Sim, você pode cancelar seu plano a hora que quiser sem taxas adicionais."},{question:"Como entro em contato com o suporte?",answer:"Utilize a página de contato para nos enviar sua mensagem."}]}}},K4={class:"min-h-screen flex flex-col bg-gray-100"},G4={class:"flex-1 max-w-3xl mx-auto p-8"},Y4={class:"space-y-6"},J4={class:"font-semibold text-blue-600 mb-2"},X4={class:"text-gray-700"};function Q4(e,t,s,n,i,o){const r=H("Navbar"),a=H("Footer");return w(),C(X,null,[I(r),u("div",K4,[u("main",G4,[t[0]||(t[0]=u("h1",{class:"text-3xl font-bold text-center mb-8"},"Perguntas Frequentes",-1)),u("div",Y4,[(w(!0),C(X,null,pt(i.faqs,(l,c)=>(w(),C("div",{key:c,class:"bg-white p-6 rounded-lg shadow"},[u("h2",J4,E(l.question),1),u("p",X4,E(l.answer),1)]))),128))])]),I(a)])],64)}const Z4=mt(q4,[["render",Q4]]),tO={name:"PoliticaPrivacidade",components:{Navbar:We,Footer:qe}};function eO(e,t,s,n,i,o){const r=H("Navbar"),a=H("Footer");return w(),C(X,null,[I(r),t[0]||(t[0]=u("section",{class:"max-w-3xl mx-auto px-4 py-16 space-y-4"},[u("h1",{class:"text-3xl font-bold text-center mb-4"},"Política de Privacidade"),u("p",null,"Esta política descreve como tratamos seus dados pessoais e garante a transparência sobre o uso das suas informações."),u("p",null,"Utilizamos seus dados apenas para prover nossos serviços de agendamento e nunca os compartilhamos com terceiros sem consentimento."),u("p",null,"Ao utilizar o Agenda Zen você concorda com esta política. Em caso de dúvidas entre em contato conosco.")],-1)),I(a)],64)}const sO=mt(tO,[["render",eO]]),nO={name:"TermosDeUso",components:{Navbar:We,Footer:qe}};function iO(e,t,s,n,i,o){const r=H("Navbar"),a=H("Footer");return w(),C(X,null,[I(r),t[0]||(t[0]=u("section",{class:"max-w-3xl mx-auto px-4 py-16 space-y-4"},[u("h1",{class:"text-3xl font-bold text-center mb-4"},"Termos de Uso"),u("p",null,"Estes termos definem as regras para utilização da plataforma Agenda Zen. Ao criar uma conta você concorda em segui-los."),u("p",null,"O serviço deve ser utilizado apenas para atividades lícitas e em conformidade com a legislação vigente. Contas que violem estas condições poderão ser suspensas."),u("p",null,"Podemos atualizar estes termos periodicamente. Avisaremos sobre mudanças importantes diretamente no site.")],-1)),I(a)],64)}const oO=mt(nO,[["render",iO]]);var ho={},rO=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Yp={},Te={};let uc;const aO=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Te.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};Te.getSymbolTotalCodewords=function(t){return aO[t]};Te.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};Te.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');uc=t};Te.isKanjiModeEnabled=function(){return typeof uc<"u"};Te.toSJIS=function(t){return uc(t)};var Kr={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+s)}}e.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},e.from=function(n,i){if(e.isValid(n))return n;try{return t(n)}catch{return i}}})(Kr);function Jp(){this.buffer=[],this.length=0}Jp.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let s=0;s<t;s++)this.putBit((e>>>t-s-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var lO=Jp;function fo(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}fo.prototype.set=function(e,t,s,n){const i=e*this.size+t;this.data[i]=s,n&&(this.reservedBit[i]=!0)};fo.prototype.get=function(e,t){return this.data[e*this.size+t]};fo.prototype.xor=function(e,t,s){this.data[e*this.size+t]^=s};fo.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var cO=fo,Xp={};(function(e){const t=Te.getSymbolSize;e.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,o=t(n),r=o===145?26:Math.ceil((o-13)/(2*i-2))*2,a=[o-7];for(let l=1;l<i-1;l++)a[l]=a[l-1]-r;return a.push(6),a.reverse()},e.getPositions=function(n){const i=[],o=e.getRowColCoords(n),r=o.length;for(let a=0;a<r;a++)for(let l=0;l<r;l++)a===0&&l===0||a===0&&l===r-1||a===r-1&&l===0||i.push([o[a],o[l]]);return i}})(Xp);var Qp={};const dO=Te.getSymbolSize,Ju=7;Qp.getPositions=function(t){const s=dO(t);return[[0,0],[s-Ju,0],[0,s-Ju]]};var Zp={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const o=i.size;let r=0,a=0,l=0,c=null,d=null;for(let h=0;h<o;h++){a=l=0,c=d=null;for(let f=0;f<o;f++){let p=i.get(h,f);p===c?a++:(a>=5&&(r+=t.N1+(a-5)),c=p,a=1),p=i.get(f,h),p===d?l++:(l>=5&&(r+=t.N1+(l-5)),d=p,l=1)}a>=5&&(r+=t.N1+(a-5)),l>=5&&(r+=t.N1+(l-5))}return r},e.getPenaltyN2=function(i){const o=i.size;let r=0;for(let a=0;a<o-1;a++)for(let l=0;l<o-1;l++){const c=i.get(a,l)+i.get(a,l+1)+i.get(a+1,l)+i.get(a+1,l+1);(c===4||c===0)&&r++}return r*t.N2},e.getPenaltyN3=function(i){const o=i.size;let r=0,a=0,l=0;for(let c=0;c<o;c++){a=l=0;for(let d=0;d<o;d++)a=a<<1&2047|i.get(c,d),d>=10&&(a===1488||a===93)&&r++,l=l<<1&2047|i.get(d,c),d>=10&&(l===1488||l===93)&&r++}return r*t.N3},e.getPenaltyN4=function(i){let o=0;const r=i.data.length;for(let l=0;l<r;l++)o+=i.data[l];return Math.abs(Math.ceil(o*100/r/5)-10)*t.N4};function s(n,i,o){switch(n){case e.Patterns.PATTERN000:return(i+o)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return o%3===0;case e.Patterns.PATTERN011:return(i+o)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(o/3))%2===0;case e.Patterns.PATTERN101:return i*o%2+i*o%3===0;case e.Patterns.PATTERN110:return(i*o%2+i*o%3)%2===0;case e.Patterns.PATTERN111:return(i*o%3+(i+o)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}e.applyMask=function(i,o){const r=o.size;for(let a=0;a<r;a++)for(let l=0;l<r;l++)o.isReserved(l,a)||o.xor(l,a,s(i,l,a))},e.getBestMask=function(i,o){const r=Object.keys(e.Patterns).length;let a=0,l=1/0;for(let c=0;c<r;c++){o(c),e.applyMask(c,i);const d=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(c,i),d<l&&(l=d,a=c)}return a}})(Zp);var Gr={};const Us=Kr,Fo=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],No=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Gr.getBlocksCount=function(t,s){switch(s){case Us.L:return Fo[(t-1)*4+0];case Us.M:return Fo[(t-1)*4+1];case Us.Q:return Fo[(t-1)*4+2];case Us.H:return Fo[(t-1)*4+3];default:return}};Gr.getTotalCodewordsCount=function(t,s){switch(s){case Us.L:return No[(t-1)*4+0];case Us.M:return No[(t-1)*4+1];case Us.Q:return No[(t-1)*4+2];case Us.H:return No[(t-1)*4+3];default:return}};var tm={},Yr={};const Li=new Uint8Array(512),xr=new Uint8Array(256);(function(){let t=1;for(let s=0;s<255;s++)Li[s]=t,xr[t]=s,t<<=1,t&256&&(t^=285);for(let s=255;s<512;s++)Li[s]=Li[s-255]})();Yr.log=function(t){if(t<1)throw new Error("log("+t+")");return xr[t]};Yr.exp=function(t){return Li[t]};Yr.mul=function(t,s){return t===0||s===0?0:Li[xr[t]+xr[s]]};(function(e){const t=Yr;e.mul=function(n,i){const o=new Uint8Array(n.length+i.length-1);for(let r=0;r<n.length;r++)for(let a=0;a<i.length;a++)o[r+a]^=t.mul(n[r],i[a]);return o},e.mod=function(n,i){let o=new Uint8Array(n);for(;o.length-i.length>=0;){const r=o[0];for(let l=0;l<i.length;l++)o[l]^=t.mul(i[l],r);let a=0;for(;a<o.length&&o[a]===0;)a++;o=o.slice(a)}return o},e.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let o=0;o<n;o++)i=e.mul(i,new Uint8Array([1,t.exp(o)]));return i}})(tm);const em=tm;function hc(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}hc.prototype.initialize=function(t){this.degree=t,this.genPoly=em.generateECPolynomial(this.degree)};hc.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const s=new Uint8Array(t.length+this.degree);s.set(t);const n=em.mod(s,this.genPoly),i=this.degree-n.length;if(i>0){const o=new Uint8Array(this.degree);return o.set(n,i),o}return n};var uO=hc,sm={},Ys={},fc={};fc.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var os={};const nm="[0-9]+",hO="[A-Z $%*+\\-./:]+";let to="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";to=to.replace(/u/g,"\\u");const fO="(?:(?![A-Z0-9 $%*+\\-./:]|"+to+`)(?:.|[\r
]))+`;os.KANJI=new RegExp(to,"g");os.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");os.BYTE=new RegExp(fO,"g");os.NUMERIC=new RegExp(nm,"g");os.ALPHANUMERIC=new RegExp(hO,"g");const pO=new RegExp("^"+to+"$"),mO=new RegExp("^"+nm+"$"),gO=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");os.testKanji=function(t){return pO.test(t)};os.testNumeric=function(t){return mO.test(t)};os.testAlphanumeric=function(t){return gO.test(t)};(function(e){const t=fc,s=os;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(o,r){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!t.isValid(r))throw new Error("Invalid version: "+r);return r>=1&&r<10?o.ccBits[0]:r<27?o.ccBits[1]:o.ccBits[2]},e.getBestModeForData=function(o){return s.testNumeric(o)?e.NUMERIC:s.testAlphanumeric(o)?e.ALPHANUMERIC:s.testKanji(o)?e.KANJI:e.BYTE},e.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},e.isValid=function(o){return o&&o.bit&&o.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(o,r){if(e.isValid(o))return o;try{return n(o)}catch{return r}}})(Ys);(function(e){const t=Te,s=Gr,n=Kr,i=Ys,o=fc,r=7973,a=t.getBCHDigit(r);function l(f,p,m){for(let g=1;g<=40;g++)if(p<=e.getCapacity(g,m,f))return g}function c(f,p){return i.getCharCountIndicator(f,p)+4}function d(f,p){let m=0;return f.forEach(function(g){const b=c(g.mode,p);m+=b+g.getBitsLength()}),m}function h(f,p){for(let m=1;m<=40;m++)if(d(f,m)<=e.getCapacity(m,p,i.MIXED))return m}e.from=function(p,m){return o.isValid(p)?parseInt(p,10):m},e.getCapacity=function(p,m,g){if(!o.isValid(p))throw new Error("Invalid QR Code version");typeof g>"u"&&(g=i.BYTE);const b=t.getSymbolTotalCodewords(p),y=s.getTotalCodewordsCount(p,m),_=(b-y)*8;if(g===i.MIXED)return _;const S=_-c(g,p);switch(g){case i.NUMERIC:return Math.floor(S/10*3);case i.ALPHANUMERIC:return Math.floor(S/11*2);case i.KANJI:return Math.floor(S/13);case i.BYTE:default:return Math.floor(S/8)}},e.getBestVersionForData=function(p,m){let g;const b=n.from(m,n.M);if(Array.isArray(p)){if(p.length>1)return h(p,b);if(p.length===0)return 1;g=p[0]}else g=p;return l(g.mode,g.getLength(),b)},e.getEncodedBits=function(p){if(!o.isValid(p)||p<7)throw new Error("Invalid QR Code version");let m=p<<12;for(;t.getBCHDigit(m)-a>=0;)m^=r<<t.getBCHDigit(m)-a;return p<<12|m}})(sm);var im={};const bl=Te,om=1335,bO=21522,Xu=bl.getBCHDigit(om);im.getEncodedBits=function(t,s){const n=t.bit<<3|s;let i=n<<10;for(;bl.getBCHDigit(i)-Xu>=0;)i^=om<<bl.getBCHDigit(i)-Xu;return(n<<10|i)^bO};var rm={};const yO=Ys;function Gn(e){this.mode=yO.NUMERIC,this.data=e.toString()}Gn.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Gn.prototype.getLength=function(){return this.data.length};Gn.prototype.getBitsLength=function(){return Gn.getBitsLength(this.data.length)};Gn.prototype.write=function(t){let s,n,i;for(s=0;s+3<=this.data.length;s+=3)n=this.data.substr(s,3),i=parseInt(n,10),t.put(i,10);const o=this.data.length-s;o>0&&(n=this.data.substr(s),i=parseInt(n,10),t.put(i,o*3+1))};var xO=Gn;const _O=Ys,Pa=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Yn(e){this.mode=_O.ALPHANUMERIC,this.data=e}Yn.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Yn.prototype.getLength=function(){return this.data.length};Yn.prototype.getBitsLength=function(){return Yn.getBitsLength(this.data.length)};Yn.prototype.write=function(t){let s;for(s=0;s+2<=this.data.length;s+=2){let n=Pa.indexOf(this.data[s])*45;n+=Pa.indexOf(this.data[s+1]),t.put(n,11)}this.data.length%2&&t.put(Pa.indexOf(this.data[s]),6)};var vO=Yn;const wO=Ys;function Jn(e){this.mode=wO.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}Jn.getBitsLength=function(t){return t*8};Jn.prototype.getLength=function(){return this.data.length};Jn.prototype.getBitsLength=function(){return Jn.getBitsLength(this.data.length)};Jn.prototype.write=function(e){for(let t=0,s=this.data.length;t<s;t++)e.put(this.data[t],8)};var kO=Jn;const SO=Ys,CO=Te;function Xn(e){this.mode=SO.KANJI,this.data=e}Xn.getBitsLength=function(t){return t*13};Xn.prototype.getLength=function(){return this.data.length};Xn.prototype.getBitsLength=function(){return Xn.getBitsLength(this.data.length)};Xn.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let s=CO.toSJIS(this.data[t]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),e.put(s,13)}};var MO=Xn,am={exports:{}};(function(e){var t={single_source_shortest_paths:function(s,n,i){var o={},r={};r[n]=0;var a=t.PriorityQueue.make();a.push(n,0);for(var l,c,d,h,f,p,m,g,b;!a.empty();){l=a.pop(),c=l.value,h=l.cost,f=s[c]||{};for(d in f)f.hasOwnProperty(d)&&(p=f[d],m=h+p,g=r[d],b=typeof r[d]>"u",(b||g>m)&&(r[d]=m,a.push(d,m),o[d]=c))}if(typeof i<"u"&&typeof r[i]>"u"){var y=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(y)}return o},extract_shortest_path_from_predecessor_list:function(s,n){for(var i=[],o=n;o;)i.push(o),s[o],o=s[o];return i.reverse(),i},find_path:function(s,n,i){var o=t.single_source_shortest_paths(s,n,i);return t.extract_shortest_path_from_predecessor_list(o,i)},PriorityQueue:{make:function(s){var n=t.PriorityQueue,i={},o;s=s||{};for(o in n)n.hasOwnProperty(o)&&(i[o]=n[o]);return i.queue=[],i.sorter=s.sorter||n.default_sorter,i},default_sorter:function(s,n){return s.cost-n.cost},push:function(s,n){var i={value:s,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(am);var AO=am.exports;(function(e){const t=Ys,s=xO,n=vO,i=kO,o=MO,r=os,a=Te,l=AO;function c(y){return unescape(encodeURIComponent(y)).length}function d(y,_,S){const k=[];let M;for(;(M=y.exec(S))!==null;)k.push({data:M[0],index:M.index,mode:_,length:M[0].length});return k}function h(y){const _=d(r.NUMERIC,t.NUMERIC,y),S=d(r.ALPHANUMERIC,t.ALPHANUMERIC,y);let k,M;return a.isKanjiModeEnabled()?(k=d(r.BYTE,t.BYTE,y),M=d(r.KANJI,t.KANJI,y)):(k=d(r.BYTE_KANJI,t.BYTE,y),M=[]),_.concat(S,k,M).sort(function(P,F){return P.index-F.index}).map(function(P){return{data:P.data,mode:P.mode,length:P.length}})}function f(y,_){switch(_){case t.NUMERIC:return s.getBitsLength(y);case t.ALPHANUMERIC:return n.getBitsLength(y);case t.KANJI:return o.getBitsLength(y);case t.BYTE:return i.getBitsLength(y)}}function p(y){return y.reduce(function(_,S){const k=_.length-1>=0?_[_.length-1]:null;return k&&k.mode===S.mode?(_[_.length-1].data+=S.data,_):(_.push(S),_)},[])}function m(y){const _=[];for(let S=0;S<y.length;S++){const k=y[S];switch(k.mode){case t.NUMERIC:_.push([k,{data:k.data,mode:t.ALPHANUMERIC,length:k.length},{data:k.data,mode:t.BYTE,length:k.length}]);break;case t.ALPHANUMERIC:_.push([k,{data:k.data,mode:t.BYTE,length:k.length}]);break;case t.KANJI:_.push([k,{data:k.data,mode:t.BYTE,length:c(k.data)}]);break;case t.BYTE:_.push([{data:k.data,mode:t.BYTE,length:c(k.data)}])}}return _}function g(y,_){const S={},k={start:{}};let M=["start"];for(let T=0;T<y.length;T++){const P=y[T],F=[];for(let Y=0;Y<P.length;Y++){const Q=P[Y],st=""+T+Y;F.push(st),S[st]={node:Q,lastCount:0},k[st]={};for(let at=0;at<M.length;at++){const gt=M[at];S[gt]&&S[gt].node.mode===Q.mode?(k[gt][st]=f(S[gt].lastCount+Q.length,Q.mode)-f(S[gt].lastCount,Q.mode),S[gt].lastCount+=Q.length):(S[gt]&&(S[gt].lastCount=Q.length),k[gt][st]=f(Q.length,Q.mode)+4+t.getCharCountIndicator(Q.mode,_))}}M=F}for(let T=0;T<M.length;T++)k[M[T]].end=0;return{map:k,table:S}}function b(y,_){let S;const k=t.getBestModeForData(y);if(S=t.from(_,k),S!==t.BYTE&&S.bit<k.bit)throw new Error('"'+y+'" cannot be encoded with mode '+t.toString(S)+`.
 Suggested mode is: `+t.toString(k));switch(S===t.KANJI&&!a.isKanjiModeEnabled()&&(S=t.BYTE),S){case t.NUMERIC:return new s(y);case t.ALPHANUMERIC:return new n(y);case t.KANJI:return new o(y);case t.BYTE:return new i(y)}}e.fromArray=function(_){return _.reduce(function(S,k){return typeof k=="string"?S.push(b(k,null)):k.data&&S.push(b(k.data,k.mode)),S},[])},e.fromString=function(_,S){const k=h(_,a.isKanjiModeEnabled()),M=m(k),T=g(M,S),P=l.find_path(T.map,"start","end"),F=[];for(let Y=1;Y<P.length-1;Y++)F.push(T.table[P[Y]].node);return e.fromArray(p(F))},e.rawSplit=function(_){return e.fromArray(h(_,a.isKanjiModeEnabled()))}})(rm);const Jr=Te,Ta=Kr,EO=lO,PO=cO,TO=Xp,OO=Qp,yl=Zp,xl=Gr,DO=uO,_r=sm,IO=im,RO=Ys,Oa=rm;function LO(e,t){const s=e.size,n=OO.getPositions(t);for(let i=0;i<n.length;i++){const o=n[i][0],r=n[i][1];for(let a=-1;a<=7;a++)if(!(o+a<=-1||s<=o+a))for(let l=-1;l<=7;l++)r+l<=-1||s<=r+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?e.set(o+a,r+l,!0,!0):e.set(o+a,r+l,!1,!0))}}function FO(e){const t=e.size;for(let s=8;s<t-8;s++){const n=s%2===0;e.set(s,6,n,!0),e.set(6,s,n,!0)}}function NO(e,t){const s=TO.getPositions(t);for(let n=0;n<s.length;n++){const i=s[n][0],o=s[n][1];for(let r=-2;r<=2;r++)for(let a=-2;a<=2;a++)r===-2||r===2||a===-2||a===2||r===0&&a===0?e.set(i+r,o+a,!0,!0):e.set(i+r,o+a,!1,!0)}}function jO(e,t){const s=e.size,n=_r.getEncodedBits(t);let i,o,r;for(let a=0;a<18;a++)i=Math.floor(a/3),o=a%3+s-8-3,r=(n>>a&1)===1,e.set(i,o,r,!0),e.set(o,i,r,!0)}function Da(e,t,s){const n=e.size,i=IO.getEncodedBits(t,s);let o,r;for(o=0;o<15;o++)r=(i>>o&1)===1,o<6?e.set(o,8,r,!0):o<8?e.set(o+1,8,r,!0):e.set(n-15+o,8,r,!0),o<8?e.set(8,n-o-1,r,!0):o<9?e.set(8,15-o-1+1,r,!0):e.set(8,15-o-1,r,!0);e.set(n-8,8,1,!0)}function BO(e,t){const s=e.size;let n=-1,i=s-1,o=7,r=0;for(let a=s-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!e.isReserved(i,a-l)){let c=!1;r<t.length&&(c=(t[r]>>>o&1)===1),e.set(i,a-l,c),o--,o===-1&&(r++,o=7)}if(i+=n,i<0||s<=i){i-=n,n=-n;break}}}function UO(e,t,s){const n=new EO;s.forEach(function(l){n.put(l.mode.bit,4),n.put(l.getLength(),RO.getCharCountIndicator(l.mode,e)),l.write(n)});const i=Jr.getSymbolTotalCodewords(e),o=xl.getTotalCodewordsCount(e,t),r=(i-o)*8;for(n.getLengthInBits()+4<=r&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const a=(r-n.getLengthInBits())/8;for(let l=0;l<a;l++)n.put(l%2?17:236,8);return $O(n,e,t)}function $O(e,t,s){const n=Jr.getSymbolTotalCodewords(t),i=xl.getTotalCodewordsCount(t,s),o=n-i,r=xl.getBlocksCount(t,s),a=n%r,l=r-a,c=Math.floor(n/r),d=Math.floor(o/r),h=d+1,f=c-d,p=new DO(f);let m=0;const g=new Array(r),b=new Array(r);let y=0;const _=new Uint8Array(e.buffer);for(let P=0;P<r;P++){const F=P<l?d:h;g[P]=_.slice(m,m+F),b[P]=p.encode(g[P]),m+=F,y=Math.max(y,F)}const S=new Uint8Array(n);let k=0,M,T;for(M=0;M<y;M++)for(T=0;T<r;T++)M<g[T].length&&(S[k++]=g[T][M]);for(M=0;M<f;M++)for(T=0;T<r;T++)S[k++]=b[T][M];return S}function VO(e,t,s,n){let i;if(Array.isArray(e))i=Oa.fromArray(e);else if(typeof e=="string"){let c=t;if(!c){const d=Oa.rawSplit(e);c=_r.getBestVersionForData(d,s)}i=Oa.fromString(e,c||40)}else throw new Error("Invalid data");const o=_r.getBestVersionForData(i,s);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=o;else if(t<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);const r=UO(t,s,i),a=Jr.getSymbolSize(t),l=new PO(a);return LO(l,t),FO(l),NO(l,t),Da(l,s,0),t>=7&&jO(l,t),BO(l,r),isNaN(n)&&(n=yl.getBestMask(l,Da.bind(null,l,s))),yl.applyMask(n,l),Da(l,s,n),{modules:l,version:t,errorCorrectionLevel:s,maskPattern:n,segments:i}}Yp.create=function(t,s){if(typeof t>"u"||t==="")throw new Error("No input text");let n=Ta.M,i,o;return typeof s<"u"&&(n=Ta.from(s.errorCorrectionLevel,Ta.M),i=_r.from(s.version),o=yl.from(s.maskPattern),s.toSJISFunc&&Jr.setToSJISFunction(s.toSJISFunc)),VO(t,i,n,o)};var lm={},pc={};(function(e){function t(s){if(typeof s=="number"&&(s=s.toString()),typeof s!="string")throw new Error("Color should be defined as hex string");let n=s.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+s);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(o){return[o,o]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}e.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,o=n.width&&n.width>=21?n.width:void 0,r=n.scale||4;return{width:o,scale:o?4:r,margin:i,color:{dark:t(n.color.dark||"#000000ff"),light:t(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},e.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},e.getImageWidth=function(n,i){const o=e.getScale(n,i);return Math.floor((n+i.margin*2)*o)},e.qrToImageData=function(n,i,o){const r=i.modules.size,a=i.modules.data,l=e.getScale(r,o),c=Math.floor((r+o.margin*2)*l),d=o.margin*l,h=[o.color.light,o.color.dark];for(let f=0;f<c;f++)for(let p=0;p<c;p++){let m=(f*c+p)*4,g=o.color.light;if(f>=d&&p>=d&&f<c-d&&p<c-d){const b=Math.floor((f-d)/l),y=Math.floor((p-d)/l);g=h[a[b*r+y]?1:0]}n[m++]=g.r,n[m++]=g.g,n[m++]=g.b,n[m]=g.a}}})(pc);(function(e){const t=pc;function s(i,o,r){i.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=r,o.width=r,o.style.height=r+"px",o.style.width=r+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(o,r,a){let l=a,c=r;typeof l>"u"&&(!r||!r.getContext)&&(l=r,r=void 0),r||(c=n()),l=t.getOptions(l);const d=t.getImageWidth(o.modules.size,l),h=c.getContext("2d"),f=h.createImageData(d,d);return t.qrToImageData(f.data,o,l),s(h,c,d),h.putImageData(f,0,0),c},e.renderToDataURL=function(o,r,a){let l=a;typeof l>"u"&&(!r||!r.getContext)&&(l=r,r=void 0),l||(l={});const c=e.render(o,r,l),d=l.type||"image/png",h=l.rendererOpts||{};return c.toDataURL(d,h.quality)}})(lm);var cm={};const zO=pc;function Qu(e,t){const s=e.a/255,n=t+'="'+e.hex+'"';return s<1?n+" "+t+'-opacity="'+s.toFixed(2).slice(1)+'"':n}function Ia(e,t,s){let n=e+t;return typeof s<"u"&&(n+=" "+s),n}function HO(e,t,s){let n="",i=0,o=!1,r=0;for(let a=0;a<e.length;a++){const l=Math.floor(a%t),c=Math.floor(a/t);!l&&!o&&(o=!0),e[a]?(r++,a>0&&l>0&&e[a-1]||(n+=o?Ia("M",l+s,.5+c+s):Ia("m",i,0),i=0,o=!1),l+1<t&&e[a+1]||(n+=Ia("h",r),r=0)):i++}return n}cm.render=function(t,s,n){const i=zO.getOptions(s),o=t.modules.size,r=t.modules.data,a=o+i.margin*2,l=i.color.light.a?"<path "+Qu(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",c="<path "+Qu(i.color.dark,"stroke")+' d="'+HO(r,o,i.margin)+'"/>',d='viewBox="0 0 '+a+" "+a+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+d+' shape-rendering="crispEdges">'+l+c+`</svg>
`;return typeof n=="function"&&n(null,f),f};const WO=rO,_l=Yp,dm=lm,qO=cm;function mc(e,t,s,n,i){const o=[].slice.call(arguments,1),r=o.length,a=typeof o[r-1]=="function";if(!a&&!WO())throw new Error("Callback required as last argument");if(a){if(r<2)throw new Error("Too few arguments provided");r===2?(i=s,s=t,t=n=void 0):r===3&&(t.getContext&&typeof i>"u"?(i=n,n=void 0):(i=n,n=s,s=t,t=void 0))}else{if(r<1)throw new Error("Too few arguments provided");return r===1?(s=t,t=n=void 0):r===2&&!t.getContext&&(n=s,s=t,t=void 0),new Promise(function(l,c){try{const d=_l.create(s,n);l(e(d,t,n))}catch(d){c(d)}})}try{const l=_l.create(s,n);i(null,e(l,t,n))}catch(l){i(l)}}ho.create=_l.create;ho.toCanvas=mc.bind(null,dm.render);ho.toDataURL=mc.bind(null,dm.renderToDataURL);ho.toString=mc.bind(null,function(e,t,s){return qO.render(e,s)});function Cn(e,t){const s=String(t.length).padStart(2,"0");return`${e}${s}${t}`}function KO(e){let t=65535;for(let s=0;s<e.length;s++){t^=e.charCodeAt(s)<<8;for(let n=0;n<8;n++)t&32768?t=t<<1^4129:t<<=1,t&=65535}return t.toString(16).toUpperCase().padStart(4,"0")}function GO({key:e,name:t,city:s="SAO PAULO",amount:n,txid:i="AGENDAZEN"}){const o=t.slice(0,25),r=Cn("00","BR.GOV.BCB.PIX")+Cn("01",e),a=Cn("05",i),l="00020101021126"+String(r.length).padStart(2,"0")+r+"520400005303986"+(n?Cn("54",n):"")+"5802BR"+Cn("59",o)+Cn("60",s)+"62"+String(a.length).padStart(2,"0")+a+"6304",c=KO(l);return l+c}const YO="/icons/visa.svg",JO="/icons/mastercard.svg",XO="/icons/amex.svg",QO="/icons/elo.svg",ZO="/logo_pix.png",tD={name:"PagamentoPlus",components:{Sidebar:Ee,HeaderUser:Pe},data(){return{sidebarOpen:window.innerWidth>=768,activeTab:"pix",card:{name:"",number:"",expiry:"",cvv:"",document:""},billing:{cep:"",street:"",number:"",complement:"",neighborhood:"",city:"",state:""},pixAmount:"167.97",pixCode:"",pixQrCode:""}},mounted(){const e=this.$route.query.amount;e&&(this.pixAmount=e),this.generatePix()},methods:{generatePix(){const e=GO({key:"37775989840",name:"Jeferson Carlos A de Paula",amount:this.pixAmount});this.pixCode=e,ho.toDataURL(e).then(t=>{this.pixQrCode=t})}}},eD={class:"min-h-screen flex bg-gray-100 relative"},sD={class:"flex-1 p-8 space-y-6"},nD={key:0,class:"flex items-center mb-4"},iD={class:"mb-6 space-x-2"},oD={key:1,class:"space-y-6 max-w-3xl"},rD={class:"grid grid-cols-2 gap-4"},aD={class:"space-y-4 mt-4"},lD={class:"grid grid-cols-2 gap-4"},cD={class:"grid grid-cols-2 gap-4"},dD={key:2,class:"space-y-6 max-w-3xl"},uD={class:"text-center space-y-4"},hD=["src"],fD={class:"text-lg font-semibold"};function pD(e,t,s,n,i,o){const r=H("Sidebar"),a=H("HeaderUser");return w(),C("div",eD,[I(r,{"is-open":i.sidebarOpen,onClose:t[0]||(t[0]=l=>i.sidebarOpen=!1)},null,8,["is-open"]),u("main",sD,[i.sidebarOpen?z("",!0):(w(),C("div",nD,[u("button",{onClick:t[1]||(t[1]=l=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},t[17]||(t[17]=[u("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[u("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),I(a,{title:"Pagamento"}),u("nav",iD,[u("button",{onClick:t[2]||(t[2]=l=>i.activeTab="cartao"),class:Qt([i.activeTab==="cartao"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700","px-4 py-2 rounded-l"])},"Cartão de Crédito",2),u("button",{onClick:t[3]||(t[3]=l=>i.activeTab="pix"),class:Qt([i.activeTab==="pix"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700","px-4 py-2 rounded-r"])},"Pix",2)]),i.activeTab==="cartao"?(w(),C("section",oD,[t[31]||(t[31]=fn('<div class="flex justify-center space-x-2 mb-4"><img src="'+YO+'" alt="Visa" class="h-8"><img src="'+JO+'" alt="Mastercard" class="h-8"><img src="'+XO+'" alt="American Express" class="h-8"><img src="'+QO+'" alt="Elo" class="h-8"></div>',1)),u("div",null,[t[18]||(t[18]=u("label",{class:"block text-sm font-medium text-gray-700"},"Nome (igual no cartão)",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=l=>i.card.name=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.card.name]])]),u("div",null,[t[19]||(t[19]=u("label",{class:"block text-sm font-medium text-gray-700"},"Número do cartão",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=l=>i.card.number=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.card.number]])]),u("div",rD,[u("div",null,[t[20]||(t[20]=u("label",{class:"block text-sm font-medium text-gray-700"},"Validade (MM/AA)",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=l=>i.card.expiry=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.card.expiry]])]),u("div",null,[t[21]||(t[21]=u("label",{class:"block text-sm font-medium text-gray-700"},"Código de Segurança (CVV)",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=l=>i.card.cvv=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.card.cvv]])])]),u("div",null,[t[22]||(t[22]=u("label",{class:"block text-sm font-medium text-gray-700"},"CPF/CNPJ",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=l=>i.card.document=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.card.document]])]),u("div",aD,[t[30]||(t[30]=u("h3",{class:"text-md font-semibold"},"Endereço de cobrança",-1)),u("div",null,[t[23]||(t[23]=u("label",{class:"block text-sm font-medium text-gray-700"},"CEP",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=l=>i.billing.cep=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.billing.cep]])]),u("div",null,[t[24]||(t[24]=u("label",{class:"block text-sm font-medium text-gray-700"},"Rua",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[10]||(t[10]=l=>i.billing.street=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.billing.street]])]),u("div",lD,[u("div",null,[t[25]||(t[25]=u("label",{class:"block text-sm font-medium text-gray-700"},"Número",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[11]||(t[11]=l=>i.billing.number=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.billing.number]])]),u("div",null,[t[26]||(t[26]=u("label",{class:"block text-sm font-medium text-gray-700"},"Complemento",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[12]||(t[12]=l=>i.billing.complement=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.billing.complement]])])]),u("div",null,[t[27]||(t[27]=u("label",{class:"block text-sm font-medium text-gray-700"},"Bairro",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[13]||(t[13]=l=>i.billing.neighborhood=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.billing.neighborhood]])]),u("div",cD,[u("div",null,[t[28]||(t[28]=u("label",{class:"block text-sm font-medium text-gray-700"},"Cidade",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[14]||(t[14]=l=>i.billing.city=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.billing.city]])]),u("div",null,[t[29]||(t[29]=u("label",{class:"block text-sm font-medium text-gray-700"},"Estado",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[15]||(t[15]=l=>i.billing.state=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[N,i.billing.state]])])])]),t[32]||(t[32]=u("div",{class:"text-right mt-4"},[u("button",{class:"btn"},"Pagar")],-1))])):z("",!0),i.activeTab==="pix"?(w(),C("section",dD,[u("div",uD,[t[33]||(t[33]=u("img",{src:ZO,alt:"Logo Pix",class:"mx-auto w-[17.6rem] h-auto"},null,-1)),i.pixQrCode?(w(),C("img",{key:0,src:i.pixQrCode,alt:"QR Code Pix",class:"mx-auto w-40 h-auto"},null,8,hD)):z("",!0),t[34]||(t[34]=u("p",{class:"font-semibold"},"Código de pagamento",-1)),t[35]||(t[35]=u("p",null,"Copie e cole o código abaixo no app da sua instituição financeira para finalizar a compra.",-1)),O(u("input",{type:"text","onUpdate:modelValue":t[16]||(t[16]=l=>i.pixCode=l),readonly:"",class:"w-full px-4 py-2 border rounded-md text-center"},null,512),[[N,i.pixCode]]),t[36]||(t[36]=u("p",{class:"font-semibold"},"Valor do pagamento",-1)),u("p",fD,"R$ "+E(i.pixAmount.replace(".",",")),1)])])):z("",!0)])])}const mD=mt(tD,[["render",pD]]),gD={name:"Confirmacao",components:{Navbar:We,Footer:qe}},bD={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 px-4"},yD={class:"bg-white p-10 rounded-2xl shadow-xl w-full max-w-lg text-center space-y-6"},xD={class:"flex justify-center space-x-4"};function _D(e,t,s,n,i,o){const r=H("Navbar"),a=H("router-link"),l=H("Footer");return w(),C(X,null,[I(r),u("section",bD,[u("div",yD,[t[2]||(t[2]=u("img",{src:cs,alt:"Sucesso",class:"w-16 h-16 mx-auto text-green-500"},null,-1)),t[3]||(t[3]=u("h1",{class:"text-2xl font-bold text-green-600"},"Cadastro efetuado com sucesso",-1)),u("div",xD,[I(a,{to:"/",class:"btn inline-block"},{default:et(()=>t[0]||(t[0]=[it("Início")])),_:1,__:[0]}),I(a,{to:"/login",class:"btn inline-block"},{default:et(()=>t[1]||(t[1]=[it("Login")])),_:1,__:[1]})])])]),I(l)],64)}const vD=mt(gD,[["render",_D]]),wD="/icons/error.svg",kD={name:"LinkExpirado",components:{Navbar:We,Footer:qe},data(){return{email:""}},methods:{async reenviarLink(){if(!is(this.email)){alert("E-mail inválido");return}const{error:e}=await B.auth.resend({type:"signup",email:this.email});alert(e?"Erro ao reenviar link: "+e.message:"Link reenviado! Verifique seu e-mail.")}}},SD={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 px-4"},CD={class:"bg-white p-10 rounded-2xl shadow-xl w-full max-w-lg text-center space-y-6"},MD={class:"flex justify-center space-x-4"};function AD(e,t,s,n,i,o){const r=H("Navbar"),a=H("router-link"),l=H("Footer");return w(),C(X,null,[I(r),u("section",SD,[u("div",CD,[t[3]||(t[3]=u("img",{src:wD,alt:"Erro",class:"w-16 h-16 mx-auto text-red-500"},null,-1)),t[4]||(t[4]=u("h1",{class:"text-2xl font-bold text-red-600"},"Link expirado ou inválido",-1)),t[5]||(t[5]=u("p",{class:"text-gray-700"},"Informe seu e-mail para receber um novo link de confirmação.",-1)),O(u("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>i.email=c),type:"email",placeholder:"seu@email.com",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[N,i.email]]),u("div",MD,[u("button",{onClick:t[1]||(t[1]=(...c)=>o.reenviarLink&&o.reenviarLink(...c)),class:"btn"},"Reenviar link"),I(a,{to:"/",class:"btn"},{default:et(()=>t[2]||(t[2]=[it("Início")])),_:1,__:[2]})])])]),I(l)],64)}const ED=mt(kD,[["render",AD]]),PD=[{path:"/",name:"Home",component:yy},{path:"/cadastro",name:"Signup",component:V_},{path:"/confirmacao",name:"Confirmacao",component:vD},{path:"/link-expirado",name:"LinkExpirado",component:ED},{path:"/login",name:"Login",component:Y_},{path:"/onboarding",name:"Onboarding",component:uv},{path:"/dashboard",name:"Dashboard",component:FC},{path:"/configuracao",name:"Configuracao",component:eM},{path:"/clientes",name:"Clientes",component:ZM},{path:"/servicos",name:"Servicos",component:_E},{path:"/salas",name:"Salas",component:nT},{path:"/agendamentos",name:"Agendamentos",component:YA},{path:"/comprovantes",name:"Comprovantes",component:CT},{path:"/templates",name:"Templates",component:a4},{path:"/usuarios",name:"Usuarios",component:zE},{path:"/minha-assinatura",name:"MinhaAssinatura",component:k4},{path:"/assinatura-plus",name:"PagamentoPlus",component:mD},{path:"/faturamento",name:"Faturamento",component:W4},{path:"/buscar",name:"SearchProfiles",component:tP},{path:"/planos",name:"Planos",component:RP},{path:"/contato",name:"Contato",component:p4},{path:"/faq",name:"Faq",component:Z4},{path:"/politica-de-privacidade",name:"PoliticaDePrivacidade",component:sO},{path:"/termos-de-uso",name:"TermosDeUso",component:oO},{path:"/atendimento/:id",name:"Atendimento",component:GT},{path:"/:slug",name:"PublicPage",component:PP}],eo=V0({history:b0(),routes:PD});eo.afterEach(e=>{window.gtag&&window.gtag("config","G-8DZT2EVSC7",{page_path:e.fullPath})});const TD=async()=>{var s;const e=window.location.hash.replace(/^#\/?/,""),t=new URLSearchParams(e);if(t.get("error_code")==="otp_expired"||(s=t.get("error_description"))!=null&&s.includes("Email link is invalid")){eo.replace("/link-expirado");return}if(window.location.hash.includes("access_token")&&window.location.hash.includes("type=signup")){const n=t.get("access_token"),i=t.get("refresh_token");if(n&&i)try{await B.auth.setSession({access_token:n,refresh_token:i}),eo.replace("/confirmacao")}catch{}}};TD();B.auth.onAuthStateChange(e=>{e==="SIGNED_IN"&&window.location.hash.includes("access_token")&&window.location.hash.includes("type=signup")&&eo.replace("/confirmacao")});Tb(Bb).use(eo).mount("#app");export{DD as g};
