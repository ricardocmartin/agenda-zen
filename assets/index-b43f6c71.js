var Xf=Object.defineProperty;var Qf=(e,t,s)=>t in e?Xf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var $=(e,t,s)=>(Qf(e,typeof t!="symbol"?t+"":t,s),s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}})();/**
* @vue/shared v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function $a(e){const t=Object.create(null);for(const s of e.split(","))t[s]=1;return s=>s in t}const At={},xn=[],Ie=()=>{},Zf=()=>!1,Xo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Na=e=>e.startsWith("onUpdate:"),Yt=Object.assign,Ba=(e,t)=>{const s=e.indexOf(t);s>-1&&e.splice(s,1)},tp=Object.prototype.hasOwnProperty,kt=(e,t)=>tp.call(e,t),tt=Array.isArray,_n=e=>Bi(e)==="[object Map]",Fn=e=>Bi(e)==="[object Set]",El=e=>Bi(e)==="[object Date]",lt=e=>typeof e=="function",Ht=e=>typeof e=="string",Fe=e=>typeof e=="symbol",It=e=>e!==null&&typeof e=="object",ld=e=>(It(e)||lt(e))&&lt(e.then)&&lt(e.catch),cd=Object.prototype.toString,Bi=e=>cd.call(e),ep=e=>Bi(e).slice(8,-1),ud=e=>Bi(e)==="[object Object]",Ua=e=>Ht(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ai=$a(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Qo=e=>{const t=Object.create(null);return s=>t[s]||(t[s]=e(s))},sp=/-(\w)/g,Ae=Qo(e=>e.replace(sp,(t,s)=>s?s.toUpperCase():"")),np=/\B([A-Z])/g,rn=Qo(e=>e.replace(np,"-$1").toLowerCase()),Zo=Qo(e=>e.charAt(0).toUpperCase()+e.slice(1)),wr=Qo(e=>e?`on${Zo(e)}`:""),Ds=(e,t)=>!Object.is(e,t),yo=(e,...t)=>{for(let s=0;s<e.length;s++)e[s](...t)},dd=(e,t,s,n=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:n,value:s})},Ro=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Dl;const tr=()=>Dl||(Dl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Va(e){if(tt(e)){const t={};for(let s=0;s<e.length;s++){const n=e[s],i=Ht(n)?ap(n):Va(n);if(i)for(const o in i)t[o]=i[o]}return t}else if(Ht(e)||It(e))return e}const ip=/;(?![^(]*\))/g,op=/:([^]+)/,rp=/\/\*[^]*?\*\//g;function ap(e){const t={};return e.replace(rp,"").split(ip).forEach(s=>{if(s){const n=s.split(op);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function sn(e){let t="";if(Ht(e))t=e;else if(tt(e))for(let s=0;s<e.length;s++){const n=sn(e[s]);n&&(t+=n+" ")}else if(It(e))for(const s in e)e[s]&&(t+=s+" ");return t.trim()}const lp="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",cp=$a(lp);function hd(e){return!!e||e===""}function up(e,t){if(e.length!==t.length)return!1;let s=!0;for(let n=0;s&&n<e.length;n++)s=Ui(e[n],t[n]);return s}function Ui(e,t){if(e===t)return!0;let s=El(e),n=El(t);if(s||n)return s&&n?e.getTime()===t.getTime():!1;if(s=Fe(e),n=Fe(t),s||n)return e===t;if(s=tt(e),n=tt(t),s||n)return s&&n?up(e,t):!1;if(s=It(e),n=It(t),s||n){if(!s||!n)return!1;const i=Object.keys(e).length,o=Object.keys(t).length;if(i!==o)return!1;for(const r in e){const a=e.hasOwnProperty(r),l=t.hasOwnProperty(r);if(a&&!l||!a&&l||!Ui(e[r],t[r]))return!1}}return String(e)===String(t)}function za(e,t){return e.findIndex(s=>Ui(s,t))}const fd=e=>!!(e&&e.__v_isRef===!0),T=e=>Ht(e)?e:e==null?"":tt(e)||It(e)&&(e.toString===cd||!lt(e.toString))?fd(e)?T(e.value):JSON.stringify(e,pd,2):String(e),pd=(e,t)=>fd(t)?pd(e,t.value):_n(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((s,[n,i],o)=>(s[kr(n,o)+" =>"]=i,s),{})}:Fn(t)?{[`Set(${t.size})`]:[...t.values()].map(s=>kr(s))}:Fe(t)?kr(t):It(t)&&!tt(t)&&!ud(t)?String(t):t,kr=(e,t="")=>{var s;return Fe(e)?`Symbol(${(s=e.description)!=null?s:t})`:e};/**
* @vue/reactivity v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let fe;class dp{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=fe,!t&&fe&&(this.index=(fe.scopes||(fe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].pause();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,s;if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].resume();for(t=0,s=this.effects.length;t<s;t++)this.effects[t].resume()}}run(t){if(this._active){const s=fe;try{return fe=this,t()}finally{fe=s}}}on(){++this._on===1&&(this.prevScope=fe,fe=this)}off(){this._on>0&&--this._on===0&&(fe=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function hp(){return fe}let Dt;const Sr=new WeakSet;class gd{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,fe&&fe.active&&fe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Sr.has(this)&&(Sr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||bd(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Rl(this),yd(this);const t=Dt,s=Le;Dt=this,Le=!0;try{return this.fn()}finally{xd(this),Dt=t,Le=s,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)qa(t);this.deps=this.depsTail=void 0,Rl(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Sr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ea(this)&&this.run()}get dirty(){return ea(this)}}let md=0,li,ci;function bd(e,t=!1){if(e.flags|=8,t){e.next=ci,ci=e;return}e.next=li,li=e}function Ha(){md++}function Wa(){if(--md>0)return;if(ci){let t=ci;for(ci=void 0;t;){const s=t.next;t.next=void 0,t.flags&=-9,t=s}}let e;for(;li;){let t=li;for(li=void 0;t;){const s=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(n){e||(e=n)}t=s}}if(e)throw e}function yd(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function xd(e){let t,s=e.depsTail,n=s;for(;n;){const i=n.prevDep;n.version===-1?(n===s&&(s=i),qa(n),fp(n)):t=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}e.deps=t,e.depsTail=s}function ea(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(_d(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function _d(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===wi)||(e.globalVersion=wi,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!ea(e))))return;e.flags|=2;const t=e.dep,s=Dt,n=Le;Dt=e,Le=!0;try{yd(e);const i=e.fn(e._value);(t.version===0||Ds(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{Dt=s,Le=n,xd(e),e.flags&=-3}}function qa(e,t=!1){const{dep:s,prevSub:n,nextSub:i}=e;if(n&&(n.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=n,e.nextSub=void 0),s.subs===e&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let o=s.computed.deps;o;o=o.nextDep)qa(o,!0)}!t&&!--s.sc&&s.map&&s.map.delete(s.key)}function fp(e){const{prevDep:t,nextDep:s}=e;t&&(t.nextDep=s,e.prevDep=void 0),s&&(s.prevDep=t,e.nextDep=void 0)}let Le=!0;const vd=[];function fs(){vd.push(Le),Le=!1}function ps(){const e=vd.pop();Le=e===void 0?!0:e}function Rl(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const s=Dt;Dt=void 0;try{t()}finally{Dt=s}}}let wi=0;class pp{constructor(t,s){this.sub=t,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ka{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Dt||!Le||Dt===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==Dt)s=this.activeLink=new pp(Dt,this),Dt.deps?(s.prevDep=Dt.depsTail,Dt.depsTail.nextDep=s,Dt.depsTail=s):Dt.deps=Dt.depsTail=s,wd(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=Dt.depsTail,s.nextDep=void 0,Dt.depsTail.nextDep=s,Dt.depsTail=s,Dt.deps===s&&(Dt.deps=n)}return s}trigger(t){this.version++,wi++,this.notify(t)}notify(t){Ha();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Wa()}}}function wd(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let n=t.deps;n;n=n.nextDep)wd(n)}const s=e.dep.subs;s!==e&&(e.prevSub=s,s&&(s.nextSub=e)),e.dep.subs=e}}const sa=new WeakMap,Zs=Symbol(""),na=Symbol(""),ki=Symbol("");function te(e,t,s){if(Le&&Dt){let n=sa.get(e);n||sa.set(e,n=new Map);let i=n.get(s);i||(n.set(s,i=new Ka),i.map=n,i.key=s),i.track()}}function rs(e,t,s,n,i,o){const r=sa.get(e);if(!r){wi++;return}const a=l=>{l&&l.trigger()};if(Ha(),t==="clear")r.forEach(a);else{const l=tt(e),c=l&&Ua(s);if(l&&s==="length"){const u=Number(n);r.forEach((d,f)=>{(f==="length"||f===ki||!Fe(f)&&f>=u)&&a(d)})}else switch((s!==void 0||r.has(void 0))&&a(r.get(s)),c&&a(r.get(ki)),t){case"add":l?c&&a(r.get("length")):(a(r.get(Zs)),_n(e)&&a(r.get(na)));break;case"delete":l||(a(r.get(Zs)),_n(e)&&a(r.get(na)));break;case"set":_n(e)&&a(r.get(Zs));break}}Wa()}function un(e){const t=wt(e);return t===e?t:(te(t,"iterate",ki),Pe(e)?t:t.map(Jt))}function er(e){return te(e=wt(e),"iterate",ki),e}const gp={__proto__:null,[Symbol.iterator](){return Cr(this,Symbol.iterator,Jt)},concat(...e){return un(this).concat(...e.map(t=>tt(t)?un(t):t))},entries(){return Cr(this,"entries",e=>(e[1]=Jt(e[1]),e))},every(e,t){return Qe(this,"every",e,t,void 0,arguments)},filter(e,t){return Qe(this,"filter",e,t,s=>s.map(Jt),arguments)},find(e,t){return Qe(this,"find",e,t,Jt,arguments)},findIndex(e,t){return Qe(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Qe(this,"findLast",e,t,Jt,arguments)},findLastIndex(e,t){return Qe(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Qe(this,"forEach",e,t,void 0,arguments)},includes(...e){return Mr(this,"includes",e)},indexOf(...e){return Mr(this,"indexOf",e)},join(e){return un(this).join(e)},lastIndexOf(...e){return Mr(this,"lastIndexOf",e)},map(e,t){return Qe(this,"map",e,t,void 0,arguments)},pop(){return zn(this,"pop")},push(...e){return zn(this,"push",e)},reduce(e,...t){return Il(this,"reduce",e,t)},reduceRight(e,...t){return Il(this,"reduceRight",e,t)},shift(){return zn(this,"shift")},some(e,t){return Qe(this,"some",e,t,void 0,arguments)},splice(...e){return zn(this,"splice",e)},toReversed(){return un(this).toReversed()},toSorted(e){return un(this).toSorted(e)},toSpliced(...e){return un(this).toSpliced(...e)},unshift(...e){return zn(this,"unshift",e)},values(){return Cr(this,"values",Jt)}};function Cr(e,t,s){const n=er(e),i=n[t]();return n!==e&&!Pe(e)&&(i._next=i.next,i.next=()=>{const o=i._next();return o.value&&(o.value=s(o.value)),o}),i}const mp=Array.prototype;function Qe(e,t,s,n,i,o){const r=er(e),a=r!==e&&!Pe(e),l=r[t];if(l!==mp[t]){const d=l.apply(e,o);return a?Jt(d):d}let c=s;r!==e&&(a?c=function(d,f){return s.call(this,Jt(d),f,e)}:s.length>2&&(c=function(d,f){return s.call(this,d,f,e)}));const u=l.call(r,c,n);return a&&i?i(u):u}function Il(e,t,s,n){const i=er(e);let o=s;return i!==e&&(Pe(e)?s.length>3&&(o=function(r,a,l){return s.call(this,r,a,l,e)}):o=function(r,a,l){return s.call(this,r,Jt(a),l,e)}),i[t](o,...n)}function Mr(e,t,s){const n=wt(e);te(n,"iterate",ki);const i=n[t](...s);return(i===-1||i===!1)&&Ja(s[0])?(s[0]=wt(s[0]),n[t](...s)):i}function zn(e,t,s=[]){fs(),Ha();const n=wt(e)[t].apply(e,s);return Wa(),ps(),n}const bp=$a("__proto__,__v_isRef,__isVue"),kd=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Fe));function yp(e){Fe(e)||(e=String(e));const t=wt(this);return te(t,"has",e),t.hasOwnProperty(e)}class Sd{constructor(t=!1,s=!1){this._isReadonly=t,this._isShallow=s}get(t,s,n){if(s==="__v_skip")return t.__v_skip;const i=this._isReadonly,o=this._isShallow;if(s==="__v_isReactive")return!i;if(s==="__v_isReadonly")return i;if(s==="__v_isShallow")return o;if(s==="__v_raw")return n===(i?o?Ap:Ad:o?Pd:Md).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const r=tt(t);if(!i){let l;if(r&&(l=gp[s]))return l;if(s==="hasOwnProperty")return yp}const a=Reflect.get(t,s,ne(t)?t:n);return(Fe(s)?kd.has(s):bp(s))||(i||te(t,"get",s),o)?a:ne(a)?r&&Ua(s)?a:a.value:It(a)?i?Td(a):sr(a):a}}class Cd extends Sd{constructor(t=!1){super(!1,t)}set(t,s,n,i){let o=t[s];if(!this._isShallow){const l=Is(o);if(!Pe(n)&&!Is(n)&&(o=wt(o),n=wt(n)),!tt(t)&&ne(o)&&!ne(n))return l?!1:(o.value=n,!0)}const r=tt(t)&&Ua(s)?Number(s)<t.length:kt(t,s),a=Reflect.set(t,s,n,ne(t)?t:i);return t===wt(i)&&(r?Ds(n,o)&&rs(t,"set",s,n):rs(t,"add",s,n)),a}deleteProperty(t,s){const n=kt(t,s);t[s];const i=Reflect.deleteProperty(t,s);return i&&n&&rs(t,"delete",s,void 0),i}has(t,s){const n=Reflect.has(t,s);return(!Fe(s)||!kd.has(s))&&te(t,"has",s),n}ownKeys(t){return te(t,"iterate",tt(t)?"length":Zs),Reflect.ownKeys(t)}}class xp extends Sd{constructor(t=!1){super(!0,t)}set(t,s){return!0}deleteProperty(t,s){return!0}}const _p=new Cd,vp=new xp,wp=new Cd(!0);const ia=e=>e,Yi=e=>Reflect.getPrototypeOf(e);function kp(e,t,s){return function(...n){const i=this.__v_raw,o=wt(i),r=_n(o),a=e==="entries"||e===Symbol.iterator&&r,l=e==="keys"&&r,c=i[e](...n),u=s?ia:t?Io:Jt;return!t&&te(o,"iterate",l?na:Zs),{next(){const{value:d,done:f}=c.next();return f?{value:d,done:f}:{value:a?[u(d[0]),u(d[1])]:u(d),done:f}},[Symbol.iterator](){return this}}}}function Ji(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Sp(e,t){const s={get(i){const o=this.__v_raw,r=wt(o),a=wt(i);e||(Ds(i,a)&&te(r,"get",i),te(r,"get",a));const{has:l}=Yi(r),c=t?ia:e?Io:Jt;if(l.call(r,i))return c(o.get(i));if(l.call(r,a))return c(o.get(a));o!==r&&o.get(i)},get size(){const i=this.__v_raw;return!e&&te(wt(i),"iterate",Zs),Reflect.get(i,"size",i)},has(i){const o=this.__v_raw,r=wt(o),a=wt(i);return e||(Ds(i,a)&&te(r,"has",i),te(r,"has",a)),i===a?o.has(i):o.has(i)||o.has(a)},forEach(i,o){const r=this,a=r.__v_raw,l=wt(a),c=t?ia:e?Io:Jt;return!e&&te(l,"iterate",Zs),a.forEach((u,d)=>i.call(o,c(u),c(d),r))}};return Yt(s,e?{add:Ji("add"),set:Ji("set"),delete:Ji("delete"),clear:Ji("clear")}:{add(i){!t&&!Pe(i)&&!Is(i)&&(i=wt(i));const o=wt(this);return Yi(o).has.call(o,i)||(o.add(i),rs(o,"add",i,i)),this},set(i,o){!t&&!Pe(o)&&!Is(o)&&(o=wt(o));const r=wt(this),{has:a,get:l}=Yi(r);let c=a.call(r,i);c||(i=wt(i),c=a.call(r,i));const u=l.call(r,i);return r.set(i,o),c?Ds(o,u)&&rs(r,"set",i,o):rs(r,"add",i,o),this},delete(i){const o=wt(this),{has:r,get:a}=Yi(o);let l=r.call(o,i);l||(i=wt(i),l=r.call(o,i)),a&&a.call(o,i);const c=o.delete(i);return l&&rs(o,"delete",i,void 0),c},clear(){const i=wt(this),o=i.size!==0,r=i.clear();return o&&rs(i,"clear",void 0,void 0),r}}),["keys","values","entries",Symbol.iterator].forEach(i=>{s[i]=kp(i,e,t)}),s}function Ga(e,t){const s=Sp(e,t);return(n,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(kt(s,i)&&i in n?s:n,i,o)}const Cp={get:Ga(!1,!1)},Mp={get:Ga(!1,!0)},Pp={get:Ga(!0,!1)};const Md=new WeakMap,Pd=new WeakMap,Ad=new WeakMap,Ap=new WeakMap;function Op(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Tp(e){return e.__v_skip||!Object.isExtensible(e)?0:Op(ep(e))}function sr(e){return Is(e)?e:Ya(e,!1,_p,Cp,Md)}function Od(e){return Ya(e,!1,wp,Mp,Pd)}function Td(e){return Ya(e,!0,vp,Pp,Ad)}function Ya(e,t,s,n,i){if(!It(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=Tp(e);if(o===0)return e;const r=i.get(e);if(r)return r;const a=new Proxy(e,o===2?n:s);return i.set(e,a),a}function vn(e){return Is(e)?vn(e.__v_raw):!!(e&&e.__v_isReactive)}function Is(e){return!!(e&&e.__v_isReadonly)}function Pe(e){return!!(e&&e.__v_isShallow)}function Ja(e){return e?!!e.__v_raw:!1}function wt(e){const t=e&&e.__v_raw;return t?wt(t):e}function Ep(e){return!kt(e,"__v_skip")&&Object.isExtensible(e)&&dd(e,"__v_skip",!0),e}const Jt=e=>It(e)?sr(e):e,Io=e=>It(e)?Td(e):e;function ne(e){return e?e.__v_isRef===!0:!1}function Dp(e){return Ed(e,!1)}function Rp(e){return Ed(e,!0)}function Ed(e,t){return ne(e)?e:new Ip(e,t)}class Ip{constructor(t,s){this.dep=new Ka,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?t:wt(t),this._value=s?t:Jt(t),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(t){const s=this._rawValue,n=this.__v_isShallow||Pe(t)||Is(t);t=n?t:wt(t),Ds(t,s)&&(this._rawValue=t,this._value=n?t:Jt(t),this.dep.trigger())}}function wn(e){return ne(e)?e.value:e}const Lp={get:(e,t,s)=>t==="__v_raw"?e:wn(Reflect.get(e,t,s)),set:(e,t,s,n)=>{const i=e[t];return ne(i)&&!ne(s)?(i.value=s,!0):Reflect.set(e,t,s,n)}};function Dd(e){return vn(e)?e:new Proxy(e,Lp)}class jp{constructor(t,s,n){this.fn=t,this.setter=s,this._value=void 0,this.dep=new Ka(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=wi-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Dt!==this)return bd(this,!0),!0}get value(){const t=this.dep.track();return _d(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function Fp(e,t,s=!1){let n,i;return lt(e)?n=e:(n=e.get,i=e.set),new jp(n,i,s)}const Xi={},Lo=new WeakMap;let Ks;function $p(e,t=!1,s=Ks){if(s){let n=Lo.get(s);n||Lo.set(s,n=[]),n.push(e)}}function Np(e,t,s=At){const{immediate:n,deep:i,once:o,scheduler:r,augmentJob:a,call:l}=s,c=w=>i?w:Pe(w)||i===!1||i===0?as(w,1):as(w);let u,d,f,p,g=!1,m=!1;if(ne(e)?(d=()=>e.value,g=Pe(e)):vn(e)?(d=()=>c(e),g=!0):tt(e)?(m=!0,g=e.some(w=>vn(w)||Pe(w)),d=()=>e.map(w=>{if(ne(w))return w.value;if(vn(w))return c(w);if(lt(w))return l?l(w,2):w()})):lt(e)?t?d=l?()=>l(e,2):e:d=()=>{if(f){fs();try{f()}finally{ps()}}const w=Ks;Ks=u;try{return l?l(e,3,[p]):e(p)}finally{Ks=w}}:d=Ie,t&&i){const w=d,C=i===!0?1/0:i;d=()=>as(w(),C)}const b=hp(),_=()=>{u.stop(),b&&b.active&&Ba(b.effects,u)};if(o&&t){const w=t;t=(...C)=>{w(...C),_()}}let v=m?new Array(e.length).fill(Xi):Xi;const S=w=>{if(!(!(u.flags&1)||!u.dirty&&!w))if(t){const C=u.run();if(i||g||(m?C.some((R,E)=>Ds(R,v[E])):Ds(C,v))){f&&f();const R=Ks;Ks=u;try{const E=[C,v===Xi?void 0:m&&v[0]===Xi?[]:v,p];l?l(t,3,E):t(...E),v=C}finally{Ks=R}}}else u.run()};return a&&a(S),u=new gd(d),u.scheduler=r?()=>r(S,!1):S,p=w=>$p(w,!1,u),f=u.onStop=()=>{const w=Lo.get(u);if(w){if(l)l(w,4);else for(const C of w)C();Lo.delete(u)}},t?n?S(!0):v=u.run():r?r(S.bind(null,!0),!0):u.run(),_.pause=u.pause.bind(u),_.resume=u.resume.bind(u),_.stop=_,_}function as(e,t=1/0,s){if(t<=0||!It(e)||e.__v_skip||(s=s||new Set,s.has(e)))return e;if(s.add(e),t--,ne(e))as(e.value,t,s);else if(tt(e))for(let n=0;n<e.length;n++)as(e[n],t,s);else if(Fn(e)||_n(e))e.forEach(n=>{as(n,t,s)});else if(ud(e)){for(const n in e)as(e[n],t,s);for(const n of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,n)&&as(e[n],t,s)}return e}/**
* @vue/runtime-core v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Vi(e,t,s,n){try{return n?e(...n):e()}catch(i){nr(i,t,s)}}function Xe(e,t,s,n){if(lt(e)){const i=Vi(e,t,s,n);return i&&ld(i)&&i.catch(o=>{nr(o,t,s)}),i}if(tt(e)){const i=[];for(let o=0;o<e.length;o++)i.push(Xe(e[o],t,s,n));return i}}function nr(e,t,s,n=!0){const i=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:r}=t&&t.appContext.config||At;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const u=a.ec;if(u){for(let d=0;d<u.length;d++)if(u[d](e,l,c)===!1)return}a=a.parent}if(o){fs(),Vi(o,null,10,[e,l,c]),ps();return}}Bp(e,s,i,n,r)}function Bp(e,t,s,n=!0,i=!1){if(i)throw e;console.error(e)}const le=[];let qe=-1;const kn=[];let ws=null,mn=0;const Rd=Promise.resolve();let jo=null;function Xa(e){const t=jo||Rd;return e?t.then(this?e.bind(this):e):t}function Up(e){let t=qe+1,s=le.length;for(;t<s;){const n=t+s>>>1,i=le[n],o=Si(i);o<e||o===e&&i.flags&2?t=n+1:s=n}return t}function Qa(e){if(!(e.flags&1)){const t=Si(e),s=le[le.length-1];!s||!(e.flags&2)&&t>=Si(s)?le.push(e):le.splice(Up(t),0,e),e.flags|=1,Id()}}function Id(){jo||(jo=Rd.then(jd))}function Vp(e){tt(e)?kn.push(...e):ws&&e.id===-1?ws.splice(mn+1,0,e):e.flags&1||(kn.push(e),e.flags|=1),Id()}function Ll(e,t,s=qe+1){for(;s<le.length;s++){const n=le[s];if(n&&n.flags&2){if(e&&n.id!==e.uid)continue;le.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Ld(e){if(kn.length){const t=[...new Set(kn)].sort((s,n)=>Si(s)-Si(n));if(kn.length=0,ws){ws.push(...t);return}for(ws=t,mn=0;mn<ws.length;mn++){const s=ws[mn];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}ws=null,mn=0}}const Si=e=>e.id==null?e.flags&2?-1:1/0:e.id;function jd(e){const t=Ie;try{for(qe=0;qe<le.length;qe++){const s=le[qe];s&&!(s.flags&8)&&(s.flags&4&&(s.flags&=-2),Vi(s,s.i,s.i?15:14),s.flags&4||(s.flags&=-2))}}finally{for(;qe<le.length;qe++){const s=le[qe];s&&(s.flags&=-2)}qe=-1,le.length=0,Ld(),jo=null,(le.length||kn.length)&&jd()}}let Xt=null,Fd=null;function Fo(e){const t=Xt;return Xt=e,Fd=e&&e.type.__scopeId||null,t}function ft(e,t=Xt,s){if(!t||e._n)return e;const n=(...i)=>{n._d&&Hl(-1);const o=Fo(t);let r;try{r=e(...i)}finally{Fo(o),n._d&&Hl(1)}return r};return n._n=!0,n._c=!0,n._d=!0,n}function U(e,t){if(Xt===null)return e;const s=lr(Xt),n=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,r,a,l=At]=t[i];o&&(lt(o)&&(o={mounted:o,updated:o}),o.deep&&as(r),n.push({dir:o,instance:s,value:r,oldValue:void 0,arg:a,modifiers:l}))}return e}function Bs(e,t,s,n){const i=e.dirs,o=t&&t.dirs;for(let r=0;r<i.length;r++){const a=i[r];o&&(a.oldValue=o[r].value);let l=a.dir[n];l&&(fs(),Xe(l,s,8,[e.el,a,e,t]),ps())}}const zp=Symbol("_vte"),Hp=e=>e.__isTeleport;function Za(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Za(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}/*! #__NO_SIDE_EFFECTS__ */function $d(e,t){return lt(e)?(()=>Yt({name:e.name},t,{setup:e}))():e}function Nd(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function $o(e,t,s,n,i=!1){if(tt(e)){e.forEach((g,m)=>$o(g,t&&(tt(t)?t[m]:t),s,n,i));return}if(Sn(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&$o(e,t,s,n.component.subTree);return}const o=n.shapeFlag&4?lr(n.component):n.el,r=i?null:o,{i:a,r:l}=e,c=t&&t.r,u=a.refs===At?a.refs={}:a.refs,d=a.setupState,f=wt(d),p=d===At?()=>!1:g=>kt(f,g);if(c!=null&&c!==l&&(Ht(c)?(u[c]=null,p(c)&&(d[c]=null)):ne(c)&&(c.value=null)),lt(l))Vi(l,a,12,[r,u]);else{const g=Ht(l),m=ne(l);if(g||m){const b=()=>{if(e.f){const _=g?p(l)?d[l]:u[l]:l.value;i?tt(_)&&Ba(_,o):tt(_)?_.includes(o)||_.push(o):g?(u[l]=[o],p(l)&&(d[l]=u[l])):(l.value=[o],e.k&&(u[e.k]=l.value))}else g?(u[l]=r,p(l)&&(d[l]=r)):m&&(l.value=r,e.k&&(u[e.k]=r))};r?(b.id=-1,_e(b,s)):b()}}}tr().requestIdleCallback;tr().cancelIdleCallback;const Sn=e=>!!e.type.__asyncLoader,Bd=e=>e.type.__isKeepAlive;function Wp(e,t){Ud(e,"a",t)}function qp(e,t){Ud(e,"da",t)}function Ud(e,t,s=ee){const n=e.__wdc||(e.__wdc=()=>{let i=s;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(ir(t,n,s),s){let i=s.parent;for(;i&&i.parent;)Bd(i.parent.vnode)&&Kp(n,t,s,i),i=i.parent}}function Kp(e,t,s,n){const i=ir(t,e,n,!0);Vd(()=>{Ba(n[t],i)},s)}function ir(e,t,s=ee,n=!1){if(s){const i=s[e]||(s[e]=[]),o=t.__weh||(t.__weh=(...r)=>{fs();const a=zi(s),l=Xe(t,s,e,r);return a(),ps(),l});return n?i.unshift(o):i.push(o),o}}const ms=e=>(t,s=ee)=>{(!Pi||e==="sp")&&ir(e,(...n)=>t(...n),s)},Gp=ms("bm"),Yp=ms("m"),Jp=ms("bu"),Xp=ms("u"),Qp=ms("bum"),Vd=ms("um"),Zp=ms("sp"),tg=ms("rtg"),eg=ms("rtc");function sg(e,t=ee){ir("ec",e,t)}const zd="components";function X(e,t){return ig(zd,e,!0,t)||e}const ng=Symbol.for("v-ndc");function ig(e,t,s=!0,n=!1){const i=Xt||ee;if(i){const o=i.type;if(e===zd){const a=Wg(o,!1);if(a&&(a===t||a===Ae(t)||a===Zo(Ae(t))))return o}const r=jl(i[e]||o[e],t)||jl(i.appContext[e],t);return!r&&n?o:r}}function jl(e,t){return e&&(e[t]||e[Ae(t)]||e[Zo(Ae(t))])}function Mt(e,t,s,n){let i;const o=s&&s[n],r=tt(e);if(r||Ht(e)){const a=r&&vn(e);let l=!1,c=!1;a&&(l=!Pe(e),c=Is(e),e=er(e)),i=new Array(e.length);for(let u=0,d=e.length;u<d;u++)i[u]=t(l?c?Io(Jt(e[u])):Jt(e[u]):e[u],u,void 0,o&&o[u])}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,o&&o[a])}else if(It(e))if(e[Symbol.iterator])i=Array.from(e,(a,l)=>t(a,l,void 0,o&&o[l]));else{const a=Object.keys(e);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=t(e[u],u,l,o&&o[l])}}else i=[];return s&&(s[n]=i),i}function og(e,t,s={},n,i){if(Xt.ce||Xt.parent&&Sn(Xt.parent)&&Xt.parent.ce)return t!=="default"&&(s.name=t),k(),me(nt,null,[F("slot",s,n&&n())],64);let o=e[t];o&&o._c&&(o._d=!1),k();const r=o&&Hd(o(s)),a=s.key||r&&r.key,l=me(nt,{key:(a&&!Fe(a)?a:`_${t}`)+(!r&&n?"_fb":"")},r||(n?n():[]),r&&e._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),o&&o._c&&(o._d=!0),l}function Hd(e){return e.some(t=>Mi(t)?!(t.type===gs||t.type===nt&&!Hd(t.children)):!0)?e:null}const oa=e=>e?ch(e)?lr(e):oa(e.parent):null,ui=Yt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>oa(e.parent),$root:e=>oa(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>tl(e),$forceUpdate:e=>e.f||(e.f=()=>{Qa(e.update)}),$nextTick:e=>e.n||(e.n=Xa.bind(e.proxy)),$watch:e=>Mg.bind(e)}),Pr=(e,t)=>e!==At&&!e.__isScriptSetup&&kt(e,t),rg={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:s,setupState:n,data:i,props:o,accessCache:r,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const p=r[t];if(p!==void 0)switch(p){case 1:return n[t];case 2:return i[t];case 4:return s[t];case 3:return o[t]}else{if(Pr(n,t))return r[t]=1,n[t];if(i!==At&&kt(i,t))return r[t]=2,i[t];if((c=e.propsOptions[0])&&kt(c,t))return r[t]=3,o[t];if(s!==At&&kt(s,t))return r[t]=4,s[t];ra&&(r[t]=0)}}const u=ui[t];let d,f;if(u)return t==="$attrs"&&te(e.attrs,"get",""),u(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(s!==At&&kt(s,t))return r[t]=4,s[t];if(f=l.config.globalProperties,kt(f,t))return f[t]},set({_:e},t,s){const{data:n,setupState:i,ctx:o}=e;return Pr(i,t)?(i[t]=s,!0):n!==At&&kt(n,t)?(n[t]=s,!0):kt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=s,!0)},has({_:{data:e,setupState:t,accessCache:s,ctx:n,appContext:i,propsOptions:o}},r){let a;return!!s[r]||e!==At&&kt(e,r)||Pr(t,r)||(a=o[0])&&kt(a,r)||kt(n,r)||kt(ui,r)||kt(i.config.globalProperties,r)},defineProperty(e,t,s){return s.get!=null?e._.accessCache[t]=0:kt(s,"value")&&this.set(e,t,s.value,null),Reflect.defineProperty(e,t,s)}};function Fl(e){return tt(e)?e.reduce((t,s)=>(t[s]=null,t),{}):e}let ra=!0;function ag(e){const t=tl(e),s=e.proxy,n=e.ctx;ra=!1,t.beforeCreate&&$l(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:r,watch:a,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:p,updated:g,activated:m,deactivated:b,beforeDestroy:_,beforeUnmount:v,destroyed:S,unmounted:w,render:C,renderTracked:R,renderTriggered:E,errorCaptured:j,serverPrefetch:G,expose:et,inheritAttrs:it,components:ct,directives:Pt,filters:Wt}=t;if(c&&lg(c,n,null),r)for(const st in r){const ut=r[st];lt(ut)&&(n[st]=ut.bind(s))}if(i){const st=i.call(s,s);It(st)&&(e.data=sr(st))}if(ra=!0,o)for(const st in o){const ut=o[st],Ot=lt(ut)?ut.bind(s,s):lt(ut.get)?ut.get.bind(s,s):Ie,oe=!lt(ut)&&lt(ut.set)?ut.set.bind(s):Ie,re=De({get:Ot,set:oe});Object.defineProperty(n,st,{enumerable:!0,configurable:!0,get:()=>re.value,set:Ut=>re.value=Ut})}if(a)for(const st in a)Wd(a[st],n,s,st);if(l){const st=lt(l)?l.call(s):l;Reflect.ownKeys(st).forEach(ut=>{xo(ut,st[ut])})}u&&$l(u,e,"c");function rt(st,ut){tt(ut)?ut.forEach(Ot=>st(Ot.bind(s))):ut&&st(ut.bind(s))}if(rt(Gp,d),rt(Yp,f),rt(Jp,p),rt(Xp,g),rt(Wp,m),rt(qp,b),rt(sg,j),rt(eg,R),rt(tg,E),rt(Qp,v),rt(Vd,w),rt(Zp,G),tt(et))if(et.length){const st=e.exposed||(e.exposed={});et.forEach(ut=>{Object.defineProperty(st,ut,{get:()=>s[ut],set:Ot=>s[ut]=Ot})})}else e.exposed||(e.exposed={});C&&e.render===Ie&&(e.render=C),it!=null&&(e.inheritAttrs=it),ct&&(e.components=ct),Pt&&(e.directives=Pt),G&&Nd(e)}function lg(e,t,s=Ie){tt(e)&&(e=aa(e));for(const n in e){const i=e[n];let o;It(i)?"default"in i?o=ds(i.from||n,i.default,!0):o=ds(i.from||n):o=ds(i),ne(o)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>o.value,set:r=>o.value=r}):t[n]=o}}function $l(e,t,s){Xe(tt(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,s)}function Wd(e,t,s,n){let i=n.includes(".")?ih(s,n):()=>s[n];if(Ht(e)){const o=t[e];lt(o)&&_o(i,o)}else if(lt(e))_o(i,e.bind(s));else if(It(e))if(tt(e))e.forEach(o=>Wd(o,t,s,n));else{const o=lt(e.handler)?e.handler.bind(s):t[e.handler];lt(o)&&_o(i,o,e)}}function tl(e){const t=e.type,{mixins:s,extends:n}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:r}}=e.appContext,a=o.get(t);let l;return a?l=a:!i.length&&!s&&!n?l=t:(l={},i.length&&i.forEach(c=>No(l,c,r,!0)),No(l,t,r)),It(t)&&o.set(t,l),l}function No(e,t,s,n=!1){const{mixins:i,extends:o}=t;o&&No(e,o,s,!0),i&&i.forEach(r=>No(e,r,s,!0));for(const r in t)if(!(n&&r==="expose")){const a=cg[r]||s&&s[r];e[r]=a?a(e[r],t[r]):t[r]}return e}const cg={data:Nl,props:Bl,emits:Bl,methods:Zn,computed:Zn,beforeCreate:ae,created:ae,beforeMount:ae,mounted:ae,beforeUpdate:ae,updated:ae,beforeDestroy:ae,beforeUnmount:ae,destroyed:ae,unmounted:ae,activated:ae,deactivated:ae,errorCaptured:ae,serverPrefetch:ae,components:Zn,directives:Zn,watch:dg,provide:Nl,inject:ug};function Nl(e,t){return t?e?function(){return Yt(lt(e)?e.call(this,this):e,lt(t)?t.call(this,this):t)}:t:e}function ug(e,t){return Zn(aa(e),aa(t))}function aa(e){if(tt(e)){const t={};for(let s=0;s<e.length;s++)t[e[s]]=e[s];return t}return e}function ae(e,t){return e?[...new Set([].concat(e,t))]:t}function Zn(e,t){return e?Yt(Object.create(null),e,t):t}function Bl(e,t){return e?tt(e)&&tt(t)?[...new Set([...e,...t])]:Yt(Object.create(null),Fl(e),Fl(t??{})):t}function dg(e,t){if(!e)return t;if(!t)return e;const s=Yt(Object.create(null),e);for(const n in t)s[n]=ae(e[n],t[n]);return s}function qd(){return{app:null,config:{isNativeTag:Zf,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let hg=0;function fg(e,t){return function(n,i=null){lt(n)||(n=Yt({},n)),i!=null&&!It(i)&&(i=null);const o=qd(),r=new WeakSet,a=[];let l=!1;const c=o.app={_uid:hg++,_component:n,_props:i,_container:null,_context:o,_instance:null,version:Kg,get config(){return o.config},set config(u){},use(u,...d){return r.has(u)||(u&&lt(u.install)?(r.add(u),u.install(c,...d)):lt(u)&&(r.add(u),u(c,...d))),c},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),c},component(u,d){return d?(o.components[u]=d,c):o.components[u]},directive(u,d){return d?(o.directives[u]=d,c):o.directives[u]},mount(u,d,f){if(!l){const p=c._ceVNode||F(n,i);return p.appContext=o,f===!0?f="svg":f===!1&&(f=void 0),d&&t?t(p,u):e(p,u,f),l=!0,c._container=u,u.__vue_app__=c,lr(p.component)}},onUnmount(u){a.push(u)},unmount(){l&&(Xe(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,d){return o.provides[u]=d,c},runWithContext(u){const d=Cn;Cn=c;try{return u()}finally{Cn=d}}};return c}}let Cn=null;function xo(e,t){if(ee){let s=ee.provides;const n=ee.parent&&ee.parent.provides;n===s&&(s=ee.provides=Object.create(n)),s[e]=t}}function ds(e,t,s=!1){const n=ee||Xt;if(n||Cn){const i=Cn?Cn._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return s&&lt(t)?t.call(n&&n.proxy):t}}const Kd={},Gd=()=>Object.create(Kd),Yd=e=>Object.getPrototypeOf(e)===Kd;function pg(e,t,s,n=!1){const i={},o=Gd();e.propsDefaults=Object.create(null),Jd(e,t,i,o);for(const r in e.propsOptions[0])r in i||(i[r]=void 0);s?e.props=n?i:Od(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function gg(e,t,s,n){const{props:i,attrs:o,vnode:{patchFlag:r}}=e,a=wt(i),[l]=e.propsOptions;let c=!1;if((n||r>0)&&!(r&16)){if(r&8){const u=e.vnode.dynamicProps;for(let d=0;d<u.length;d++){let f=u[d];if(or(e.emitsOptions,f))continue;const p=t[f];if(l)if(kt(o,f))p!==o[f]&&(o[f]=p,c=!0);else{const g=Ae(f);i[g]=la(l,a,g,p,e,!1)}else p!==o[f]&&(o[f]=p,c=!0)}}}else{Jd(e,t,i,o)&&(c=!0);let u;for(const d in a)(!t||!kt(t,d)&&((u=rn(d))===d||!kt(t,u)))&&(l?s&&(s[d]!==void 0||s[u]!==void 0)&&(i[d]=la(l,a,d,void 0,e,!0)):delete i[d]);if(o!==a)for(const d in o)(!t||!kt(t,d))&&(delete o[d],c=!0)}c&&rs(e.attrs,"set","")}function Jd(e,t,s,n){const[i,o]=e.propsOptions;let r=!1,a;if(t)for(let l in t){if(ai(l))continue;const c=t[l];let u;i&&kt(i,u=Ae(l))?!o||!o.includes(u)?s[u]=c:(a||(a={}))[u]=c:or(e.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,r=!0)}if(o){const l=wt(s),c=a||At;for(let u=0;u<o.length;u++){const d=o[u];s[d]=la(i,l,d,c[d],e,!kt(c,d))}}return r}function la(e,t,s,n,i,o){const r=e[s];if(r!=null){const a=kt(r,"default");if(a&&n===void 0){const l=r.default;if(r.type!==Function&&!r.skipFactory&&lt(l)){const{propsDefaults:c}=i;if(s in c)n=c[s];else{const u=zi(i);n=c[s]=l.call(null,t),u()}}else n=l;i.ce&&i.ce._setProp(s,n)}r[0]&&(o&&!a?n=!1:r[1]&&(n===""||n===rn(s))&&(n=!0))}return n}const mg=new WeakMap;function Xd(e,t,s=!1){const n=s?mg:t.propsCache,i=n.get(e);if(i)return i;const o=e.props,r={},a=[];let l=!1;if(!lt(e)){const u=d=>{l=!0;const[f,p]=Xd(d,t,!0);Yt(r,f),p&&a.push(...p)};!s&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!o&&!l)return It(e)&&n.set(e,xn),xn;if(tt(o))for(let u=0;u<o.length;u++){const d=Ae(o[u]);Ul(d)&&(r[d]=At)}else if(o)for(const u in o){const d=Ae(u);if(Ul(d)){const f=o[u],p=r[d]=tt(f)||lt(f)?{type:f}:Yt({},f),g=p.type;let m=!1,b=!0;if(tt(g))for(let _=0;_<g.length;++_){const v=g[_],S=lt(v)&&v.name;if(S==="Boolean"){m=!0;break}else S==="String"&&(b=!1)}else m=lt(g)&&g.name==="Boolean";p[0]=m,p[1]=b,(m||kt(p,"default"))&&a.push(d)}}const c=[r,a];return It(e)&&n.set(e,c),c}function Ul(e){return e[0]!=="$"&&!ai(e)}const el=e=>e[0]==="_"||e==="$stable",sl=e=>tt(e)?e.map(Ge):[Ge(e)],bg=(e,t,s)=>{if(t._n)return t;const n=ft((...i)=>sl(t(...i)),s);return n._c=!1,n},Qd=(e,t,s)=>{const n=e._ctx;for(const i in e){if(el(i))continue;const o=e[i];if(lt(o))t[i]=bg(i,o,n);else if(o!=null){const r=sl(o);t[i]=()=>r}}},Zd=(e,t)=>{const s=sl(t);e.slots.default=()=>s},th=(e,t,s)=>{for(const n in t)(s||!el(n))&&(e[n]=t[n])},yg=(e,t,s)=>{const n=e.slots=Gd();if(e.vnode.shapeFlag&32){const i=t._;i?(th(n,t,s),s&&dd(n,"_",i,!0)):Qd(t,n)}else t&&Zd(e,t)},xg=(e,t,s)=>{const{vnode:n,slots:i}=e;let o=!0,r=At;if(n.shapeFlag&32){const a=t._;a?s&&a===1?o=!1:th(i,t,s):(o=!t.$stable,Qd(t,i)),r=t}else t&&(Zd(e,t),r={default:1});if(o)for(const a in i)!el(a)&&r[a]==null&&delete i[a]},_e=Rg;function _g(e){return vg(e)}function vg(e,t){const s=tr();s.__VUE__=!0;const{insert:n,remove:i,patchProp:o,createElement:r,createText:a,createComment:l,setText:c,setElementText:u,parentNode:d,nextSibling:f,setScopeId:p=Ie,insertStaticContent:g}=e,m=(y,x,P,D=null,A=null,I=null,V=void 0,B=null,N=!!x.dynamicChildren)=>{if(y===x)return;y&&!Hn(y,x)&&(D=O(y),Ut(y,A,I,!0),y=null),x.patchFlag===-2&&(N=!1,x.dynamicChildren=null);const{type:L,ref:Z,shapeFlag:H}=x;switch(L){case rr:b(y,x,P,D);break;case gs:_(y,x,P,D);break;case vo:y==null&&v(x,P,D,V);break;case nt:ct(y,x,P,D,A,I,V,B,N);break;default:H&1?C(y,x,P,D,A,I,V,B,N):H&6?Pt(y,x,P,D,A,I,V,B,N):(H&64||H&128)&&L.process(y,x,P,D,A,I,V,B,N,J)}Z!=null&&A&&$o(Z,y&&y.ref,I,x||y,!x)},b=(y,x,P,D)=>{if(y==null)n(x.el=a(x.children),P,D);else{const A=x.el=y.el;x.children!==y.children&&c(A,x.children)}},_=(y,x,P,D)=>{y==null?n(x.el=l(x.children||""),P,D):x.el=y.el},v=(y,x,P,D)=>{[y.el,y.anchor]=g(y.children,x,P,D,y.el,y.anchor)},S=({el:y,anchor:x},P,D)=>{let A;for(;y&&y!==x;)A=f(y),n(y,P,D),y=A;n(x,P,D)},w=({el:y,anchor:x})=>{let P;for(;y&&y!==x;)P=f(y),i(y),y=P;i(x)},C=(y,x,P,D,A,I,V,B,N)=>{x.type==="svg"?V="svg":x.type==="math"&&(V="mathml"),y==null?R(x,P,D,A,I,V,B,N):G(y,x,A,I,V,B,N)},R=(y,x,P,D,A,I,V,B)=>{let N,L;const{props:Z,shapeFlag:H,transition:Q,dirs:ot}=y;if(N=y.el=r(y.type,I,Z&&Z.is,Z),H&8?u(N,y.children):H&16&&j(y.children,N,null,D,A,Ar(y,I),V,B),ot&&Bs(y,null,D,"created"),E(N,y,y.scopeId,V,D),Z){for(const Tt in Z)Tt!=="value"&&!ai(Tt)&&o(N,Tt,null,Z[Tt],I,D);"value"in Z&&o(N,"value",null,Z.value,I),(L=Z.onVnodeBeforeMount)&&ze(L,D,y)}ot&&Bs(y,null,D,"beforeMount");const yt=wg(A,Q);yt&&Q.beforeEnter(N),n(N,x,P),((L=Z&&Z.onVnodeMounted)||yt||ot)&&_e(()=>{L&&ze(L,D,y),yt&&Q.enter(N),ot&&Bs(y,null,D,"mounted")},A)},E=(y,x,P,D,A)=>{if(P&&p(y,P),D)for(let I=0;I<D.length;I++)p(y,D[I]);if(A){let I=A.subTree;if(x===I||rh(I.type)&&(I.ssContent===x||I.ssFallback===x)){const V=A.vnode;E(y,V,V.scopeId,V.slotScopeIds,A.parent)}}},j=(y,x,P,D,A,I,V,B,N=0)=>{for(let L=N;L<y.length;L++){const Z=y[L]=B?ks(y[L]):Ge(y[L]);m(null,Z,x,P,D,A,I,V,B)}},G=(y,x,P,D,A,I,V)=>{const B=x.el=y.el;let{patchFlag:N,dynamicChildren:L,dirs:Z}=x;N|=y.patchFlag&16;const H=y.props||At,Q=x.props||At;let ot;if(P&&Us(P,!1),(ot=Q.onVnodeBeforeUpdate)&&ze(ot,P,x,y),Z&&Bs(x,y,P,"beforeUpdate"),P&&Us(P,!0),(H.innerHTML&&Q.innerHTML==null||H.textContent&&Q.textContent==null)&&u(B,""),L?et(y.dynamicChildren,L,B,P,D,Ar(x,A),I):V||ut(y,x,B,null,P,D,Ar(x,A),I,!1),N>0){if(N&16)it(B,H,Q,P,A);else if(N&2&&H.class!==Q.class&&o(B,"class",null,Q.class,A),N&4&&o(B,"style",H.style,Q.style,A),N&8){const yt=x.dynamicProps;for(let Tt=0;Tt<yt.length;Tt++){const St=yt[Tt],be=H[St],Qt=Q[St];(Qt!==be||St==="value")&&o(B,St,be,Qt,A,P)}}N&1&&y.children!==x.children&&u(B,x.children)}else!V&&L==null&&it(B,H,Q,P,A);((ot=Q.onVnodeUpdated)||Z)&&_e(()=>{ot&&ze(ot,P,x,y),Z&&Bs(x,y,P,"updated")},D)},et=(y,x,P,D,A,I,V)=>{for(let B=0;B<x.length;B++){const N=y[B],L=x[B],Z=N.el&&(N.type===nt||!Hn(N,L)||N.shapeFlag&70)?d(N.el):P;m(N,L,Z,null,D,A,I,V,!0)}},it=(y,x,P,D,A)=>{if(x!==P){if(x!==At)for(const I in x)!ai(I)&&!(I in P)&&o(y,I,x[I],null,A,D);for(const I in P){if(ai(I))continue;const V=P[I],B=x[I];V!==B&&I!=="value"&&o(y,I,B,V,A,D)}"value"in P&&o(y,"value",x.value,P.value,A)}},ct=(y,x,P,D,A,I,V,B,N)=>{const L=x.el=y?y.el:a(""),Z=x.anchor=y?y.anchor:a("");let{patchFlag:H,dynamicChildren:Q,slotScopeIds:ot}=x;ot&&(B=B?B.concat(ot):ot),y==null?(n(L,P,D),n(Z,P,D),j(x.children||[],P,Z,A,I,V,B,N)):H>0&&H&64&&Q&&y.dynamicChildren?(et(y.dynamicChildren,Q,P,A,I,V,B),(x.key!=null||A&&x===A.subTree)&&eh(y,x,!0)):ut(y,x,P,Z,A,I,V,B,N)},Pt=(y,x,P,D,A,I,V,B,N)=>{x.slotScopeIds=B,y==null?x.shapeFlag&512?A.ctx.activate(x,P,D,V,N):Wt(x,P,D,A,I,V,N):bt(y,x,N)},Wt=(y,x,P,D,A,I,V)=>{const B=y.component=Bg(y,D,A);if(Bd(y)&&(B.ctx.renderer=J),Ug(B,!1,V),B.asyncDep){if(A&&A.registerDep(B,rt,V),!y.el){const N=B.subTree=F(gs);_(null,N,x,P)}}else rt(B,y,x,P,A,I,V)},bt=(y,x,P)=>{const D=x.component=y.component;if(Eg(y,x,P))if(D.asyncDep&&!D.asyncResolved){st(D,x,P);return}else D.next=x,D.update();else x.el=y.el,D.vnode=x},rt=(y,x,P,D,A,I,V)=>{const B=()=>{if(y.isMounted){let{next:H,bu:Q,u:ot,parent:yt,vnode:Tt}=y;{const ye=sh(y);if(ye){H&&(H.el=Tt.el,st(y,H,V)),ye.asyncDep.then(()=>{y.isUnmounted||B()});return}}let St=H,be;Us(y,!1),H?(H.el=Tt.el,st(y,H,V)):H=Tt,Q&&yo(Q),(be=H.props&&H.props.onVnodeBeforeUpdate)&&ze(be,yt,H,Tt),Us(y,!0);const Qt=Or(y),Te=y.subTree;y.subTree=Qt,m(Te,Qt,d(Te.el),O(Te),y,A,I),H.el=Qt.el,St===null&&Dg(y,Qt.el),ot&&_e(ot,A),(be=H.props&&H.props.onVnodeUpdated)&&_e(()=>ze(be,yt,H,Tt),A)}else{let H;const{el:Q,props:ot}=x,{bm:yt,m:Tt,parent:St,root:be,type:Qt}=y,Te=Sn(x);if(Us(y,!1),yt&&yo(yt),!Te&&(H=ot&&ot.onVnodeBeforeMount)&&ze(H,St,x),Us(y,!0),Q&&$t){const ye=()=>{y.subTree=Or(y),$t(Q,y.subTree,y,A,null)};Te&&Qt.__asyncHydrate?Qt.__asyncHydrate(Q,y,ye):ye()}else{be.ce&&be.ce._injectChildStyle(Qt);const ye=y.subTree=Or(y);m(null,ye,P,D,y,A,I),x.el=ye.el}if(Tt&&_e(Tt,A),!Te&&(H=ot&&ot.onVnodeMounted)){const ye=x;_e(()=>ze(H,St,ye),A)}(x.shapeFlag&256||St&&Sn(St.vnode)&&St.vnode.shapeFlag&256)&&y.a&&_e(y.a,A),y.isMounted=!0,x=P=D=null}};y.scope.on();const N=y.effect=new gd(B);y.scope.off();const L=y.update=N.run.bind(N),Z=y.job=N.runIfDirty.bind(N);Z.i=y,Z.id=y.uid,N.scheduler=()=>Qa(Z),Us(y,!0),L()},st=(y,x,P)=>{x.component=y;const D=y.vnode.props;y.vnode=x,y.next=null,gg(y,x.props,D,P),xg(y,x.children,P),fs(),Ll(y),ps()},ut=(y,x,P,D,A,I,V,B,N=!1)=>{const L=y&&y.children,Z=y?y.shapeFlag:0,H=x.children,{patchFlag:Q,shapeFlag:ot}=x;if(Q>0){if(Q&128){oe(L,H,P,D,A,I,V,B,N);return}else if(Q&256){Ot(L,H,P,D,A,I,V,B,N);return}}ot&8?(Z&16&&zt(L,A,I),H!==L&&u(P,H)):Z&16?ot&16?oe(L,H,P,D,A,I,V,B,N):zt(L,A,I,!0):(Z&8&&u(P,""),ot&16&&j(H,P,D,A,I,V,B,N))},Ot=(y,x,P,D,A,I,V,B,N)=>{y=y||xn,x=x||xn;const L=y.length,Z=x.length,H=Math.min(L,Z);let Q;for(Q=0;Q<H;Q++){const ot=x[Q]=N?ks(x[Q]):Ge(x[Q]);m(y[Q],ot,P,null,A,I,V,B,N)}L>Z?zt(y,A,I,!0,!1,H):j(x,P,D,A,I,V,B,N,H)},oe=(y,x,P,D,A,I,V,B,N)=>{let L=0;const Z=x.length;let H=y.length-1,Q=Z-1;for(;L<=H&&L<=Q;){const ot=y[L],yt=x[L]=N?ks(x[L]):Ge(x[L]);if(Hn(ot,yt))m(ot,yt,P,null,A,I,V,B,N);else break;L++}for(;L<=H&&L<=Q;){const ot=y[H],yt=x[Q]=N?ks(x[Q]):Ge(x[Q]);if(Hn(ot,yt))m(ot,yt,P,null,A,I,V,B,N);else break;H--,Q--}if(L>H){if(L<=Q){const ot=Q+1,yt=ot<Z?x[ot].el:D;for(;L<=Q;)m(null,x[L]=N?ks(x[L]):Ge(x[L]),P,yt,A,I,V,B,N),L++}}else if(L>Q)for(;L<=H;)Ut(y[L],A,I,!0),L++;else{const ot=L,yt=L,Tt=new Map;for(L=yt;L<=Q;L++){const xe=x[L]=N?ks(x[L]):Ge(x[L]);xe.key!=null&&Tt.set(xe.key,L)}let St,be=0;const Qt=Q-yt+1;let Te=!1,ye=0;const Vn=new Array(Qt);for(L=0;L<Qt;L++)Vn[L]=0;for(L=ot;L<=H;L++){const xe=y[L];if(be>=Qt){Ut(xe,A,I,!0);continue}let Ve;if(xe.key!=null)Ve=Tt.get(xe.key);else for(St=yt;St<=Q;St++)if(Vn[St-yt]===0&&Hn(xe,x[St])){Ve=St;break}Ve===void 0?Ut(xe,A,I,!0):(Vn[Ve-yt]=L+1,Ve>=ye?ye=Ve:Te=!0,m(xe,x[Ve],P,null,A,I,V,B,N),be++)}const Ol=Te?kg(Vn):xn;for(St=Ol.length-1,L=Qt-1;L>=0;L--){const xe=yt+L,Ve=x[xe],Tl=xe+1<Z?x[xe+1].el:D;Vn[L]===0?m(null,Ve,P,Tl,A,I,V,B,N):Te&&(St<0||L!==Ol[St]?re(Ve,P,Tl,2):St--)}}},re=(y,x,P,D,A=null)=>{const{el:I,type:V,transition:B,children:N,shapeFlag:L}=y;if(L&6){re(y.component.subTree,x,P,D);return}if(L&128){y.suspense.move(x,P,D);return}if(L&64){V.move(y,x,P,J);return}if(V===nt){n(I,x,P);for(let H=0;H<N.length;H++)re(N[H],x,P,D);n(y.anchor,x,P);return}if(V===vo){S(y,x,P);return}if(D!==2&&L&1&&B)if(D===0)B.beforeEnter(I),n(I,x,P),_e(()=>B.enter(I),A);else{const{leave:H,delayLeave:Q,afterLeave:ot}=B,yt=()=>{y.ctx.isUnmounted?i(I):n(I,x,P)},Tt=()=>{H(I,()=>{yt(),ot&&ot()})};Q?Q(I,yt,Tt):Tt()}else n(I,x,P)},Ut=(y,x,P,D=!1,A=!1)=>{const{type:I,props:V,ref:B,children:N,dynamicChildren:L,shapeFlag:Z,patchFlag:H,dirs:Q,cacheIndex:ot}=y;if(H===-2&&(A=!1),B!=null&&(fs(),$o(B,null,P,y,!0),ps()),ot!=null&&(x.renderCache[ot]=void 0),Z&256){x.ctx.deactivate(y);return}const yt=Z&1&&Q,Tt=!Sn(y);let St;if(Tt&&(St=V&&V.onVnodeBeforeUnmount)&&ze(St,x,y),Z&6)Ue(y.component,P,D);else{if(Z&128){y.suspense.unmount(P,D);return}yt&&Bs(y,null,x,"beforeUnmount"),Z&64?y.type.remove(y,x,P,J,D):L&&!L.hasOnce&&(I!==nt||H>0&&H&64)?zt(L,x,P,!1,!0):(I===nt&&H&384||!A&&Z&16)&&zt(N,x,P),D&&Ce(y)}(Tt&&(St=V&&V.onVnodeUnmounted)||yt)&&_e(()=>{St&&ze(St,x,y),yt&&Bs(y,null,x,"unmounted")},P)},Ce=y=>{const{type:x,el:P,anchor:D,transition:A}=y;if(x===nt){ue(P,D);return}if(x===vo){w(y);return}const I=()=>{i(P),A&&!A.persisted&&A.afterLeave&&A.afterLeave()};if(y.shapeFlag&1&&A&&!A.persisted){const{leave:V,delayLeave:B}=A,N=()=>V(P,I);B?B(y.el,I,N):N()}else I()},ue=(y,x)=>{let P;for(;y!==x;)P=f(y),i(y),y=P;i(x)},Ue=(y,x,P)=>{const{bum:D,scope:A,job:I,subTree:V,um:B,m:N,a:L,parent:Z,slots:{__:H}}=y;Vl(N),Vl(L),D&&yo(D),Z&&tt(H)&&H.forEach(Q=>{Z.renderCache[Q]=void 0}),A.stop(),I&&(I.flags|=8,Ut(V,y,x,P)),B&&_e(B,x),_e(()=>{y.isUnmounted=!0},x),x&&x.pendingBranch&&!x.isUnmounted&&y.asyncDep&&!y.asyncResolved&&y.suspenseId===x.pendingId&&(x.deps--,x.deps===0&&x.resolve())},zt=(y,x,P,D=!1,A=!1,I=0)=>{for(let V=I;V<y.length;V++)Ut(y[V],x,P,D,A)},O=y=>{if(y.shapeFlag&6)return O(y.component.subTree);if(y.shapeFlag&128)return y.suspense.next();const x=f(y.anchor||y.el),P=x&&x[zp];return P?f(P):x};let q=!1;const z=(y,x,P)=>{y==null?x._vnode&&Ut(x._vnode,null,null,!0):m(x._vnode||null,y,x,null,null,null,P),x._vnode=y,q||(q=!0,Ll(),Ld(),q=!1)},J={p:m,um:Ut,m:re,r:Ce,mt:Wt,mc:j,pc:ut,pbc:et,n:O,o:e};let _t,$t;return t&&([_t,$t]=t(J)),{render:z,hydrate:_t,createApp:fg(z,_t)}}function Ar({type:e,props:t},s){return s==="svg"&&e==="foreignObject"||s==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:s}function Us({effect:e,job:t},s){s?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function wg(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function eh(e,t,s=!1){const n=e.children,i=t.children;if(tt(n)&&tt(i))for(let o=0;o<n.length;o++){const r=n[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=ks(i[o]),a.el=r.el),!s&&a.patchFlag!==-2&&eh(r,a)),a.type===rr&&(a.el=r.el),a.type===gs&&!a.el&&(a.el=r.el)}}function kg(e){const t=e.slice(),s=[0];let n,i,o,r,a;const l=e.length;for(n=0;n<l;n++){const c=e[n];if(c!==0){if(i=s[s.length-1],e[i]<c){t[n]=i,s.push(n);continue}for(o=0,r=s.length-1;o<r;)a=o+r>>1,e[s[a]]<c?o=a+1:r=a;c<e[s[o]]&&(o>0&&(t[n]=s[o-1]),s[o]=n)}}for(o=s.length,r=s[o-1];o-- >0;)s[o]=r,r=t[r];return s}function sh(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:sh(t)}function Vl(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const Sg=Symbol.for("v-scx"),Cg=()=>ds(Sg);function _o(e,t,s){return nh(e,t,s)}function nh(e,t,s=At){const{immediate:n,deep:i,flush:o,once:r}=s,a=Yt({},s),l=t&&n||!t&&o!=="post";let c;if(Pi){if(o==="sync"){const p=Cg();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=Ie,p.resume=Ie,p.pause=Ie,p}}const u=ee;a.call=(p,g,m)=>Xe(p,u,g,m);let d=!1;o==="post"?a.scheduler=p=>{_e(p,u&&u.suspense)}:o!=="sync"&&(d=!0,a.scheduler=(p,g)=>{g?p():Qa(p)}),a.augmentJob=p=>{t&&(p.flags|=4),d&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const f=Np(e,t,a);return Pi&&(c?c.push(f):l&&f()),f}function Mg(e,t,s){const n=this.proxy,i=Ht(e)?e.includes(".")?ih(n,e):()=>n[e]:e.bind(n,n);let o;lt(t)?o=t:(o=t.handler,s=t);const r=zi(this),a=nh(i,o.bind(n),s);return r(),a}function ih(e,t){const s=t.split(".");return()=>{let n=e;for(let i=0;i<s.length&&n;i++)n=n[s[i]];return n}}const Pg=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Ae(t)}Modifiers`]||e[`${rn(t)}Modifiers`];function Ag(e,t,...s){if(e.isUnmounted)return;const n=e.vnode.props||At;let i=s;const o=t.startsWith("update:"),r=o&&Pg(n,t.slice(7));r&&(r.trim&&(i=s.map(u=>Ht(u)?u.trim():u)),r.number&&(i=s.map(Ro)));let a,l=n[a=wr(t)]||n[a=wr(Ae(t))];!l&&o&&(l=n[a=wr(rn(t))]),l&&Xe(l,e,6,i);const c=n[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Xe(c,e,6,i)}}function oh(e,t,s=!1){const n=t.emitsCache,i=n.get(e);if(i!==void 0)return i;const o=e.emits;let r={},a=!1;if(!lt(e)){const l=c=>{const u=oh(c,t,!0);u&&(a=!0,Yt(r,u))};!s&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!a?(It(e)&&n.set(e,null),null):(tt(o)?o.forEach(l=>r[l]=null):Yt(r,o),It(e)&&n.set(e,r),r)}function or(e,t){return!e||!Xo(t)?!1:(t=t.slice(2).replace(/Once$/,""),kt(e,t[0].toLowerCase()+t.slice(1))||kt(e,rn(t))||kt(e,t))}function Or(e){const{type:t,vnode:s,proxy:n,withProxy:i,propsOptions:[o],slots:r,attrs:a,emit:l,render:c,renderCache:u,props:d,data:f,setupState:p,ctx:g,inheritAttrs:m}=e,b=Fo(e);let _,v;try{if(s.shapeFlag&4){const w=i||n,C=w;_=Ge(c.call(C,w,u,d,p,f,g)),v=a}else{const w=t;_=Ge(w.length>1?w(d,{attrs:a,slots:r,emit:l}):w(d,null)),v=t.props?a:Og(a)}}catch(w){di.length=0,nr(w,e,1),_=F(gs)}let S=_;if(v&&m!==!1){const w=Object.keys(v),{shapeFlag:C}=S;w.length&&C&7&&(o&&w.some(Na)&&(v=Tg(v,o)),S=An(S,v,!1,!0))}return s.dirs&&(S=An(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(s.dirs):s.dirs),s.transition&&Za(S,s.transition),_=S,Fo(b),_}const Og=e=>{let t;for(const s in e)(s==="class"||s==="style"||Xo(s))&&((t||(t={}))[s]=e[s]);return t},Tg=(e,t)=>{const s={};for(const n in e)(!Na(n)||!(n.slice(9)in t))&&(s[n]=e[n]);return s};function Eg(e,t,s){const{props:n,children:i,component:o}=e,{props:r,children:a,patchFlag:l}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?zl(n,r,c):!!r;if(l&8){const u=t.dynamicProps;for(let d=0;d<u.length;d++){const f=u[d];if(r[f]!==n[f]&&!or(c,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===r?!1:n?r?zl(n,r,c):!0:!!r;return!1}function zl(e,t,s){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const o=n[i];if(t[o]!==e[o]&&!or(s,o))return!0}return!1}function Dg({vnode:e,parent:t},s){for(;t;){const n=t.subTree;if(n.suspense&&n.suspense.activeBranch===e&&(n.el=e.el),n===e)(e=t.vnode).el=s,t=t.parent;else break}}const rh=e=>e.__isSuspense;function Rg(e,t){t&&t.pendingBranch?tt(e)?t.effects.push(...e):t.effects.push(e):Vp(e)}const nt=Symbol.for("v-fgt"),rr=Symbol.for("v-txt"),gs=Symbol.for("v-cmt"),vo=Symbol.for("v-stc"),di=[];let Se=null;function k(e=!1){di.push(Se=e?null:[])}function Ig(){di.pop(),Se=di[di.length-1]||null}let Ci=1;function Hl(e,t=!1){Ci+=e,e<0&&Se&&t&&(Se.hasOnce=!0)}function ah(e){return e.dynamicChildren=Ci>0?Se||xn:null,Ig(),Ci>0&&Se&&Se.push(e),e}function M(e,t,s,n,i,o){return ah(h(e,t,s,n,i,o,!0))}function me(e,t,s,n,i){return ah(F(e,t,s,n,i,!0))}function Mi(e){return e?e.__v_isVNode===!0:!1}function Hn(e,t){return e.type===t.type&&e.key===t.key}const lh=({key:e})=>e??null,wo=({ref:e,ref_key:t,ref_for:s})=>(typeof e=="number"&&(e=""+e),e!=null?Ht(e)||ne(e)||lt(e)?{i:Xt,r:e,k:t,f:!!s}:e:null);function h(e,t=null,s=null,n=0,i=null,o=e===nt?0:1,r=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&lh(t),ref:t&&wo(t),scopeId:Fd,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Xt};return a?(nl(l,s),o&128&&e.normalize(l)):s&&(l.shapeFlag|=Ht(s)?8:16),Ci>0&&!r&&Se&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&Se.push(l),l}const F=Lg;function Lg(e,t=null,s=null,n=0,i=null,o=!1){if((!e||e===ng)&&(e=gs),Mi(e)){const a=An(e,t,!0);return s&&nl(a,s),Ci>0&&!o&&Se&&(a.shapeFlag&6?Se[Se.indexOf(e)]=a:Se.push(a)),a.patchFlag=-2,a}if(qg(e)&&(e=e.__vccOpts),t){t=jg(t);let{class:a,style:l}=t;a&&!Ht(a)&&(t.class=sn(a)),It(l)&&(Ja(l)&&!tt(l)&&(l=Yt({},l)),t.style=Va(l))}const r=Ht(e)?1:rh(e)?128:Hp(e)?64:It(e)?4:lt(e)?2:0;return h(e,t,s,n,i,r,o,!0)}function jg(e){return e?Ja(e)||Yd(e)?Yt({},e):e:null}function An(e,t,s=!1,n=!1){const{props:i,ref:o,patchFlag:r,children:a,transition:l}=e,c=t?Fg(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&lh(c),ref:t&&t.ref?s&&o?tt(o)?o.concat(wo(t)):[o,wo(t)]:wo(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==nt?r===-1?16:r|16:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&An(e.ssContent),ssFallback:e.ssFallback&&An(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&n&&Za(u,l.clone(u)),u}function at(e=" ",t=0){return F(rr,null,e,t)}function ar(e,t){const s=F(vo,null,e);return s.staticCount=t,s}function Y(e="",t=!1){return t?(k(),me(gs,null,e)):F(gs,null,e)}function Ge(e){return e==null||typeof e=="boolean"?F(gs):tt(e)?F(nt,null,e.slice()):Mi(e)?ks(e):F(rr,null,String(e))}function ks(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:An(e)}function nl(e,t){let s=0;const{shapeFlag:n}=e;if(t==null)t=null;else if(tt(t))s=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),nl(e,i()),i._c&&(i._d=!0));return}else{s=32;const i=t._;!i&&!Yd(t)?t._ctx=Xt:i===3&&Xt&&(Xt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else lt(t)?(t={default:t,_ctx:Xt},s=32):(t=String(t),n&64?(s=16,t=[at(t)]):s=8);e.children=t,e.shapeFlag|=s}function Fg(...e){const t={};for(let s=0;s<e.length;s++){const n=e[s];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=sn([t.class,n.class]));else if(i==="style")t.style=Va([t.style,n.style]);else if(Xo(i)){const o=t[i],r=n[i];r&&o!==r&&!(tt(o)&&o.includes(r))&&(t[i]=o?[].concat(o,r):r)}else i!==""&&(t[i]=n[i])}return t}function ze(e,t,s,n=null){Xe(e,t,7,[s,n])}const $g=qd();let Ng=0;function Bg(e,t,s){const n=e.type,i=(t?t.appContext:e.appContext)||$g,o={uid:Ng++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new dp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Xd(n,i),emitsOptions:oh(n,i),emit:null,emitted:null,propsDefaults:At,inheritAttrs:n.inheritAttrs,ctx:At,data:At,props:At,attrs:At,slots:At,refs:At,setupState:At,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=Ag.bind(null,o),e.ce&&e.ce(o),o}let ee=null,Bo,ca;{const e=tr(),t=(s,n)=>{let i;return(i=e[s])||(i=e[s]=[]),i.push(n),o=>{i.length>1?i.forEach(r=>r(o)):i[0](o)}};Bo=t("__VUE_INSTANCE_SETTERS__",s=>ee=s),ca=t("__VUE_SSR_SETTERS__",s=>Pi=s)}const zi=e=>{const t=ee;return Bo(e),e.scope.on(),()=>{e.scope.off(),Bo(t)}},Wl=()=>{ee&&ee.scope.off(),Bo(null)};function ch(e){return e.vnode.shapeFlag&4}let Pi=!1;function Ug(e,t=!1,s=!1){t&&ca(t);const{props:n,children:i}=e.vnode,o=ch(e);pg(e,n,o,t),yg(e,i,s||t);const r=o?Vg(e,t):void 0;return t&&ca(!1),r}function Vg(e,t){const s=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,rg);const{setup:n}=s;if(n){fs();const i=e.setupContext=n.length>1?Hg(e):null,o=zi(e),r=Vi(n,e,0,[e.props,i]),a=ld(r);if(ps(),o(),(a||e.sp)&&!Sn(e)&&Nd(e),a){if(r.then(Wl,Wl),t)return r.then(l=>{ql(e,l,t)}).catch(l=>{nr(l,e,0)});e.asyncDep=r}else ql(e,r,t)}else uh(e,t)}function ql(e,t,s){lt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:It(t)&&(e.setupState=Dd(t)),uh(e,s)}let Kl;function uh(e,t,s){const n=e.type;if(!e.render){if(!t&&Kl&&!n.render){const i=n.template||tl(e).template;if(i){const{isCustomElement:o,compilerOptions:r}=e.appContext.config,{delimiters:a,compilerOptions:l}=n,c=Yt(Yt({isCustomElement:o,delimiters:a},r),l);n.render=Kl(i,c)}}e.render=n.render||Ie}{const i=zi(e);fs();try{ag(e)}finally{ps(),i()}}}const zg={get(e,t){return te(e,"get",""),e[t]}};function Hg(e){const t=s=>{e.exposed=s||{}};return{attrs:new Proxy(e.attrs,zg),slots:e.slots,emit:e.emit,expose:t}}function lr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Dd(Ep(e.exposed)),{get(t,s){if(s in t)return t[s];if(s in ui)return ui[s](e)},has(t,s){return s in t||s in ui}})):e.proxy}function Wg(e,t=!0){return lt(e)?e.displayName||e.name:e.name||t&&e.__name}function qg(e){return lt(e)&&"__vccOpts"in e}const De=(e,t)=>Fp(e,t,Pi);function dh(e,t,s){const n=arguments.length;return n===2?It(t)&&!tt(t)?Mi(t)?F(e,null,[t]):F(e,t):F(e,null,t):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&Mi(s)&&(s=[s]),F(e,t,s))}const Kg="3.5.14";/**
* @vue/runtime-dom v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ua;const Gl=typeof window<"u"&&window.trustedTypes;if(Gl)try{ua=Gl.createPolicy("vue",{createHTML:e=>e})}catch{}const hh=ua?e=>ua.createHTML(e):e=>e,Gg="http://www.w3.org/2000/svg",Yg="http://www.w3.org/1998/Math/MathML",ns=typeof document<"u"?document:null,Yl=ns&&ns.createElement("template"),Jg={insert:(e,t,s)=>{t.insertBefore(e,s||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,s,n)=>{const i=t==="svg"?ns.createElementNS(Gg,e):t==="mathml"?ns.createElementNS(Yg,e):s?ns.createElement(e,{is:s}):ns.createElement(e);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>ns.createTextNode(e),createComment:e=>ns.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>ns.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,s,n,i,o){const r=s?s.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),s),!(i===o||!(i=i.nextSibling)););else{Yl.innerHTML=hh(n==="svg"?`<svg>${e}</svg>`:n==="mathml"?`<math>${e}</math>`:e);const a=Yl.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,s)}return[r?r.nextSibling:t.firstChild,s?s.previousSibling:t.lastChild]}},Xg=Symbol("_vtc");function Qg(e,t,s){const n=e[Xg];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):s?e.setAttribute("class",t):e.className=t}const Uo=Symbol("_vod"),fh=Symbol("_vsh"),Tr={beforeMount(e,{value:t},{transition:s}){e[Uo]=e.style.display==="none"?"":e.style.display,s&&t?s.beforeEnter(e):Wn(e,t)},mounted(e,{value:t},{transition:s}){s&&t&&s.enter(e)},updated(e,{value:t,oldValue:s},{transition:n}){!t!=!s&&(n?t?(n.beforeEnter(e),Wn(e,!0),n.enter(e)):n.leave(e,()=>{Wn(e,!1)}):Wn(e,t))},beforeUnmount(e,{value:t}){Wn(e,t)}};function Wn(e,t){e.style.display=t?e[Uo]:"none",e[fh]=!t}const Zg=Symbol(""),tm=/(^|;)\s*display\s*:/;function em(e,t,s){const n=e.style,i=Ht(s);let o=!1;if(s&&!i){if(t)if(Ht(t))for(const r of t.split(";")){const a=r.slice(0,r.indexOf(":")).trim();s[a]==null&&ko(n,a,"")}else for(const r in t)s[r]==null&&ko(n,r,"");for(const r in s)r==="display"&&(o=!0),ko(n,r,s[r])}else if(i){if(t!==s){const r=n[Zg];r&&(s+=";"+r),n.cssText=s,o=tm.test(s)}}else t&&e.removeAttribute("style");Uo in e&&(e[Uo]=o?n.display:"",e[fh]&&(n.display="none"))}const Jl=/\s*!important$/;function ko(e,t,s){if(tt(s))s.forEach(n=>ko(e,t,n));else if(s==null&&(s=""),t.startsWith("--"))e.setProperty(t,s);else{const n=sm(e,t);Jl.test(s)?e.setProperty(rn(n),s.replace(Jl,""),"important"):e[n]=s}}const Xl=["Webkit","Moz","ms"],Er={};function sm(e,t){const s=Er[t];if(s)return s;let n=Ae(t);if(n!=="filter"&&n in e)return Er[t]=n;n=Zo(n);for(let i=0;i<Xl.length;i++){const o=Xl[i]+n;if(o in e)return Er[t]=o}return t}const Ql="http://www.w3.org/1999/xlink";function Zl(e,t,s,n,i,o=cp(t)){n&&t.startsWith("xlink:")?s==null?e.removeAttributeNS(Ql,t.slice(6,t.length)):e.setAttributeNS(Ql,t,s):s==null||o&&!hd(s)?e.removeAttribute(t):e.setAttribute(t,o?"":Fe(s)?String(s):s)}function tc(e,t,s,n,i){if(t==="innerHTML"||t==="textContent"){s!=null&&(e[t]=t==="innerHTML"?hh(s):s);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const a=o==="OPTION"?e.getAttribute("value")||"":e.value,l=s==null?e.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in e))&&(e.value=l),s==null&&e.removeAttribute(t),e._value=s;return}let r=!1;if(s===""||s==null){const a=typeof e[t];a==="boolean"?s=hd(s):s==null&&a==="string"?(s="",r=!0):a==="number"&&(s=0,r=!0)}try{e[t]=s}catch{}r&&e.removeAttribute(i||t)}function Ms(e,t,s,n){e.addEventListener(t,s,n)}function nm(e,t,s,n){e.removeEventListener(t,s,n)}const ec=Symbol("_vei");function im(e,t,s,n,i=null){const o=e[ec]||(e[ec]={}),r=o[t];if(n&&r)r.value=n;else{const[a,l]=om(t);if(n){const c=o[t]=lm(n,i);Ms(e,a,c,l)}else r&&(nm(e,a,r,l),o[t]=void 0)}}const sc=/(?:Once|Passive|Capture)$/;function om(e){let t;if(sc.test(e)){t={};let n;for(;n=e.match(sc);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):rn(e.slice(2)),t]}let Dr=0;const rm=Promise.resolve(),am=()=>Dr||(rm.then(()=>Dr=0),Dr=Date.now());function lm(e,t){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;Xe(cm(n,s.value),t,5,[n])};return s.value=e,s.attached=am(),s}function cm(e,t){if(tt(t)){const s=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{s.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const nc=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,um=(e,t,s,n,i,o)=>{const r=i==="svg";t==="class"?Qg(e,n,r):t==="style"?em(e,s,n):Xo(t)?Na(t)||im(e,t,s,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):dm(e,t,n,r))?(tc(e,t,n),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Zl(e,t,n,r,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Ht(n))?tc(e,Ae(t),n,o,t):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Zl(e,t,n,r))};function dm(e,t,s,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in e&&nc(t)&&lt(s));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return nc(t)&&Ht(s)?!1:t in e}const On=e=>{const t=e.props["onUpdate:modelValue"]||!1;return tt(t)?s=>yo(t,s):t};function hm(e){e.target.composing=!0}function ic(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const hs=Symbol("_assign"),K={created(e,{modifiers:{lazy:t,trim:s,number:n}},i){e[hs]=On(i);const o=n||i.props&&i.props.type==="number";Ms(e,t?"change":"input",r=>{if(r.target.composing)return;let a=e.value;s&&(a=a.trim()),o&&(a=Ro(a)),e[hs](a)}),s&&Ms(e,"change",()=>{e.value=e.value.trim()}),t||(Ms(e,"compositionstart",hm),Ms(e,"compositionend",ic),Ms(e,"change",ic))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:s,modifiers:{lazy:n,trim:i,number:o}},r){if(e[hs]=On(r),e.composing)return;const a=(o||e.type==="number")&&!/^0\d/.test(e.value)?Ro(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(n&&t===s||i&&e.value.trim()===l)||(e.value=l))}},il={deep:!0,created(e,t,s){e[hs]=On(s),Ms(e,"change",()=>{const n=e._modelValue,i=Ai(e),o=e.checked,r=e[hs];if(tt(n)){const a=za(n,i),l=a!==-1;if(o&&!l)r(n.concat(i));else if(!o&&l){const c=[...n];c.splice(a,1),r(c)}}else if(Fn(n)){const a=new Set(n);o?a.add(i):a.delete(i),r(a)}else r(ph(e,o))})},mounted:oc,beforeUpdate(e,t,s){e[hs]=On(s),oc(e,t,s)}};function oc(e,{value:t,oldValue:s},n){e._modelValue=t;let i;if(tt(t))i=za(t,n.props.value)>-1;else if(Fn(t))i=t.has(n.props.value);else{if(t===s)return;i=Ui(t,ph(e,!0))}e.checked!==i&&(e.checked=i)}const Ls={deep:!0,created(e,{value:t,modifiers:{number:s}},n){const i=Fn(t);Ms(e,"change",()=>{const o=Array.prototype.filter.call(e.options,r=>r.selected).map(r=>s?Ro(Ai(r)):Ai(r));e[hs](e.multiple?i?new Set(o):o:o[0]),e._assigning=!0,Xa(()=>{e._assigning=!1})}),e[hs]=On(n)},mounted(e,{value:t}){rc(e,t)},beforeUpdate(e,t,s){e[hs]=On(s)},updated(e,{value:t}){e._assigning||rc(e,t)}};function rc(e,t){const s=e.multiple,n=tt(t);if(!(s&&!n&&!Fn(t))){for(let i=0,o=e.options.length;i<o;i++){const r=e.options[i],a=Ai(r);if(s)if(n){const l=typeof a;l==="string"||l==="number"?r.selected=t.some(c=>String(c)===String(a)):r.selected=za(t,a)>-1}else r.selected=t.has(a);else if(Ui(Ai(r),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!s&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Ai(e){return"_value"in e?e._value:e.value}function ph(e,t){const s=t?"_trueValue":"_falseValue";return s in e?e[s]:t}const fm=["ctrl","shift","alt","meta"],pm={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>fm.some(s=>e[`${s}Key`]&&!t.includes(s))},ce=(e,t)=>{const s=e._withMods||(e._withMods={}),n=t.join(".");return s[n]||(s[n]=(i,...o)=>{for(let r=0;r<t.length;r++){const a=pm[t[r]];if(a&&a(i,t))return}return e(i,...o)})},gm=Yt({patchProp:um},Jg);let ac;function mm(){return ac||(ac=_g(gm))}const bm=(...e)=>{const t=mm().createApp(...e),{mount:s}=t;return t.mount=n=>{const i=xm(n);if(!i)return;const o=t._component;!lt(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const r=s(i,!1,ym(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),r},t};function ym(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function xm(e){return Ht(e)?document.querySelector(e):e}const xt=(e,t)=>{const s=e.__vccOpts||e;for(const[n,i]of t)s[n]=i;return s},_m={name:"CookieBanner",data(){return{consentGiven:!1}},mounted(){this.consentGiven=localStorage.getItem("cookieConsent")==="true"},methods:{acceptCookies(){this.consentGiven=!0,localStorage.setItem("cookieConsent","true")}}},vm={key:0,class:"fixed bottom-0 left-0 right-0 bg-gray-800 text-white p-4 text-center z-50"};function wm(e,t,s,n,i,o){return i.consentGiven?Y("",!0):(k(),M("div",vm,[t[1]||(t[1]=h("p",{class:"mb-2"},[at(" Utilizamos cookies para melhorar sua experincia. Ao continuar, voc concorda com nossa "),h("a",{href:"#",class:"underline"},"poltica de privacidade"),at(". ")],-1)),h("button",{onClick:t[0]||(t[0]=(...r)=>o.acceptCookies&&o.acceptCookies(...r)),class:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded"}," Aceitar ")]))}const km=xt(_m,[["render",wm]]),Sm={name:"App",components:{CookieBanner:km}};function Cm(e,t,s,n,i,o){const r=X("router-view"),a=X("CookieBanner");return k(),M(nt,null,[F(r),F(a)],64)}const Mm=xt(Sm,[["render",Cm]]);/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const bn=typeof document<"u";function gh(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Pm(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&gh(e.default)}const vt=Object.assign;function Rr(e,t){const s={};for(const n in t){const i=t[n];s[n]=$e(i)?i.map(e):e(i)}return s}const hi=()=>{},$e=Array.isArray,mh=/#/g,Am=/&/g,Om=/\//g,Tm=/=/g,Em=/\?/g,bh=/\+/g,Dm=/%5B/g,Rm=/%5D/g,yh=/%5E/g,Im=/%60/g,xh=/%7B/g,Lm=/%7C/g,_h=/%7D/g,jm=/%20/g;function ol(e){return encodeURI(""+e).replace(Lm,"|").replace(Dm,"[").replace(Rm,"]")}function Fm(e){return ol(e).replace(xh,"{").replace(_h,"}").replace(yh,"^")}function da(e){return ol(e).replace(bh,"%2B").replace(jm,"+").replace(mh,"%23").replace(Am,"%26").replace(Im,"`").replace(xh,"{").replace(_h,"}").replace(yh,"^")}function $m(e){return da(e).replace(Tm,"%3D")}function Nm(e){return ol(e).replace(mh,"%23").replace(Em,"%3F")}function Bm(e){return e==null?"":Nm(e).replace(Om,"%2F")}function Oi(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const Um=/\/$/,Vm=e=>e.replace(Um,"");function Ir(e,t,s="/"){let n,i={},o="",r="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=t.slice(0,l),o=t.slice(l+1,a>-1?a:t.length),i=e(o)),a>-1&&(n=n||t.slice(0,a),r=t.slice(a,t.length)),n=qm(n??t,s),{fullPath:n+(o&&"?")+o+r,path:n,query:i,hash:Oi(r)}}function zm(e,t){const s=t.query?e(t.query):"";return t.path+(s&&"?")+s+(t.hash||"")}function lc(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function Hm(e,t,s){const n=t.matched.length-1,i=s.matched.length-1;return n>-1&&n===i&&Tn(t.matched[n],s.matched[i])&&vh(t.params,s.params)&&e(t.query)===e(s.query)&&t.hash===s.hash}function Tn(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function vh(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(!Wm(e[s],t[s]))return!1;return!0}function Wm(e,t){return $e(e)?cc(e,t):$e(t)?cc(t,e):e===t}function cc(e,t){return $e(t)?e.length===t.length&&e.every((s,n)=>s===t[n]):e.length===1&&e[0]===t}function qm(e,t){if(e.startsWith("/"))return e;if(!e)return t;const s=t.split("/"),n=e.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let o=s.length-1,r,a;for(r=0;r<n.length;r++)if(a=n[r],a!==".")if(a==="..")o>1&&o--;else break;return s.slice(0,o).join("/")+"/"+n.slice(r).join("/")}const ys={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Ti;(function(e){e.pop="pop",e.push="push"})(Ti||(Ti={}));var fi;(function(e){e.back="back",e.forward="forward",e.unknown=""})(fi||(fi={}));function Km(e){if(!e)if(bn){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),Vm(e)}const Gm=/^[^#]+#/;function Ym(e,t){return e.replace(Gm,"#")+t}function Jm(e,t){const s=document.documentElement.getBoundingClientRect(),n=e.getBoundingClientRect();return{behavior:t.behavior,left:n.left-s.left-(t.left||0),top:n.top-s.top-(t.top||0)}}const cr=()=>({left:window.scrollX,top:window.scrollY});function Xm(e){let t;if("el"in e){const s=e.el,n=typeof s=="string"&&s.startsWith("#"),i=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!i)return;t=Jm(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function uc(e,t){return(history.state?history.state.position-t:-1)+e}const ha=new Map;function Qm(e,t){ha.set(e,t)}function Zm(e){const t=ha.get(e);return ha.delete(e),t}let tb=()=>location.protocol+"//"+location.host;function wh(e,t){const{pathname:s,search:n,hash:i}=t,o=e.indexOf("#");if(o>-1){let a=i.includes(e.slice(o))?e.slice(o).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),lc(l,"")}return lc(s,e)+n+i}function eb(e,t,s,n){let i=[],o=[],r=null;const a=({state:f})=>{const p=wh(e,location),g=s.value,m=t.value;let b=0;if(f){if(s.value=p,t.value=f,r&&r===g){r=null;return}b=m?f.position-m.position:0}else n(p);i.forEach(_=>{_(s.value,g,{delta:b,type:Ti.pop,direction:b?b>0?fi.forward:fi.back:fi.unknown})})};function l(){r=s.value}function c(f){i.push(f);const p=()=>{const g=i.indexOf(f);g>-1&&i.splice(g,1)};return o.push(p),p}function u(){const{history:f}=window;f.state&&f.replaceState(vt({},f.state,{scroll:cr()}),"")}function d(){for(const f of o)f();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:d}}function dc(e,t,s,n=!1,i=!1){return{back:e,current:t,forward:s,replaced:n,position:window.history.length,scroll:i?cr():null}}function sb(e){const{history:t,location:s}=window,n={value:wh(e,s)},i={value:t.state};i.value||o(n.value,{back:null,current:n.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function o(l,c,u){const d=e.indexOf("#"),f=d>-1?(s.host&&document.querySelector("base")?e:e.slice(d))+l:tb()+e+l;try{t[u?"replaceState":"pushState"](c,"",f),i.value=c}catch(p){console.error(p),s[u?"replace":"assign"](f)}}function r(l,c){const u=vt({},t.state,dc(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});o(l,u,!0),n.value=l}function a(l,c){const u=vt({},i.value,t.state,{forward:l,scroll:cr()});o(u.current,u,!0);const d=vt({},dc(n.value,l,null),{position:u.position+1},c);o(l,d,!1),n.value=l}return{location:n,state:i,push:a,replace:r}}function nb(e){e=Km(e);const t=sb(e),s=eb(e,t.state,t.location,t.replace);function n(o,r=!0){r||s.pauseListeners(),history.go(o)}const i=vt({location:"",base:e,go:n,createHref:Ym.bind(null,e)},t,s);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function ib(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),nb(e)}function ob(e){return typeof e=="string"||e&&typeof e=="object"}function kh(e){return typeof e=="string"||typeof e=="symbol"}const Sh=Symbol("");var hc;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(hc||(hc={}));function En(e,t){return vt(new Error,{type:e,[Sh]:!0},t)}function Ze(e,t){return e instanceof Error&&Sh in e&&(t==null||!!(e.type&t))}const fc="[^/]+?",rb={sensitive:!1,strict:!1,start:!0,end:!0},ab=/[.+*?^${}()[\]/\\]/g;function lb(e,t){const s=vt({},rb,t),n=[];let i=s.start?"^":"";const o=[];for(const c of e){const u=c.length?[]:[90];s.strict&&!c.length&&(i+="/");for(let d=0;d<c.length;d++){const f=c[d];let p=40+(s.sensitive?.25:0);if(f.type===0)d||(i+="/"),i+=f.value.replace(ab,"\\$&"),p+=40;else if(f.type===1){const{value:g,repeatable:m,optional:b,regexp:_}=f;o.push({name:g,repeatable:m,optional:b});const v=_||fc;if(v!==fc){p+=10;try{new RegExp(`(${v})`)}catch(w){throw new Error(`Invalid custom RegExp for param "${g}" (${v}): `+w.message)}}let S=m?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;d||(S=b&&c.length<2?`(?:/${S})`:"/"+S),b&&(S+="?"),i+=S,p+=20,b&&(p+=-8),m&&(p+=-20),v===".*"&&(p+=-50)}u.push(p)}n.push(u)}if(s.strict&&s.end){const c=n.length-1;n[c][n[c].length-1]+=.7000000000000001}s.strict||(i+="/?"),s.end?i+="$":s.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const r=new RegExp(i,s.sensitive?"":"i");function a(c){const u=c.match(r),d={};if(!u)return null;for(let f=1;f<u.length;f++){const p=u[f]||"",g=o[f-1];d[g.name]=p&&g.repeatable?p.split("/"):p}return d}function l(c){let u="",d=!1;for(const f of e){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const p of f)if(p.type===0)u+=p.value;else if(p.type===1){const{value:g,repeatable:m,optional:b}=p,_=g in c?c[g]:"";if($e(_)&&!m)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const v=$e(_)?_.join("/"):_;if(!v)if(b)f.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${g}"`);u+=v}}return u||"/"}return{re:r,score:n,keys:o,parse:a,stringify:l}}function cb(e,t){let s=0;for(;s<e.length&&s<t.length;){const n=t[s]-e[s];if(n)return n;s++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function Ch(e,t){let s=0;const n=e.score,i=t.score;for(;s<n.length&&s<i.length;){const o=cb(n[s],i[s]);if(o)return o;s++}if(Math.abs(i.length-n.length)===1){if(pc(n))return 1;if(pc(i))return-1}return i.length-n.length}function pc(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const ub={type:0,value:""},db=/[a-zA-Z0-9_]/;function hb(e){if(!e)return[[]];if(e==="/")return[[ub]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(p){throw new Error(`ERR (${s})/"${c}": ${p}`)}let s=0,n=s;const i=[];let o;function r(){o&&i.push(o),o=[]}let a=0,l,c="",u="";function d(){c&&(s===0?o.push({type:0,value:c}):s===1||s===2||s===3?(o.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function f(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&s!==2){n=s,s=4;continue}switch(s){case 0:l==="/"?(c&&d(),r()):l===":"?(d(),s=1):f();break;case 4:f(),s=n;break;case 1:l==="("?s=2:db.test(l)?f():(d(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:s=3:u+=l;break;case 3:d(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return s===2&&t(`Unfinished custom RegExp for param "${c}"`),d(),r(),i}function fb(e,t,s){const n=lb(hb(e.path),s),i=vt(n,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function pb(e,t){const s=[],n=new Map;t=yc({strict:!1,end:!0,sensitive:!1},t);function i(d){return n.get(d)}function o(d,f,p){const g=!p,m=mc(d);m.aliasOf=p&&p.record;const b=yc(t,d),_=[m];if("alias"in d){const w=typeof d.alias=="string"?[d.alias]:d.alias;for(const C of w)_.push(mc(vt({},m,{components:p?p.record.components:m.components,path:C,aliasOf:p?p.record:m})))}let v,S;for(const w of _){const{path:C}=w;if(f&&C[0]!=="/"){const R=f.record.path,E=R[R.length-1]==="/"?"":"/";w.path=f.record.path+(C&&E+C)}if(v=fb(w,f,b),p?p.alias.push(v):(S=S||v,S!==v&&S.alias.push(v),g&&d.name&&!bc(v)&&r(d.name)),Mh(v)&&l(v),m.children){const R=m.children;for(let E=0;E<R.length;E++)o(R[E],v,p&&p.children[E])}p=p||v}return S?()=>{r(S)}:hi}function r(d){if(kh(d)){const f=n.get(d);f&&(n.delete(d),s.splice(s.indexOf(f),1),f.children.forEach(r),f.alias.forEach(r))}else{const f=s.indexOf(d);f>-1&&(s.splice(f,1),d.record.name&&n.delete(d.record.name),d.children.forEach(r),d.alias.forEach(r))}}function a(){return s}function l(d){const f=bb(d,s);s.splice(f,0,d),d.record.name&&!bc(d)&&n.set(d.record.name,d)}function c(d,f){let p,g={},m,b;if("name"in d&&d.name){if(p=n.get(d.name),!p)throw En(1,{location:d});b=p.record.name,g=vt(gc(f.params,p.keys.filter(S=>!S.optional).concat(p.parent?p.parent.keys.filter(S=>S.optional):[]).map(S=>S.name)),d.params&&gc(d.params,p.keys.map(S=>S.name))),m=p.stringify(g)}else if(d.path!=null)m=d.path,p=s.find(S=>S.re.test(m)),p&&(g=p.parse(m),b=p.record.name);else{if(p=f.name?n.get(f.name):s.find(S=>S.re.test(f.path)),!p)throw En(1,{location:d,currentLocation:f});b=p.record.name,g=vt({},f.params,d.params),m=p.stringify(g)}const _=[];let v=p;for(;v;)_.unshift(v.record),v=v.parent;return{name:b,path:m,params:g,matched:_,meta:mb(_)}}e.forEach(d=>o(d));function u(){s.length=0,n.clear()}return{addRoute:o,resolve:c,removeRoute:r,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function gc(e,t){const s={};for(const n of t)n in e&&(s[n]=e[n]);return s}function mc(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:gb(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function gb(e){const t={},s=e.props||!1;if("component"in e)t.default=s;else for(const n in e.components)t[n]=typeof s=="object"?s[n]:s;return t}function bc(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function mb(e){return e.reduce((t,s)=>vt(t,s.meta),{})}function yc(e,t){const s={};for(const n in e)s[n]=n in t?t[n]:e[n];return s}function bb(e,t){let s=0,n=t.length;for(;s!==n;){const o=s+n>>1;Ch(e,t[o])<0?n=o:s=o+1}const i=yb(e);return i&&(n=t.lastIndexOf(i,n-1)),n}function yb(e){let t=e;for(;t=t.parent;)if(Mh(t)&&Ch(e,t)===0)return t}function Mh({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function xb(e){const t={};if(e===""||e==="?")return t;const n=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<n.length;++i){const o=n[i].replace(bh," "),r=o.indexOf("="),a=Oi(r<0?o:o.slice(0,r)),l=r<0?null:Oi(o.slice(r+1));if(a in t){let c=t[a];$e(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function xc(e){let t="";for(let s in e){const n=e[s];if(s=$m(s),n==null){n!==void 0&&(t+=(t.length?"&":"")+s);continue}($e(n)?n.map(o=>o&&da(o)):[n&&da(n)]).forEach(o=>{o!==void 0&&(t+=(t.length?"&":"")+s,o!=null&&(t+="="+o))})}return t}function _b(e){const t={};for(const s in e){const n=e[s];n!==void 0&&(t[s]=$e(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return t}const vb=Symbol(""),_c=Symbol(""),rl=Symbol(""),Ph=Symbol(""),fa=Symbol("");function qn(){let e=[];function t(n){return e.push(n),()=>{const i=e.indexOf(n);i>-1&&e.splice(i,1)}}function s(){e=[]}return{add:t,list:()=>e.slice(),reset:s}}function Ss(e,t,s,n,i,o=r=>r()){const r=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=f=>{f===!1?l(En(4,{from:s,to:t})):f instanceof Error?l(f):ob(f)?l(En(2,{from:t,to:f})):(r&&n.enterCallbacks[i]===r&&typeof f=="function"&&r.push(f),a())},u=o(()=>e.call(n&&n.instances[i],t,s,c));let d=Promise.resolve(u);e.length<3&&(d=d.then(c)),d.catch(f=>l(f))})}function Lr(e,t,s,n,i=o=>o()){const o=[];for(const r of e)for(const a in r.components){let l=r.components[a];if(!(t!=="beforeRouteEnter"&&!r.instances[a]))if(gh(l)){const u=(l.__vccOpts||l)[t];u&&o.push(Ss(u,s,n,r,a,i))}else{let c=l();o.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${r.path}"`);const d=Pm(u)?u.default:u;r.mods[a]=u,r.components[a]=d;const p=(d.__vccOpts||d)[t];return p&&Ss(p,s,n,r,a,i)()}))}}return o}function vc(e){const t=ds(rl),s=ds(Ph),n=De(()=>{const l=wn(e.to);return t.resolve(l)}),i=De(()=>{const{matched:l}=n.value,{length:c}=l,u=l[c-1],d=s.matched;if(!u||!d.length)return-1;const f=d.findIndex(Tn.bind(null,u));if(f>-1)return f;const p=wc(l[c-2]);return c>1&&wc(u)===p&&d[d.length-1].path!==p?d.findIndex(Tn.bind(null,l[c-2])):f}),o=De(()=>i.value>-1&&Mb(s.params,n.value.params)),r=De(()=>i.value>-1&&i.value===s.matched.length-1&&vh(s.params,n.value.params));function a(l={}){if(Cb(l)){const c=t[wn(e.replace)?"replace":"push"](wn(e.to)).catch(hi);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:n,href:De(()=>n.value.href),isActive:o,isExactActive:r,navigate:a}}function wb(e){return e.length===1?e[0]:e}const kb=$d({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:vc,setup(e,{slots:t}){const s=sr(vc(e)),{options:n}=ds(rl),i=De(()=>({[kc(e.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[kc(e.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const o=t.default&&wb(t.default(s));return e.custom?o:dh("a",{"aria-current":s.isExactActive?e.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:i.value},o)}}}),Sb=kb;function Cb(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Mb(e,t){for(const s in t){const n=t[s],i=e[s];if(typeof n=="string"){if(n!==i)return!1}else if(!$e(i)||i.length!==n.length||n.some((o,r)=>o!==i[r]))return!1}return!0}function wc(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const kc=(e,t,s)=>e??t??s,Pb=$d({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:s}){const n=ds(fa),i=De(()=>e.route||n.value),o=ds(_c,0),r=De(()=>{let c=wn(o);const{matched:u}=i.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),a=De(()=>i.value.matched[r.value]);xo(_c,De(()=>r.value+1)),xo(vb,a),xo(fa,i);const l=Dp();return _o(()=>[l.value,a.value,e.name],([c,u,d],[f,p,g])=>{u&&(u.instances[d]=c,p&&p!==u&&c&&c===f&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),c&&u&&(!p||!Tn(u,p)||!f)&&(u.enterCallbacks[d]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=i.value,u=e.name,d=a.value,f=d&&d.components[u];if(!f)return Sc(s.default,{Component:f,route:c});const p=d.props[u],g=p?p===!0?c.params:typeof p=="function"?p(c):p:null,b=dh(f,vt({},g,t,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(d.instances[u]=null)},ref:l}));return Sc(s.default,{Component:b,route:c})||b}}});function Sc(e,t){if(!e)return null;const s=e(t);return s.length===1?s[0]:s}const Ab=Pb;function Ob(e){const t=pb(e.routes,e),s=e.parseQuery||xb,n=e.stringifyQuery||xc,i=e.history,o=qn(),r=qn(),a=qn(),l=Rp(ys);let c=ys;bn&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Rr.bind(null,O=>""+O),d=Rr.bind(null,Bm),f=Rr.bind(null,Oi);function p(O,q){let z,J;return kh(O)?(z=t.getRecordMatcher(O),J=q):J=O,t.addRoute(J,z)}function g(O){const q=t.getRecordMatcher(O);q&&t.removeRoute(q)}function m(){return t.getRoutes().map(O=>O.record)}function b(O){return!!t.getRecordMatcher(O)}function _(O,q){if(q=vt({},q||l.value),typeof O=="string"){const x=Ir(s,O,q.path),P=t.resolve({path:x.path},q),D=i.createHref(x.fullPath);return vt(x,P,{params:f(P.params),hash:Oi(x.hash),redirectedFrom:void 0,href:D})}let z;if(O.path!=null)z=vt({},O,{path:Ir(s,O.path,q.path).path});else{const x=vt({},O.params);for(const P in x)x[P]==null&&delete x[P];z=vt({},O,{params:d(x)}),q.params=d(q.params)}const J=t.resolve(z,q),_t=O.hash||"";J.params=u(f(J.params));const $t=zm(n,vt({},O,{hash:Fm(_t),path:J.path})),y=i.createHref($t);return vt({fullPath:$t,hash:_t,query:n===xc?_b(O.query):O.query||{}},J,{redirectedFrom:void 0,href:y})}function v(O){return typeof O=="string"?Ir(s,O,l.value.path):vt({},O)}function S(O,q){if(c!==O)return En(8,{from:q,to:O})}function w(O){return E(O)}function C(O){return w(vt(v(O),{replace:!0}))}function R(O){const q=O.matched[O.matched.length-1];if(q&&q.redirect){const{redirect:z}=q;let J=typeof z=="function"?z(O):z;return typeof J=="string"&&(J=J.includes("?")||J.includes("#")?J=v(J):{path:J},J.params={}),vt({query:O.query,hash:O.hash,params:J.path!=null?{}:O.params},J)}}function E(O,q){const z=c=_(O),J=l.value,_t=O.state,$t=O.force,y=O.replace===!0,x=R(z);if(x)return E(vt(v(x),{state:typeof x=="object"?vt({},_t,x.state):_t,force:$t,replace:y}),q||z);const P=z;P.redirectedFrom=q;let D;return!$t&&Hm(n,J,z)&&(D=En(16,{to:P,from:J}),re(J,J,!0,!1)),(D?Promise.resolve(D):et(P,J)).catch(A=>Ze(A)?Ze(A,2)?A:oe(A):ut(A,P,J)).then(A=>{if(A){if(Ze(A,2))return E(vt({replace:y},v(A.to),{state:typeof A.to=="object"?vt({},_t,A.to.state):_t,force:$t}),q||P)}else A=ct(P,J,!0,y,_t);return it(P,J,A),A})}function j(O,q){const z=S(O,q);return z?Promise.reject(z):Promise.resolve()}function G(O){const q=ue.values().next().value;return q&&typeof q.runWithContext=="function"?q.runWithContext(O):O()}function et(O,q){let z;const[J,_t,$t]=Tb(O,q);z=Lr(J.reverse(),"beforeRouteLeave",O,q);for(const x of J)x.leaveGuards.forEach(P=>{z.push(Ss(P,O,q))});const y=j.bind(null,O,q);return z.push(y),zt(z).then(()=>{z=[];for(const x of o.list())z.push(Ss(x,O,q));return z.push(y),zt(z)}).then(()=>{z=Lr(_t,"beforeRouteUpdate",O,q);for(const x of _t)x.updateGuards.forEach(P=>{z.push(Ss(P,O,q))});return z.push(y),zt(z)}).then(()=>{z=[];for(const x of $t)if(x.beforeEnter)if($e(x.beforeEnter))for(const P of x.beforeEnter)z.push(Ss(P,O,q));else z.push(Ss(x.beforeEnter,O,q));return z.push(y),zt(z)}).then(()=>(O.matched.forEach(x=>x.enterCallbacks={}),z=Lr($t,"beforeRouteEnter",O,q,G),z.push(y),zt(z))).then(()=>{z=[];for(const x of r.list())z.push(Ss(x,O,q));return z.push(y),zt(z)}).catch(x=>Ze(x,8)?x:Promise.reject(x))}function it(O,q,z){a.list().forEach(J=>G(()=>J(O,q,z)))}function ct(O,q,z,J,_t){const $t=S(O,q);if($t)return $t;const y=q===ys,x=bn?history.state:{};z&&(J||y?i.replace(O.fullPath,vt({scroll:y&&x&&x.scroll},_t)):i.push(O.fullPath,_t)),l.value=O,re(O,q,z,y),oe()}let Pt;function Wt(){Pt||(Pt=i.listen((O,q,z)=>{if(!Ue.listening)return;const J=_(O),_t=R(J);if(_t){E(vt(_t,{replace:!0,force:!0}),J).catch(hi);return}c=J;const $t=l.value;bn&&Qm(uc($t.fullPath,z.delta),cr()),et(J,$t).catch(y=>Ze(y,12)?y:Ze(y,2)?(E(vt(v(y.to),{force:!0}),J).then(x=>{Ze(x,20)&&!z.delta&&z.type===Ti.pop&&i.go(-1,!1)}).catch(hi),Promise.reject()):(z.delta&&i.go(-z.delta,!1),ut(y,J,$t))).then(y=>{y=y||ct(J,$t,!1),y&&(z.delta&&!Ze(y,8)?i.go(-z.delta,!1):z.type===Ti.pop&&Ze(y,20)&&i.go(-1,!1)),it(J,$t,y)}).catch(hi)}))}let bt=qn(),rt=qn(),st;function ut(O,q,z){oe(O);const J=rt.list();return J.length?J.forEach(_t=>_t(O,q,z)):console.error(O),Promise.reject(O)}function Ot(){return st&&l.value!==ys?Promise.resolve():new Promise((O,q)=>{bt.add([O,q])})}function oe(O){return st||(st=!O,Wt(),bt.list().forEach(([q,z])=>O?z(O):q()),bt.reset()),O}function re(O,q,z,J){const{scrollBehavior:_t}=e;if(!bn||!_t)return Promise.resolve();const $t=!z&&Zm(uc(O.fullPath,0))||(J||!z)&&history.state&&history.state.scroll||null;return Xa().then(()=>_t(O,q,$t)).then(y=>y&&Xm(y)).catch(y=>ut(y,O,q))}const Ut=O=>i.go(O);let Ce;const ue=new Set,Ue={currentRoute:l,listening:!0,addRoute:p,removeRoute:g,clearRoutes:t.clearRoutes,hasRoute:b,getRoutes:m,resolve:_,options:e,push:w,replace:C,go:Ut,back:()=>Ut(-1),forward:()=>Ut(1),beforeEach:o.add,beforeResolve:r.add,afterEach:a.add,onError:rt.add,isReady:Ot,install(O){const q=this;O.component("RouterLink",Sb),O.component("RouterView",Ab),O.config.globalProperties.$router=q,Object.defineProperty(O.config.globalProperties,"$route",{enumerable:!0,get:()=>wn(l)}),bn&&!Ce&&l.value===ys&&(Ce=!0,w(i.location).catch(_t=>{}));const z={};for(const _t in ys)Object.defineProperty(z,_t,{get:()=>l.value[_t],enumerable:!0});O.provide(rl,q),O.provide(Ph,Od(z)),O.provide(fa,l);const J=O.unmount;ue.add(O),O.unmount=function(){ue.delete(O),ue.size<1&&(c=ys,Pt&&Pt(),Pt=null,l.value=ys,Ce=!1,st=!1),J()}}};function zt(O){return O.reduce((q,z)=>q.then(()=>G(z)),Promise.resolve())}return Ue}function Tb(e,t){const s=[],n=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let r=0;r<o;r++){const a=t.matched[r];a&&(e.matched.find(c=>Tn(c,a))?n.push(a):s.push(a));const l=e.matched[r];l&&(t.matched.find(c=>Tn(c,l))||i.push(l))}return[s,n,i]}const Eb={},Db={class:"flex items-center justify-between px-8 py-4 bg-white shadow"},Rb={class:"flex items-center space-x-4"};function Ib(e,t){const s=X("router-link");return k(),M("nav",Db,[t[5]||(t[5]=h("div",{class:"text-xl font-bold text-blue-600"},"Agenda Zen",-1)),h("div",Rb,[F(s,{to:"/buscar",class:"text-blue-600 hover:underline"},{default:ft(()=>t[0]||(t[0]=[at("Buscar")])),_:1,__:[0]}),F(s,{to:"/planos",class:"text-blue-600 hover:underline"},{default:ft(()=>t[1]||(t[1]=[at("Planos")])),_:1,__:[1]}),F(s,{to:"/contato",class:"text-blue-600 hover:underline"},{default:ft(()=>t[2]||(t[2]=[at("Contato")])),_:1,__:[2]}),F(s,{to:"/login",class:"text-blue-600 hover:underline"},{default:ft(()=>t[3]||(t[3]=[at("Login")])),_:1,__:[3]}),F(s,{to:"/cadastro",class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"},{default:ft(()=>t[4]||(t[4]=[at("Cadastre-se")])),_:1,__:[4]})])])}const $n=xt(Eb,[["render",Ib]]),Lb="/hero-illustration.png",jb={name:"HeroBanner"},Fb={class:"text-center py-20"},$b={class:"max-w-4xl mx-auto px-4"},Nb={class:"grid grid-cols-1 md:grid-cols-2 items-center gap-8"},Bb={class:"space-x-4"};function Ub(e,t,s,n,i,o){const r=X("router-link");return k(),M("section",Fb,[h("div",$b,[h("div",Nb,[h("div",null,[t[2]||(t[2]=h("h1",{class:"text-4xl font-bold text-blue-800 mb-4"},"Sua agenda digital simples e profissional",-1)),t[3]||(t[3]=h("p",{class:"text-gray-600 text-lg mb-6"},"Perfeita para psiclogos, terapeutas, dentistas, cabeleireiros e mais",-1)),h("div",Bb,[F(r,{to:"/login",class:"bg-white border border-blue-600 text-blue-600 px-6 py-2 rounded hover:bg-blue-100"},{default:ft(()=>t[0]||(t[0]=[at("Entrar")])),_:1,__:[0]}),F(r,{to:"/cadastro",class:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700"},{default:ft(()=>t[1]||(t[1]=[at("Criar conta")])),_:1,__:[1]})])]),t[4]||(t[4]=h("div",null,[h("img",{src:Lb,alt:"Ilustrao profissional usando a plataforma",class:"w-full h-auto max-w-md mx-auto"})],-1))])])])}const Vb=xt(jb,[["render",Ub]]),xs="/icons/check.svg",zb={name:"FeaturesSection"},Hb={class:"py-16 px-8"};function Wb(e,t,s,n,i,o){return k(),M("section",Hb,t[0]||(t[0]=[ar('<h2 class="text-2xl font-bold text-center mb-8">Funcionalidades</h2><ul class="max-w-4xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-4 text-gray-700 text-lg"><li class="flex items-start"><img src="'+xs+'" alt="" class="w-6 h-6 mt-1 mr-2"><span>Cadastro e autenticao de usurios</span></li><li class="flex items-start"><img src="'+xs+'" alt="" class="w-6 h-6 mt-1 mr-2"><span>Gesto de clientes, servios e salas</span></li><li class="flex items-start"><img src="'+xs+'" alt="" class="w-6 h-6 mt-1 mr-2"><span>Controle de agendamentos em lista, calendrio ou semana</span></li><li class="flex items-start"><img src="'+xs+'" alt="" class="w-6 h-6 mt-1 mr-2"><span>Dashboard com estatsticas e grficos</span></li><li class="flex items-start"><img src="'+xs+'" alt="" class="w-6 h-6 mt-1 mr-2"><span>Configurao de perfil pblico com link personalizado</span></li><li class="flex items-start"><img src="'+xs+'" alt="" class="w-6 h-6 mt-1 mr-2"><span>Gerao de comprovantes de atendimento</span></li><li class="flex items-start"><img src="'+xs+'" alt="" class="w-6 h-6 mt-1 mr-2"><span>Lembretes automticos para seus clientes</span></li><li class="flex items-start"><img src="'+xs+'" alt="" class="w-6 h-6 mt-1 mr-2"><span>Pagamentos via Pix de forma prtica e segura</span></li></ul>',2)]))}const qb=xt(zb,[["render",Wb]]),Kb="/about-illustration.png",Gb={name:"AboutSection"},Yb={class:"px-8 py-16"};function Jb(e,t,s,n,i,o){return k(),M("section",Yb,t[0]||(t[0]=[h("div",{class:"max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 items-center"},[h("div",null,[h("img",{src:Kb,alt:"Ilustrao sobre agendamento",class:"w-full h-auto max-w-md mx-auto"})]),h("div",null,[h("h2",{class:"text-2xl font-bold mb-4"},"O que  o Agenda Zen?"),h("p",{class:"text-gray-700 text-lg"}," O Agenda Zen  uma plataforma pensada para profissionais que trabalham com agendamentos. Criamos uma soluo simples, bonita e eficiente para divulgar seus servios, aceitar agendamentos online, enviar lembretes automticos e receber pagamentos por Pix  tudo sem complicao. ")])],-1)]))}const Xb=xt(Gb,[["render",Jb]]),Qb={name:"Footer"},Zb={class:"bg-gray-100 text-center text-sm text-gray-500 py-6"};function t0(e,t,s,n,i,o){return k(),M("footer",Zb,t[0]||(t[0]=[h("p",null," 2025 Agenda Zen  Todos os direitos reservados",-1),h("p",null,[h("a",{href:"#",class:"hover:underline"},"Termos de uso"),at(" | "),h("a",{href:"#",class:"hover:underline"},"Poltica de privacidade")],-1)]))}const Nn=xt(Qb,[["render",t0]]),e0={name:"Home",components:{Navbar:$n,HeroBanner:Vb,FeaturesSection:qb,AboutSection:Xb,Footer:Nn}};function s0(e,t,s,n,i,o){const r=X("Navbar"),a=X("HeroBanner"),l=X("FeaturesSection"),c=X("AboutSection"),u=X("Footer");return k(),M(nt,null,[F(r),F(a),F(l),F(c),F(u)],64)}const n0=xt(e0,[["render",s0]]),i0="modulepreload",o0=function(e){return"/"+e},Cc={},Dn=function(t,s,n){if(!s||s.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(s.map(o=>{if(o=o0(o),o in Cc)return;Cc[o]=!0;const r=o.endsWith(".css"),a=r?'[rel="stylesheet"]':"";if(!!n)for(let u=i.length-1;u>=0;u--){const d=i[u];if(d.href===o&&(!r||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const c=document.createElement("link");if(c.rel=r?"stylesheet":i0,r||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),r)return new Promise((u,d)=>{c.addEventListener("load",u),c.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=o,window.dispatchEvent(r),!r.defaultPrevented)throw o})},r0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>Dn(()=>Promise.resolve().then(()=>Bn),void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)};class al extends Error{constructor(t,s="FunctionsError",n){super(t),this.name=s,this.context=n}}class a0 extends al{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class l0 extends al{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class c0 extends al{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var pa;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(pa||(pa={}));var u0=globalThis&&globalThis.__awaiter||function(e,t,s,n){function i(o){return o instanceof s?o:new s(function(r){r(o)})}return new(s||(s=Promise))(function(o,r){function a(u){try{c(n.next(u))}catch(d){r(d)}}function l(u){try{c(n.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class d0{constructor(t,{headers:s={},customFetch:n,region:i=pa.Any}={}){this.url=t,this.headers=s,this.region=i,this.fetch=r0(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,s={}){var n;return u0(this,void 0,void 0,function*(){try{const{headers:i,method:o,body:r}=s;let a={},{region:l}=s;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;r&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&r instanceof Blob||r instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=r):typeof r=="string"?(a["Content-Type"]="text/plain",c=r):typeof FormData<"u"&&r instanceof FormData?c=r:(a["Content-Type"]="application/json",c=JSON.stringify(r)));const u=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(g=>{throw new a0(g)}),d=u.headers.get("x-relay-error");if(d&&d==="true")throw new l0(u);if(!u.ok)throw new c0(u);let f=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return f==="application/json"?p=yield u.json():f==="application/octet-stream"?p=yield u.blob():f==="text/event-stream"?p=u:f==="multipart/form-data"?p=yield u.formData():p=yield u.text(),{data:p,error:null}}catch(i){return{data:null,error:i}}})}}var Oe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function YA(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function h0(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var s=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};s.prototype=t.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(s,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),s}var pe={},ll={},ur={},Hi={},dr={},hr={},f0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Rn=f0();const p0=Rn.fetch,Ah=Rn.fetch.bind(Rn),Oh=Rn.Headers,g0=Rn.Request,m0=Rn.Response,Bn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Oh,Request:g0,Response:m0,default:Ah,fetch:p0},Symbol.toStringTag,{value:"Module"})),b0=h0(Bn);var fr={};Object.defineProperty(fr,"__esModule",{value:!0});let y0=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};fr.default=y0;var Th=Oe&&Oe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hr,"__esModule",{value:!0});const x0=Th(b0),_0=Th(fr);let v0=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=x0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,s){return this.headers=Object.assign({},this.headers),this.headers[t]=s,this}then(t,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var r,a,l;let c=null,u=null,d=null,f=o.status,p=o.statusText;if(o.ok){if(this.method!=="HEAD"){const _=await o.text();_===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=_:u=JSON.parse(_))}const m=(r=this.headers.Prefer)===null||r===void 0?void 0:r.match(/count=(exact|planned|estimated)/),b=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&b&&b.length>1&&(d=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,f=406,p="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const m=await o.text();try{c=JSON.parse(m),Array.isArray(c)&&o.status===404&&(u=[],c=null,f=200,p="OK")}catch{o.status===404&&m===""?(f=204,p="No Content"):c={message:m}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,p="OK"),c&&this.shouldThrowOnError)throw new _0.default(c)}return{error:c,data:u,count:d,status:f,statusText:p}});return this.shouldThrowOnError||(i=i.catch(o=>{var r,a,l;return{error:{message:`${(r=o==null?void 0:o.name)!==null&&r!==void 0?r:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o==null?void 0:o.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,s)}returns(){return this}overrideTypes(){return this}};hr.default=v0;var w0=Oe&&Oe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dr,"__esModule",{value:!0});const k0=w0(hr);let S0=class extends k0.default{select(t){let s=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!s?"":(i==='"'&&(s=!s),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:s=!0,nullsFirst:n,foreignTable:i,referencedTable:o=i}={}){const r=o?`${o}.order`:"order",a=this.url.searchParams.get(r);return this.url.searchParams.set(r,`${a?`${a},`:""}${t}.${s?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:s,referencedTable:n=s}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,s,{foreignTable:n,referencedTable:i=n}={}){const o=typeof i>"u"?"offset":`${i}.offset`,r=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(r,`${s-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:s=!1,settings:n=!1,buffers:i=!1,wal:o=!1,format:r="text"}={}){var a;const l=[t?"analyze":null,s?"verbose":null,n?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${r}; for="${c}"; options=${l};`,r==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};dr.default=S0;var C0=Oe&&Oe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hi,"__esModule",{value:!0});const M0=C0(dr);let P0=class extends M0.default{eq(t,s){return this.url.searchParams.append(t,`eq.${s}`),this}neq(t,s){return this.url.searchParams.append(t,`neq.${s}`),this}gt(t,s){return this.url.searchParams.append(t,`gt.${s}`),this}gte(t,s){return this.url.searchParams.append(t,`gte.${s}`),this}lt(t,s){return this.url.searchParams.append(t,`lt.${s}`),this}lte(t,s){return this.url.searchParams.append(t,`lte.${s}`),this}like(t,s){return this.url.searchParams.append(t,`like.${s}`),this}likeAllOf(t,s){return this.url.searchParams.append(t,`like(all).{${s.join(",")}}`),this}likeAnyOf(t,s){return this.url.searchParams.append(t,`like(any).{${s.join(",")}}`),this}ilike(t,s){return this.url.searchParams.append(t,`ilike.${s}`),this}ilikeAllOf(t,s){return this.url.searchParams.append(t,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(t,s){return this.url.searchParams.append(t,`ilike(any).{${s.join(",")}}`),this}is(t,s){return this.url.searchParams.append(t,`is.${s}`),this}in(t,s){const n=Array.from(new Set(s)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cs.{${s.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(s)}`),this}containedBy(t,s){return typeof s=="string"?this.url.searchParams.append(t,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(t,`cd.{${s.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(s)}`),this}rangeGt(t,s){return this.url.searchParams.append(t,`sr.${s}`),this}rangeGte(t,s){return this.url.searchParams.append(t,`nxl.${s}`),this}rangeLt(t,s){return this.url.searchParams.append(t,`sl.${s}`),this}rangeLte(t,s){return this.url.searchParams.append(t,`nxr.${s}`),this}rangeAdjacent(t,s){return this.url.searchParams.append(t,`adj.${s}`),this}overlaps(t,s){return typeof s=="string"?this.url.searchParams.append(t,`ov.${s}`):this.url.searchParams.append(t,`ov.{${s.join(",")}}`),this}textSearch(t,s,{config:n,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const r=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${r}.${s}`),this}match(t){return Object.entries(t).forEach(([s,n])=>{this.url.searchParams.append(s,`eq.${n}`)}),this}not(t,s,n){return this.url.searchParams.append(t,`not.${s}.${n}`),this}or(t,{foreignTable:s,referencedTable:n=s}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,s,n){return this.url.searchParams.append(t,`${s}.${n}`),this}};Hi.default=P0;var A0=Oe&&Oe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ur,"__esModule",{value:!0});const Kn=A0(Hi);let O0=class{constructor(t,{headers:s={},schema:n,fetch:i}){this.url=t,this.headers=s,this.schema=n,this.fetch=i}select(t,{head:s=!1,count:n}={}){const i=s?"HEAD":"GET";let o=!1;const r=(t??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",r),n&&(this.headers.Prefer=`count=${n}`),new Kn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:s,defaultToNull:n=!0}={}){const i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const r=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(r.length>0){const a=[...new Set(r)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Kn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:s,ignoreDuplicates:n=!1,count:i,defaultToNull:o=!0}={}){const r="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Kn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:s}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),this.headers.Prefer=i.join(","),new Kn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const s="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Kn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};ur.default=O0;var pr={},gr={};Object.defineProperty(gr,"__esModule",{value:!0});gr.version=void 0;gr.version="0.0.0-automated";Object.defineProperty(pr,"__esModule",{value:!0});pr.DEFAULT_HEADERS=void 0;const T0=gr;pr.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${T0.version}`};var Eh=Oe&&Oe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ll,"__esModule",{value:!0});const E0=Eh(ur),D0=Eh(Hi),R0=pr;let I0=class Dh{constructor(t,{headers:s={},schema:n,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},R0.DEFAULT_HEADERS),s),this.schemaName=n,this.fetch=i}from(t){const s=new URL(`${this.url}/${t}`);return new E0.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Dh(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,s={},{head:n=!1,get:i=!1,count:o}={}){let r;const a=new URL(`${this.url}/rpc/${t}`);let l;n||i?(r=n?"HEAD":"GET",Object.entries(s).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(r="POST",l=s);const c=Object.assign({},this.headers);return o&&(c.Prefer=`count=${o}`),new D0.default({method:r,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};ll.default=I0;var Un=Oe&&Oe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(pe,"__esModule",{value:!0});pe.PostgrestError=pe.PostgrestBuilder=pe.PostgrestTransformBuilder=pe.PostgrestFilterBuilder=pe.PostgrestQueryBuilder=pe.PostgrestClient=void 0;const Rh=Un(ll);pe.PostgrestClient=Rh.default;const Ih=Un(ur);pe.PostgrestQueryBuilder=Ih.default;const Lh=Un(Hi);pe.PostgrestFilterBuilder=Lh.default;const jh=Un(dr);pe.PostgrestTransformBuilder=jh.default;const Fh=Un(hr);pe.PostgrestBuilder=Fh.default;const $h=Un(fr);pe.PostgrestError=$h.default;var L0=pe.default={PostgrestClient:Rh.default,PostgrestQueryBuilder:Ih.default,PostgrestFilterBuilder:Lh.default,PostgrestTransformBuilder:jh.default,PostgrestBuilder:Fh.default,PostgrestError:$h.default};const{PostgrestClient:j0,PostgrestQueryBuilder:eO,PostgrestFilterBuilder:sO,PostgrestTransformBuilder:nO,PostgrestBuilder:iO,PostgrestError:oO}=L0,F0="2.11.2",$0={"X-Client-Info":`realtime-js/${F0}`},N0="1.0.0",Nh=1e4,B0=1e3;var Mn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Mn||(Mn={}));var ve;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ve||(ve={}));var Ee;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ee||(Ee={}));var ga;(function(e){e.websocket="websocket"})(ga||(ga={}));var Xs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Xs||(Xs={}));class U0{constructor(){this.HEADER_LENGTH=1}decode(t,s){return t.constructor===ArrayBuffer?s(this._binaryDecode(t)):s(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const s=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,s,n)}_decodeBroadcast(t,s,n){const i=s.getUint8(1),o=s.getUint8(2);let r=this.HEADER_LENGTH+2;const a=n.decode(t.slice(r,r+i));r=r+i;const l=n.decode(t.slice(r,r+o));r=r+o;const c=JSON.parse(n.decode(t.slice(r,t.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Bh{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Et;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Et||(Et={}));const Mc=(e,t,s={})=>{var n;const i=(n=s.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,r)=>(o[r]=V0(r,e,t,i),o),{})},V0=(e,t,s,n)=>{const i=t.find(a=>a.name===e),o=i==null?void 0:i.type,r=s[e];return o&&!n.includes(o)?Uh(o,r):ma(r)},Uh=(e,t)=>{if(e.charAt(0)==="_"){const s=e.slice(1,e.length);return q0(t,s)}switch(e){case Et.bool:return z0(t);case Et.float4:case Et.float8:case Et.int2:case Et.int4:case Et.int8:case Et.numeric:case Et.oid:return H0(t);case Et.json:case Et.jsonb:return W0(t);case Et.timestamp:return K0(t);case Et.abstime:case Et.date:case Et.daterange:case Et.int4range:case Et.int8range:case Et.money:case Et.reltime:case Et.text:case Et.time:case Et.timestamptz:case Et.timetz:case Et.tsrange:case Et.tstzrange:return ma(t);default:return ma(t)}},ma=e=>e,z0=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},H0=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},W0=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},q0=(e,t)=>{if(typeof e!="string")return e;const s=e.length-1,n=e[s];if(e[0]==="{"&&n==="}"){let o;const r=e.slice(1,s);try{o=JSON.parse("["+r+"]")}catch{o=r?r.split(","):[]}return o.map(a=>Uh(t,a))}return e},K0=e=>typeof e=="string"?e.replace(" ","T"):e,Vh=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class jr{constructor(t,s,n={},i=Nh){this.channel=t,this.event=s,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var n;return this._hasReceived(t)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Pc;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Pc||(Pc={}));class pi{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:o,onLeave:r,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=pi.syncState(this.state,i,o,r),this.pendingDiffs.forEach(l=>{this.state=pi.syncDiff(this.state,l,o,r)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{const{onJoin:o,onLeave:r,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=pi.syncDiff(this.state,i,o,r),a())}),this.onJoin((i,o,r)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:r})}),this.onLeave((i,o,r)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,n,i){const o=this.cloneDeep(t),r=this.transformState(s),a={},l={};return this.map(o,(c,u)=>{r[c]||(l[c]=u)}),this.map(r,(c,u)=>{const d=o[c];if(d){const f=u.map(b=>b.presence_ref),p=d.map(b=>b.presence_ref),g=u.filter(b=>p.indexOf(b.presence_ref)<0),m=d.filter(b=>f.indexOf(b.presence_ref)<0);g.length>0&&(a[c]=g),m.length>0&&(l[c]=m)}else a[c]=u}),this.syncDiff(o,{joins:a,leaves:l},n,i)}static syncDiff(t,s,n,i){const{joins:o,leaves:r}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var c;const u=(c=t[a])!==null&&c!==void 0?c:[];if(t[a]=this.cloneDeep(l),u.length>0){const d=t[a].map(p=>p.presence_ref),f=u.filter(p=>d.indexOf(p.presence_ref)<0);t[a].unshift(...f)}n(a,u,l)}),this.map(r,(a,l)=>{let c=t[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),t[a]=c,i(a,c,l),c.length===0&&delete t[a]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(n=>s(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,n)=>{const i=t[n];return"metas"in i?s[n]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):s[n]=i,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ac;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Ac||(Ac={}));var Oc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Oc||(Oc={}));var is;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(is||(is={}));class cl{constructor(t,s={config:{}},n){this.topic=t,this.params=s,this.socket=n,this.bindings={},this.state=ve.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new jr(this,Ee.join,this.params,this.timeout),this.rejoinTimer=new Bh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ve.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ve.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ve.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ee.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new pi(this),this.broadcastEndpointURL=Vh(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,s=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:r,private:a}}=this.params;this._onError(u=>t==null?void 0:t(is.CHANNEL_ERROR,u)),this._onClose(()=>t==null?void 0:t(is.CLOSED));const l={},c={broadcast:o,presence:r,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:u})=>{var d;if(this.socket.setAuth(),u===void 0){t==null||t(is.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,p=(d=f==null?void 0:f.length)!==null&&d!==void 0?d:0,g=[];for(let m=0;m<p;m++){const b=f[m],{filter:{event:_,schema:v,table:S,filter:w}}=b,C=u&&u[m];if(C&&C.event===_&&C.schema===v&&C.table===S&&C.filter===w)g.push(Object.assign(Object.assign({},b),{id:C.id}));else{this.unsubscribe(),t==null||t(is.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(is.SUBSCRIBED);return}}).receive("error",u=>{t==null||t(is.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(is.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,n){return this._on(t,s,n)}async send(t,s={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:r}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:r,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var r,a,l;const c=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(r=this.params)===null||r===void 0?void 0:r.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ve.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ee.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const i=new jr(this,Ee.leave,{},t);i.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}async _fetchWithTimeout(t,s,n){const i=new AbortController,o=setTimeout(()=>i.abort(),n),r=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:i.signal}));return clearTimeout(o),r}_push(t,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new jr(this,t,s,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,s,n){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,n){var i,o;const r=t.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Ee;if(n&&[a,l,c,u].indexOf(r)>=0&&n!==this._joinRef())return;let f=this._onMessage(r,s,n);if(s&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(r)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var g,m,b;return((g=p.filter)===null||g===void 0?void 0:g.event)==="*"||((b=(m=p.filter)===null||m===void 0?void 0:m.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===r}).map(p=>p.callback(f,n)):(o=this.bindings[r])===null||o===void 0||o.filter(p=>{var g,m,b,_,v,S;if(["broadcast","presence","postgres_changes"].includes(r))if("id"in p){const w=p.id,C=(g=p.filter)===null||g===void 0?void 0:g.event;return w&&((m=s.ids)===null||m===void 0?void 0:m.includes(w))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((b=s.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const w=(v=(_=p==null?void 0:p.filter)===null||_===void 0?void 0:_.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return w==="*"||w===((S=s==null?void 0:s.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===r}).map(p=>{if(typeof f=="object"&&"ids"in f){const g=f.data,{schema:m,table:b,commit_timestamp:_,type:v,errors:S}=g;f=Object.assign(Object.assign({},{schema:m,table:b,commit_timestamp:_,eventType:v,new:{},old:{},errors:S}),this._getPayloadRecords(g))}p.callback(f,n)})}_isClosed(){return this.state===ve.closed}_isJoined(){return this.state===ve.joined}_isJoining(){return this.state===ve.joining}_isLeaving(){return this.state===ve.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,n){const i=t.toLocaleLowerCase(),o={type:i,filter:s,callback:n};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,s){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&cl.isEqual(i.filter,s))}),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const n in t)if(t[n]!==s[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ee.close,{},t)}_onError(t){this._on(Ee.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ve.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=Mc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=Mc(t.columns,t.old_record)),s}}const G0=()=>{},Y0=typeof WebSocket<"u",J0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class X0{constructor(t,s){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=$0,this.params={},this.timeout=Nh,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=G0,this.conn=null,this.sendBuffer=[],this.serializer=new U0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let r;return o?r=o:typeof fetch>"u"?r=(...a)=>Dn(()=>Promise.resolve().then(()=>Bn),void 0).then(({default:l})=>l(...a)):r=fetch,(...a)=>r(...a)},this.endPoint=`${t}/${ga.websocket}`,this.httpEndpoint=Vh(t),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const i=(n=s==null?void 0:s.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(o,r)=>r(JSON.stringify(o)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Bh(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(Y0){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Q0(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Dn(()=>import("./browser-fbab96f3.js").then(t=>t.b),[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:N0}))}disconnect(t,s){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),t}log(t,s,n){this.logger(t,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Mn.connecting:return Xs.Connecting;case Mn.open:return Xs.Open;case Mn.closing:return Xs.Closing;default:return Xs.Closed}}isConnected(){return this.connectionState()===Xs.Open}channel(t,s={config:{}}){const n=new cl(`realtime:${t}`,s,this);return this.channels.push(n),n}push(t){const{topic:s,event:n,payload:i,ref:o}=t,r=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${n} (${o})`,i),this.isConnected()?r():this.sendBuffer.push(r)}async setAuth(t=null){let s=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let n=null;try{n=JSON.parse(atob(s.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=s,this.channels.forEach(i=>{s&&i.updateJoinPayload({access_token:s}),i.joinedOnce&&i._isJoined()&&i._push(Ee.access_token,{access_token:s})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(B0,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,s=>{let{topic:n,event:i,payload:o,ref:r}=s;r&&r===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${i} ${r&&"("+r+")"||""}`,o),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(i,o,r)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ee.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(s);return`${t}${n}${i}`}_workerObjectUrl(t){let s;if(t)s=t;else{const n=new Blob([J0],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}}class Q0{constructor(t,s,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Mn.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class ul extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Kt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Z0 extends ul{constructor(t,s){super(t),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class ba extends ul{constructor(t,s){super(t),this.name="StorageUnknownError",this.originalError=s}}var ty=globalThis&&globalThis.__awaiter||function(e,t,s,n){function i(o){return o instanceof s?o:new s(function(r){r(o)})}return new(s||(s=Promise))(function(o,r){function a(u){try{c(n.next(u))}catch(d){r(d)}}function l(u){try{c(n.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const zh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>Dn(()=>Promise.resolve().then(()=>Bn),void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)},ey=()=>ty(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Dn(()=>Promise.resolve().then(()=>Bn),void 0)).Response:Response}),ya=e=>{if(Array.isArray(e))return e.map(s=>ya(s));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([s,n])=>{const i=s.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=ya(n)}),t};var an=globalThis&&globalThis.__awaiter||function(e,t,s,n){function i(o){return o instanceof s?o:new s(function(r){r(o)})}return new(s||(s=Promise))(function(o,r){function a(u){try{c(n.next(u))}catch(d){r(d)}}function l(u){try{c(n.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const Fr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),sy=(e,t,s)=>an(void 0,void 0,void 0,function*(){const n=yield ey();e instanceof n&&!(s!=null&&s.noResolveJson)?e.json().then(i=>{t(new Z0(Fr(i),e.status||500))}).catch(i=>{t(new ba(Fr(i),i))}):t(new ba(Fr(e),e))}),ny=(e,t,s,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),s))};function Wi(e,t,s,n,i,o){return an(this,void 0,void 0,function*(){return new Promise((r,a)=>{e(s,ny(t,n,i,o)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>r(l)).catch(l=>sy(l,a,n))})})}function Vo(e,t,s,n){return an(this,void 0,void 0,function*(){return Wi(e,"GET",t,s,n)})}function Cs(e,t,s,n,i){return an(this,void 0,void 0,function*(){return Wi(e,"POST",t,n,i,s)})}function iy(e,t,s,n,i){return an(this,void 0,void 0,function*(){return Wi(e,"PUT",t,n,i,s)})}function oy(e,t,s,n){return an(this,void 0,void 0,function*(){return Wi(e,"HEAD",t,Object.assign(Object.assign({},s),{noResolveJson:!0}),n)})}function Hh(e,t,s,n,i){return an(this,void 0,void 0,function*(){return Wi(e,"DELETE",t,n,i,s)})}var de=globalThis&&globalThis.__awaiter||function(e,t,s,n){function i(o){return o instanceof s?o:new s(function(r){r(o)})}return new(s||(s=Promise))(function(o,r){function a(u){try{c(n.next(u))}catch(d){r(d)}}function l(u){try{c(n.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const ry={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Tc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ay{constructor(t,s={},n,i){this.url=t,this.headers=s,this.bucketId=n,this.fetch=zh(i)}uploadOrUpdate(t,s,n,i){return de(this,void 0,void 0,function*(){try{let o;const r=Object.assign(Object.assign({},Tc),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(r.upsert)});const l=r.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",r.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",r.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=n,a["cache-control"]=`max-age=${r.cacheControl}`,a["content-type"]=r.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const c=this._removeEmptyFolders(s),u=this._getFinalPath(c),d=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:t,body:o,headers:a},r!=null&&r.duplex?{duplex:r.duplex}:{})),f=yield d.json();return d.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(o){if(Kt(o))return{data:null,error:o};throw o}})}upload(t,s,n){return de(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,s,n)})}uploadToSignedUrl(t,s,n,i){return de(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),r=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${r}`);a.searchParams.set("token",s);try{let l;const c=Object.assign({upsert:Tc.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),f=yield d.json();return d.ok?{data:{path:o,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(Kt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,s){return de(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);s!=null&&s.upsert&&(i["x-upsert"]="true");const o=yield Cs(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),r=new URL(this.url+o.url),a=r.searchParams.get("token");if(!a)throw new ul("No token returned by API");return{data:{signedUrl:r.toString(),path:t,token:a},error:null}}catch(n){if(Kt(n))return{data:null,error:n};throw n}})}update(t,s,n){return de(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,s,n)})}move(t,s,n){return de(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Kt(i))return{data:null,error:i};throw i}})}copy(t,s,n){return de(this,void 0,void 0,function*(){try{return{data:{path:(yield Cs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Kt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,s,n){return de(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield Cs(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:s},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const r=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${r}`)},{data:o,error:null}}catch(i){if(Kt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,s,n){return de(this,void 0,void 0,function*(){try{const i=yield Cs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(r=>Object.assign(Object.assign({},r),{signedUrl:r.signedURL?encodeURI(`${this.url}${r.signedURL}${o}`):null})),error:null}}catch(i){if(Kt(i))return{data:null,error:i};throw i}})}download(t,s){return de(this,void 0,void 0,function*(){const i=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),r=o?`?${o}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield Vo(this.fetch,`${this.url}/${i}/${a}${r}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Kt(a))return{data:null,error:a};throw a}})}info(t){return de(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{const n=yield Vo(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:ya(n),error:null}}catch(n){if(Kt(n))return{data:null,error:n};throw n}})}exists(t){return de(this,void 0,void 0,function*(){const s=this._getFinalPath(t);try{return yield oy(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Kt(n)&&n instanceof ba){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,s){const n=this._getFinalPath(t),i=[],o=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";o!==""&&i.push(o);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(t){return de(this,void 0,void 0,function*(){try{return{data:yield Hh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(s){if(Kt(s))return{data:null,error:s};throw s}})}list(t,s,n){return de(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},ry),s),{prefix:t||""});return{data:yield Cs(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Kt(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const s=[];return t.width&&s.push(`width=${t.width}`),t.height&&s.push(`height=${t.height}`),t.resize&&s.push(`resize=${t.resize}`),t.format&&s.push(`format=${t.format}`),t.quality&&s.push(`quality=${t.quality}`),s.join("&")}}const ly="2.7.1",cy={"X-Client-Info":`storage-js/${ly}`};var dn=globalThis&&globalThis.__awaiter||function(e,t,s,n){function i(o){return o instanceof s?o:new s(function(r){r(o)})}return new(s||(s=Promise))(function(o,r){function a(u){try{c(n.next(u))}catch(d){r(d)}}function l(u){try{c(n.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class uy{constructor(t,s={},n){this.url=t,this.headers=Object.assign(Object.assign({},cy),s),this.fetch=zh(n)}listBuckets(){return dn(this,void 0,void 0,function*(){try{return{data:yield Vo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Kt(t))return{data:null,error:t};throw t}})}getBucket(t){return dn(this,void 0,void 0,function*(){try{return{data:yield Vo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(s){if(Kt(s))return{data:null,error:s};throw s}})}createBucket(t,s={public:!1}){return dn(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Kt(n))return{data:null,error:n};throw n}})}updateBucket(t,s){return dn(this,void 0,void 0,function*(){try{return{data:yield iy(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Kt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return dn(this,void 0,void 0,function*(){try{return{data:yield Cs(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(Kt(s))return{data:null,error:s};throw s}})}deleteBucket(t){return dn(this,void 0,void 0,function*(){try{return{data:yield Hh(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(s){if(Kt(s))return{data:null,error:s};throw s}})}}class dy extends uy{constructor(t,s={},n){super(t,s,n)}from(t){return new ay(this.url,this.headers,t,this.fetch)}}const hy="2.49.8";let ti="";typeof Deno<"u"?ti="deno":typeof document<"u"?ti="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ti="react-native":ti="node";const fy={"X-Client-Info":`supabase-js-${ti}/${hy}`},py={headers:fy},gy={schema:"public"},my={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},by={};var yy=globalThis&&globalThis.__awaiter||function(e,t,s,n){function i(o){return o instanceof s?o:new s(function(r){r(o)})}return new(s||(s=Promise))(function(o,r){function a(u){try{c(n.next(u))}catch(d){r(d)}}function l(u){try{c(n.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};const xy=e=>{let t;return e?t=e:typeof fetch>"u"?t=Ah:t=fetch,(...s)=>t(...s)},_y=()=>typeof Headers>"u"?Oh:Headers,vy=(e,t,s)=>{const n=xy(s),i=_y();return(o,r)=>yy(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let c=new i(r==null?void 0:r.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(o,Object.assign(Object.assign({},r),{headers:c}))})};var wy=globalThis&&globalThis.__awaiter||function(e,t,s,n){function i(o){return o instanceof s?o:new s(function(r){r(o)})}return new(s||(s=Promise))(function(o,r){function a(u){try{c(n.next(u))}catch(d){r(d)}}function l(u){try{c(n.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};function ky(e){return e.endsWith("/")?e:e+"/"}function Sy(e,t){var s,n;const{db:i,auth:o,realtime:r,global:a}=e,{db:l,auth:c,realtime:u,global:d}=t,f={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),o),realtime:Object.assign(Object.assign({},u),r),global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(s=d==null?void 0:d.headers)!==null&&s!==void 0?s:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>wy(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const Wh="2.69.1",yn=30*1e3,xa=3,$r=xa*yn,Cy="http://localhost:9999",My="supabase.auth.token",Py={"X-Client-Info":`gotrue-js/${Wh}`},_a="X-Supabase-Api-Version",qh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ay=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Oy=6e5;class dl extends Error{constructor(t,s,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function ht(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Ty extends dl{constructor(t,s,n){super(t,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function Ey(e){return ht(e)&&e.name==="AuthApiError"}class Kh extends dl{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class $s extends dl{constructor(t,s,n,i){super(t,n,i),this.name=s,this.status=n}}class _s extends $s{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Dy(e){return ht(e)&&e.name==="AuthSessionMissingError"}class Nr extends $s{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Qi extends $s{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Zi extends $s{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ry(e){return ht(e)&&e.name==="AuthImplicitGrantRedirectError"}class Ec extends $s{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class va extends $s{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function Br(e){return ht(e)&&e.name==="AuthRetryableFetchError"}class Dc extends $s{constructor(t,s,n){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}class gi extends $s{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Rc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ic=` 	
\r=`.split(""),Iy=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Ic.length;t+=1)e[Ic[t].charCodeAt(0)]=-2;for(let t=0;t<Rc.length;t+=1)e[Rc[t].charCodeAt(0)]=t;return e})();function Gh(e,t,s){const n=Iy[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Lc(e){const t=[],s=r=>{t.push(String.fromCodePoint(r))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=r=>{Fy(r,n,s)};for(let r=0;r<e.length;r+=1)Gh(e.charCodeAt(r),i,o);return t.join("")}function Ly(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function jy(e,t){for(let s=0;s<e.length;s+=1){let n=e.charCodeAt(s);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(s+1)-56320&65535|i)+65536,s+=1}Ly(n,t)}}function Fy(e,t,s){if(t.utf8seq===0){if(e<=127){s(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function $y(e){const t=[],s={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Gh(e.charCodeAt(i),s,n);return new Uint8Array(t)}function Ny(e){const t=[];return jy(e,s=>t.push(s)),new Uint8Array(t)}function By(e){return Math.round(Date.now()/1e3)+e}function Uy(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const He=()=>typeof window<"u"&&typeof document<"u",Vs={tested:!1,writable:!1},mi=()=>{if(!He())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Vs.tested)return Vs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Vs.tested=!0,Vs.writable=!0}catch{Vs.tested=!0,Vs.writable=!1}return Vs.writable};function Vy(e){const t={},s=new URL(e);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return s.searchParams.forEach((n,i)=>{t[i]=n}),t}const Yh=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...s)=>Dn(()=>Promise.resolve().then(()=>Bn),void 0).then(({default:n})=>n(...s)):t=fetch,(...s)=>t(...s)},zy=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Jh=async(e,t,s)=>{await e.setItem(t,JSON.stringify(s))},to=async(e,t)=>{const s=await e.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},eo=async(e,t)=>{await e.removeItem(t)};class mr{constructor(){this.promise=new mr.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}mr.promiseConstructor=Promise;function Ur(e){const t=e.split(".");if(t.length!==3)throw new gi("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Ay.test(t[n]))throw new gi("JWT not in base64url format");return{header:JSON.parse(Lc(t[0])),payload:JSON.parse(Lc(t[1])),signature:$y(t[2]),raw:{header:t[0],payload:t[1]}}}async function Hy(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Wy(e,t){return new Promise((n,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const r=await e(o);if(!t(o,null,r)){n(r);return}}catch(r){if(!t(o,r)){i(r);return}}})()})}function qy(e){return("0"+e.toString(16)).substr(-2)}function Ky(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let i="";for(let o=0;o<56;o++)i+=s.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,qy).join("")}async function Gy(e){const s=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",s),i=new Uint8Array(n);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function Yy(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const s=await Gy(e);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function hn(e,t,s=!1){const n=Ky();let i=n;s&&(i+="/PASSWORD_RECOVERY"),await Jh(e,`${t}-code-verifier`,i);const o=await Yy(n);return[o,n===o?"plain":"s256"]}const Jy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Xy(e){const t=e.headers.get(_a);if(!t||!t.match(Jy))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Qy(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Zy(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var tx=globalThis&&globalThis.__rest||function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(s[n[i]]=e[n[i]]);return s};const Gs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ex=[502,503,504];async function jc(e){var t;if(!zy(e))throw new va(Gs(e),0);if(ex.includes(e.status))throw new va(Gs(e),e.status);let s;try{s=await e.json()}catch(o){throw new Kh(Gs(o),o)}let n;const i=Xy(e);if(i&&i.getTime()>=qh["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new Dc(Gs(s),e.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new _s}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((o,r)=>o&&typeof r=="string",!0))throw new Dc(Gs(s),e.status,s.weak_password.reasons);throw new Ty(Gs(s),e.status||500,n)}const sx=(e,t,s,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),s))};async function gt(e,t,s,n){var i;const o=Object.assign({},n==null?void 0:n.headers);o[_a]||(o[_a]=qh["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const r=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(r.redirect_to=n.redirectTo);const a=Object.keys(r).length?"?"+new URLSearchParams(r).toString():"",l=await nx(e,t,s+a,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function nx(e,t,s,n,i,o){const r=sx(t,n,i,o);let a;try{a=await e(s,Object.assign({},r))}catch(l){throw console.error(l),new va(Gs(l),0)}if(a.ok||await jc(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await jc(l)}}function vs(e){var t;let s=null;ax(e)&&(s=Object.assign({},e),e.expires_at||(s.expires_at=By(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:s,user:n},error:null}}function Fc(e){const t=vs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ps(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function ix(e){return{data:e,error:null}}function ox(e){const{action_link:t,email_otp:s,hashed_token:n,redirect_to:i,verification_type:o}=e,r=tx(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:s,hashed_token:n,redirect_to:i,verification_type:o},l=Object.assign({},r);return{data:{properties:a,user:l},error:null}}function rx(e){return e}function ax(e){return e.access_token&&e.refresh_token&&e.expires_in}var lx=globalThis&&globalThis.__rest||function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(s[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(s[n[i]]=e[n[i]]);return s};class cx{constructor({url:t="",headers:s={},fetch:n}){this.url=t,this.headers=s,this.fetch=Yh(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,s="global"){try{return await gt(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ht(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,s={}){try{return await gt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Ps})}catch(n){if(ht(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:s}=t,n=lx(t,["options"]),i=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await gt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:ox,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(ht(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await gt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ps})}catch(s){if(ht(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,n,i,o,r,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await gt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:rx});if(u.error)throw u.error;const d=await u.json(),f=(r=u.headers.get("x-total-count"))!==null&&r!==void 0?r:0,p=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(g=>{const m=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(g.split(";")[1].split("=")[1]);c[`${b}Page`]=m}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(ht(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){try{return await gt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ps})}catch(s){if(ht(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){try{return await gt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Ps})}catch(n){if(ht(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,s=!1){try{return await gt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Ps})}catch(n){if(ht(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:s,error:n}=await gt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:s,error:n}}catch(s){if(ht(s))return{data:null,error:s};throw s}}async _deleteFactor(t){try{return{data:await gt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(ht(s))return{data:null,error:s};throw s}}}const ux={getItem:e=>mi()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{mi()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{mi()&&globalThis.localStorage.removeItem(e)}};function $c(e={}){return{getItem:t=>e[t]||null,setItem:(t,s)=>{e[t]=s},removeItem:t=>{delete e[t]}}}function dx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const fn={debug:!!(globalThis&&mi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Xh extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class hx extends Xh{}async function fx(e,t,s){fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),fn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await s()}finally{fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new hx(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(fn.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}dx();const px={url:Cy,storageKey:My,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Py,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Nc(e,t,s){return await s()}class Ei{constructor(t){var s,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ei.nextInstanceID,Ei.nextInstanceID+=1,this.instanceID>0&&He()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},px),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new cx({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Yh(i.fetch),this.lock=i.lock||Nc,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:He()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=fx:this.lock=Nc,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?i.storage?this.storage=i.storage:mi()?this.storage=ux:(this.memoryStorage={},this.storage=$c(this.memoryStorage)):(this.memoryStorage={},this.storage=$c(this.memoryStorage)),He()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Wh}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const s=Vy(window.location.href);let n="none";if(this._isImplicitGrantCallback(s)?n="implicit":await this._isPKCECallback(s)&&(n="pkce"),He()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:o}=await this._getSessionFromURL(s,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Ry(o)){const l=(t=o.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:r,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",r,"redirect type",a),await this._saveSession(r),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ht(s)?{error:s}:{error:new Kh("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,n,i;try{const o=await gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:vs}),{data:r,error:a}=o;if(a||!r)return{data:{user:null,session:null},error:a};const l=r.session,c=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(ht(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var s,n,i;try{let o;if("email"in t){const{email:u,password:d,options:f}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await hn(this.storage,this.storageKey)),o=await gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:g},xform:vs})}else if("phone"in t){const{phone:u,password:d,options:f}=t;o=await gt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:vs})}else throw new Qi("You must provide either an email or phone number and a password");const{data:r,error:a}=o;if(a||!r)return{data:{user:null,session:null},error:a};const l=r.session,c=r.user;return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(ht(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let s;if("email"in t){const{email:o,password:r,options:a}=t;s=await gt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:r,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Fc})}else if("phone"in t){const{phone:o,password:r,options:a}=t;s=await gt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:r,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Fc})}else throw new Qi("You must provide either an email or phone number and a password");const{data:n,error:i}=s;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Nr}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(s){if(ht(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(t){var s,n,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const s=await to(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(s??"").split("/");try{const{data:o,error:r}=await gt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:vs});if(await eo(this.storage,`${this.storageKey}-code-verifier`),r)throw r;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Nr}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:r})}catch(o){if(ht(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:s,provider:n,token:i,access_token:o,nonce:r}=t,a=await gt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:o,nonce:r,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:vs}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Nr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(s){if(ht(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(t){var s,n,i,o,r;try{if("email"in t){const{email:a,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await hn(this.storage,this.storageKey));const{error:d}=await gt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:a,options:l}=t,{data:c,error:u}=await gt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(r=l==null?void 0:l.channel)!==null&&r!==void 0?r:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Qi("You must provide either an email or phone number.")}catch(a){if(ht(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var s,n;try{let i,o;"options"in t&&(i=(s=t.options)===null||s===void 0?void 0:s.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:r,error:a}=await gt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:vs});if(a)throw a;if(!r)throw new Error("An error occurred on token verification.");const l=r.session,c=r.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(ht(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var s,n,i;try{let o=null,r=null;return this.flowType==="pkce"&&([o,r]=await hn(this.storage,this.storageKey)),await gt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:r}),headers:this.headers,xform:ix})}catch(o){if(ht(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:n}=t;if(n)throw n;if(!s)throw new _s;const{error:i}=await gt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(ht(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:o}=t,{error:r}=await gt(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:r}}else if("phone"in t){const{phone:n,type:i,options:o}=t,{data:r,error:a}=await gt(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:r==null?void 0:r.message_id},error:a}}throw new Qi("You must provide either an email or phone number and a type")}catch(s){if(ht(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await to(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<$r:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let r=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,c,u)=>(!r&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:t},error:null}}const{session:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await gt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ps}):await this._useSession(async s=>{var n,i,o;const{data:r,error:a}=s;if(a)throw a;return!(!((n=r.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _s}:await gt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=r.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Ps})})}catch(s){if(ht(s))return Dy(s)&&(await this._removeSession(),await eo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async n=>{const{data:i,error:o}=n;if(o)throw o;if(!i.session)throw new _s;const r=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await hn(this.storage,this.storageKey));const{data:c,error:u}=await gt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:r.access_token,xform:Ps});if(u)throw u;return r.user=c.user,await this._saveSession(r),await this._notifyAllSubscribers("USER_UPDATED",r),{data:{user:r.user},error:null}})}catch(n){if(ht(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new _s;const s=Date.now()/1e3;let n=s,i=!0,o=null;const{payload:r}=Ur(t.access_token);if(r.exp&&(n=r.exp,i=n<=s),i){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(s){if(ht(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var n;if(!t){const{data:r,error:a}=s;if(a)throw a;t=(n=r.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new _s;const{session:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(ht(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(t,s){try{if(!He())throw new Zi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Zi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Ec("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zi("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ec("No code detected.");const{data:v,error:S}=await this._exchangeCodeForSession(t.code);if(S)throw S;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:o,refresh_token:r,expires_in:a,expires_at:l,token_type:c}=t;if(!o||!a||!r||!c)throw new Zi("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let f=u+d;l&&(f=parseInt(l));const p=f-u;p*1e3<=yn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const g=f-d;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,f,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,f,u);const{data:m,error:b}=await this._getUser(o);if(b)throw b;const _={provider_token:n,provider_refresh_token:i,access_token:o,expires_in:d,expires_at:f,refresh_token:r,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:_,redirectType:t.type},error:null}}catch(n){if(ht(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await to(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:i,error:o}=s;if(o)return{error:o};const r=(n=i.session)===null||n===void 0?void 0:n.access_token;if(r){const{error:a}=await this.admin.signOut(r,t);if(a&&!(Ey(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await eo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const s=Uy(),n={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async s=>{var n,i;try{const{data:{session:o},error:r}=s;if(r)throw r;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,s={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await hn(this.storage,this.storageKey,!0));try{return await gt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(o){if(ht(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(s){if(ht(s))return{data:null,error:s};throw s}}async linkIdentity(t){var s;try{const{data:n,error:i}=await this._useSession(async o=>{var r,a,l,c,u;const{data:d,error:f}=o;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await gt(this.fetch,"GET",p,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return He()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ht(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async s=>{var n,i;const{data:o,error:r}=s;if(r)throw r;return await gt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(s){if(ht(s))return{data:null,error:s};throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await Wy(async i=>(i>0&&await Hy(200*Math.pow(2,i-1)),this._debug(s,"refreshing attempt",i),await gt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:vs})),(i,o)=>{const r=200*Math.pow(2,i);return o&&Br(o)&&Date.now()+r-n<yn})}catch(n){if(this._debug(s,"error",n),ht(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",n),He()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await to(this.storage,this.storageKey);if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const i=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<$r;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${$r}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),Br(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var s,n;if(!t)throw new _s;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new mr;const{data:o,error:r}=await this._refreshAccessToken(t);if(r)throw r;if(!o.session)throw new _s;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(i,"error",o),ht(o)){const r={session:null,error:o};return Br(o)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(r),r}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,s,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:s});const o=[],r=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,s)}catch(l){o.push(l)}});if(await Promise.all(r),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Jh(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await eo(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&He()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),yn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/yn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${yn}ms, refresh threshold is ${xa} ticks`),i<=xa&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Xh)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!He()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,n){const i=[`provider=${encodeURIComponent(s)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,r]=await hn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(r)}`});i.push(a.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);i.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var n;const{data:i,error:o}=s;return o?{data:null,error:o}:await gt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(ht(s))return{data:null,error:s};throw s}}async _enroll(t){try{return await this._useSession(async s=>{var n,i;const{data:o,error:r}=s;if(r)return{data:null,error:r};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:c}=await gt(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(ht(s))return{data:null,error:s};throw s}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const{data:r,error:a}=await gt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+r.expires_in},r)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",r),{data:r,error:a})})}catch(s){if(ht(s))return{data:null,error:s};throw s}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:i,error:o}=s;return o?{data:null,error:o}:await gt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(ht(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(t){const{data:s,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){const{data:{user:t},error:s}=await this.getUser();if(s)return{data:null,error:s};const n=(t==null?void 0:t.factors)||[],i=n.filter(r=>r.factor_type==="totp"&&r.status==="verified"),o=n.filter(r=>r.factor_type==="phone"&&r.status==="verified");return{data:{all:n,totp:i,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var s,n;const{data:{session:i},error:o}=t;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:r}=Ur(i.access_token);let a=null;r.aal&&(a=r.aal);let l=a;((n=(s=i.user.factors)===null||s===void 0?void 0:s.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=r.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,s={keys:[]}){let n=s.keys.find(r=>r.kid===t);if(n||(n=this.jwks.keys.find(r=>r.kid===t),n&&this.jwks_cached_at+Oy>Date.now()))return n;const{data:i,error:o}=await gt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!i.keys||i.keys.length===0)throw new gi("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),n=i.keys.find(r=>r.kid===t),!n)throw new gi("No matching signing key found in JWKS");return n}async getClaims(t,s={keys:[]}){try{let n=t;if(!n){const{data:p,error:g}=await this.getSession();if(g||!p.session)return{data:null,error:g};n=p.session.access_token}const{header:i,payload:o,signature:r,raw:{header:a,payload:l}}=Ur(n);if(Qy(o.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:o,header:i,signature:r},error:null}}const c=Zy(i.alg),u=await this.fetchJwk(i.kid,s),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,r,Ny(`${a}.${l}`)))throw new gi("Invalid JWT signature");return{data:{claims:o,header:i,signature:r},error:null}}catch(n){if(ht(n))return{data:null,error:n};throw n}}}Ei.nextInstanceID=0;const gx=Ei;class mx extends gx{constructor(t){super(t)}}var bx=globalThis&&globalThis.__awaiter||function(e,t,s,n){function i(o){return o instanceof s?o:new s(function(r){r(o)})}return new(s||(s=Promise))(function(o,r){function a(u){try{c(n.next(u))}catch(d){r(d)}}function l(u){try{c(n.throw(u))}catch(d){r(d)}}function c(u){u.done?o(u.value):i(u.value).then(a,l)}c((n=n.apply(e,t||[])).next())})};class yx{constructor(t,s,n){var i,o,r;if(this.supabaseUrl=t,this.supabaseKey=s,!t)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=ky(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:gy,realtime:by,auth:Object.assign(Object.assign({},my),{storageKey:c}),global:py},d=Sy(n??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((r=d.auth)!==null&&r!==void 0?r:{},this.headers,d.global.fetch),this.fetch=vy(s,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new j0(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new d0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new dy(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,s={},n={}){return this.rest.rpc(t,s,n)}channel(t,s={config:{}}){return this.realtime.channel(t,s)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,s;return bx(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(s=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:s,detectSessionInUrl:n,storage:i,storageKey:o,flowType:r,lock:a,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mx({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),c),storageKey:o,autoRefreshToken:t,persistSession:s,detectSessionInUrl:n,storage:i,flowType:r,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new X0(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,s,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const xx=(e,t,s)=>new yx(e,t,s),_x="https://nivvbndswqkjnifvkauf.supabase.co",vx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5pdnZibmRzd3Fram5pZnZrYXVmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc4NTAzMzEsImV4cCI6MjA2MzQyNjMzMX0.UocPLAEg1htKV7ZivlqRR3GZhDDCNi1jSseGikVpYv4",W=xx(_x,vx),wx={name:"Signup",components:{Navbar:$n,Footer:Nn},data(){return{email:"",password:""}},methods:{async handleSignup(){const{data:e,error:t}=await W.auth.signUp({email:this.email,password:this.password});alert(t?"Erro ao cadastrar: "+t.message:"Cadastro realizado! Verifique seu e-mail para ativar a conta.")}}},kx={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 px-4"},Sx={class:"bg-white p-10 rounded-2xl shadow-xl w-full max-w-lg"},Cx={class:"mt-6 text-center text-sm text-gray-500"};function Mx(e,t,s,n,i,o){const r=X("Navbar"),a=X("router-link"),l=X("Footer");return k(),M(nt,null,[F(r),h("section",kx,[h("div",Sx,[t[8]||(t[8]=h("div",{class:"mb-8 text-center"},[h("h2",{class:"text-3xl font-extrabold text-blue-700"},"Crie sua conta"),h("p",{class:"text-gray-500"},"Comece agora a organizar seus atendimentos com praticidade")],-1)),h("form",{onSubmit:t[2]||(t[2]=ce((...c)=>o.handleSignup&&o.handleSignup(...c),["prevent"])),class:"space-y-5"},[h("div",null,[t[3]||(t[3]=h("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"email"},"E-mail",-1)),U(h("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>i.email=c),type:"email",id:"email",placeholder:"seu@email.com",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[K,i.email]])]),h("div",null,[t[4]||(t[4]=h("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"password"},"Senha",-1)),U(h("input",{"onUpdate:modelValue":t[1]||(t[1]=c=>i.password=c),type:"password",id:"password",placeholder:"********",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[K,i.password]])]),t[5]||(t[5]=h("button",{type:"submit",class:"w-full bg-blue-600 text-white font-semibold py-3 rounded-lg hover:bg-blue-700 transition duration-200"},"Cadastrar",-1))],32),h("p",Cx,[t[7]||(t[7]=at(" J tem uma conta? ")),F(a,{to:"/login",class:"text-blue-600 hover:underline"},{default:ft(()=>t[6]||(t[6]=[at("Entrar")])),_:1,__:[6]})])])]),F(l)],64)}const Px=xt(wx,[["render",Mx]]),Ax={name:"Login",components:{Navbar:$n,Footer:Nn},data(){return{email:"",password:""}},methods:{async handleLogin(){const{data:e,error:t}=await W.auth.signInWithPassword({email:this.email,password:this.password});t?alert("Erro ao entrar: "+t.message):this.$router.push("/dashboard")},async handleGoogleLogin(){const{error:e}=await W.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/#/dashboard"}});e&&alert("Erro ao entrar com Google: "+e.message)}}},Ox={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-100 to-blue-100 px-4"},Tx={class:"bg-white p-10 rounded-2xl shadow-xl w-full max-w-lg"},Ex={class:"mt-6 text-center text-sm text-gray-500"};function Dx(e,t,s,n,i,o){const r=X("Navbar"),a=X("router-link"),l=X("Footer");return k(),M(nt,null,[F(r),h("section",Ox,[h("div",Tx,[t[9]||(t[9]=h("div",{class:"mb-8 text-center"},[h("h2",{class:"text-3xl font-extrabold text-blue-700"},"Entrar"),h("p",{class:"text-gray-500"},"Acesse sua conta do Agenda Zen")],-1)),h("form",{onSubmit:t[3]||(t[3]=ce((...c)=>o.handleLogin&&o.handleLogin(...c),["prevent"])),class:"space-y-5"},[h("div",null,[t[4]||(t[4]=h("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"email"},"E-mail",-1)),U(h("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>i.email=c),type:"email",id:"email",placeholder:"seu@email.com",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[K,i.email]])]),h("div",null,[t[5]||(t[5]=h("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"password"},"Senha",-1)),U(h("input",{"onUpdate:modelValue":t[1]||(t[1]=c=>i.password=c),type:"password",id:"password",placeholder:"********",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[K,i.password]])]),t[6]||(t[6]=h("button",{type:"submit",class:"w-full bg-blue-600 text-white font-semibold py-3 rounded-lg hover:bg-blue-700 transition duration-200"},"Entrar",-1)),h("button",{type:"button",onClick:t[2]||(t[2]=(...c)=>o.handleGoogleLogin&&o.handleGoogleLogin(...c)),class:"w-full bg-red-500 text-white font-semibold py-3 rounded-lg hover:bg-red-600 transition duration-200"},"Entrar com Google")],32),h("p",Ex,[t[8]||(t[8]=at(" Ainda no tem conta? ")),F(a,{to:"/cadastro",class:"text-blue-600 hover:underline"},{default:ft(()=>t[7]||(t[7]=[at("Criar agora")])),_:1,__:[7]})])])]),F(l)],64)}const Rx=xt(Ax,[["render",Dx]]),Ix={name:"Onboarding",data(){return{userId:null,step:1,form:{businessName:"",phone:"",email:""},agenda:{startTime:"",endTime:"",daysOfWeek:[]},serviceForm:{name:"",duration:"",price:""},services:[],daysOfWeekOptions:[{value:"0",label:"Domingo"},{value:"1",label:"Segunda"},{value:"2",label:"Tera"},{value:"3",label:"Quarta"},{value:"4",label:"Quinta"},{value:"5",label:"Sexta"},{value:"6",label:"Sbado"}]}},methods:{async next(){this.step===1?(await this.saveProfile(),this.step++):this.step===2?(await this.saveAgenda(),this.step++):this.step===3&&(await this.saveServices(),this.step++)},prev(){this.step>1&&this.step--},async saveProfile(){const e={id:this.userId,business_name:this.form.businessName,phone:this.form.phone,email:this.form.email};await W.from("profiles").upsert(e,{onConflict:["id"]})},async saveAgenda(){const e={id:this.userId,start_time:this.agenda.startTime,end_time:this.agenda.endTime,week_days:this.agenda.daysOfWeek.join(",")};await W.from("profiles").upsert(e,{onConflict:["id"]})},async saveServices(){for(const e of this.services)await W.from("services").insert({name:e.name,duration:e.duration,price:parseFloat(e.price),user_id:this.userId})},addService(){this.serviceForm.name&&(this.services.push({name:this.serviceForm.name,duration:this.serviceForm.duration,price:this.serviceForm.price}),this.serviceForm={name:"",duration:"",price:""})},removeService(e){this.services.splice(e,1)},formatPrice(e){return e==null||e===""?"":Number(e).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}},async mounted(){const{data:{user:e}}=await W.auth.getUser();if(!e){this.$router.push("/login");return}this.userId=e.id}},Lx={class:"min-h-screen flex bg-gray-100 items-center justify-center p-4"},jx={class:"bg-white p-6 rounded-lg shadow w-full max-w-2xl"},Fx={key:0,class:"space-y-4"},$x={key:1,class:"space-y-4"},Nx={class:"mt-1 space-y-1"},Bx=["value"],Ux={key:2,class:"space-y-4"},Vx={class:"flex justify-end"},zx={class:"mt-4 space-y-1"},Hx=["onClick"],Wx={key:3,class:"space-y-4 text-center"},qx={key:4,class:"flex justify-between mt-6"},Kx={key:5,class:"flex justify-center mt-6"};function Gx(e,t,s,n,i,o){return k(),M("div",Lx,[h("div",jx,[i.step===1?(k(),M("div",Fx,[t[16]||(t[16]=h("h2",{class:"text-xl font-semibold mb-4"},"Bem-vindo! Vamos comear pelo seu perfil.",-1)),h("div",null,[t[13]||(t[13]=h("label",{class:"block text-sm font-medium text-gray-700"},"Nome Comercial",-1)),U(h("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=r=>i.form.businessName=r),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.form.businessName]])]),h("div",null,[t[14]||(t[14]=h("label",{class:"block text-sm font-medium text-gray-700"},"Telefone",-1)),U(h("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=r=>i.form.phone=r),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.form.phone]])]),h("div",null,[t[15]||(t[15]=h("label",{class:"block text-sm font-medium text-gray-700"},"E-mail",-1)),U(h("input",{type:"email","onUpdate:modelValue":t[2]||(t[2]=r=>i.form.email=r),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.form.email]])])])):i.step===2?(k(),M("div",$x,[t[20]||(t[20]=h("h2",{class:"text-xl font-semibold mb-4"},"Horrios de atendimento",-1)),h("div",null,[t[17]||(t[17]=h("label",{class:"block text-sm font-medium text-gray-700"},"Incio",-1)),U(h("input",{type:"time","onUpdate:modelValue":t[3]||(t[3]=r=>i.agenda.startTime=r),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.agenda.startTime]])]),h("div",null,[t[18]||(t[18]=h("label",{class:"block text-sm font-medium text-gray-700"},"Fim",-1)),U(h("input",{type:"time","onUpdate:modelValue":t[4]||(t[4]=r=>i.agenda.endTime=r),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.agenda.endTime]])]),h("div",null,[t[19]||(t[19]=h("label",{class:"block text-sm font-medium text-gray-700"},"Dias da semana",-1)),h("div",Nx,[(k(!0),M(nt,null,Mt(i.daysOfWeekOptions,r=>(k(),M("label",{key:r.value,class:"flex items-center space-x-2"},[U(h("input",{type:"checkbox",value:r.value,"onUpdate:modelValue":t[5]||(t[5]=a=>i.agenda.daysOfWeek=a)},null,8,Bx),[[il,i.agenda.daysOfWeek]]),h("span",null,T(r.label),1)]))),128))])])])):i.step===3?(k(),M("div",Ux,[t[24]||(t[24]=h("h2",{class:"text-xl font-semibold mb-4"},"Cadastre seus servios",-1)),h("div",null,[t[21]||(t[21]=h("label",{class:"block text-sm font-medium text-gray-700"},"Nome",-1)),U(h("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=r=>i.serviceForm.name=r),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.serviceForm.name]])]),h("div",null,[t[22]||(t[22]=h("label",{class:"block text-sm font-medium text-gray-700"},"Durao",-1)),U(h("input",{type:"text","onUpdate:modelValue":t[7]||(t[7]=r=>i.serviceForm.duration=r),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.serviceForm.duration]])]),h("div",null,[t[23]||(t[23]=h("label",{class:"block text-sm font-medium text-gray-700"},"Valor",-1)),U(h("input",{type:"number",step:"0.01","onUpdate:modelValue":t[8]||(t[8]=r=>i.serviceForm.price=r),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.serviceForm.price]])]),h("div",Vx,[h("button",{onClick:t[9]||(t[9]=(...r)=>o.addService&&o.addService(...r)),class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"},"Adicionar")]),h("ul",zx,[(k(!0),M(nt,null,Mt(i.services,(r,a)=>(k(),M("li",{key:a,class:"flex justify-between"},[h("span",null,T(r.name)+" - "+T(r.duration)+"min - "+T(o.formatPrice(r.price)),1),h("button",{onClick:l=>o.removeService(a),class:"text-red-600 hover:underline"},"Remover",8,Hx)]))),128))])])):i.step===4?(k(),M("div",Wx,t[25]||(t[25]=[h("h2",{class:"text-2xl font-semibold"},"Pronto!",-1),h("p",null,"Seu cadastro inicial est concludo.",-1),h("p",{class:"text-lg"},"Bem-vindo ao Agenda Zen!",-1)]))):Y("",!0),i.step<4?(k(),M("div",qx,[i.step>1?(k(),M("button",{key:0,onClick:t[10]||(t[10]=(...r)=>o.prev&&o.prev(...r)),class:"px-4 py-2 border rounded"},"Voltar")):Y("",!0),h("button",{onClick:t[11]||(t[11]=(...r)=>o.next&&o.next(...r)),class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 ml-auto"},T(i.step===3?"Finalizar":"Prximo"),1)])):(k(),M("div",Kx,[h("button",{onClick:t[12]||(t[12]=r=>e.$router.push("/dashboard")),class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"},"Ir para o Dashboard")]))])])}const Yx=xt(Ix,[["render",Gx]]),Jx={name:"Sidebar",props:{isOpen:{type:Boolean,default:!0}}},Xx={class:"space-y-6 mt-8"},Qx={class:"space-y-2"},Zx={class:"space-y-2"},t_={class:"space-y-2"},e_={class:"space-y-2"},s_={class:"space-y-2"};function n_(e,t,s,n,i,o){const r=X("router-link");return k(),M("div",null,[s.isOpen?(k(),M("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:t[0]||(t[0]=a=>e.$emit("close"))})):Y("",!0),h("aside",{class:sn(["fixed inset-y-0 left-0 transform bg-white shadow-md transition-all duration-200 z-50 md:relative overflow-hidden flex flex-col min-h-screen",s.isOpen?"w-64 p-6 translate-x-0":"w-0 p-0 -translate-x-full"])},[h("button",{class:"absolute top-4 right-4 text-gray-600 focus:outline-none",onClick:t[1]||(t[1]=a=>e.$emit("close"))},t[2]||(t[2]=[h("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])),t[19]||(t[19]=h("h2",{class:"text-2xl font-bold text-blue-600 mb-6"},"Agenda Zen",-1)),h("nav",Xx,[h("div",Qx,[t[5]||(t[5]=h("h3",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wide"},"Atendimento",-1)),F(r,{to:"/dashboard",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:ft(()=>t[3]||(t[3]=[h("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l9-9 9 9M4 10v10a1 1 0 001 1h3m10-11v10a1 1 0 01-1 1h-3m-6 0h6"})],-1),h("span",null,"Incio",-1)])),_:1,__:[3]}),F(r,{to:"/agendamentos",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:ft(()=>t[4]||(t[4]=[h("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[h("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2","stroke-width":"2"}),h("line",{x1:"16",y1:"2",x2:"16",y2:"6","stroke-width":"2"}),h("line",{x1:"8",y1:"2",x2:"8",y2:"6","stroke-width":"2"}),h("line",{x1:"3",y1:"10",x2:"21",y2:"10","stroke-width":"2"})],-1),h("span",null,"Atendimento",-1)])),_:1,__:[4]})]),h("div",Zx,[t[9]||(t[9]=h("h3",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wide"},"Cadastros",-1)),F(r,{to:"/clientes",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:ft(()=>t[6]||(t[6]=[h("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[h("circle",{cx:"12",cy:"7",r:"4","stroke-width":"2"}),h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 21v-2a6 6 0 0112 0v2"})],-1),h("span",null,"Clientes",-1)])),_:1,__:[6]}),F(r,{to:"/servicos",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:ft(()=>t[7]||(t[7]=[h("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[h("rect",{x:"2",y:"7",width:"20",height:"14",rx:"2",ry:"2","stroke-width":"2"}),h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V5a4 4 0 018 0v2"})],-1),h("span",null,"Servios",-1)])),_:1,__:[7]}),F(r,{to:"/salas",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:ft(()=>t[8]||(t[8]=[h("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[h("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2","stroke-width":"2"}),h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 3v18M15 3v18M3 9h18M3 15h18"})],-1),h("span",null,"Salas",-1)])),_:1,__:[8]})]),h("div",t_,[t[11]||(t[11]=h("h3",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wide"},"Relatrios",-1)),F(r,{to:"/faturamento",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:ft(()=>t[10]||(t[10]=[h("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3v18h18M9 17v-4M13 17v-8M17 17V7"})],-1),h("span",null,"Faturamento",-1)])),_:1,__:[10]})]),h("div",e_,[t[14]||(t[14]=h("h3",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wide"},"Pagamentos",-1)),F(r,{to:"/comprovantes",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:ft(()=>t[12]||(t[12]=[h("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01"})],-1),h("span",null,"Comprovantes",-1)])),_:1,__:[12]}),F(r,{to:"/templates",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:ft(()=>t[13]||(t[13]=[h("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4h16v4H4V4zm0 6h16v10H4V10z"})],-1),h("span",null,"Templates",-1)])),_:1,__:[13]})]),h("div",s_,[t[18]||(t[18]=h("h3",{class:"text-xs font-semibold text-gray-500 uppercase tracking-wide"},"Conta",-1)),F(r,{to:"/configuracao",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:ft(()=>t[15]||(t[15]=[h("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[h("circle",{cx:"12",cy:"8",r:"4","stroke-width":"2"}),h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 21v-2a6 6 0 0112 0v2"})],-1),h("span",null,"Perfil",-1)])),_:1,__:[15]}),F(r,{to:"/usuarios",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:ft(()=>t[16]||(t[16]=[h("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[h("circle",{cx:"12",cy:"8",r:"4","stroke-width":"2"}),h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 21v-2a6 6 0 0112 0v2"})],-1),h("span",null,"Usurios",-1)])),_:1,__:[16]}),F(r,{to:"/minha-assinatura",class:"flex items-center text-gray-700 hover:text-blue-600"},{default:ft(()=>t[17]||(t[17]=[h("svg",{class:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[h("rect",{x:"3",y:"4",width:"18",height:"16",rx:"2",ry:"2","stroke-width":"2"}),h("line",{x1:"3",y1:"9",x2:"21",y2:"9","stroke-width":"2"})],-1),h("span",null,"Minha Assinatura",-1)])),_:1,__:[17]})])])],2)])}const Ne=xt(Jx,[["render",n_]]),i_={name:"HeaderUser",props:{title:{type:String,default:"Agenda Zen"}},data(){return{userEmail:null,showMenu:!1}},async mounted(){const{data:{user:e}}=await W.auth.getUser();e?this.userEmail=e.email:this.$router.push("/login")},methods:{toggleMenu(){this.showMenu=!this.showMenu},async handleLogout(){this.showMenu=!1,await W.auth.signOut(),this.$router.push("/login")}}},o_={class:"flex justify-between items-center mb-8"},r_={class:"text-2xl font-semibold text-gray-800"},a_={key:0,class:"relative"},l_={class:"text-gray-600"},c_={key:0,class:"absolute right-0 mt-2 w-48 bg-white border rounded shadow-md"};function u_(e,t,s,n,i,o){const r=X("router-link");return k(),M("header",o_,[h("h1",r_,T(s.title),1),i.userEmail?(k(),M("div",a_,[h("button",{onClick:t[0]||(t[0]=(...a)=>o.toggleMenu&&o.toggleMenu(...a)),class:"flex items-center space-x-2 focus:outline-none"},[t[3]||(t[3]=h("svg",{class:"w-5 h-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[h("circle",{cx:"12",cy:"8",r:"4","stroke-width":"2"}),h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 21v-2a6 6 0 0112 0v2"})],-1)),h("span",l_,T(i.userEmail),1),(k(),M("svg",{class:sn(["w-4 h-4 text-gray-600 transition-transform",{"rotate-180":i.showMenu}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},t[2]||(t[2]=[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),i.showMenu?(k(),M("div",c_,[F(r,{to:"/configuracao",class:"block px-4 py-2 hover:bg-gray-100"},{default:ft(()=>t[4]||(t[4]=[at("Perfil")])),_:1,__:[4]}),F(r,{to:"/usuarios",class:"block px-4 py-2 hover:bg-gray-100"},{default:ft(()=>t[5]||(t[5]=[at("Usurios")])),_:1,__:[5]}),F(r,{to:"/minha-assinatura",class:"block px-4 py-2 hover:bg-gray-100"},{default:ft(()=>t[6]||(t[6]=[at("Assinatura")])),_:1,__:[6]}),h("button",{onClick:t[1]||(t[1]=(...a)=>o.handleLogout&&o.handleLogout(...a)),class:"w-full text-left px-4 py-2 hover:bg-gray-100"},"Sair")])):Y("",!0)])):Y("",!0)])}const Be=xt(i_,[["render",u_]]),d_={name:"Modal"},h_={class:"bg-white p-6 rounded-lg shadow-lg w-full max-w-lg"};function f_(e,t,s,n,i,o){return k(),M("div",{class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:t[0]||(t[0]=ce(r=>e.$emit("close"),["self"]))},[h("div",h_,[og(e.$slots,"default")])])}const ln=xt(d_,[["render",f_]]),p_={name:"WeekView",props:{appointments:{type:Array,required:!0},getClientName:{type:Function,required:!0}},data(){const e=new Date,t=new Date(e);return t.setDate(e.getDate()-(e.getDay()+6)%7),{weekStart:t,daysOfWeek:["Seg","Ter","Qua","Qui","Sex","Sb","Dom"],startTime:"00:00",endTime:"23:00",timeSlots:[]}},computed:{weekEnd(){const e=new Date(this.weekStart);return e.setDate(e.getDate()+6),e}},methods:{generateTimeSlots(){const e=Math.max(0,parseInt(this.startTime.split(":")[0])-1),t=Math.min(23,parseInt(this.endTime.split(":")[0])+1);this.timeSlots=[];for(let s=e;s<=t;s++)this.timeSlots.push(`${String(s).padStart(2,"0")}:00`)},formatDate(e){const t=String(e.getMonth()+1).padStart(2,"0");return`${String(e.getDate()).padStart(2,"0")}/${t}`},formatISO(e){const t=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");return`${e.getFullYear()}-${t}-${s}`},getDateOfDay(e){const t=new Date(this.weekStart);return t.setDate(t.getDate()+e),t},getAppointmentsForSlot(e,t){const s=this.formatISO(this.getDateOfDay(e)),n=parseInt(t.split(":")[0]);return this.appointments.filter(i=>i.date===s&&parseInt(i.time.substring(0,2))===n).sort((i,o)=>i.time.localeCompare(o.time))},prevWeek(){const e=new Date(this.weekStart);e.setDate(e.getDate()-7),this.weekStart=e},nextWeek(){const e=new Date(this.weekStart);e.setDate(e.getDate()+7),this.weekStart=e}},watch:{startTime(){this.generateTimeSlots()},endTime(){this.generateTimeSlots()}},async mounted(){const{data:{user:e}}=await W.auth.getUser();if(e){const{data:t}=await W.from("profiles").select("start_time, end_time").eq("id",e.id).single();t&&(t.start_time&&(this.startTime=t.start_time),t.end_time&&(this.endTime=t.end_time))}this.generateTimeSlots()}},g_={class:"flex justify-between items-center mb-2"},m_={class:"font-semibold"},b_={class:"overflow-x-auto"},y_={class:"grid gap-px text-sm",style:{gridTemplateColumns:"64px repeat(7, 1fr)"}},x_={class:"font-semibold text-right pr-1 border"},__=["onClick"];function v_(e,t,s,n,i,o){return k(),M("div",null,[h("div",g_,[h("button",{onClick:t[0]||(t[0]=(...r)=>o.prevWeek&&o.prevWeek(...r)),class:"px-2"},"<"),h("div",m_,T(o.formatDate(i.weekStart))+" - "+T(o.formatDate(o.weekEnd)),1),h("button",{onClick:t[1]||(t[1]=(...r)=>o.nextWeek&&o.nextWeek(...r)),class:"px-2"},">")]),h("div",b_,[h("div",y_,[t[2]||(t[2]=h("div",null,null,-1)),(k(!0),M(nt,null,Mt(i.daysOfWeek,r=>(k(),M("div",{key:r,class:"font-semibold text-center border px-1"},T(r),1))),128)),(k(!0),M(nt,null,Mt(i.timeSlots,r=>(k(),M(nt,{key:r},[h("div",x_,T(r),1),(k(),M(nt,null,Mt(7,a=>h("div",{key:r+"-"+a,class:"border h-16 p-1 overflow-auto"},[h("ul",null,[(k(!0),M(nt,null,Mt(o.getAppointmentsForSlot(a-1,r),l=>(k(),M("li",{key:l.id,class:"text-xs truncate cursor-pointer",onClick:c=>e.$emit("select",l)},T(l.time)+" - "+T(s.getClientName(l.client_id)),9,__))),128))])])),64))],64))),128))])])])}const Qh=xt(p_,[["render",v_]]);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function qi(e){return e+.5|0}const As=(e,t,s)=>Math.max(Math.min(e,s),t);function ei(e){return As(qi(e*2.55),0,255)}function Rs(e){return As(qi(e*255),0,255)}function os(e){return As(qi(e/2.55)/100,0,1)}function Bc(e){return As(qi(e*100),0,100)}const Me={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},wa=[..."0123456789ABCDEF"],w_=e=>wa[e&15],k_=e=>wa[(e&240)>>4]+wa[e&15],so=e=>(e&240)>>4===(e&15),S_=e=>so(e.r)&&so(e.g)&&so(e.b)&&so(e.a);function C_(e){var t=e.length,s;return e[0]==="#"&&(t===4||t===5?s={r:255&Me[e[1]]*17,g:255&Me[e[2]]*17,b:255&Me[e[3]]*17,a:t===5?Me[e[4]]*17:255}:(t===7||t===9)&&(s={r:Me[e[1]]<<4|Me[e[2]],g:Me[e[3]]<<4|Me[e[4]],b:Me[e[5]]<<4|Me[e[6]],a:t===9?Me[e[7]]<<4|Me[e[8]]:255})),s}const M_=(e,t)=>e<255?t(e):"";function P_(e){var t=S_(e)?w_:k_;return e?"#"+t(e.r)+t(e.g)+t(e.b)+M_(e.a,t):void 0}const A_=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Zh(e,t,s){const n=t*Math.min(s,1-s),i=(o,r=(o+e/30)%12)=>s-n*Math.max(Math.min(r-3,9-r,1),-1);return[i(0),i(8),i(4)]}function O_(e,t,s){const n=(i,o=(i+e/60)%6)=>s-s*t*Math.max(Math.min(o,4-o,1),0);return[n(5),n(3),n(1)]}function T_(e,t,s){const n=Zh(e,1,.5);let i;for(t+s>1&&(i=1/(t+s),t*=i,s*=i),i=0;i<3;i++)n[i]*=1-t-s,n[i]+=t;return n}function E_(e,t,s,n,i){return e===i?(t-s)/n+(t<s?6:0):t===i?(s-e)/n+2:(e-t)/n+4}function hl(e){const s=e.r/255,n=e.g/255,i=e.b/255,o=Math.max(s,n,i),r=Math.min(s,n,i),a=(o+r)/2;let l,c,u;return o!==r&&(u=o-r,c=a>.5?u/(2-o-r):u/(o+r),l=E_(s,n,i,u,o),l=l*60+.5),[l|0,c||0,a]}function fl(e,t,s,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,s,n)).map(Rs)}function pl(e,t,s){return fl(Zh,e,t,s)}function D_(e,t,s){return fl(T_,e,t,s)}function R_(e,t,s){return fl(O_,e,t,s)}function tf(e){return(e%360+360)%360}function I_(e){const t=A_.exec(e);let s=255,n;if(!t)return;t[5]!==n&&(s=t[6]?ei(+t[5]):Rs(+t[5]));const i=tf(+t[2]),o=+t[3]/100,r=+t[4]/100;return t[1]==="hwb"?n=D_(i,o,r):t[1]==="hsv"?n=R_(i,o,r):n=pl(i,o,r),{r:n[0],g:n[1],b:n[2],a:s}}function L_(e,t){var s=hl(e);s[0]=tf(s[0]+t),s=pl(s),e.r=s[0],e.g=s[1],e.b=s[2]}function j_(e){if(!e)return;const t=hl(e),s=t[0],n=Bc(t[1]),i=Bc(t[2]);return e.a<255?`hsla(${s}, ${n}%, ${i}%, ${os(e.a)})`:`hsl(${s}, ${n}%, ${i}%)`}const Uc={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Vc={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function F_(){const e={},t=Object.keys(Vc),s=Object.keys(Uc);let n,i,o,r,a;for(n=0;n<t.length;n++){for(r=a=t[n],i=0;i<s.length;i++)o=s[i],a=a.replace(o,Uc[o]);o=parseInt(Vc[r],16),e[a]=[o>>16&255,o>>8&255,o&255]}return e}let no;function $_(e){no||(no=F_(),no.transparent=[0,0,0,0]);const t=no[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const N_=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function B_(e){const t=N_.exec(e);let s=255,n,i,o;if(t){if(t[7]!==n){const r=+t[7];s=t[8]?ei(r):As(r*255,0,255)}return n=+t[1],i=+t[3],o=+t[5],n=255&(t[2]?ei(n):As(n,0,255)),i=255&(t[4]?ei(i):As(i,0,255)),o=255&(t[6]?ei(o):As(o,0,255)),{r:n,g:i,b:o,a:s}}}function U_(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${os(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const Vr=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,pn=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function V_(e,t,s){const n=pn(os(e.r)),i=pn(os(e.g)),o=pn(os(e.b));return{r:Rs(Vr(n+s*(pn(os(t.r))-n))),g:Rs(Vr(i+s*(pn(os(t.g))-i))),b:Rs(Vr(o+s*(pn(os(t.b))-o))),a:e.a+s*(t.a-e.a)}}function io(e,t,s){if(e){let n=hl(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*s,t===0?360:1)),n=pl(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function ef(e,t){return e&&Object.assign(t||{},e)}function zc(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Rs(e[3]))):(t=ef(e,{r:0,g:0,b:0,a:1}),t.a=Rs(t.a)),t}function z_(e){return e.charAt(0)==="r"?B_(e):I_(e)}class Di{constructor(t){if(t instanceof Di)return t;const s=typeof t;let n;s==="object"?n=zc(t):s==="string"&&(n=C_(t)||$_(t)||z_(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=ef(this._rgb);return t&&(t.a=os(t.a)),t}set rgb(t){this._rgb=zc(t)}rgbString(){return this._valid?U_(this._rgb):void 0}hexString(){return this._valid?P_(this._rgb):void 0}hslString(){return this._valid?j_(this._rgb):void 0}mix(t,s){if(t){const n=this.rgb,i=t.rgb;let o;const r=s===o?.5:s,a=2*r-1,l=n.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;o=1-c,n.r=255&c*n.r+o*i.r+.5,n.g=255&c*n.g+o*i.g+.5,n.b=255&c*n.b+o*i.b+.5,n.a=r*n.a+(1-r)*i.a,this.rgb=n}return this}interpolate(t,s){return t&&(this._rgb=V_(this._rgb,t._rgb,s)),this}clone(){return new Di(this.rgb)}alpha(t){return this._rgb.a=Rs(t),this}clearer(t){const s=this._rgb;return s.a*=1-t,this}greyscale(){const t=this._rgb,s=qi(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=s,this}opaquer(t){const s=this._rgb;return s.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return io(this._rgb,2,t),this}darken(t){return io(this._rgb,2,-t),this}saturate(t){return io(this._rgb,1,t),this}desaturate(t){return io(this._rgb,1,-t),this}rotate(t){return L_(this._rgb,t),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ts(){}const H_=(()=>{let e=0;return()=>e++})();function pt(e){return e==null}function Lt(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function mt(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Bt(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function we(e,t){return Bt(e)?e:t}function dt(e,t){return typeof e>"u"?t:e}const W_=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,sf=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Rt(e,t,s){if(e&&typeof e.call=="function")return e.apply(s,t)}function Ct(e,t,s,n){let i,o,r;if(Lt(e))if(o=e.length,n)for(i=o-1;i>=0;i--)t.call(s,e[i],i);else for(i=0;i<o;i++)t.call(s,e[i],i);else if(mt(e))for(r=Object.keys(e),o=r.length,i=0;i<o;i++)t.call(s,e[r[i]],r[i])}function zo(e,t){let s,n,i,o;if(!e||!t||e.length!==t.length)return!1;for(s=0,n=e.length;s<n;++s)if(i=e[s],o=t[s],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function Ho(e){if(Lt(e))return e.map(Ho);if(mt(e)){const t=Object.create(null),s=Object.keys(e),n=s.length;let i=0;for(;i<n;++i)t[s[i]]=Ho(e[s[i]]);return t}return e}function nf(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function q_(e,t,s,n){if(!nf(e))return;const i=t[e],o=s[e];mt(i)&&mt(o)?Ri(i,o,n):t[e]=Ho(o)}function Ri(e,t,s){const n=Lt(t)?t:[t],i=n.length;if(!mt(e))return e;s=s||{};const o=s.merger||q_;let r;for(let a=0;a<i;++a){if(r=n[a],!mt(r))continue;const l=Object.keys(r);for(let c=0,u=l.length;c<u;++c)o(l[c],e,r,s)}return e}function bi(e,t){return Ri(e,t,{merger:K_})}function K_(e,t,s){if(!nf(e))return;const n=t[e],i=s[e];mt(n)&&mt(i)?bi(n,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Ho(i))}const Hc={"":e=>e,x:e=>e.x,y:e=>e.y};function G_(e){const t=e.split("."),s=[];let n="";for(const i of t)n+=i,n.endsWith("\\")?n=n.slice(0,-1)+".":(s.push(n),n="");return s}function Y_(e){const t=G_(e);return s=>{for(const n of t){if(n==="")break;s=s&&s[n]}return s}}function js(e,t){return(Hc[t]||(Hc[t]=Y_(t)))(e)}function gl(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Ii=e=>typeof e<"u",Fs=e=>typeof e=="function",Wc=(e,t)=>{if(e.size!==t.size)return!1;for(const s of e)if(!t.has(s))return!1;return!0};function J_(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const Ft=Math.PI,jt=2*Ft,X_=jt+Ft,Wo=Number.POSITIVE_INFINITY,Q_=Ft/180,Vt=Ft/2,zs=Ft/4,qc=Ft*2/3,Os=Math.log10,Je=Math.sign;function yi(e,t,s){return Math.abs(e-t)<s}function Kc(e){const t=Math.round(e);e=yi(e,t,e/1e3)?t:e;const s=Math.pow(10,Math.floor(Os(e))),n=e/s;return(n<=1?1:n<=2?2:n<=5?5:10)*s}function Z_(e){const t=[],s=Math.sqrt(e);let n;for(n=1;n<s;n++)e%n===0&&(t.push(n),t.push(e/n));return s===(s|0)&&t.push(s),t.sort((i,o)=>i-o).pop(),t}function tv(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function In(e){return!tv(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function ev(e,t){const s=Math.round(e);return s-t<=e&&s+t>=e}function of(e,t,s){let n,i,o;for(n=0,i=e.length;n<i;n++)o=e[n][s],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Re(e){return e*(Ft/180)}function ml(e){return e*(180/Ft)}function Gc(e){if(!Bt(e))return;let t=1,s=0;for(;Math.round(e*t)/t!==e;)t*=10,s++;return s}function rf(e,t){const s=t.x-e.x,n=t.y-e.y,i=Math.sqrt(s*s+n*n);let o=Math.atan2(n,s);return o<-.5*Ft&&(o+=jt),{angle:o,distance:i}}function ka(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function sv(e,t){return(e-t+X_)%jt-Ft}function ke(e){return(e%jt+jt)%jt}function Li(e,t,s,n){const i=ke(e),o=ke(t),r=ke(s),a=ke(o-i),l=ke(r-i),c=ke(i-o),u=ke(i-r);return i===o||i===r||n&&o===r||a>l&&c<u}function Gt(e,t,s){return Math.max(t,Math.min(s,e))}function nv(e){return Gt(e,-32768,32767)}function ls(e,t,s,n=1e-6){return e>=Math.min(t,s)-n&&e<=Math.max(t,s)+n}function bl(e,t,s){s=s||(r=>e[r]<t);let n=e.length-1,i=0,o;for(;n-i>1;)o=i+n>>1,s(o)?i=o:n=o;return{lo:i,hi:n}}const cs=(e,t,s,n)=>bl(e,s,n?i=>{const o=e[i][t];return o<s||o===s&&e[i+1][t]===s}:i=>e[i][t]<s),iv=(e,t,s)=>bl(e,s,n=>e[n][t]>=s);function ov(e,t,s){let n=0,i=e.length;for(;n<i&&e[n]<t;)n++;for(;i>n&&e[i-1]>s;)i--;return n>0||i<e.length?e.slice(n,i):e}const af=["push","pop","shift","splice","unshift"];function rv(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),af.forEach(s=>{const n="_onData"+gl(s),i=e[s];Object.defineProperty(e,s,{configurable:!0,enumerable:!1,value(...o){const r=i.apply(this,o);return e._chartjs.listeners.forEach(a=>{typeof a[n]=="function"&&a[n](...o)}),r}})})}function Yc(e,t){const s=e._chartjs;if(!s)return;const n=s.listeners,i=n.indexOf(t);i!==-1&&n.splice(i,1),!(n.length>0)&&(af.forEach(o=>{delete e[o]}),delete e._chartjs)}function lf(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const cf=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function uf(e,t){let s=[],n=!1;return function(...i){s=i,n||(n=!0,cf.call(window,()=>{n=!1,e.apply(t,s)}))}}function av(e,t){let s;return function(...n){return t?(clearTimeout(s),s=setTimeout(e,t,n)):e.apply(this,n),t}}const yl=e=>e==="start"?"left":e==="end"?"right":"center",Zt=(e,t,s)=>e==="start"?t:e==="end"?s:(t+s)/2,lv=(e,t,s,n)=>e===(n?"left":"right")?s:e==="center"?(t+s)/2:t;function df(e,t,s){const n=t.length;let i=0,o=n;if(e._sorted){const{iScale:r,vScale:a,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,u=r.axis,{min:d,max:f,minDefined:p,maxDefined:g}=r.getUserBounds();if(p){if(i=Math.min(cs(l,u,d).lo,s?n:cs(t,u,r.getPixelForValue(d)).lo),c){const m=l.slice(0,i+1).reverse().findIndex(b=>!pt(b[a.axis]));i-=Math.max(0,m)}i=Gt(i,0,n-1)}if(g){let m=Math.max(cs(l,r.axis,f,!0).hi+1,s?0:cs(t,u,r.getPixelForValue(f),!0).hi+1);if(c){const b=l.slice(m-1).findIndex(_=>!pt(_[a.axis]));m+=Math.max(0,b)}o=Gt(m,i,n)-i}else o=n-i}return{start:i,count:o}}function hf(e){const{xScale:t,yScale:s,_scaleRanges:n}=e,i={xmin:t.min,xmax:t.max,ymin:s.min,ymax:s.max};if(!n)return e._scaleRanges=i,!0;const o=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==s.min||n.ymax!==s.max;return Object.assign(n,i),o}const oo=e=>e===0||e===1,Jc=(e,t,s)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*jt/s)),Xc=(e,t,s)=>Math.pow(2,-10*e)*Math.sin((e-t)*jt/s)+1,xi={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Vt)+1,easeOutSine:e=>Math.sin(e*Vt),easeInOutSine:e=>-.5*(Math.cos(Ft*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>oo(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>oo(e)?e:Jc(e,.075,.3),easeOutElastic:e=>oo(e)?e:Xc(e,.075,.3),easeInOutElastic(e){return oo(e)?e:e<.5?.5*Jc(e*2,.1125,.45):.5+.5*Xc(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-xi.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?xi.easeInBounce(e*2)*.5:xi.easeOutBounce(e*2-1)*.5+.5};function xl(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Qc(e){return xl(e)?e:new Di(e)}function zr(e){return xl(e)?e:new Di(e).saturate(.5).darken(.1).hexString()}const cv=["x","y","borderWidth","radius","tension"],uv=["color","borderColor","backgroundColor"];function dv(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:uv},numbers:{type:"number",properties:cv}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function hv(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Zc=new Map;function fv(e,t){t=t||{};const s=e+JSON.stringify(t);let n=Zc.get(s);return n||(n=new Intl.NumberFormat(e,t),Zc.set(s,n)),n}function Ki(e,t,s){return fv(t,s).format(e)}const ff={values(e){return Lt(e)?e:""+e},numeric(e,t,s){if(e===0)return"0";const n=this.chart.options.locale;let i,o=e;if(s.length>1){const c=Math.max(Math.abs(s[0].value),Math.abs(s[s.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),o=pv(e,s)}const r=Os(Math.abs(o)),a=isNaN(r)?1:Math.max(Math.min(-1*Math.floor(r),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Ki(e,n,l)},logarithmic(e,t,s){if(e===0)return"0";const n=s[t].significand||e/Math.pow(10,Math.floor(Os(e)));return[1,2,3,5,10,15].includes(n)||t>.8*s.length?ff.numeric.call(this,e,t,s):""}};function pv(e,t){let s=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(s)>=1&&e!==Math.floor(e)&&(s=e-Math.floor(e)),s}var br={formatters:ff};function gv(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,s)=>s.lineWidth,tickColor:(t,s)=>s.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:br.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const nn=Object.create(null),Sa=Object.create(null);function _i(e,t){if(!t)return e;const s=t.split(".");for(let n=0,i=s.length;n<i;++n){const o=s[n];e=e[o]||(e[o]=Object.create(null))}return e}function Hr(e,t,s){return typeof t=="string"?Ri(_i(e,t),s):Ri(_i(e,""),t)}class mv{constructor(t,s){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,i)=>zr(i.backgroundColor),this.hoverBorderColor=(n,i)=>zr(i.borderColor),this.hoverColor=(n,i)=>zr(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(s)}set(t,s){return Hr(this,t,s)}get(t){return _i(this,t)}describe(t,s){return Hr(Sa,t,s)}override(t,s){return Hr(nn,t,s)}route(t,s,n,i){const o=_i(this,t),r=_i(this,n),a="_"+s;Object.defineProperties(o,{[a]:{value:o[s],writable:!0},[s]:{enumerable:!0,get(){const l=this[a],c=r[i];return mt(l)?Object.assign({},c,l):dt(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(s=>s(this))}}var Nt=new mv({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[dv,hv,gv]);function bv(e){return!e||pt(e.size)||pt(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function qo(e,t,s,n,i){let o=t[i];return o||(o=t[i]=e.measureText(i).width,s.push(i)),o>n&&(n=o),n}function yv(e,t,s,n){n=n||{};let i=n.data=n.data||{},o=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(i=n.data={},o=n.garbageCollect=[],n.font=t),e.save(),e.font=t;let r=0;const a=s.length;let l,c,u,d,f;for(l=0;l<a;l++)if(d=s[l],d!=null&&!Lt(d))r=qo(e,i,o,r,d);else if(Lt(d))for(c=0,u=d.length;c<u;c++)f=d[c],f!=null&&!Lt(f)&&(r=qo(e,i,o,r,f));e.restore();const p=o.length/2;if(p>s.length){for(l=0;l<p;l++)delete i[o[l]];o.splice(0,p)}return r}function Hs(e,t,s){const n=e.currentDevicePixelRatio,i=s!==0?Math.max(s/2,.5):0;return Math.round((t-i)*n)/n+i}function tu(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Ca(e,t,s,n){pf(e,t,s,n,null)}function pf(e,t,s,n,i){let o,r,a,l,c,u,d,f;const p=t.pointStyle,g=t.rotation,m=t.radius;let b=(g||0)*Q_;if(p&&typeof p=="object"&&(o=p.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(s,n),e.rotate(b),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),e.restore();return}if(!(isNaN(m)||m<=0)){switch(e.beginPath(),p){default:i?e.ellipse(s,n,i/2,m,0,0,jt):e.arc(s,n,m,0,jt),e.closePath();break;case"triangle":u=i?i/2:m,e.moveTo(s+Math.sin(b)*u,n-Math.cos(b)*m),b+=qc,e.lineTo(s+Math.sin(b)*u,n-Math.cos(b)*m),b+=qc,e.lineTo(s+Math.sin(b)*u,n-Math.cos(b)*m),e.closePath();break;case"rectRounded":c=m*.516,l=m-c,r=Math.cos(b+zs)*l,d=Math.cos(b+zs)*(i?i/2-c:l),a=Math.sin(b+zs)*l,f=Math.sin(b+zs)*(i?i/2-c:l),e.arc(s-d,n-a,c,b-Ft,b-Vt),e.arc(s+f,n-r,c,b-Vt,b),e.arc(s+d,n+a,c,b,b+Vt),e.arc(s-f,n+r,c,b+Vt,b+Ft),e.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*m,u=i?i/2:l,e.rect(s-u,n-l,2*u,2*l);break}b+=zs;case"rectRot":d=Math.cos(b)*(i?i/2:m),r=Math.cos(b)*m,a=Math.sin(b)*m,f=Math.sin(b)*(i?i/2:m),e.moveTo(s-d,n-a),e.lineTo(s+f,n-r),e.lineTo(s+d,n+a),e.lineTo(s-f,n+r),e.closePath();break;case"crossRot":b+=zs;case"cross":d=Math.cos(b)*(i?i/2:m),r=Math.cos(b)*m,a=Math.sin(b)*m,f=Math.sin(b)*(i?i/2:m),e.moveTo(s-d,n-a),e.lineTo(s+d,n+a),e.moveTo(s+f,n-r),e.lineTo(s-f,n+r);break;case"star":d=Math.cos(b)*(i?i/2:m),r=Math.cos(b)*m,a=Math.sin(b)*m,f=Math.sin(b)*(i?i/2:m),e.moveTo(s-d,n-a),e.lineTo(s+d,n+a),e.moveTo(s+f,n-r),e.lineTo(s-f,n+r),b+=zs,d=Math.cos(b)*(i?i/2:m),r=Math.cos(b)*m,a=Math.sin(b)*m,f=Math.sin(b)*(i?i/2:m),e.moveTo(s-d,n-a),e.lineTo(s+d,n+a),e.moveTo(s+f,n-r),e.lineTo(s-f,n+r);break;case"line":r=i?i/2:Math.cos(b)*m,a=Math.sin(b)*m,e.moveTo(s-r,n-a),e.lineTo(s+r,n+a);break;case"dash":e.moveTo(s,n),e.lineTo(s+Math.cos(b)*(i?i/2:m),n+Math.sin(b)*m);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function us(e,t,s){return s=s||.5,!t||e&&e.x>t.left-s&&e.x<t.right+s&&e.y>t.top-s&&e.y<t.bottom+s}function yr(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function xr(e){e.restore()}function xv(e,t,s,n,i){if(!t)return e.lineTo(s.x,s.y);if(i==="middle"){const o=(t.x+s.x)/2;e.lineTo(o,t.y),e.lineTo(o,s.y)}else i==="after"!=!!n?e.lineTo(t.x,s.y):e.lineTo(s.x,t.y);e.lineTo(s.x,s.y)}function _v(e,t,s,n){if(!t)return e.lineTo(s.x,s.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?s.cp2x:s.cp1x,n?s.cp2y:s.cp1y,s.x,s.y)}function vv(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),pt(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function wv(e,t,s,n,i){if(i.strikethrough||i.underline){const o=e.measureText(n),r=t-o.actualBoundingBoxLeft,a=t+o.actualBoundingBoxRight,l=s-o.actualBoundingBoxAscent,c=s+o.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(r,u),e.lineTo(a,u),e.stroke()}}function kv(e,t){const s=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=s}function on(e,t,s,n,i,o={}){const r=Lt(t)?t:[t],a=o.strokeWidth>0&&o.strokeColor!=="";let l,c;for(e.save(),e.font=i.string,vv(e,o),l=0;l<r.length;++l)c=r[l],o.backdrop&&kv(e,o.backdrop),a&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),pt(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(c,s,n,o.maxWidth)),e.fillText(c,s,n,o.maxWidth),wv(e,s,n,c,o),n+=Number(i.lineHeight);e.restore()}function ji(e,t){const{x:s,y:n,w:i,h:o,radius:r}=t;e.arc(s+r.topLeft,n+r.topLeft,r.topLeft,1.5*Ft,Ft,!0),e.lineTo(s,n+o-r.bottomLeft),e.arc(s+r.bottomLeft,n+o-r.bottomLeft,r.bottomLeft,Ft,Vt,!0),e.lineTo(s+i-r.bottomRight,n+o),e.arc(s+i-r.bottomRight,n+o-r.bottomRight,r.bottomRight,Vt,0,!0),e.lineTo(s+i,n+r.topRight),e.arc(s+i-r.topRight,n+r.topRight,r.topRight,0,-Vt,!0),e.lineTo(s+r.topLeft,n)}const Sv=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Cv=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Mv(e,t){const s=(""+e).match(Sv);if(!s||s[1]==="normal")return t*1.2;switch(e=+s[2],s[3]){case"px":return e;case"%":e/=100;break}return t*e}const Pv=e=>+e||0;function _l(e,t){const s={},n=mt(t),i=n?Object.keys(t):t,o=mt(e)?n?r=>dt(e[r],e[t[r]]):r=>e[r]:()=>e;for(const r of i)s[r]=Pv(o(r));return s}function gf(e){return _l(e,{top:"y",right:"x",bottom:"y",left:"x"})}function tn(e){return _l(e,["topLeft","topRight","bottomLeft","bottomRight"])}function ie(e){const t=gf(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function qt(e,t){e=e||{},t=t||Nt.font;let s=dt(e.size,t.size);typeof s=="string"&&(s=parseInt(s,10));let n=dt(e.style,t.style);n&&!(""+n).match(Cv)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const i={family:dt(e.family,t.family),lineHeight:Mv(dt(e.lineHeight,t.lineHeight),s),size:s,style:n,weight:dt(e.weight,t.weight),string:""};return i.string=bv(i),i}function si(e,t,s,n){let i=!0,o,r,a;for(o=0,r=e.length;o<r;++o)if(a=e[o],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),i=!1),s!==void 0&&Lt(a)&&(a=a[s%a.length],i=!1),a!==void 0))return n&&!i&&(n.cacheable=!1),a}function Av(e,t,s){const{min:n,max:i}=e,o=sf(t,(i-n)/2),r=(a,l)=>s&&a===0?0:a+l;return{min:r(n,-Math.abs(o)),max:r(i,o)}}function Ns(e,t){return Object.assign(Object.create(e),t)}function vl(e,t=[""],s,n,i=()=>e[0]){const o=s||e;typeof n>"u"&&(n=xf("_fallback",e));const r={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:o,_fallback:n,_getTarget:i,override:a=>vl([a,...e],t,o,n)};return new Proxy(r,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return bf(a,l,()=>jv(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return su(a).includes(l)},ownKeys(a){return su(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function Ln(e,t,s,n){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:s,_stack:new Set,_descriptors:mf(e,n),setContext:o=>Ln(e,o,s,n),override:o=>Ln(e.override(o),t,s,n)};return new Proxy(i,{deleteProperty(o,r){return delete o[r],delete e[r],!0},get(o,r,a){return bf(o,r,()=>Tv(o,r,a))},getOwnPropertyDescriptor(o,r){return o._descriptors.allKeys?Reflect.has(e,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,r)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,r){return Reflect.has(e,r)},ownKeys(){return Reflect.ownKeys(e)},set(o,r,a){return e[r]=a,delete o[r],!0}})}function mf(e,t={scriptable:!0,indexable:!0}){const{_scriptable:s=t.scriptable,_indexable:n=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:s,indexable:n,isScriptable:Fs(s)?s:()=>s,isIndexable:Fs(n)?n:()=>n}}const Ov=(e,t)=>e?e+gl(t):t,wl=(e,t)=>mt(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function bf(e,t,s){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const n=s();return e[t]=n,n}function Tv(e,t,s){const{_proxy:n,_context:i,_subProxy:o,_descriptors:r}=e;let a=n[t];return Fs(a)&&r.isScriptable(t)&&(a=Ev(t,a,e,s)),Lt(a)&&a.length&&(a=Dv(t,a,e,r.isIndexable)),wl(t,a)&&(a=Ln(a,i,o&&o[t],r)),a}function Ev(e,t,s,n){const{_proxy:i,_context:o,_subProxy:r,_stack:a}=s;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(o,r||n);return a.delete(e),wl(e,l)&&(l=kl(i._scopes,i,e,l)),l}function Dv(e,t,s,n){const{_proxy:i,_context:o,_subProxy:r,_descriptors:a}=s;if(typeof o.index<"u"&&n(e))return t[o.index%t.length];if(mt(t[0])){const l=t,c=i._scopes.filter(u=>u!==l);t=[];for(const u of l){const d=kl(c,i,e,u);t.push(Ln(d,o,r&&r[e],a))}}return t}function yf(e,t,s){return Fs(e)?e(t,s):e}const Rv=(e,t)=>e===!0?t:typeof e=="string"?js(t,e):void 0;function Iv(e,t,s,n,i){for(const o of t){const r=Rv(s,o);if(r){e.add(r);const a=yf(r._fallback,s,i);if(typeof a<"u"&&a!==s&&a!==n)return a}else if(r===!1&&typeof n<"u"&&s!==n)return null}return!1}function kl(e,t,s,n){const i=t._rootScopes,o=yf(t._fallback,s,n),r=[...e,...i],a=new Set;a.add(n);let l=eu(a,r,s,o||s,n);return l===null||typeof o<"u"&&o!==s&&(l=eu(a,r,o,l,n),l===null)?!1:vl(Array.from(a),[""],i,o,()=>Lv(t,s,n))}function eu(e,t,s,n,i){for(;s;)s=Iv(e,t,s,n,i);return s}function Lv(e,t,s){const n=e._getTarget();t in n||(n[t]={});const i=n[t];return Lt(i)&&mt(s)?s:i||{}}function jv(e,t,s,n){let i;for(const o of t)if(i=xf(Ov(o,e),s),typeof i<"u")return wl(e,i)?kl(s,n,e,i):i}function xf(e,t){for(const s of t){if(!s)continue;const n=s[e];if(typeof n<"u")return n}}function su(e){let t=e._keys;return t||(t=e._keys=Fv(e._scopes)),t}function Fv(e){const t=new Set;for(const s of e)for(const n of Object.keys(s).filter(i=>!i.startsWith("_")))t.add(n);return Array.from(t)}function _f(e,t,s,n){const{iScale:i}=e,{key:o="r"}=this._parsing,r=new Array(n);let a,l,c,u;for(a=0,l=n;a<l;++a)c=a+s,u=t[c],r[a]={r:i.parse(js(u,o),c)};return r}const $v=Number.EPSILON||1e-14,jn=(e,t)=>t<e.length&&!e[t].skip&&e[t],vf=e=>e==="x"?"y":"x";function Nv(e,t,s,n){const i=e.skip?t:e,o=t,r=s.skip?t:s,a=ka(o,i),l=ka(r,o);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const d=n*c,f=n*u;return{previous:{x:o.x-d*(r.x-i.x),y:o.y-d*(r.y-i.y)},next:{x:o.x+f*(r.x-i.x),y:o.y+f*(r.y-i.y)}}}function Bv(e,t,s){const n=e.length;let i,o,r,a,l,c=jn(e,0);for(let u=0;u<n-1;++u)if(l=c,c=jn(e,u+1),!(!l||!c)){if(yi(t[u],0,$v)){s[u]=s[u+1]=0;continue}i=s[u]/t[u],o=s[u+1]/t[u],a=Math.pow(i,2)+Math.pow(o,2),!(a<=9)&&(r=3/Math.sqrt(a),s[u]=i*r*t[u],s[u+1]=o*r*t[u])}}function Uv(e,t,s="x"){const n=vf(s),i=e.length;let o,r,a,l=jn(e,0);for(let c=0;c<i;++c){if(r=a,a=l,l=jn(e,c+1),!a)continue;const u=a[s],d=a[n];r&&(o=(u-r[s])/3,a[`cp1${s}`]=u-o,a[`cp1${n}`]=d-o*t[c]),l&&(o=(l[s]-u)/3,a[`cp2${s}`]=u+o,a[`cp2${n}`]=d+o*t[c])}}function Vv(e,t="x"){const s=vf(t),n=e.length,i=Array(n).fill(0),o=Array(n);let r,a,l,c=jn(e,0);for(r=0;r<n;++r)if(a=l,l=c,c=jn(e,r+1),!!l){if(c){const u=c[t]-l[t];i[r]=u!==0?(c[s]-l[s])/u:0}o[r]=a?c?Je(i[r-1])!==Je(i[r])?0:(i[r-1]+i[r])/2:i[r-1]:i[r]}Bv(e,i,o),Uv(e,o,t)}function ro(e,t,s){return Math.max(Math.min(e,s),t)}function zv(e,t){let s,n,i,o,r,a=us(e[0],t);for(s=0,n=e.length;s<n;++s)r=o,o=a,a=s<n-1&&us(e[s+1],t),o&&(i=e[s],r&&(i.cp1x=ro(i.cp1x,t.left,t.right),i.cp1y=ro(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=ro(i.cp2x,t.left,t.right),i.cp2y=ro(i.cp2y,t.top,t.bottom)))}function Hv(e,t,s,n,i){let o,r,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")Vv(e,i);else{let c=n?e[e.length-1]:e[0];for(o=0,r=e.length;o<r;++o)a=e[o],l=Nv(c,a,e[Math.min(o+1,r-(n?0:1))%r],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&zv(e,s)}function Sl(){return typeof window<"u"&&typeof document<"u"}function Cl(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Ko(e,t,s){let n;return typeof e=="string"?(n=parseInt(e,10),e.indexOf("%")!==-1&&(n=n/100*t.parentNode[s])):n=e,n}const _r=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function Wv(e,t){return _r(e).getPropertyValue(t)}const qv=["top","right","bottom","left"];function en(e,t,s){const n={};s=s?"-"+s:"";for(let i=0;i<4;i++){const o=qv[i];n[o]=parseFloat(e[t+"-"+o+s])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const Kv=(e,t,s)=>(e>0||t>0)&&(!s||!s.shadowRoot);function Gv(e,t){const s=e.touches,n=s&&s.length?s[0]:e,{offsetX:i,offsetY:o}=n;let r=!1,a,l;if(Kv(i,o,e.target))a=i,l=o;else{const c=t.getBoundingClientRect();a=n.clientX-c.left,l=n.clientY-c.top,r=!0}return{x:a,y:l,box:r}}function Ys(e,t){if("native"in e)return e;const{canvas:s,currentDevicePixelRatio:n}=t,i=_r(s),o=i.boxSizing==="border-box",r=en(i,"padding"),a=en(i,"border","width"),{x:l,y:c,box:u}=Gv(e,s),d=r.left+(u&&a.left),f=r.top+(u&&a.top);let{width:p,height:g}=t;return o&&(p-=r.width+a.width,g-=r.height+a.height),{x:Math.round((l-d)/p*s.width/n),y:Math.round((c-f)/g*s.height/n)}}function Yv(e,t,s){let n,i;if(t===void 0||s===void 0){const o=e&&Cl(e);if(!o)t=e.clientWidth,s=e.clientHeight;else{const r=o.getBoundingClientRect(),a=_r(o),l=en(a,"border","width"),c=en(a,"padding");t=r.width-c.width-l.width,s=r.height-c.height-l.height,n=Ko(a.maxWidth,o,"clientWidth"),i=Ko(a.maxHeight,o,"clientHeight")}}return{width:t,height:s,maxWidth:n||Wo,maxHeight:i||Wo}}const ao=e=>Math.round(e*10)/10;function Jv(e,t,s,n){const i=_r(e),o=en(i,"margin"),r=Ko(i.maxWidth,e,"clientWidth")||Wo,a=Ko(i.maxHeight,e,"clientHeight")||Wo,l=Yv(e,t,s);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const f=en(i,"border","width"),p=en(i,"padding");c-=p.width+f.width,u-=p.height+f.height}return c=Math.max(0,c-o.width),u=Math.max(0,n?c/n:u-o.height),c=ao(Math.min(c,r,l.maxWidth)),u=ao(Math.min(u,a,l.maxHeight)),c&&!u&&(u=ao(c/2)),(t!==void 0||s!==void 0)&&n&&l.height&&u>l.height&&(u=l.height,c=ao(Math.floor(u*n))),{width:c,height:u}}function nu(e,t,s){const n=t||1,i=Math.floor(e.height*n),o=Math.floor(e.width*n);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const r=e.canvas;return r.style&&(s||!r.style.height&&!r.style.width)&&(r.style.height=`${e.height}px`,r.style.width=`${e.width}px`),e.currentDevicePixelRatio!==n||r.height!==i||r.width!==o?(e.currentDevicePixelRatio=n,r.height=i,r.width=o,e.ctx.setTransform(n,0,0,n,0,0),!0):!1}const Xv=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Sl()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function iu(e,t){const s=Wv(e,t),n=s&&s.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function Js(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:e.y+s*(t.y-e.y)}}function Qv(e,t,s,n){return{x:e.x+s*(t.x-e.x),y:n==="middle"?s<.5?e.y:t.y:n==="after"?s<1?e.y:t.y:s>0?t.y:e.y}}function Zv(e,t,s,n){const i={x:e.cp2x,y:e.cp2y},o={x:t.cp1x,y:t.cp1y},r=Js(e,i,s),a=Js(i,o,s),l=Js(o,t,s),c=Js(r,a,s),u=Js(a,l,s);return Js(c,u,s)}const tw=function(e,t){return{x(s){return e+e+t-s},setWidth(s){t=s},textAlign(s){return s==="center"?s:s==="right"?"left":"right"},xPlus(s,n){return s-n},leftForLtr(s,n){return s-n}}},ew=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Pn(e,t,s){return e?tw(t,s):ew()}function wf(e,t){let s,n;(t==="ltr"||t==="rtl")&&(s=e.canvas.style,n=[s.getPropertyValue("direction"),s.getPropertyPriority("direction")],s.setProperty("direction",t,"important"),e.prevTextDirection=n)}function kf(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Sf(e){return e==="angle"?{between:Li,compare:sv,normalize:ke}:{between:ls,compare:(t,s)=>t-s,normalize:t=>t}}function ou({start:e,end:t,count:s,loop:n,style:i}){return{start:e%s,end:t%s,loop:n&&(t-e+1)%s===0,style:i}}function sw(e,t,s){const{property:n,start:i,end:o}=s,{between:r,normalize:a}=Sf(n),l=t.length;let{start:c,end:u,loop:d}=e,f,p;if(d){for(c+=l,u+=l,f=0,p=l;f<p&&r(a(t[c%l][n]),i,o);++f)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:e.style}}function Cf(e,t,s){if(!s)return[e];const{property:n,start:i,end:o}=s,r=t.length,{compare:a,between:l,normalize:c}=Sf(n),{start:u,end:d,loop:f,style:p}=sw(e,t,s),g=[];let m=!1,b=null,_,v,S;const w=()=>l(i,S,_)&&a(i,S)!==0,C=()=>a(o,_)===0||l(o,S,_),R=()=>m||w(),E=()=>!m||C();for(let j=u,G=u;j<=d;++j)v=t[j%r],!v.skip&&(_=c(v[n]),_!==S&&(m=l(_,i,o),b===null&&R()&&(b=a(_,i)===0?j:G),b!==null&&E()&&(g.push(ou({start:b,end:j,loop:f,count:r,style:p})),b=null),G=j,S=_));return b!==null&&g.push(ou({start:b,end:d,loop:f,count:r,style:p})),g}function Mf(e,t){const s=[],n=e.segments;for(let i=0;i<n.length;i++){const o=Cf(n[i],e.points,t);o.length&&s.push(...o)}return s}function nw(e,t,s,n){let i=0,o=t-1;if(s&&!n)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,s&&(o+=i);o>i&&e[o%t].skip;)o--;return o%=t,{start:i,end:o}}function iw(e,t,s,n){const i=e.length,o=[];let r=t,a=e[t],l;for(l=t+1;l<=s;++l){const c=e[l%i];c.skip||c.stop?a.skip||(n=!1,o.push({start:t%i,end:(l-1)%i,loop:n}),t=r=c.stop?l:null):(r=l,a.skip&&(t=l)),a=c}return r!==null&&o.push({start:t%i,end:r%i,loop:n}),o}function ow(e,t){const s=e.points,n=e.options.spanGaps,i=s.length;if(!i)return[];const o=!!e._loop,{start:r,end:a}=nw(s,i,o,n);if(n===!0)return ru(e,[{start:r,end:a,loop:o}],s,t);const l=a<r?a+i:a,c=!!e._fullLoop&&r===0&&a===i-1;return ru(e,iw(s,r,l,c),s,t)}function ru(e,t,s,n){return!n||!n.setContext||!s?t:rw(e,t,s,n)}function rw(e,t,s,n){const i=e._chart.getContext(),o=au(e.options),{_datasetIndex:r,options:{spanGaps:a}}=e,l=s.length,c=[];let u=o,d=t[0].start,f=d;function p(g,m,b,_){const v=a?-1:1;if(g!==m){for(g+=l;s[g%l].skip;)g-=v;for(;s[m%l].skip;)m+=v;g%l!==m%l&&(c.push({start:g%l,end:m%l,loop:b,style:_}),u=_,d=m%l)}}for(const g of t){d=a?d:g.start;let m=s[d%l],b;for(f=d+1;f<=g.end;f++){const _=s[f%l];b=au(n.setContext(Ns(i,{type:"segment",p0:m,p1:_,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:r}))),aw(b,u)&&p(d,f-1,g.loop,u),m=_,u=b}d<f-1&&p(d,f-1,g.loop,u)}return c}function au(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function aw(e,t){if(!t)return!1;const s=[],n=function(i,o){return xl(o)?(s.includes(o)||s.push(o),s.indexOf(o)):o};return JSON.stringify(e,n)!==JSON.stringify(t,n)}function lo(e,t,s){return e.options.clip?e[s]:t[s]}function lw(e,t){const{xScale:s,yScale:n}=e;return s&&n?{left:lo(s,t,"left"),right:lo(s,t,"right"),top:lo(n,t,"top"),bottom:lo(n,t,"bottom")}:t}function Pf(e,t){const s=t._clip;if(s.disabled)return!1;const n=lw(t,e.chartArea);return{left:s.left===!1?0:n.left-(s.left===!0?0:s.left),right:s.right===!1?e.width:n.right+(s.right===!0?0:s.right),top:s.top===!1?0:n.top-(s.top===!0?0:s.top),bottom:s.bottom===!1?e.height:n.bottom+(s.bottom===!0?0:s.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class cw{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,s,n,i){const o=s.listeners[i],r=s.duration;o.forEach(a=>a({chart:t,initial:s.initial,numSteps:r,currentStep:Math.min(n-s.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=cf.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let s=0;this._charts.forEach((n,i)=>{if(!n.running||!n.items.length)return;const o=n.items;let r=o.length-1,a=!1,l;for(;r>=0;--r)l=o[r],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(t),a=!0):(o[r]=o[o.length-1],o.pop());a&&(i.draw(),this._notify(i,n,t,"progress")),o.length||(n.running=!1,this._notify(i,n,t,"complete"),n.initial=!1),s+=o.length}),this._lastDate=t,s===0&&(this._running=!1)}_getAnims(t){const s=this._charts;let n=s.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},s.set(t,n)),n}listen(t,s,n){this._getAnims(t).listeners[s].push(n)}add(t,s){!s||!s.length||this._getAnims(t).items.push(...s)}has(t){return this._getAnims(t).items.length>0}start(t){const s=this._charts.get(t);s&&(s.running=!0,s.start=Date.now(),s.duration=s.items.reduce((n,i)=>Math.max(n,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const s=this._charts.get(t);return!(!s||!s.running||!s.items.length)}stop(t){const s=this._charts.get(t);if(!s||!s.items.length)return;const n=s.items;let i=n.length-1;for(;i>=0;--i)n[i].cancel();s.items=[],this._notify(t,s,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var es=new cw;const lu="transparent",uw={boolean(e,t,s){return s>.5?t:e},color(e,t,s){const n=Qc(e||lu),i=n.valid&&Qc(t||lu);return i&&i.valid?i.mix(n,s).hexString():t},number(e,t,s){return e+(t-e)*s}};class dw{constructor(t,s,n,i){const o=s[n];i=si([t.to,i,o,t.from]);const r=si([t.from,o,i]);this._active=!0,this._fn=t.fn||uw[t.type||typeof r],this._easing=xi[t.easing]||xi.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=s,this._prop=n,this._from=r,this._to=i,this._promises=void 0}active(){return this._active}update(t,s,n){if(this._active){this._notify(!1);const i=this._target[this._prop],o=n-this._start,r=this._duration-o;this._start=n,this._duration=Math.floor(Math.max(r,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=si([t.to,s,i,t.from]),this._from=si([t.from,i,s])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const s=t-this._start,n=this._duration,i=this._prop,o=this._from,r=this._loop,a=this._to;let l;if(this._active=o!==a&&(r||s<n),!this._active){this._target[i]=a,this._notify(!0);return}if(s<0){this._target[i]=o;return}l=s/n%2,l=r&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(o,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((s,n)=>{t.push({res:s,rej:n})})}_notify(t){const s=t?"res":"rej",n=this._promises||[];for(let i=0;i<n.length;i++)n[i][s]()}}class Af{constructor(t,s){this._chart=t,this._properties=new Map,this.configure(s)}configure(t){if(!mt(t))return;const s=Object.keys(Nt.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const o=t[i];if(!mt(o))return;const r={};for(const a of s)r[a]=o[a];(Lt(o.properties)&&o.properties||[i]).forEach(a=>{(a===i||!n.has(a))&&n.set(a,r)})})}_animateOptions(t,s){const n=s.options,i=fw(t,n);if(!i)return[];const o=this._createAnimations(i,n);return n.$shared&&hw(t.options.$animations,n).then(()=>{t.options=n},()=>{}),o}_createAnimations(t,s){const n=this._properties,i=[],o=t.$animations||(t.$animations={}),r=Object.keys(s),a=Date.now();let l;for(l=r.length-1;l>=0;--l){const c=r[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(t,s));continue}const u=s[c];let d=o[c];const f=n.get(c);if(d)if(f&&d.active()){d.update(f,u,a);continue}else d.cancel();if(!f||!f.duration){t[c]=u;continue}o[c]=d=new dw(f,t,c,u),i.push(d)}return i}update(t,s){if(this._properties.size===0){Object.assign(t,s);return}const n=this._createAnimations(t,s);if(n.length)return es.add(this._chart,n),!0}}function hw(e,t){const s=[],n=Object.keys(t);for(let i=0;i<n.length;i++){const o=e[n[i]];o&&o.active()&&s.push(o.wait())}return Promise.all(s)}function fw(e,t){if(!t)return;let s=e.options;if(!s){e.options=t;return}return s.$shared&&(e.options=s=Object.assign({},s,{$shared:!1,$animations:{}})),s}function cu(e,t){const s=e&&e.options||{},n=s.reverse,i=s.min===void 0?t:0,o=s.max===void 0?t:0;return{start:n?o:i,end:n?i:o}}function pw(e,t,s){if(s===!1)return!1;const n=cu(e,s),i=cu(t,s);return{top:i.end,right:n.end,bottom:i.start,left:n.start}}function gw(e){let t,s,n,i;return mt(e)?(t=e.top,s=e.right,n=e.bottom,i=e.left):t=s=n=i=e,{top:t,right:s,bottom:n,left:i,disabled:e===!1}}function Of(e,t){const s=[],n=e._getSortedDatasetMetas(t);let i,o;for(i=0,o=n.length;i<o;++i)s.push(n[i].index);return s}function uu(e,t,s,n={}){const i=e.keys,o=n.mode==="single";let r,a,l,c;if(t===null)return;let u=!1;for(r=0,a=i.length;r<a;++r){if(l=+i[r],l===s){if(u=!0,n.all)continue;break}c=e.values[l],Bt(c)&&(o||t===0||Je(t)===Je(c))&&(t+=c)}return!u&&!n.all?0:t}function mw(e,t){const{iScale:s,vScale:n}=t,i=s.axis==="x"?"x":"y",o=n.axis==="x"?"x":"y",r=Object.keys(e),a=new Array(r.length);let l,c,u;for(l=0,c=r.length;l<c;++l)u=r[l],a[l]={[i]:u,[o]:e[u]};return a}function Wr(e,t){const s=e&&e.options.stacked;return s||s===void 0&&t.stack!==void 0}function bw(e,t,s){return`${e.id}.${t.id}.${s.stack||s.type}`}function yw(e){const{min:t,max:s,minDefined:n,maxDefined:i}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:i?s:Number.POSITIVE_INFINITY}}function xw(e,t,s){const n=e[t]||(e[t]={});return n[s]||(n[s]={})}function du(e,t,s,n){for(const i of t.getMatchingVisibleMetas(n).reverse()){const o=e[i.index];if(s&&o>0||!s&&o<0)return i.index}return null}function hu(e,t){const{chart:s,_cachedMeta:n}=e,i=s._stacks||(s._stacks={}),{iScale:o,vScale:r,index:a}=n,l=o.axis,c=r.axis,u=bw(o,r,n),d=t.length;let f;for(let p=0;p<d;++p){const g=t[p],{[l]:m,[c]:b}=g,_=g._stacks||(g._stacks={});f=_[c]=xw(i,u,m),f[a]=b,f._top=du(f,r,!0,n.type),f._bottom=du(f,r,!1,n.type);const v=f._visualValues||(f._visualValues={});v[a]=b}}function qr(e,t){const s=e.scales;return Object.keys(s).filter(n=>s[n].axis===t).shift()}function _w(e,t){return Ns(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function vw(e,t,s){return Ns(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:s,index:t,mode:"default",type:"data"})}function Gn(e,t){const s=e.controller.index,n=e.vScale&&e.vScale.axis;if(n){t=t||e._parsed;for(const i of t){const o=i._stacks;if(!o||o[n]===void 0||o[n][s]===void 0)return;delete o[n][s],o[n]._visualValues!==void 0&&o[n]._visualValues[s]!==void 0&&delete o[n]._visualValues[s]}}}const Kr=e=>e==="reset"||e==="none",fu=(e,t)=>t?e:Object.assign({},e),ww=(e,t,s)=>e&&!t.hidden&&t._stacked&&{keys:Of(s,!0),values:null};class je{constructor(t,s){this.chart=t,this._ctx=t.ctx,this.index=s,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Wr(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Gn(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,s=this._cachedMeta,n=this.getDataset(),i=(d,f,p,g)=>d==="x"?f:d==="r"?g:p,o=s.xAxisID=dt(n.xAxisID,qr(t,"x")),r=s.yAxisID=dt(n.yAxisID,qr(t,"y")),a=s.rAxisID=dt(n.rAxisID,qr(t,"r")),l=s.indexAxis,c=s.iAxisID=i(l,o,r,a),u=s.vAxisID=i(l,r,o,a);s.xScale=this.getScaleForId(o),s.yScale=this.getScaleForId(r),s.rScale=this.getScaleForId(a),s.iScale=this.getScaleForId(c),s.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const s=this._cachedMeta;return t===s.iScale?s.vScale:s.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Yc(this._data,this),t._stacked&&Gn(t)}_dataCheck(){const t=this.getDataset(),s=t.data||(t.data=[]),n=this._data;if(mt(s)){const i=this._cachedMeta;this._data=mw(s,i)}else if(n!==s){if(n){Yc(n,this);const i=this._cachedMeta;Gn(i),i._parsed=[]}s&&Object.isExtensible(s)&&rv(s,this),this._syncList=[],this._data=s}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const s=this._cachedMeta,n=this.getDataset();let i=!1;this._dataCheck();const o=s._stacked;s._stacked=Wr(s.vScale,s),s.stack!==n.stack&&(i=!0,Gn(s),s.stack=n.stack),this._resyncElements(t),(i||o!==s._stacked)&&(hu(this,s._parsed),s._stacked=Wr(s.vScale,s))}configure(){const t=this.chart.config,s=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),s,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,s){const{_cachedMeta:n,_data:i}=this,{iScale:o,_stacked:r}=n,a=o.axis;let l=t===0&&s===i.length?!0:n._sorted,c=t>0&&n._parsed[t-1],u,d,f;if(this._parsing===!1)n._parsed=i,n._sorted=!0,f=i;else{Lt(i[t])?f=this.parseArrayData(n,i,t,s):mt(i[t])?f=this.parseObjectData(n,i,t,s):f=this.parsePrimitiveData(n,i,t,s);const p=()=>d[a]===null||c&&d[a]<c[a];for(u=0;u<s;++u)n._parsed[u+t]=d=f[u],l&&(p()&&(l=!1),c=d);n._sorted=l}r&&hu(this,f)}parsePrimitiveData(t,s,n,i){const{iScale:o,vScale:r}=t,a=o.axis,l=r.axis,c=o.getLabels(),u=o===r,d=new Array(i);let f,p,g;for(f=0,p=i;f<p;++f)g=f+n,d[f]={[a]:u||o.parse(c[g],g),[l]:r.parse(s[g],g)};return d}parseArrayData(t,s,n,i){const{xScale:o,yScale:r}=t,a=new Array(i);let l,c,u,d;for(l=0,c=i;l<c;++l)u=l+n,d=s[u],a[l]={x:o.parse(d[0],u),y:r.parse(d[1],u)};return a}parseObjectData(t,s,n,i){const{xScale:o,yScale:r}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,d,f,p;for(u=0,d=i;u<d;++u)f=u+n,p=s[f],c[u]={x:o.parse(js(p,a),f),y:r.parse(js(p,l),f)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,s,n){const i=this.chart,o=this._cachedMeta,r=s[t.axis],a={keys:Of(i,!0),values:s._stacks[t.axis]._visualValues};return uu(a,r,o.index,{mode:n})}updateRangeFromParsed(t,s,n,i){const o=n[s.axis];let r=o===null?NaN:o;const a=i&&n._stacks[s.axis];i&&a&&(i.values=a,r=uu(i,o,this._cachedMeta.index)),t.min=Math.min(t.min,r),t.max=Math.max(t.max,r)}getMinMax(t,s){const n=this._cachedMeta,i=n._parsed,o=n._sorted&&t===n.iScale,r=i.length,a=this._getOtherScale(t),l=ww(s,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:d}=yw(a);let f,p;function g(){p=i[f];const m=p[a.axis];return!Bt(p[t.axis])||u>m||d<m}for(f=0;f<r&&!(!g()&&(this.updateRangeFromParsed(c,t,p,l),o));++f);if(o){for(f=r-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(c,t,p,l);break}}return c}getAllParsedValues(t){const s=this._cachedMeta._parsed,n=[];let i,o,r;for(i=0,o=s.length;i<o;++i)r=s[i][t.axis],Bt(r)&&n.push(r);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const s=this._cachedMeta,n=s.iScale,i=s.vScale,o=this.getParsed(t);return{label:n?""+n.getLabelForValue(o[n.axis]):"",value:i?""+i.getLabelForValue(o[i.axis]):""}}_update(t){const s=this._cachedMeta;this.update(t||"default"),s._clip=gw(dt(this.options.clip,pw(s.xScale,s.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,s=this.chart,n=this._cachedMeta,i=n.data||[],o=s.chartArea,r=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(n.dataset&&n.dataset.draw(t,o,a,l),u=a;u<a+l;++u){const d=i[u];d.hidden||(d.active&&c?r.push(d):d.draw(t,o))}for(u=0;u<r.length;++u)r[u].draw(t,o)}getStyle(t,s){const n=s?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,s,n){const i=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const r=this._cachedMeta.data[t];o=r.$context||(r.$context=vw(this.getContext(),t,r)),o.parsed=this.getParsed(t),o.raw=i.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=_w(this.chart.getContext(),this.index)),o.dataset=i,o.index=o.datasetIndex=this.index;return o.active=!!s,o.mode=n,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,s){return this._resolveElementOptions(this.dataElementType.id,s,t)}_resolveElementOptions(t,s="default",n){const i=s==="active",o=this._cachedDataOpts,r=t+"-"+s,a=o[r],l=this.enableOptionSharing&&Ii(n);if(a)return fu(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),d=i?[`${t}Hover`,"hover",t,""]:[t,""],f=c.getOptionScopes(this.getDataset(),u),p=Object.keys(Nt.elements[t]),g=()=>this.getContext(n,i,s),m=c.resolveNamedOptions(f,p,g,d);return m.$shared&&(m.$shared=l,o[r]=Object.freeze(fu(m,l))),m}_resolveAnimations(t,s,n){const i=this.chart,o=this._cachedDataOpts,r=`animation-${s}`,a=o[r];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,d=u.datasetAnimationScopeKeys(this._type,s),f=u.getOptionScopes(this.getDataset(),d);l=u.createResolver(f,this.getContext(t,n,s))}const c=new Af(i,l&&l.animations);return l&&l._cacheable&&(o[r]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,s){return!s||Kr(t)||this.chart._animationsDisabled}_getSharedOptions(t,s){const n=this.resolveDataElementOptions(t,s),i=this._sharedOptions,o=this.getSharedOptions(n),r=this.includeOptions(s,o)||o!==i;return this.updateSharedOptions(o,s,n),{sharedOptions:o,includeOptions:r}}updateElement(t,s,n,i){Kr(i)?Object.assign(t,n):this._resolveAnimations(s,i).update(t,n)}updateSharedOptions(t,s,n){t&&!Kr(s)&&this._resolveAnimations(void 0,s).update(t,n)}_setStyle(t,s,n,i){t.active=i;const o=this.getStyle(s,i);this._resolveAnimations(s,n,i).update(t,{options:!i&&this.getSharedOptions(o)||o})}removeHoverStyle(t,s,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,s,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const s=this._data,n=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=n.length,o=s.length,r=Math.min(o,i);r&&this.parse(0,r),o>i?this._insertElements(i,o-i,t):o<i&&this._removeElements(o,i-o)}_insertElements(t,s,n=!0){const i=this._cachedMeta,o=i.data,r=t+s;let a;const l=c=>{for(c.length+=s,a=c.length-1;a>=r;a--)c[a]=c[a-s]};for(l(o),a=t;a<r;++a)o[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(t,s),n&&this.updateElements(o,t,s,"reset")}updateElements(t,s,n,i){}_removeElements(t,s){const n=this._cachedMeta;if(this._parsing){const i=n._parsed.splice(t,s);n._stacked&&Gn(n,i)}n.data.splice(t,s)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[s,n,i]=t;this[s](n,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,s){s&&this._sync(["_removeElements",t,s]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}$(je,"defaults",{}),$(je,"datasetElementType",null),$(je,"dataElementType",null);function kw(e,t){if(!e._cache.$bar){const s=e.getMatchingVisibleMetas(t);let n=[];for(let i=0,o=s.length;i<o;i++)n=n.concat(s[i].controller.getAllParsedValues(e));e._cache.$bar=lf(n.sort((i,o)=>i-o))}return e._cache.$bar}function Sw(e){const t=e.iScale,s=kw(t,e.type);let n=t._length,i,o,r,a;const l=()=>{r===32767||r===-32768||(Ii(a)&&(n=Math.min(n,Math.abs(r-a)||n)),a=r)};for(i=0,o=s.length;i<o;++i)r=t.getPixelForValue(s[i]),l();for(a=void 0,i=0,o=t.ticks.length;i<o;++i)r=t.getPixelForTick(i),l();return n}function Cw(e,t,s,n){const i=s.barThickness;let o,r;return pt(i)?(o=t.min*s.categoryPercentage,r=s.barPercentage):(o=i*n,r=1),{chunk:o/n,ratio:r,start:t.pixels[e]-o/2}}function Mw(e,t,s,n){const i=t.pixels,o=i[e];let r=e>0?i[e-1]:null,a=e<i.length-1?i[e+1]:null;const l=s.categoryPercentage;r===null&&(r=o-(a===null?t.end-t.start:a-o)),a===null&&(a=o+o-r);const c=o-(o-Math.min(r,a))/2*l;return{chunk:Math.abs(a-r)/2*l/n,ratio:s.barPercentage,start:c}}function Pw(e,t,s,n){const i=s.parse(e[0],n),o=s.parse(e[1],n),r=Math.min(i,o),a=Math.max(i,o);let l=r,c=a;Math.abs(r)>Math.abs(a)&&(l=a,c=r),t[s.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:o,min:r,max:a}}function Tf(e,t,s,n){return Lt(e)?Pw(e,t,s,n):t[s.axis]=s.parse(e,n),t}function pu(e,t,s,n){const i=e.iScale,o=e.vScale,r=i.getLabels(),a=i===o,l=[];let c,u,d,f;for(c=s,u=s+n;c<u;++c)f=t[c],d={},d[i.axis]=a||i.parse(r[c],c),l.push(Tf(f,d,o,c));return l}function Gr(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function Aw(e,t,s){return e!==0?Je(e):(t.isHorizontal()?1:-1)*(t.min>=s?1:-1)}function Ow(e){let t,s,n,i,o;return e.horizontal?(t=e.base>e.x,s="left",n="right"):(t=e.base<e.y,s="bottom",n="top"),t?(i="end",o="start"):(i="start",o="end"),{start:s,end:n,reverse:t,top:i,bottom:o}}function Tw(e,t,s,n){let i=t.borderSkipped;const o={};if(!i){e.borderSkipped=o;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:r,end:a,reverse:l,top:c,bottom:u}=Ow(e);i==="middle"&&s&&(e.enableBorderRadius=!0,(s._top||0)===n?i=c:(s._bottom||0)===n?i=u:(o[gu(u,r,a,l)]=!0,i=c)),o[gu(i,r,a,l)]=!0,e.borderSkipped=o}function gu(e,t,s,n){return n?(e=Ew(e,t,s),e=mu(e,s,t)):e=mu(e,t,s),e}function Ew(e,t,s){return e===t?s:e===s?t:e}function mu(e,t,s){return e==="start"?t:e==="end"?s:e}function Dw(e,{inflateAmount:t},s){e.inflateAmount=t==="auto"?s===1?.33:0:t}class So extends je{parsePrimitiveData(t,s,n,i){return pu(t,s,n,i)}parseArrayData(t,s,n,i){return pu(t,s,n,i)}parseObjectData(t,s,n,i){const{iScale:o,vScale:r}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=o.axis==="x"?a:l,u=r.axis==="x"?a:l,d=[];let f,p,g,m;for(f=n,p=n+i;f<p;++f)m=s[f],g={},g[o.axis]=o.parse(js(m,c),f),d.push(Tf(js(m,u),g,r,f));return d}updateRangeFromParsed(t,s,n,i){super.updateRangeFromParsed(t,s,n,i);const o=n._custom;o&&s===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const s=this._cachedMeta,{iScale:n,vScale:i}=s,o=this.getParsed(t),r=o._custom,a=Gr(r)?"["+r.start+", "+r.end+"]":""+i.getLabelForValue(o[i.axis]);return{label:""+n.getLabelForValue(o[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const s=this._cachedMeta;this.updateElements(s.data,0,s.data.length,t)}updateElements(t,s,n,i){const o=i==="reset",{index:r,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:d,includeOptions:f}=this._getSharedOptions(s,i);for(let p=s;p<s+n;p++){const g=this.getParsed(p),m=o||pt(g[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),b=this._calculateBarIndexPixels(p,u),_=(g._stacks||{})[a.axis],v={horizontal:c,base:m.base,enableBorderRadius:!_||Gr(g._custom)||r===_._top||r===_._bottom,x:c?m.head:b.center,y:c?b.center:m.head,height:c?b.size:Math.abs(m.size),width:c?Math.abs(m.size):b.size};f&&(v.options=d||this.resolveDataElementOptions(p,t[p].active?"active":i));const S=v.options||t[p].options;Tw(v,S,_,r),Dw(v,S,u.ratio),this.updateElement(t[p],p,v,i)}}_getStacks(t,s){const{iScale:n}=this._cachedMeta,i=n.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),o=n.options.stacked,r=[],a=this._cachedMeta.controller.getParsed(s),l=a&&a[n.axis],c=u=>{const d=u._parsed.find(p=>p[n.axis]===l),f=d&&d[u.vScale.axis];if(pt(f)||isNaN(f))return!0};for(const u of i)if(!(s!==void 0&&c(u))&&((o===!1||r.indexOf(u.stack)===-1||o===void 0&&u.stack===void 0)&&r.push(u.stack),u.index===t))break;return r.length||r.push(void 0),r}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,s,n){const i=this._getStacks(t,n),o=s!==void 0?i.indexOf(s):-1;return o===-1?i.length-1:o}_getRuler(){const t=this.options,s=this._cachedMeta,n=s.iScale,i=[];let o,r;for(o=0,r=s.data.length;o<r;++o)i.push(n.getPixelForValue(this.getParsed(o)[n.axis],o));const a=t.barThickness;return{min:a||Sw(s),pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:s,_stacked:n,index:i},options:{base:o,minBarLength:r}}=this,a=o||0,l=this.getParsed(t),c=l._custom,u=Gr(c);let d=l[s.axis],f=0,p=n?this.applyStack(s,l,n):d,g,m;p!==d&&(f=p-d,p=d),u&&(d=c.barStart,p=c.barEnd-c.barStart,d!==0&&Je(d)!==Je(c.barEnd)&&(f=0),f+=d);const b=!pt(o)&&!u?o:f;let _=s.getPixelForValue(b);if(this.chart.getDataVisibility(t)?g=s.getPixelForValue(f+p):g=_,m=g-_,Math.abs(m)<r){m=Aw(m,s,a)*r,d===a&&(_-=m/2);const v=s.getPixelForDecimal(0),S=s.getPixelForDecimal(1),w=Math.min(v,S),C=Math.max(v,S);_=Math.max(Math.min(_,C),w),g=_+m,n&&!u&&(l._stacks[s.axis]._visualValues[i]=s.getValueForPixel(g)-s.getValueForPixel(_))}if(_===s.getPixelForValue(a)){const v=Je(m)*s.getLineWidthForValue(a)/2;_+=v,m-=v}return{size:m,base:_,head:g,center:g+m/2}}_calculateBarIndexPixels(t,s){const n=s.scale,i=this.options,o=i.skipNull,r=dt(i.maxBarThickness,1/0);let a,l;if(s.grouped){const c=o?this._getStackCount(t):s.stackCount,u=i.barThickness==="flex"?Mw(t,s,i,c):Cw(t,s,i,c),d=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);a=u.start+u.chunk*d+u.chunk/2,l=Math.min(r,u.chunk*u.ratio)}else a=n.getPixelForValue(this.getParsed(t)[n.axis],t),l=Math.min(r,s.min*s.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,s=t.vScale,n=t.data,i=n.length;let o=0;for(;o<i;++o)this.getParsed(o)[s.axis]!==null&&!n[o].hidden&&n[o].draw(this._ctx)}}$(So,"id","bar"),$(So,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),$(So,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Co extends je{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,s,n,i){const o=super.parsePrimitiveData(t,s,n,i);for(let r=0;r<o.length;r++)o[r]._custom=this.resolveDataElementOptions(r+n).radius;return o}parseArrayData(t,s,n,i){const o=super.parseArrayData(t,s,n,i);for(let r=0;r<o.length;r++){const a=s[n+r];o[r]._custom=dt(a[2],this.resolveDataElementOptions(r+n).radius)}return o}parseObjectData(t,s,n,i){const o=super.parseObjectData(t,s,n,i);for(let r=0;r<o.length;r++){const a=s[n+r];o[r]._custom=dt(a&&a.r&&+a.r,this.resolveDataElementOptions(r+n).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let s=0;for(let n=t.length-1;n>=0;--n)s=Math.max(s,t[n].size(this.resolveDataElementOptions(n))/2);return s>0&&s}getLabelAndValue(t){const s=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:o}=s,r=this.getParsed(t),a=i.getLabelForValue(r.x),l=o.getLabelForValue(r.y),c=r._custom;return{label:n[t]||"",value:"("+a+", "+l+(c?", "+c:"")+")"}}update(t){const s=this._cachedMeta.data;this.updateElements(s,0,s.length,t)}updateElements(t,s,n,i){const o=i==="reset",{iScale:r,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(s,i),u=r.axis,d=a.axis;for(let f=s;f<s+n;f++){const p=t[f],g=!o&&this.getParsed(f),m={},b=m[u]=o?r.getPixelForDecimal(.5):r.getPixelForValue(g[u]),_=m[d]=o?a.getBasePixel():a.getPixelForValue(g[d]);m.skip=isNaN(b)||isNaN(_),c&&(m.options=l||this.resolveDataElementOptions(f,p.active?"active":i),o&&(m.options.radius=0)),this.updateElement(p,f,m,i)}}resolveDataElementOptions(t,s){const n=this.getParsed(t);let i=super.resolveDataElementOptions(t,s);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const o=i.radius;return s!=="active"&&(i.radius=0),i.radius+=dt(n&&n._custom,o),i}}$(Co,"id","bubble"),$(Co,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),$(Co,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function Rw(e,t,s){let n=1,i=1,o=0,r=0;if(t<jt){const a=e,l=a+t,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),f=Math.sin(l),p=(S,w,C)=>Li(S,a,l,!0)?1:Math.max(w,w*s,C,C*s),g=(S,w,C)=>Li(S,a,l,!0)?-1:Math.min(w,w*s,C,C*s),m=p(0,c,d),b=p(Vt,u,f),_=g(Ft,c,d),v=g(Ft+Vt,u,f);n=(m-_)/2,i=(b-v)/2,o=-(m+_)/2,r=-(b+v)/2}return{ratioX:n,ratioY:i,offsetX:o,offsetY:r}}class Qs extends je{constructor(t,s){super(t,s),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,s){const n=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=n;else{let o=l=>+n[l];if(mt(n[t])){const{key:l="value"}=this._parsing;o=c=>+js(n[c],l)}let r,a;for(r=t,a=t+s;r<a;++r)i._parsed[r]=o(r)}}_getRotation(){return Re(this.options.rotation-90)}_getCircumference(){return Re(this.options.circumference)}_getRotationExtents(){let t=jt,s=-jt;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const i=this.chart.getDatasetMeta(n).controller,o=i._getRotation(),r=i._getCircumference();t=Math.min(t,o),s=Math.max(s,o+r)}return{rotation:t,circumference:s-t}}update(t){const s=this.chart,{chartArea:n}=s,i=this._cachedMeta,o=i.data,r=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-r)/2,0),l=Math.min(W_(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:u,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:m}=Rw(d,u,l),b=(n.width-r)/f,_=(n.height-r)/p,v=Math.max(Math.min(b,_)/2,0),S=sf(this.options.radius,v),w=Math.max(S*l,0),C=(S-w)/this._getVisibleDatasetWeightTotal();this.offsetX=g*S,this.offsetY=m*S,i.total=this.calculateTotal(),this.outerRadius=S-C*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-C*c,0),this.updateElements(o,0,o.length,t)}_circumference(t,s){const n=this.options,i=this._cachedMeta,o=this._getCircumference();return s&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*o/jt)}updateElements(t,s,n,i){const o=i==="reset",r=this.chart,a=r.chartArea,c=r.options.animation,u=(a.left+a.right)/2,d=(a.top+a.bottom)/2,f=o&&c.animateScale,p=f?0:this.innerRadius,g=f?0:this.outerRadius,{sharedOptions:m,includeOptions:b}=this._getSharedOptions(s,i);let _=this._getRotation(),v;for(v=0;v<s;++v)_+=this._circumference(v,o);for(v=s;v<s+n;++v){const S=this._circumference(v,o),w=t[v],C={x:u+this.offsetX,y:d+this.offsetY,startAngle:_,endAngle:_+S,circumference:S,outerRadius:g,innerRadius:p};b&&(C.options=m||this.resolveDataElementOptions(v,w.active?"active":i)),_+=S,this.updateElement(w,v,C,i)}}calculateTotal(){const t=this._cachedMeta,s=t.data;let n=0,i;for(i=0;i<s.length;i++){const o=t._parsed[i];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(i)&&!s[i].hidden&&(n+=Math.abs(o))}return n}calculateCircumference(t){const s=this._cachedMeta.total;return s>0&&!isNaN(t)?jt*(Math.abs(t)/s):0}getLabelAndValue(t){const s=this._cachedMeta,n=this.chart,i=n.data.labels||[],o=Ki(s._parsed[t],n.options.locale);return{label:i[t]||"",value:o}}getMaxBorderWidth(t){let s=0;const n=this.chart;let i,o,r,a,l;if(!t){for(i=0,o=n.data.datasets.length;i<o;++i)if(n.isDatasetVisible(i)){r=n.getDatasetMeta(i),t=r.data,a=r.controller;break}}if(!t)return 0;for(i=0,o=t.length;i<o;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(s=Math.max(s,l.borderWidth||0,l.hoverBorderWidth||0));return s}getMaxOffset(t){let s=0;for(let n=0,i=t.length;n<i;++n){const o=this.resolveDataElementOptions(n);s=Math.max(s,o.offset||0,o.hoverOffset||0)}return s}_getRingWeightOffset(t){let s=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(s+=this._getRingWeight(n));return s}_getRingWeight(t){return Math.max(dt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}$(Qs,"id","doughnut"),$(Qs,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),$(Qs,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),$(Qs,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const s=t.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return s.labels.map((o,r)=>{const l=t.getDatasetMeta(0).controller.getStyle(r);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}})}return[]}},onClick(t,s,n){n.chart.toggleDataVisibility(s.index),n.chart.update()}}}});class Mo extends je{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const s=this._cachedMeta,{dataset:n,data:i=[],_dataset:o}=s,r=this.chart._animationsDisabled;let{start:a,count:l}=df(s,i,r);this._drawStart=a,this._drawCount=l,hf(s)&&(a=0,l=i.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!o._decimated,n.points=i;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!r,options:c},t),this.updateElements(i,a,l,t)}updateElements(t,s,n,i){const o=i==="reset",{iScale:r,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:u,includeOptions:d}=this._getSharedOptions(s,i),f=r.axis,p=a.axis,{spanGaps:g,segment:m}=this.options,b=In(g)?g:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||o||i==="none",v=s+n,S=t.length;let w=s>0&&this.getParsed(s-1);for(let C=0;C<S;++C){const R=t[C],E=_?R:{};if(C<s||C>=v){E.skip=!0;continue}const j=this.getParsed(C),G=pt(j[p]),et=E[f]=r.getPixelForValue(j[f],C),it=E[p]=o||G?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,j,l):j[p],C);E.skip=isNaN(et)||isNaN(it)||G,E.stop=C>0&&Math.abs(j[f]-w[f])>b,m&&(E.parsed=j,E.raw=c.data[C]),d&&(E.options=u||this.resolveDataElementOptions(C,R.active?"active":i)),_||this.updateElement(R,C,E,i),w=j}}getMaxOverflow(){const t=this._cachedMeta,s=t.dataset,n=s.options&&s.options.borderWidth||0,i=t.data||[];if(!i.length)return n;const o=i[0].size(this.resolveDataElementOptions(0)),r=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,o,r)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}$(Mo,"id","line"),$(Mo,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),$(Mo,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class vi extends je{constructor(t,s){super(t,s),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const s=this._cachedMeta,n=this.chart,i=n.data.labels||[],o=Ki(s._parsed[t].r,n.options.locale);return{label:i[t]||"",value:o}}parseObjectData(t,s,n,i){return _f.bind(this)(t,s,n,i)}update(t){const s=this._cachedMeta.data;this._updateRadius(),this.updateElements(s,0,s.length,t)}getMinMax(){const t=this._cachedMeta,s={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((n,i)=>{const o=this.getParsed(i).r;!isNaN(o)&&this.chart.getDataVisibility(i)&&(o<s.min&&(s.min=o),o>s.max&&(s.max=o))}),s}_updateRadius(){const t=this.chart,s=t.chartArea,n=t.options,i=Math.min(s.right-s.left,s.bottom-s.top),o=Math.max(i/2,0),r=Math.max(n.cutoutPercentage?o/100*n.cutoutPercentage:1,0),a=(o-r)/t.getVisibleDatasetCount();this.outerRadius=o-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,s,n,i){const o=i==="reset",r=this.chart,l=r.options.animation,c=this._cachedMeta.rScale,u=c.xCenter,d=c.yCenter,f=c.getIndexAngle(0)-.5*Ft;let p=f,g;const m=360/this.countVisibleElements();for(g=0;g<s;++g)p+=this._computeAngle(g,i,m);for(g=s;g<s+n;g++){const b=t[g];let _=p,v=p+this._computeAngle(g,i,m),S=r.getDataVisibility(g)?c.getDistanceFromCenterForValue(this.getParsed(g).r):0;p=v,o&&(l.animateScale&&(S=0),l.animateRotate&&(_=v=f));const w={x:u,y:d,innerRadius:0,outerRadius:S,startAngle:_,endAngle:v,options:this.resolveDataElementOptions(g,b.active?"active":i)};this.updateElement(b,g,w,i)}}countVisibleElements(){const t=this._cachedMeta;let s=0;return t.data.forEach((n,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&s++}),s}_computeAngle(t,s,n){return this.chart.getDataVisibility(t)?Re(this.resolveDataElementOptions(t,s).angle||n):0}}$(vi,"id","polarArea"),$(vi,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),$(vi,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const s=t.data;if(s.labels.length&&s.datasets.length){const{labels:{pointStyle:n,color:i}}=t.legend.options;return s.labels.map((o,r)=>{const l=t.getDatasetMeta(0).controller.getStyle(r);return{text:o,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(r),index:r}})}return[]}},onClick(t,s,n){n.chart.toggleDataVisibility(s.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Ma extends Qs{}$(Ma,"id","pie"),$(Ma,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Po extends je{getLabelAndValue(t){const s=this._cachedMeta.vScale,n=this.getParsed(t);return{label:s.getLabels()[t],value:""+s.getLabelForValue(n[s.axis])}}parseObjectData(t,s,n,i){return _f.bind(this)(t,s,n,i)}update(t){const s=this._cachedMeta,n=s.dataset,i=s.data||[],o=s.iScale.getLabels();if(n.points=i,t!=="resize"){const r=this.resolveDatasetElementOptions(t);this.options.showLine||(r.borderWidth=0);const a={_loop:!0,_fullLoop:o.length===i.length,options:r};this.updateElement(n,void 0,a,t)}this.updateElements(i,0,i.length,t)}updateElements(t,s,n,i){const o=this._cachedMeta.rScale,r=i==="reset";for(let a=s;a<s+n;a++){const l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":i),u=o.getPointPositionForValue(a,this.getParsed(a).r),d=r?o.xCenter:u.x,f=r?o.yCenter:u.y,p={x:d,y:f,angle:u.angle,skip:isNaN(d)||isNaN(f),options:c};this.updateElement(l,a,p,i)}}}$(Po,"id","radar"),$(Po,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),$(Po,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Ao extends je{getLabelAndValue(t){const s=this._cachedMeta,n=this.chart.data.labels||[],{xScale:i,yScale:o}=s,r=this.getParsed(t),a=i.getLabelForValue(r.x),l=o.getLabelForValue(r.y);return{label:n[t]||"",value:"("+a+", "+l+")"}}update(t){const s=this._cachedMeta,{data:n=[]}=s,i=this.chart._animationsDisabled;let{start:o,count:r}=df(s,n,i);if(this._drawStart=o,this._drawCount=r,hf(s)&&(o=0,r=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:a,_dataset:l}=s;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=n;const c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:c},t)}else this.datasetElementType&&(delete s.dataset,this.datasetElementType=!1);this.updateElements(n,o,r,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,s,n,i){const o=i==="reset",{iScale:r,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,u=this.resolveDataElementOptions(s,i),d=this.getSharedOptions(u),f=this.includeOptions(i,d),p=r.axis,g=a.axis,{spanGaps:m,segment:b}=this.options,_=In(m)?m:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||o||i==="none";let S=s>0&&this.getParsed(s-1);for(let w=s;w<s+n;++w){const C=t[w],R=this.getParsed(w),E=v?C:{},j=pt(R[g]),G=E[p]=r.getPixelForValue(R[p],w),et=E[g]=o||j?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,R,l):R[g],w);E.skip=isNaN(G)||isNaN(et)||j,E.stop=w>0&&Math.abs(R[p]-S[p])>_,b&&(E.parsed=R,E.raw=c.data[w]),f&&(E.options=d||this.resolveDataElementOptions(w,C.active?"active":i)),v||this.updateElement(C,w,E,i),S=R}this.updateSharedOptions(d,i,u)}getMaxOverflow(){const t=this._cachedMeta,s=t.data||[];if(!this.options.showLine){let a=0;for(let l=s.length-1;l>=0;--l)a=Math.max(a,s[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}const n=t.dataset,i=n.options&&n.options.borderWidth||0;if(!s.length)return i;const o=s[0].size(this.resolveDataElementOptions(0)),r=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(i,o,r)/2}}$(Ao,"id","scatter"),$(Ao,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),$(Ao,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Iw=Object.freeze({__proto__:null,BarController:So,BubbleController:Co,DoughnutController:Qs,LineController:Mo,PieController:Ma,PolarAreaController:vi,RadarController:Po,ScatterController:Ao});function Ws(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Ml{constructor(t){$(this,"options");this.options=t||{}}static override(t){Object.assign(Ml.prototype,t)}init(){}formats(){return Ws()}parse(){return Ws()}format(){return Ws()}add(){return Ws()}diff(){return Ws()}startOf(){return Ws()}endOf(){return Ws()}}var Lw={_date:Ml};function jw(e,t,s,n){const{controller:i,data:o,_sorted:r}=e,a=i._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&r&&o.length){const c=a._reversePixels?iv:cs;if(n){if(i._sharedOptions){const u=o[0],d=typeof u.getRange=="function"&&u.getRange(t);if(d){const f=c(o,t,s-d),p=c(o,t,s+d);return{lo:f.lo,hi:p.hi}}}}else{const u=c(o,t,s);if(l){const{vScale:d}=i._cachedMeta,{_parsed:f}=e,p=f.slice(0,u.lo+1).reverse().findIndex(m=>!pt(m[d.axis]));u.lo-=Math.max(0,p);const g=f.slice(u.hi).findIndex(m=>!pt(m[d.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:o.length-1}}function Gi(e,t,s,n,i){const o=e.getSortedVisibleDatasetMetas(),r=s[t];for(let a=0,l=o.length;a<l;++a){const{index:c,data:u}=o[a],{lo:d,hi:f}=jw(o[a],t,r,i);for(let p=d;p<=f;++p){const g=u[p];g.skip||n(g,c,p)}}}function Fw(e){const t=e.indexOf("x")!==-1,s=e.indexOf("y")!==-1;return function(n,i){const o=t?Math.abs(n.x-i.x):0,r=s?Math.abs(n.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}}function Yr(e,t,s,n,i){const o=[];return!i&&!e.isPointInArea(t)||Gi(e,s,t,function(a,l,c){!i&&!us(a,e.chartArea,0)||a.inRange(t.x,t.y,n)&&o.push({element:a,datasetIndex:l,index:c})},!0),o}function $w(e,t,s,n){let i=[];function o(r,a,l){const{startAngle:c,endAngle:u}=r.getProps(["startAngle","endAngle"],n),{angle:d}=rf(r,{x:t.x,y:t.y});Li(d,c,u)&&i.push({element:r,datasetIndex:a,index:l})}return Gi(e,s,t,o),i}function Nw(e,t,s,n,i,o){let r=[];const a=Fw(s);let l=Number.POSITIVE_INFINITY;function c(u,d,f){const p=u.inRange(t.x,t.y,i);if(n&&!p)return;const g=u.getCenterPoint(i);if(!(!!o||e.isPointInArea(g))&&!p)return;const b=a(t,g);b<l?(r=[{element:u,datasetIndex:d,index:f}],l=b):b===l&&r.push({element:u,datasetIndex:d,index:f})}return Gi(e,s,t,c),r}function Jr(e,t,s,n,i,o){return!o&&!e.isPointInArea(t)?[]:s==="r"&&!n?$w(e,t,s,i):Nw(e,t,s,n,i,o)}function bu(e,t,s,n,i){const o=[],r=s==="x"?"inXRange":"inYRange";let a=!1;return Gi(e,s,t,(l,c,u)=>{l[r]&&l[r](t[s],i)&&(o.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(t.x,t.y,i))}),n&&!a?[]:o}var Bw={evaluateInteractionItems:Gi,modes:{index(e,t,s,n){const i=Ys(t,e),o=s.axis||"x",r=s.includeInvisible||!1,a=s.intersect?Yr(e,i,o,n,r):Jr(e,i,o,!1,n,r),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(e,t,s,n){const i=Ys(t,e),o=s.axis||"xy",r=s.includeInvisible||!1;let a=s.intersect?Yr(e,i,o,n,r):Jr(e,i,o,!1,n,r);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(e,t,s,n){const i=Ys(t,e),o=s.axis||"xy",r=s.includeInvisible||!1;return Yr(e,i,o,n,r)},nearest(e,t,s,n){const i=Ys(t,e),o=s.axis||"xy",r=s.includeInvisible||!1;return Jr(e,i,o,s.intersect,n,r)},x(e,t,s,n){const i=Ys(t,e);return bu(e,i,"x",s.intersect,n)},y(e,t,s,n){const i=Ys(t,e);return bu(e,i,"y",s.intersect,n)}}};const Ef=["left","top","right","bottom"];function Yn(e,t){return e.filter(s=>s.pos===t)}function yu(e,t){return e.filter(s=>Ef.indexOf(s.pos)===-1&&s.box.axis===t)}function Jn(e,t){return e.sort((s,n)=>{const i=t?n:s,o=t?s:n;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function Uw(e){const t=[];let s,n,i,o,r,a;for(s=0,n=(e||[]).length;s<n;++s)i=e[s],{position:o,options:{stack:r,stackWeight:a=1}}=i,t.push({index:s,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:r&&o+r,stackWeight:a});return t}function Vw(e){const t={};for(const s of e){const{stack:n,pos:i,stackWeight:o}=s;if(!n||!Ef.includes(i))continue;const r=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=o}return t}function zw(e,t){const s=Vw(e),{vBoxMaxWidth:n,hBoxMaxHeight:i}=t;let o,r,a;for(o=0,r=e.length;o<r;++o){a=e[o];const{fullSize:l}=a.box,c=s[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*n:l&&t.availableWidth,a.height=i):(a.width=n,a.height=u?u*i:l&&t.availableHeight)}return s}function Hw(e){const t=Uw(e),s=Jn(t.filter(c=>c.box.fullSize),!0),n=Jn(Yn(t,"left"),!0),i=Jn(Yn(t,"right")),o=Jn(Yn(t,"top"),!0),r=Jn(Yn(t,"bottom")),a=yu(t,"x"),l=yu(t,"y");return{fullSize:s,leftAndTop:n.concat(o),rightAndBottom:i.concat(l).concat(r).concat(a),chartArea:Yn(t,"chartArea"),vertical:n.concat(i).concat(l),horizontal:o.concat(r).concat(a)}}function xu(e,t,s,n){return Math.max(e[s],t[s])+Math.max(e[n],t[n])}function Df(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Ww(e,t,s,n){const{pos:i,box:o}=s,r=e.maxPadding;if(!mt(i)){s.size&&(e[i]-=s.size);const d=n[s.stack]||{size:0,count:1};d.size=Math.max(d.size,s.horizontal?o.height:o.width),s.size=d.size/d.count,e[i]+=s.size}o.getPadding&&Df(r,o.getPadding());const a=Math.max(0,t.outerWidth-xu(r,e,"left","right")),l=Math.max(0,t.outerHeight-xu(r,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,s.horizontal?{same:c,other:u}:{same:u,other:c}}function qw(e){const t=e.maxPadding;function s(n){const i=Math.max(t[n]-e[n],0);return e[n]+=i,i}e.y+=s("top"),e.x+=s("left"),s("right"),s("bottom")}function Kw(e,t){const s=t.maxPadding;function n(i){const o={left:0,top:0,right:0,bottom:0};return i.forEach(r=>{o[r]=Math.max(t[r],s[r])}),o}return n(e?["left","right"]:["top","bottom"])}function ni(e,t,s,n){const i=[];let o,r,a,l,c,u;for(o=0,r=e.length,c=0;o<r;++o){a=e[o],l=a.box,l.update(a.width||t.w,a.height||t.h,Kw(a.horizontal,t));const{same:d,other:f}=Ww(t,s,a,n);c|=d&&i.length,u=u||f,l.fullSize||i.push(a)}return c&&ni(i,t,s,n)||u}function co(e,t,s,n,i){e.top=s,e.left=t,e.right=t+n,e.bottom=s+i,e.width=n,e.height=i}function _u(e,t,s,n){const i=s.padding;let{x:o,y:r}=t;for(const a of e){const l=a.box,c=n[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const d=t.w*u,f=c.size||l.height;Ii(c.start)&&(r=c.start),l.fullSize?co(l,i.left,r,s.outerWidth-i.right-i.left,f):co(l,t.left+c.placed,r,d,f),c.start=r,c.placed+=d,r=l.bottom}else{const d=t.h*u,f=c.size||l.width;Ii(c.start)&&(o=c.start),l.fullSize?co(l,o,i.top,f,s.outerHeight-i.bottom-i.top):co(l,o,t.top+c.placed,f,d),c.start=o,c.placed+=d,o=l.right}}t.x=o,t.y=r}var se={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(s){t.draw(s)}}]},e.boxes.push(t)},removeBox(e,t){const s=e.boxes?e.boxes.indexOf(t):-1;s!==-1&&e.boxes.splice(s,1)},configure(e,t,s){t.fullSize=s.fullSize,t.position=s.position,t.weight=s.weight},update(e,t,s,n){if(!e)return;const i=ie(e.options.layout.padding),o=Math.max(t-i.width,0),r=Math.max(s-i.height,0),a=Hw(e.boxes),l=a.vertical,c=a.horizontal;Ct(e.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const u=l.reduce((m,b)=>b.box.options&&b.box.options.display===!1?m:m+1,0)||1,d=Object.freeze({outerWidth:t,outerHeight:s,padding:i,availableWidth:o,availableHeight:r,vBoxMaxWidth:o/2/u,hBoxMaxHeight:r/2}),f=Object.assign({},i);Df(f,ie(n));const p=Object.assign({maxPadding:f,w:o,h:r,x:i.left,y:i.top},i),g=zw(l.concat(c),d);ni(a.fullSize,p,d,g),ni(l,p,d,g),ni(c,p,d,g)&&ni(l,p,d,g),qw(p),_u(a.leftAndTop,p,d,g),p.x+=p.w,p.y+=p.h,_u(a.rightAndBottom,p,d,g),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Ct(a.chartArea,m=>{const b=m.box;Object.assign(b,e.chartArea),b.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class Rf{acquireContext(t,s){}releaseContext(t){return!1}addEventListener(t,s,n){}removeEventListener(t,s,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,s,n,i){return s=Math.max(0,s||t.width),n=n||t.height,{width:s,height:Math.max(0,i?Math.floor(s/i):n)}}isAttached(t){return!0}updateConfig(t){}}class Gw extends Rf{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Oo="$chartjs",Yw={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},vu=e=>e===null||e==="";function Jw(e,t){const s=e.style,n=e.getAttribute("height"),i=e.getAttribute("width");if(e[Oo]={initial:{height:n,width:i,style:{display:s.display,height:s.height,width:s.width}}},s.display=s.display||"block",s.boxSizing=s.boxSizing||"border-box",vu(i)){const o=iu(e,"width");o!==void 0&&(e.width=o)}if(vu(n))if(e.style.height==="")e.height=e.width/(t||2);else{const o=iu(e,"height");o!==void 0&&(e.height=o)}return e}const If=Xv?{passive:!0}:!1;function Xw(e,t,s){e&&e.addEventListener(t,s,If)}function Qw(e,t,s){e&&e.canvas&&e.canvas.removeEventListener(t,s,If)}function Zw(e,t){const s=Yw[e.type]||e.type,{x:n,y:i}=Ys(e,t);return{type:s,chart:t,native:e,x:n!==void 0?n:null,y:i!==void 0?i:null}}function Go(e,t){for(const s of e)if(s===t||s.contains(t))return!0}function t1(e,t,s){const n=e.canvas,i=new MutationObserver(o=>{let r=!1;for(const a of o)r=r||Go(a.addedNodes,n),r=r&&!Go(a.removedNodes,n);r&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}function e1(e,t,s){const n=e.canvas,i=new MutationObserver(o=>{let r=!1;for(const a of o)r=r||Go(a.removedNodes,n),r=r&&!Go(a.addedNodes,n);r&&s()});return i.observe(document,{childList:!0,subtree:!0}),i}const Fi=new Map;let wu=0;function Lf(){const e=window.devicePixelRatio;e!==wu&&(wu=e,Fi.forEach((t,s)=>{s.currentDevicePixelRatio!==e&&t()}))}function s1(e,t){Fi.size||window.addEventListener("resize",Lf),Fi.set(e,t)}function n1(e){Fi.delete(e),Fi.size||window.removeEventListener("resize",Lf)}function i1(e,t,s){const n=e.canvas,i=n&&Cl(n);if(!i)return;const o=uf((a,l)=>{const c=i.clientWidth;s(a,l),c<i.clientWidth&&s()},window),r=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||o(c,u)});return r.observe(i),s1(e,o),r}function Xr(e,t,s){s&&s.disconnect(),t==="resize"&&n1(e)}function o1(e,t,s){const n=e.canvas,i=uf(o=>{e.ctx!==null&&s(Zw(o,e))},e);return Xw(n,t,i),i}class r1 extends Rf{acquireContext(t,s){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(Jw(t,s),n):null}releaseContext(t){const s=t.canvas;if(!s[Oo])return!1;const n=s[Oo].initial;["height","width"].forEach(o=>{const r=n[o];pt(r)?s.removeAttribute(o):s.setAttribute(o,r)});const i=n.style||{};return Object.keys(i).forEach(o=>{s.style[o]=i[o]}),s.width=s.width,delete s[Oo],!0}addEventListener(t,s,n){this.removeEventListener(t,s);const i=t.$proxies||(t.$proxies={}),r={attach:t1,detach:e1,resize:i1}[s]||o1;i[s]=r(t,s,n)}removeEventListener(t,s){const n=t.$proxies||(t.$proxies={}),i=n[s];if(!i)return;({attach:Xr,detach:Xr,resize:Xr}[s]||Qw)(t,s,i),n[s]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,s,n,i){return Jv(t,s,n,i)}isAttached(t){const s=t&&Cl(t);return!!(s&&s.isConnected)}}function a1(e){return!Sl()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?Gw:r1}var bo;let bs=(bo=class{constructor(){$(this,"x");$(this,"y");$(this,"active",!1);$(this,"options");$(this,"$animations")}tooltipPosition(t){const{x:s,y:n}=this.getProps(["x","y"],t);return{x:s,y:n}}hasValue(){return In(this.x)&&In(this.y)}getProps(t,s){const n=this.$animations;if(!s||!n)return this;const i={};return t.forEach(o=>{i[o]=n[o]&&n[o].active()?n[o]._to:this[o]}),i}},$(bo,"defaults",{}),$(bo,"defaultRoutes"),bo);function l1(e,t){const s=e.options.ticks,n=c1(e),i=Math.min(s.maxTicksLimit||n,n),o=s.major.enabled?d1(t):[],r=o.length,a=o[0],l=o[r-1],c=[];if(r>i)return h1(t,c,o,r/i),c;const u=u1(o,t,i);if(r>0){let d,f;const p=r>1?Math.round((l-a)/(r-1)):null;for(uo(t,c,u,pt(p)?0:a-p,a),d=0,f=r-1;d<f;d++)uo(t,c,u,o[d],o[d+1]);return uo(t,c,u,l,pt(p)?t.length:l+p),c}return uo(t,c,u),c}function c1(e){const t=e.options.offset,s=e._tickSize(),n=e._length/s+(t?0:1),i=e._maxLength/s;return Math.floor(Math.min(n,i))}function u1(e,t,s){const n=f1(e),i=t.length/s;if(!n)return Math.max(i,1);const o=Z_(n);for(let r=0,a=o.length-1;r<a;r++){const l=o[r];if(l>i)return l}return Math.max(i,1)}function d1(e){const t=[];let s,n;for(s=0,n=e.length;s<n;s++)e[s].major&&t.push(s);return t}function h1(e,t,s,n){let i=0,o=s[0],r;for(n=Math.ceil(n),r=0;r<e.length;r++)r===o&&(t.push(e[r]),i++,o=s[i*n])}function uo(e,t,s,n,i){const o=dt(n,0),r=Math.min(dt(i,e.length),e.length);let a=0,l,c,u;for(s=Math.ceil(s),i&&(l=i-n,s=l/Math.floor(l/s)),u=o;u<0;)a++,u=Math.round(o+a*s);for(c=Math.max(o,0);c<r;c++)c===u&&(t.push(e[c]),a++,u=Math.round(o+a*s))}function f1(e){const t=e.length;let s,n;if(t<2)return!1;for(n=e[0],s=1;s<t;++s)if(e[s]-e[s-1]!==n)return!1;return n}const p1=e=>e==="left"?"right":e==="right"?"left":e,ku=(e,t,s)=>t==="top"||t==="left"?e[t]+s:e[t]-s,Su=(e,t)=>Math.min(t||e,e);function Cu(e,t){const s=[],n=e.length/t,i=e.length;let o=0;for(;o<i;o+=n)s.push(e[Math.floor(o)]);return s}function g1(e,t,s){const n=e.ticks.length,i=Math.min(t,n-1),o=e._startPixel,r=e._endPixel,a=1e-6;let l=e.getPixelForTick(i),c;if(!(s&&(n===1?c=Math.max(l-o,r-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(i-1))/2,l+=i<t?c:-c,l<o-a||l>r+a)))return l}function m1(e,t){Ct(e,s=>{const n=s.gc,i=n.length/2;let o;if(i>t){for(o=0;o<i;++o)delete s.data[n[o]];n.splice(0,i)}})}function Xn(e){return e.drawTicks?e.tickLength:0}function Mu(e,t){if(!e.display)return 0;const s=qt(e.font,t),n=ie(e.padding);return(Lt(e.text)?e.text.length:1)*s.lineHeight+n.height}function b1(e,t){return Ns(e,{scale:t,type:"scale"})}function y1(e,t,s){return Ns(e,{tick:s,index:t,type:"tick"})}function x1(e,t,s){let n=yl(e);return(s&&t!=="right"||!s&&t==="right")&&(n=p1(n)),n}function _1(e,t,s,n){const{top:i,left:o,bottom:r,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let d=0,f,p,g;const m=r-i,b=a-o;if(e.isHorizontal()){if(p=Zt(n,o,a),mt(s)){const _=Object.keys(s)[0],v=s[_];g=u[_].getPixelForValue(v)+m-t}else s==="center"?g=(c.bottom+c.top)/2+m-t:g=ku(e,s,t);f=a-o}else{if(mt(s)){const _=Object.keys(s)[0],v=s[_];p=u[_].getPixelForValue(v)-b+t}else s==="center"?p=(c.left+c.right)/2-b+t:p=ku(e,s,t);g=Zt(n,r,i),d=s==="left"?-Vt:Vt}return{titleX:p,titleY:g,maxWidth:f,rotation:d}}class cn extends bs{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,s){return t}getUserBounds(){let{_userMin:t,_userMax:s,_suggestedMin:n,_suggestedMax:i}=this;return t=we(t,Number.POSITIVE_INFINITY),s=we(s,Number.NEGATIVE_INFINITY),n=we(n,Number.POSITIVE_INFINITY),i=we(i,Number.NEGATIVE_INFINITY),{min:we(t,n),max:we(s,i),minDefined:Bt(t),maxDefined:Bt(s)}}getMinMax(t){let{min:s,max:n,minDefined:i,maxDefined:o}=this.getUserBounds(),r;if(i&&o)return{min:s,max:n};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)r=a[l].controller.getMinMax(this,t),i||(s=Math.min(s,r.min)),o||(n=Math.max(n,r.max));return s=o&&s>n?n:s,n=i&&s>n?s:n,{min:we(s,we(n,s)),max:we(n,we(s,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Rt(this.options.beforeUpdate,[this])}update(t,s,n){const{beginAtZero:i,grace:o,ticks:r}=this.options,a=r.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=s,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Av(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?Cu(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||r.source==="auto")&&(this.ticks=l1(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,s,n;this.isHorizontal()?(s=this.left,n=this.right):(s=this.top,n=this.bottom,t=!t),this._startPixel=s,this._endPixel=n,this._reversePixels=t,this._length=n-s,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Rt(this.options.afterUpdate,[this])}beforeSetDimensions(){Rt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Rt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Rt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Rt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const s=this.options.ticks;let n,i,o;for(n=0,i=t.length;n<i;n++)o=t[n],o.label=Rt(s.callback,[o.value,n,t],this)}afterTickToLabelConversion(){Rt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Rt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,s=t.ticks,n=Su(this.ticks.length,t.ticks.maxTicksLimit),i=s.minRotation||0,o=s.maxRotation;let r=i,a,l,c;if(!this._isVisible()||!s.display||i>=o||n<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),d=u.widest.width,f=u.highest.height,p=Gt(this.chart.width-d,0,this.maxWidth);a=t.offset?this.maxWidth/n:p/(n-1),d+6>a&&(a=p/(n-(t.offset?.5:1)),l=this.maxHeight-Xn(t.grid)-s.padding-Mu(t.title,this.chart.options.font),c=Math.sqrt(d*d+f*f),r=ml(Math.min(Math.asin(Gt((u.highest.height+6)/a,-1,1)),Math.asin(Gt(l/c,-1,1))-Math.asin(Gt(f/c,-1,1)))),r=Math.max(i,Math.min(o,r))),this.labelRotation=r}afterCalculateLabelRotation(){Rt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Rt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:s,options:{ticks:n,title:i,grid:o}}=this,r=this._isVisible(),a=this.isHorizontal();if(r){const l=Mu(i,s.options.font);if(a?(t.width=this.maxWidth,t.height=Xn(o)+l):(t.height=this.maxHeight,t.width=Xn(o)+l),n.display&&this.ticks.length){const{first:c,last:u,widest:d,highest:f}=this._getLabelSizes(),p=n.padding*2,g=Re(this.labelRotation),m=Math.cos(g),b=Math.sin(g);if(a){const _=n.mirror?0:b*d.width+m*f.height;t.height=Math.min(this.maxHeight,t.height+_+p)}else{const _=n.mirror?0:m*d.width+b*f.height;t.width=Math.min(this.maxWidth,t.width+_+p)}this._calculatePadding(c,u,b,m)}}this._handleMargins(),a?(this.width=this._length=s.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=s.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,s,n,i){const{ticks:{align:o,padding:r},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,p=0;l?c?(f=i*t.width,p=n*s.height):(f=n*t.height,p=i*s.width):o==="start"?p=s.width:o==="end"?f=t.width:o!=="inner"&&(f=t.width/2,p=s.width/2),this.paddingLeft=Math.max((f-u+r)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-d+r)*this.width/(this.width-d),0)}else{let u=s.height/2,d=t.height/2;o==="start"?(u=0,d=t.height):o==="end"&&(u=s.height,d=0),this.paddingTop=u+r,this.paddingBottom=d+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Rt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:s}=this.options;return s==="top"||s==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let s,n;for(s=0,n=t.length;s<n;s++)pt(t[s].label)&&(t.splice(s,1),n--,s--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const s=this.options.ticks.sampleSize;let n=this.ticks;s<n.length&&(n=Cu(n,s)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,s,n){const{ctx:i,_longestTextCache:o}=this,r=[],a=[],l=Math.floor(s/Su(s,n));let c=0,u=0,d,f,p,g,m,b,_,v,S,w,C;for(d=0;d<s;d+=l){if(g=t[d].label,m=this._resolveTickFontOptions(d),i.font=b=m.string,_=o[b]=o[b]||{data:{},gc:[]},v=m.lineHeight,S=w=0,!pt(g)&&!Lt(g))S=qo(i,_.data,_.gc,S,g),w=v;else if(Lt(g))for(f=0,p=g.length;f<p;++f)C=g[f],!pt(C)&&!Lt(C)&&(S=qo(i,_.data,_.gc,S,C),w+=v);r.push(S),a.push(w),c=Math.max(S,c),u=Math.max(w,u)}m1(o,s);const R=r.indexOf(c),E=a.indexOf(u),j=G=>({width:r[G]||0,height:a[G]||0});return{first:j(0),last:j(s-1),widest:j(R),highest:j(E),widths:r,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,s){return NaN}getValueForPixel(t){}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const s=this._startPixel+t*this._length;return nv(this._alignToPixels?Hs(this.chart,s,0):s)}getDecimalForPixel(t){const s=(t-this._startPixel)/this._length;return this._reversePixels?1-s:s}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:s}=this;return t<0&&s<0?s:t>0&&s>0?t:0}getContext(t){const s=this.ticks||[];if(t>=0&&t<s.length){const n=s[t];return n.$context||(n.$context=y1(this.getContext(),t,n))}return this.$context||(this.$context=b1(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,s=Re(this.labelRotation),n=Math.abs(Math.cos(s)),i=Math.abs(Math.sin(s)),o=this._getLabelSizes(),r=t.autoSkipPadding||0,a=o?o.widest.width+r:0,l=o?o.highest.height+r:0;return this.isHorizontal()?l*n>a*i?a/n:l/i:l*i<a*n?l/n:a/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const s=this.axis,n=this.chart,i=this.options,{grid:o,position:r,border:a}=i,l=o.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=Xn(o),p=[],g=a.setContext(this.getContext()),m=g.display?g.width:0,b=m/2,_=function(rt){return Hs(n,rt,m)};let v,S,w,C,R,E,j,G,et,it,ct,Pt;if(r==="top")v=_(this.bottom),E=this.bottom-f,G=v-b,it=_(t.top)+b,Pt=t.bottom;else if(r==="bottom")v=_(this.top),it=t.top,Pt=_(t.bottom)-b,E=v+b,G=this.top+f;else if(r==="left")v=_(this.right),R=this.right-f,j=v-b,et=_(t.left)+b,ct=t.right;else if(r==="right")v=_(this.left),et=t.left,ct=_(t.right)-b,R=v+b,j=this.left+f;else if(s==="x"){if(r==="center")v=_((t.top+t.bottom)/2+.5);else if(mt(r)){const rt=Object.keys(r)[0],st=r[rt];v=_(this.chart.scales[rt].getPixelForValue(st))}it=t.top,Pt=t.bottom,E=v+b,G=E+f}else if(s==="y"){if(r==="center")v=_((t.left+t.right)/2);else if(mt(r)){const rt=Object.keys(r)[0],st=r[rt];v=_(this.chart.scales[rt].getPixelForValue(st))}R=v-b,j=R-f,et=t.left,ct=t.right}const Wt=dt(i.ticks.maxTicksLimit,d),bt=Math.max(1,Math.ceil(d/Wt));for(S=0;S<d;S+=bt){const rt=this.getContext(S),st=o.setContext(rt),ut=a.setContext(rt),Ot=st.lineWidth,oe=st.color,re=ut.dash||[],Ut=ut.dashOffset,Ce=st.tickWidth,ue=st.tickColor,Ue=st.tickBorderDash||[],zt=st.tickBorderDashOffset;w=g1(this,S,l),w!==void 0&&(C=Hs(n,w,Ot),c?R=j=et=ct=C:E=G=it=Pt=C,p.push({tx1:R,ty1:E,tx2:j,ty2:G,x1:et,y1:it,x2:ct,y2:Pt,width:Ot,color:oe,borderDash:re,borderDashOffset:Ut,tickWidth:Ce,tickColor:ue,tickBorderDash:Ue,tickBorderDashOffset:zt}))}return this._ticksLength=d,this._borderValue=v,p}_computeLabelItems(t){const s=this.axis,n=this.options,{position:i,ticks:o}=n,r=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=o,f=Xn(n.grid),p=f+u,g=d?-u:p,m=-Re(this.labelRotation),b=[];let _,v,S,w,C,R,E,j,G,et,it,ct,Pt="middle";if(i==="top")R=this.bottom-g,E=this._getXAxisLabelAlignment();else if(i==="bottom")R=this.top+g,E=this._getXAxisLabelAlignment();else if(i==="left"){const bt=this._getYAxisLabelAlignment(f);E=bt.textAlign,C=bt.x}else if(i==="right"){const bt=this._getYAxisLabelAlignment(f);E=bt.textAlign,C=bt.x}else if(s==="x"){if(i==="center")R=(t.top+t.bottom)/2+p;else if(mt(i)){const bt=Object.keys(i)[0],rt=i[bt];R=this.chart.scales[bt].getPixelForValue(rt)+p}E=this._getXAxisLabelAlignment()}else if(s==="y"){if(i==="center")C=(t.left+t.right)/2-p;else if(mt(i)){const bt=Object.keys(i)[0],rt=i[bt];C=this.chart.scales[bt].getPixelForValue(rt)}E=this._getYAxisLabelAlignment(f).textAlign}s==="y"&&(l==="start"?Pt="top":l==="end"&&(Pt="bottom"));const Wt=this._getLabelSizes();for(_=0,v=a.length;_<v;++_){S=a[_],w=S.label;const bt=o.setContext(this.getContext(_));j=this.getPixelForTick(_)+o.labelOffset,G=this._resolveTickFontOptions(_),et=G.lineHeight,it=Lt(w)?w.length:1;const rt=it/2,st=bt.color,ut=bt.textStrokeColor,Ot=bt.textStrokeWidth;let oe=E;r?(C=j,E==="inner"&&(_===v-1?oe=this.options.reverse?"left":"right":_===0?oe=this.options.reverse?"right":"left":oe="center"),i==="top"?c==="near"||m!==0?ct=-it*et+et/2:c==="center"?ct=-Wt.highest.height/2-rt*et+et:ct=-Wt.highest.height+et/2:c==="near"||m!==0?ct=et/2:c==="center"?ct=Wt.highest.height/2-rt*et:ct=Wt.highest.height-it*et,d&&(ct*=-1),m!==0&&!bt.showLabelBackdrop&&(C+=et/2*Math.sin(m))):(R=j,ct=(1-it)*et/2);let re;if(bt.showLabelBackdrop){const Ut=ie(bt.backdropPadding),Ce=Wt.heights[_],ue=Wt.widths[_];let Ue=ct-Ut.top,zt=0-Ut.left;switch(Pt){case"middle":Ue-=Ce/2;break;case"bottom":Ue-=Ce;break}switch(E){case"center":zt-=ue/2;break;case"right":zt-=ue;break;case"inner":_===v-1?zt-=ue:_>0&&(zt-=ue/2);break}re={left:zt,top:Ue,width:ue+Ut.width,height:Ce+Ut.height,color:bt.backdropColor}}b.push({label:w,font:G,textOffset:ct,options:{rotation:m,color:st,strokeColor:ut,strokeWidth:Ot,textAlign:oe,textBaseline:Pt,translation:[C,R],backdrop:re}})}return b}_getXAxisLabelAlignment(){const{position:t,ticks:s}=this.options;if(-Re(this.labelRotation))return t==="top"?"left":"right";let i="center";return s.align==="start"?i="left":s.align==="end"?i="right":s.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:s,ticks:{crossAlign:n,mirror:i,padding:o}}=this.options,r=this._getLabelSizes(),a=t+o,l=r.widest.width;let c,u;return s==="left"?i?(u=this.right+o,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u=this.left)):s==="right"?i?(u=this.left+o,n==="near"?c="right":n==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,n==="near"?c="left":n==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,s=this.options.position;if(s==="left"||s==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(s==="top"||s==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:s},left:n,top:i,width:o,height:r}=this;s&&(t.save(),t.fillStyle=s,t.fillRect(n,i,o,r),t.restore())}getLineWidthForValue(t){const s=this.options.grid;if(!this._isVisible()||!s.display)return 0;const i=this.ticks.findIndex(o=>o.value===t);return i>=0?s.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const s=this.options.grid,n=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,r;const a=(l,c,u)=>{!u.width||!u.color||(n.save(),n.lineWidth=u.width,n.strokeStyle=u.color,n.setLineDash(u.borderDash||[]),n.lineDashOffset=u.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(s.display)for(o=0,r=i.length;o<r;++o){const l=i[o];s.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),s.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:s,options:{border:n,grid:i}}=this,o=n.setContext(this.getContext()),r=n.display?o.width:0;if(!r)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,d,f;this.isHorizontal()?(c=Hs(t,this.left,r)-r/2,u=Hs(t,this.right,a)+a/2,d=f=l):(d=Hs(t,this.top,r)-r/2,f=Hs(t,this.bottom,a)+a/2,c=u=l),s.save(),s.lineWidth=o.width,s.strokeStyle=o.color,s.beginPath(),s.moveTo(c,d),s.lineTo(u,f),s.stroke(),s.restore()}drawLabels(t){if(!this.options.ticks.display)return;const n=this.ctx,i=this._computeLabelArea();i&&yr(n,i);const o=this.getLabelItems(t);for(const r of o){const a=r.options,l=r.font,c=r.label,u=r.textOffset;on(n,c,0,u,l,a)}i&&xr(n)}drawTitle(){const{ctx:t,options:{position:s,title:n,reverse:i}}=this;if(!n.display)return;const o=qt(n.font),r=ie(n.padding),a=n.align;let l=o.lineHeight/2;s==="bottom"||s==="center"||mt(s)?(l+=r.bottom,Lt(n.text)&&(l+=o.lineHeight*(n.text.length-1))):l+=r.top;const{titleX:c,titleY:u,maxWidth:d,rotation:f}=_1(this,l,s,a);on(t,n.text,0,0,o,{color:n.color,maxWidth:d,rotation:f,textAlign:x1(a,s,i),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,s=t.ticks&&t.ticks.z||0,n=dt(t.grid&&t.grid.z,-1),i=dt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==cn.prototype.draw?[{z:s,draw:o=>{this.draw(o)}}]:[{z:n,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:s,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const s=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",i=[];let o,r;for(o=0,r=s.length;o<r;++o){const a=s[o];a[n]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){const s=this.options.ticks.setContext(this.getContext(t));return qt(s.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class ho{constructor(t,s,n){this.type=t,this.scope=s,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const s=Object.getPrototypeOf(t);let n;k1(s)&&(n=this.register(s));const i=this.items,o=t.id,r=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in i||(i[o]=t,v1(t,r,n),this.override&&Nt.override(t.id,t.overrides)),r}get(t){return this.items[t]}unregister(t){const s=this.items,n=t.id,i=this.scope;n in s&&delete s[n],i&&n in Nt[i]&&(delete Nt[i][n],this.override&&delete nn[n])}}function v1(e,t,s){const n=Ri(Object.create(null),[s?Nt.get(s):{},Nt.get(t),e.defaults]);Nt.set(t,n),e.defaultRoutes&&w1(t,e.defaultRoutes),e.descriptors&&Nt.describe(t,e.descriptors)}function w1(e,t){Object.keys(t).forEach(s=>{const n=s.split("."),i=n.pop(),o=[e].concat(n).join("."),r=t[s].split("."),a=r.pop(),l=r.join(".");Nt.route(o,i,l,a)})}function k1(e){return"id"in e&&"defaults"in e}class S1{constructor(){this.controllers=new ho(je,"datasets",!0),this.elements=new ho(bs,"elements"),this.plugins=new ho(Object,"plugins"),this.scales=new ho(cn,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,s,n){[...s].forEach(i=>{const o=n||this._getRegistryForType(i);n||o.isForType(i)||o===this.plugins&&i.id?this._exec(t,o,i):Ct(i,r=>{const a=n||this._getRegistryForType(r);this._exec(t,a,r)})})}_exec(t,s,n){const i=gl(t);Rt(n["before"+i],[],n),s[t](n),Rt(n["after"+i],[],n)}_getRegistryForType(t){for(let s=0;s<this._typedRegistries.length;s++){const n=this._typedRegistries[s];if(n.isForType(t))return n}return this.plugins}_get(t,s,n){const i=s.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return i}}var Ke=new S1;class C1{constructor(){this._init=[]}notify(t,s,n,i){s==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=i?this._descriptors(t).filter(i):this._descriptors(t),r=this._notify(o,t,s,n);return s==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),r}_notify(t,s,n,i){i=i||{};for(const o of t){const r=o.plugin,a=r[n],l=[s,i,o.options];if(Rt(a,l,r)===!1&&i.cancelable)return!1}return!0}invalidate(){pt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const s=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),s}_createDescriptors(t,s){const n=t&&t.config,i=dt(n.options&&n.options.plugins,{}),o=M1(n);return i===!1&&!s?[]:A1(t,o,i,s)}_notifyStateChanges(t){const s=this._oldCache||[],n=this._cache,i=(o,r)=>o.filter(a=>!r.some(l=>a.plugin.id===l.plugin.id));this._notify(i(s,n),t,"stop"),this._notify(i(n,s),t,"start")}}function M1(e){const t={},s=[],n=Object.keys(Ke.plugins.items);for(let o=0;o<n.length;o++)s.push(Ke.getPlugin(n[o]));const i=e.plugins||[];for(let o=0;o<i.length;o++){const r=i[o];s.indexOf(r)===-1&&(s.push(r),t[r.id]=!0)}return{plugins:s,localIds:t}}function P1(e,t){return!t&&e===!1?null:e===!0?{}:e}function A1(e,{plugins:t,localIds:s},n,i){const o=[],r=e.getContext();for(const a of t){const l=a.id,c=P1(n[l],i);c!==null&&o.push({plugin:a,options:O1(e.config,{plugin:a,local:s[l]},c,r)})}return o}function O1(e,{plugin:t,local:s},n,i){const o=e.pluginScopeKeys(t),r=e.getOptionScopes(n,o);return s&&t.defaults&&r.push(t.defaults),e.createResolver(r,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Pa(e,t){const s=Nt.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||s.indexAxis||"x"}function T1(e,t){let s=e;return e==="_index_"?s=t:e==="_value_"&&(s=t==="x"?"y":"x"),s}function E1(e,t){return e===t?"_index_":"_value_"}function Pu(e){if(e==="x"||e==="y"||e==="r")return e}function D1(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Aa(e,...t){if(Pu(e))return e;for(const s of t){const n=s.axis||D1(s.position)||e.length>1&&Pu(e[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function Au(e,t,s){if(s[t+"AxisID"]===e)return{axis:t}}function R1(e,t){if(t.data&&t.data.datasets){const s=t.data.datasets.filter(n=>n.xAxisID===e||n.yAxisID===e);if(s.length)return Au(e,"x",s[0])||Au(e,"y",s[0])}return{}}function I1(e,t){const s=nn[e.type]||{scales:{}},n=t.scales||{},i=Pa(e.type,t),o=Object.create(null);return Object.keys(n).forEach(r=>{const a=n[r];if(!mt(a))return console.error(`Invalid scale configuration for scale: ${r}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${r}`);const l=Aa(r,a,R1(r,e),Nt.scales[a.type]),c=E1(l,i),u=s.scales||{};o[r]=bi(Object.create(null),[{axis:l},a,u[l],u[c]])}),e.data.datasets.forEach(r=>{const a=r.type||e.type,l=r.indexAxis||Pa(a,t),u=(nn[a]||{}).scales||{};Object.keys(u).forEach(d=>{const f=T1(d,l),p=r[f+"AxisID"]||f;o[p]=o[p]||Object.create(null),bi(o[p],[{axis:f},n[p],u[d]])})}),Object.keys(o).forEach(r=>{const a=o[r];bi(a,[Nt.scales[a.type],Nt.scale])}),o}function jf(e){const t=e.options||(e.options={});t.plugins=dt(t.plugins,{}),t.scales=I1(e,t)}function Ff(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function L1(e){return e=e||{},e.data=Ff(e.data),jf(e),e}const Ou=new Map,$f=new Set;function fo(e,t){let s=Ou.get(e);return s||(s=t(),Ou.set(e,s),$f.add(s)),s}const Qn=(e,t,s)=>{const n=js(t,s);n!==void 0&&e.add(n)};class j1{constructor(t){this._config=L1(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Ff(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),jf(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return fo(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,s){return fo(`${t}.transition.${s}`,()=>[[`datasets.${t}.transitions.${s}`,`transitions.${s}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,s){return fo(`${t}-${s}`,()=>[[`datasets.${t}.elements.${s}`,`datasets.${t}`,`elements.${s}`,""]])}pluginScopeKeys(t){const s=t.id,n=this.type;return fo(`${n}-plugin-${s}`,()=>[[`plugins.${s}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,s){const n=this._scopeCache;let i=n.get(t);return(!i||s)&&(i=new Map,n.set(t,i)),i}getOptionScopes(t,s,n){const{options:i,type:o}=this,r=this._cachedScopes(t,n),a=r.get(s);if(a)return a;const l=new Set;s.forEach(u=>{t&&(l.add(t),u.forEach(d=>Qn(l,t,d))),u.forEach(d=>Qn(l,i,d)),u.forEach(d=>Qn(l,nn[o]||{},d)),u.forEach(d=>Qn(l,Nt,d)),u.forEach(d=>Qn(l,Sa,d))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),$f.has(s)&&r.set(s,c),c}chartOptionScopes(){const{options:t,type:s}=this;return[t,nn[s]||{},Nt.datasets[s]||{},{type:s},Nt,Sa]}resolveNamedOptions(t,s,n,i=[""]){const o={$shared:!0},{resolver:r,subPrefixes:a}=Tu(this._resolverCache,t,i);let l=r;if($1(r,s)){o.$shared=!1,n=Fs(n)?n():n;const c=this.createResolver(t,n,a);l=Ln(r,n,c)}for(const c of s)o[c]=l[c];return o}createResolver(t,s,n=[""],i){const{resolver:o}=Tu(this._resolverCache,t,n);return mt(s)?Ln(o,s,void 0,i):o}}function Tu(e,t,s){let n=e.get(t);n||(n=new Map,e.set(t,n));const i=s.join();let o=n.get(i);return o||(o={resolver:vl(t,s),subPrefixes:s.filter(a=>!a.toLowerCase().includes("hover"))},n.set(i,o)),o}const F1=e=>mt(e)&&Object.getOwnPropertyNames(e).some(t=>Fs(e[t]));function $1(e,t){const{isScriptable:s,isIndexable:n}=mf(e);for(const i of t){const o=s(i),r=n(i),a=(r||o)&&e[i];if(o&&(Fs(a)||F1(a))||r&&Lt(a))return!0}return!1}var N1="4.4.9";const B1=["top","bottom","left","right","chartArea"];function Eu(e,t){return e==="top"||e==="bottom"||B1.indexOf(e)===-1&&t==="x"}function Du(e,t){return function(s,n){return s[e]===n[e]?s[t]-n[t]:s[e]-n[e]}}function Ru(e){const t=e.chart,s=t.options.animation;t.notifyPlugins("afterRender"),Rt(s&&s.onComplete,[e],t)}function U1(e){const t=e.chart,s=t.options.animation;Rt(s&&s.onProgress,[e],t)}function Nf(e){return Sl()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const To={},Iu=e=>{const t=Nf(e);return Object.values(To).filter(s=>s.canvas===t).pop()};function V1(e,t,s){const n=Object.keys(e);for(const i of n){const o=+i;if(o>=t){const r=e[i];delete e[i],(s>0||o>t)&&(e[o+s]=r)}}}function z1(e,t,s,n){return!s||e.type==="mouseout"?null:n?t:e}class Ye{static register(...t){Ke.add(...t),Lu()}static unregister(...t){Ke.remove(...t),Lu()}constructor(t,s){const n=this.config=new j1(s),i=Nf(t),o=Iu(i);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const r=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||a1(i)),this.platform.updateConfig(n);const a=this.platform.acquireContext(i,r.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=H_(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new C1,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=av(d=>this.update(d),r.resizeDelay||0),this._dataChanges=[],To[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}es.listen(this,"complete",Ru),es.listen(this,"progress",U1),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:s},width:n,height:i,_aspectRatio:o}=this;return pt(t)?s&&o?o:i?n/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ke}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():nu(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return tu(this.canvas,this.ctx),this}stop(){return es.stop(this),this}resize(t,s){es.running(this)?this._resizeBeforeDraw={width:t,height:s}:this._resize(t,s)}_resize(t,s){const n=this.options,i=this.canvas,o=n.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(i,t,s,o),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,nu(this,a,!0)&&(this.notifyPlugins("resize",{size:r}),Rt(n.onResize,[this,r],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const s=this.options.scales||{};Ct(s,(n,i)=>{n.id=i})}buildOrUpdateScales(){const t=this.options,s=t.scales,n=this.scales,i=Object.keys(n).reduce((r,a)=>(r[a]=!1,r),{});let o=[];s&&(o=o.concat(Object.keys(s).map(r=>{const a=s[r],l=Aa(r,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Ct(o,r=>{const a=r.options,l=a.id,c=Aa(l,a),u=dt(a.type,r.dtype);(a.position===void 0||Eu(a.position,c)!==Eu(r.dposition))&&(a.position=r.dposition),i[l]=!0;let d=null;if(l in n&&n[l].type===u)d=n[l];else{const f=Ke.getScale(u);d=new f({id:l,type:u,ctx:this.ctx,chart:this}),n[d.id]=d}d.init(a,t)}),Ct(i,(r,a)=>{r||delete n[a]}),Ct(n,r=>{se.configure(this,r,r.options),se.addBox(this,r)})}_updateMetasets(){const t=this._metasets,s=this.data.datasets.length,n=t.length;if(t.sort((i,o)=>i.index-o.index),n>s){for(let i=s;i<n;++i)this._destroyDatasetMeta(i);t.splice(s,n-s)}this._sortedMetasets=t.slice(0).sort(Du("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:s}}=this;t.length>s.length&&delete this._stacks,t.forEach((n,i)=>{s.filter(o=>o===n._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],s=this.data.datasets;let n,i;for(this._removeUnreferencedMetasets(),n=0,i=s.length;n<i;n++){const o=s[n];let r=this.getDatasetMeta(n);const a=o.type||this.config.type;if(r.type&&r.type!==a&&(this._destroyDatasetMeta(n),r=this.getDatasetMeta(n)),r.type=a,r.indexAxis=o.indexAxis||Pa(a,this.options),r.order=o.order||0,r.index=n,r.label=""+o.label,r.visible=this.isDatasetVisible(n),r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{const l=Ke.getController(a),{datasetElementType:c,dataElementType:u}=Nt.datasets[a];Object.assign(l,{dataElementType:Ke.getElement(u),datasetElementType:c&&Ke.getElement(c)}),r.controller=new l(this,n),t.push(r.controller)}}return this._updateMetasets(),t}_resetElements(){Ct(this.data.datasets,(t,s)=>{this.getDatasetMeta(s).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const s=this.config;s.update();const n=this._options=s.createResolver(s.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:d}=this.getDatasetMeta(c),f=!i&&o.indexOf(d)===-1;d.buildOrUpdateElements(f),r=Math.max(+d.getMaxOverflow(),r)}r=this._minPadding=n.layout.autoPadding?r:0,this._updateLayout(r),i||Ct(o,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Du("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Ct(this.scales,t=>{se.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,s=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!Wc(s,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,s=this._getUniformDataChanges()||[];for(const{method:n,start:i,count:o}of s){const r=n==="_removeElements"?-o:o;V1(t,i,r)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const s=this.data.datasets.length,n=o=>new Set(t.filter(r=>r[0]===o).map((r,a)=>a+","+r.splice(1).join(","))),i=n(0);for(let o=1;o<s;o++)if(!Wc(i,n(o)))return;return Array.from(i).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;se.update(this,this.width,this.height,t);const s=this.chartArea,n=s.width<=0||s.height<=0;this._layers=[],Ct(this.boxes,i=>{n&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,o)=>{i._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let s=0,n=this.data.datasets.length;s<n;++s)this.getDatasetMeta(s).controller.configure();for(let s=0,n=this.data.datasets.length;s<n;++s)this._updateDataset(s,Fs(t)?t({datasetIndex:s}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,s){const n=this.getDatasetMeta(t),i={meta:n,index:t,mode:s,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(n.controller._update(s),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(es.has(this)?this.attached&&!es.running(this)&&es.start(this):(this.draw(),Ru({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:n,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const s=this._layers;for(t=0;t<s.length&&s[t].z<=0;++t)s[t].draw(this.chartArea);for(this._drawDatasets();t<s.length;++t)s[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const s=this._sortedMetasets,n=[];let i,o;for(i=0,o=s.length;i<o;++i){const r=s[i];(!t||r.visible)&&n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let s=t.length-1;s>=0;--s)this._drawDataset(t[s]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const s=this.ctx,n={meta:t,index:t.index,cancelable:!0},i=Pf(this,t);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(i&&yr(s,i),t.controller.draw(),i&&xr(s),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(t){return us(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,s,n,i){const o=Bw.modes[s];return typeof o=="function"?o(this,t,n,i):[]}getDatasetMeta(t){const s=this.data.datasets[t],n=this._metasets;let i=n.filter(o=>o&&o._dataset===s).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:s&&s.order||0,index:t,_dataset:s,_parsed:[],_sorted:!1},n.push(i)),i}getContext(){return this.$context||(this.$context=Ns(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const s=this.data.datasets[t];if(!s)return!1;const n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!s.hidden}setDatasetVisibility(t,s){const n=this.getDatasetMeta(t);n.hidden=!s}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,s,n){const i=n?"show":"hide",o=this.getDatasetMeta(t),r=o.controller._resolveAnimations(void 0,i);Ii(s)?(o.data[s].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),r.update(o,{visible:n}),this.update(a=>a.datasetIndex===t?i:void 0))}hide(t,s){this._updateVisibility(t,s,!1)}show(t,s){this._updateVisibility(t,s,!0)}_destroyDatasetMeta(t){const s=this._metasets[t];s&&s.controller&&s.controller._destroy(),delete this._metasets[t]}_stop(){let t,s;for(this.stop(),es.remove(this),t=0,s=this.data.datasets.length;t<s;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:s}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),tu(t,s),this.platform.releaseContext(s),this.canvas=null,this.ctx=null),delete To[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,s=this.platform,n=(o,r)=>{s.addEventListener(this,o,r),t[o]=r},i=(o,r,a)=>{o.offsetX=r,o.offsetY=a,this._eventHandler(o)};Ct(this.options.events,o=>n(o,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,s=this.platform,n=(l,c)=>{s.addEventListener(this,l,c),t[l]=c},i=(l,c)=>{t[l]&&(s.removeEventListener(this,l,c),delete t[l])},o=(l,c)=>{this.canvas&&this.resize(l,c)};let r;const a=()=>{i("attach",a),this.attached=!0,this.resize(),n("resize",o),n("detach",r)};r=()=>{this.attached=!1,i("resize",o),this._stop(),this._resize(0,0),n("attach",a)},s.isAttached(this.canvas)?a():r()}unbindEvents(){Ct(this._listeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._listeners={},Ct(this._responsiveListeners,(t,s)=>{this.platform.removeEventListener(this,s,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,s,n){const i=n?"set":"remove";let o,r,a,l;for(s==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){r=t[a];const c=r&&this.getDatasetMeta(r.datasetIndex).controller;c&&c[i+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const s=this._active||[],n=t.map(({datasetIndex:o,index:r})=>{const a=this.getDatasetMeta(o);if(!a)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:a.data[r],index:r}});!zo(n,s)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,s))}notifyPlugins(t,s,n){return this._plugins.notify(this,t,s,n)}isPluginEnabled(t){return this._plugins._cache.filter(s=>s.plugin.id===t).length===1}_updateHoverStyles(t,s,n){const i=this.options.hover,o=(l,c)=>l.filter(u=>!c.some(d=>u.datasetIndex===d.datasetIndex&&u.index===d.index)),r=o(s,t),a=n?t:o(t,s);r.length&&this.updateHoverStyle(r,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(t,s){const n={event:t,replay:s,cancelable:!0,inChartArea:this.isPointInArea(t)},i=r=>(r.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,i)===!1)return;const o=this._handleEvent(t,s,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,i),(o||n.changed)&&this.render(),this}_handleEvent(t,s,n){const{_active:i=[],options:o}=this,r=s,a=this._getActiveElements(t,i,n,r),l=J_(t),c=z1(t,this._lastEvent,n,l);n&&(this._lastEvent=null,Rt(o.onHover,[t,a,this],this),l&&Rt(o.onClick,[t,a,this],this));const u=!zo(a,i);return(u||s)&&(this._active=a,this._updateHoverStyles(a,i,s)),this._lastEvent=c,u}_getActiveElements(t,s,n,i){if(t.type==="mouseout")return[];if(!n)return s;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,i)}}$(Ye,"defaults",Nt),$(Ye,"instances",To),$(Ye,"overrides",nn),$(Ye,"registry",Ke),$(Ye,"version",N1),$(Ye,"getChart",Iu);function Lu(){return Ct(Ye.instances,e=>e._plugins.invalidate())}function H1(e,t,s){const{startAngle:n,pixelMargin:i,x:o,y:r,outerRadius:a,innerRadius:l}=t;let c=i/a;e.beginPath(),e.arc(o,r,a,n-c,s+c),l>i?(c=i/l,e.arc(o,r,l,s+c,n-c,!0)):e.arc(o,r,i,s+Vt,n-Vt),e.closePath(),e.clip()}function W1(e){return _l(e,["outerStart","outerEnd","innerStart","innerEnd"])}function q1(e,t,s,n){const i=W1(e.options.borderRadius),o=(s-t)/2,r=Math.min(o,n*t/2),a=l=>{const c=(s-Math.min(o,l))*n/2;return Gt(l,0,Math.min(o,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Gt(i.innerStart,0,r),innerEnd:Gt(i.innerEnd,0,r)}}function gn(e,t,s,n){return{x:s+e*Math.cos(t),y:n+e*Math.sin(t)}}function Yo(e,t,s,n,i,o){const{x:r,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=t,d=Math.max(t.outerRadius+n+s-c,0),f=u>0?u+n+s+c:0;let p=0;const g=i-l;if(n){const bt=u>0?u-n:0,rt=d>0?d-n:0,st=(bt+rt)/2,ut=st!==0?g*st/(st+n):g;p=(g-ut)/2}const m=Math.max(.001,g*d-s/Ft)/d,b=(g-m)/2,_=l+b+p,v=i-b-p,{outerStart:S,outerEnd:w,innerStart:C,innerEnd:R}=q1(t,f,d,v-_),E=d-S,j=d-w,G=_+S/E,et=v-w/j,it=f+C,ct=f+R,Pt=_+C/it,Wt=v-R/ct;if(e.beginPath(),o){const bt=(G+et)/2;if(e.arc(r,a,d,G,bt),e.arc(r,a,d,bt,et),w>0){const Ot=gn(j,et,r,a);e.arc(Ot.x,Ot.y,w,et,v+Vt)}const rt=gn(ct,v,r,a);if(e.lineTo(rt.x,rt.y),R>0){const Ot=gn(ct,Wt,r,a);e.arc(Ot.x,Ot.y,R,v+Vt,Wt+Math.PI)}const st=(v-R/f+(_+C/f))/2;if(e.arc(r,a,f,v-R/f,st,!0),e.arc(r,a,f,st,_+C/f,!0),C>0){const Ot=gn(it,Pt,r,a);e.arc(Ot.x,Ot.y,C,Pt+Math.PI,_-Vt)}const ut=gn(E,_,r,a);if(e.lineTo(ut.x,ut.y),S>0){const Ot=gn(E,G,r,a);e.arc(Ot.x,Ot.y,S,_-Vt,G)}}else{e.moveTo(r,a);const bt=Math.cos(G)*d+r,rt=Math.sin(G)*d+a;e.lineTo(bt,rt);const st=Math.cos(et)*d+r,ut=Math.sin(et)*d+a;e.lineTo(st,ut)}e.closePath()}function K1(e,t,s,n,i){const{fullCircles:o,startAngle:r,circumference:a}=t;let l=t.endAngle;if(o){Yo(e,t,s,n,l,i);for(let c=0;c<o;++c)e.fill();isNaN(a)||(l=r+(a%jt||jt))}return Yo(e,t,s,n,l,i),e.fill(),l}function G1(e,t,s,n,i){const{fullCircles:o,startAngle:r,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:f}=l,p=l.borderAlign==="inner";if(!c)return;e.setLineDash(d||[]),e.lineDashOffset=f,p?(e.lineWidth=c*2,e.lineJoin=u||"round"):(e.lineWidth=c,e.lineJoin=u||"bevel");let g=t.endAngle;if(o){Yo(e,t,s,n,g,i);for(let m=0;m<o;++m)e.stroke();isNaN(a)||(g=r+(a%jt||jt))}p&&H1(e,t,g),o||(Yo(e,t,s,n,g,i),e.stroke())}class ii extends bs{constructor(s){super();$(this,"circumference");$(this,"endAngle");$(this,"fullCircles");$(this,"innerRadius");$(this,"outerRadius");$(this,"pixelMargin");$(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,n,i){const o=this.getProps(["x","y"],i),{angle:r,distance:a}=rf(o,{x:s,y:n}),{startAngle:l,endAngle:c,innerRadius:u,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),p=(this.options.spacing+this.options.borderWidth)/2,g=dt(f,c-l),m=Li(r,l,c)&&l!==c,b=g>=jt||m,_=ls(a,u+p,d+p);return b&&_}getCenterPoint(s){const{x:n,y:i,startAngle:o,endAngle:r,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:c,spacing:u}=this.options,d=(o+r)/2,f=(a+l+u+c)/2;return{x:n+Math.cos(d)*f,y:i+Math.sin(d)*f}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:n,circumference:i}=this,o=(n.offset||0)/4,r=(n.spacing||0)/2,a=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>jt?Math.floor(i/jt):0,i===0||this.innerRadius<0||this.outerRadius<0)return;s.save();const l=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(l)*o,Math.sin(l)*o);const c=1-Math.sin(Math.min(Ft,i||0)),u=o*c;s.fillStyle=n.backgroundColor,s.strokeStyle=n.borderColor,K1(s,this,u,r,a),G1(s,this,u,r,a),s.restore()}}$(ii,"id","arc"),$(ii,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),$(ii,"defaultRoutes",{backgroundColor:"backgroundColor"}),$(ii,"descriptors",{_scriptable:!0,_indexable:s=>s!=="borderDash"});function Bf(e,t,s=t){e.lineCap=dt(s.borderCapStyle,t.borderCapStyle),e.setLineDash(dt(s.borderDash,t.borderDash)),e.lineDashOffset=dt(s.borderDashOffset,t.borderDashOffset),e.lineJoin=dt(s.borderJoinStyle,t.borderJoinStyle),e.lineWidth=dt(s.borderWidth,t.borderWidth),e.strokeStyle=dt(s.borderColor,t.borderColor)}function Y1(e,t,s){e.lineTo(s.x,s.y)}function J1(e){return e.stepped?xv:e.tension||e.cubicInterpolationMode==="monotone"?_v:Y1}function Uf(e,t,s={}){const n=e.length,{start:i=0,end:o=n-1}=s,{start:r,end:a}=t,l=Math.max(i,r),c=Math.min(o,a),u=i<r&&o<r||i>a&&o>a;return{count:n,start:l,loop:t.loop,ilen:c<l&&!u?n+c-l:c-l}}function X1(e,t,s,n){const{points:i,options:o}=t,{count:r,start:a,loop:l,ilen:c}=Uf(i,s,n),u=J1(o);let{move:d=!0,reverse:f}=n||{},p,g,m;for(p=0;p<=c;++p)g=i[(a+(f?c-p:p))%r],!g.skip&&(d?(e.moveTo(g.x,g.y),d=!1):u(e,m,g,f,o.stepped),m=g);return l&&(g=i[(a+(f?c:0))%r],u(e,m,g,f,o.stepped)),!!l}function Q1(e,t,s,n){const i=t.points,{count:o,start:r,ilen:a}=Uf(i,s,n),{move:l=!0,reverse:c}=n||{};let u=0,d=0,f,p,g,m,b,_;const v=w=>(r+(c?a-w:w))%o,S=()=>{m!==b&&(e.lineTo(u,b),e.lineTo(u,m),e.lineTo(u,_))};for(l&&(p=i[v(0)],e.moveTo(p.x,p.y)),f=0;f<=a;++f){if(p=i[v(f)],p.skip)continue;const w=p.x,C=p.y,R=w|0;R===g?(C<m?m=C:C>b&&(b=C),u=(d*u+w)/++d):(S(),e.lineTo(w,C),g=R,d=0,m=b=C),_=C}S()}function Oa(e){const t=e.options,s=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!s?Q1:X1}function Z1(e){return e.stepped?Qv:e.tension||e.cubicInterpolationMode==="monotone"?Zv:Js}function tk(e,t,s,n){let i=t._path;i||(i=t._path=new Path2D,t.path(i,s,n)&&i.closePath()),Bf(e,t.options),e.stroke(i)}function ek(e,t,s,n){const{segments:i,options:o}=t,r=Oa(t);for(const a of i)Bf(e,o,a.style),e.beginPath(),r(e,t,a,{start:s,end:s+n-1})&&e.closePath(),e.stroke()}const sk=typeof Path2D=="function";function nk(e,t,s,n){sk&&!t.options.segment?tk(e,t,s,n):ek(e,t,s,n)}class Ts extends bs{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,s){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const i=n.spanGaps?this._loop:this._fullLoop;Hv(this._points,n,t,i,s),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=ow(this,this.options.segment))}first(){const t=this.segments,s=this.points;return t.length&&s[t[0].start]}last(){const t=this.segments,s=this.points,n=t.length;return n&&s[t[n-1].end]}interpolate(t,s){const n=this.options,i=t[s],o=this.points,r=Mf(this,{property:s,start:i,end:i});if(!r.length)return;const a=[],l=Z1(n);let c,u;for(c=0,u=r.length;c<u;++c){const{start:d,end:f}=r[c],p=o[d],g=o[f];if(p===g){a.push(p);continue}const m=Math.abs((i-p[s])/(g[s]-p[s])),b=l(p,g,m,n.stepped);b[s]=t[s],a.push(b)}return a.length===1?a[0]:a}pathSegment(t,s,n){return Oa(this)(t,this,s,n)}path(t,s,n){const i=this.segments,o=Oa(this);let r=this._loop;s=s||0,n=n||this.points.length-s;for(const a of i)r&=o(t,this,a,{start:s,end:s+n-1});return!!r}draw(t,s,n,i){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),nk(t,this,n,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}$(Ts,"id","line"),$(Ts,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),$(Ts,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),$(Ts,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function ju(e,t,s,n){const i=e.options,{[s]:o}=e.getProps([s],n);return Math.abs(t-o)<i.radius+i.hitRadius}class Eo extends bs{constructor(s){super();$(this,"parsed");$(this,"skip");$(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,n,i){const o=this.options,{x:r,y:a}=this.getProps(["x","y"],i);return Math.pow(s-r,2)+Math.pow(n-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(s,n){return ju(this,s,"x",n)}inYRange(s,n){return ju(this,s,"y",n)}getCenterPoint(s){const{x:n,y:i}=this.getProps(["x","y"],s);return{x:n,y:i}}size(s){s=s||this.options||{};let n=s.radius||0;n=Math.max(n,n&&s.hoverRadius||0);const i=n&&s.borderWidth||0;return(n+i)*2}draw(s,n){const i=this.options;this.skip||i.radius<.1||!us(this,n,this.size(i)/2)||(s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.fillStyle=i.backgroundColor,Ca(s,i,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}$(Eo,"id","point"),$(Eo,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),$(Eo,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function Vf(e,t){const{x:s,y:n,base:i,width:o,height:r}=e.getProps(["x","y","base","width","height"],t);let a,l,c,u,d;return e.horizontal?(d=r/2,a=Math.min(s,i),l=Math.max(s,i),c=n-d,u=n+d):(d=o/2,a=s-d,l=s+d,c=Math.min(n,i),u=Math.max(n,i)),{left:a,top:c,right:l,bottom:u}}function Es(e,t,s,n){return e?0:Gt(t,s,n)}function ik(e,t,s){const n=e.options.borderWidth,i=e.borderSkipped,o=gf(n);return{t:Es(i.top,o.top,0,s),r:Es(i.right,o.right,0,t),b:Es(i.bottom,o.bottom,0,s),l:Es(i.left,o.left,0,t)}}function ok(e,t,s){const{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,o=tn(i),r=Math.min(t,s),a=e.borderSkipped,l=n||mt(i);return{topLeft:Es(!l||a.top||a.left,o.topLeft,0,r),topRight:Es(!l||a.top||a.right,o.topRight,0,r),bottomLeft:Es(!l||a.bottom||a.left,o.bottomLeft,0,r),bottomRight:Es(!l||a.bottom||a.right,o.bottomRight,0,r)}}function rk(e){const t=Vf(e),s=t.right-t.left,n=t.bottom-t.top,i=ik(e,s/2,n/2),o=ok(e,s/2,n/2);return{outer:{x:t.left,y:t.top,w:s,h:n,radius:o},inner:{x:t.left+i.l,y:t.top+i.t,w:s-i.l-i.r,h:n-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function Qr(e,t,s,n){const i=t===null,o=s===null,a=e&&!(i&&o)&&Vf(e,n);return a&&(i||ls(t,a.left,a.right))&&(o||ls(s,a.top,a.bottom))}function ak(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function lk(e,t){e.rect(t.x,t.y,t.w,t.h)}function Zr(e,t,s={}){const n=e.x!==s.x?-t:0,i=e.y!==s.y?-t:0,o=(e.x+e.w!==s.x+s.w?t:0)-n,r=(e.y+e.h!==s.y+s.h?t:0)-i;return{x:e.x+n,y:e.y+i,w:e.w+o,h:e.h+r,radius:e.radius}}class Do extends bs{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:s,options:{borderColor:n,backgroundColor:i}}=this,{inner:o,outer:r}=rk(this),a=ak(r.radius)?ji:lk;t.save(),(r.w!==o.w||r.h!==o.h)&&(t.beginPath(),a(t,Zr(r,s,o)),t.clip(),a(t,Zr(o,-s,r)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),a(t,Zr(o,s)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,s,n){return Qr(this,t,s,n)}inXRange(t,s){return Qr(this,t,null,s)}inYRange(t,s){return Qr(this,null,t,s)}getCenterPoint(t){const{x:s,y:n,base:i,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(s+i)/2:s,y:o?n:(n+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}$(Do,"id","bar"),$(Do,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),$(Do,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var ck=Object.freeze({__proto__:null,ArcElement:ii,BarElement:Do,LineElement:Ts,PointElement:Eo});const Ta=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Fu=Ta.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function zf(e){return Ta[e%Ta.length]}function Hf(e){return Fu[e%Fu.length]}function uk(e,t){return e.borderColor=zf(t),e.backgroundColor=Hf(t),++t}function dk(e,t){return e.backgroundColor=e.data.map(()=>zf(t++)),t}function hk(e,t){return e.backgroundColor=e.data.map(()=>Hf(t++)),t}function fk(e){let t=0;return(s,n)=>{const i=e.getDatasetMeta(n).controller;i instanceof Qs?t=dk(s,t):i instanceof vi?t=hk(s,t):i&&(t=uk(s,t))}}function $u(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}function pk(e){return e&&(e.borderColor||e.backgroundColor)}function gk(){return Nt.borderColor!=="rgba(0,0,0,0.1)"||Nt.backgroundColor!=="rgba(0,0,0,0.1)"}var mk={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,s){if(!s.enabled)return;const{data:{datasets:n},options:i}=e.config,{elements:o}=i,r=$u(n)||pk(i)||o&&$u(o)||gk();if(!s.forceOverride&&r)return;const a=fk(e);n.forEach(a)}};function bk(e,t,s,n,i){const o=i.samples||n;if(o>=s)return e.slice(t,t+s);const r=[],a=(s-2)/(o-2);let l=0;const c=t+s-1;let u=t,d,f,p,g,m;for(r[l++]=e[u],d=0;d<o-2;d++){let b=0,_=0,v;const S=Math.floor((d+1)*a)+1+t,w=Math.min(Math.floor((d+2)*a)+1,s)+t,C=w-S;for(v=S;v<w;v++)b+=e[v].x,_+=e[v].y;b/=C,_/=C;const R=Math.floor(d*a)+1+t,E=Math.min(Math.floor((d+1)*a)+1,s)+t,{x:j,y:G}=e[u];for(p=g=-1,v=R;v<E;v++)g=.5*Math.abs((j-b)*(e[v].y-G)-(j-e[v].x)*(_-G)),g>p&&(p=g,f=e[v],m=v);r[l++]=f,u=m}return r[l++]=e[c],r}function yk(e,t,s,n){let i=0,o=0,r,a,l,c,u,d,f,p,g,m;const b=[],_=t+s-1,v=e[t].x,w=e[_].x-v;for(r=t;r<t+s;++r){a=e[r],l=(a.x-v)/w*n,c=a.y;const C=l|0;if(C===u)c<g?(g=c,d=r):c>m&&(m=c,f=r),i=(o*i+a.x)/++o;else{const R=r-1;if(!pt(d)&&!pt(f)){const E=Math.min(d,f),j=Math.max(d,f);E!==p&&E!==R&&b.push({...e[E],x:i}),j!==p&&j!==R&&b.push({...e[j],x:i})}r>0&&R!==p&&b.push(e[R]),b.push(a),u=C,o=0,g=m=c,d=f=p=r}}return b}function Wf(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Nu(e){e.data.datasets.forEach(t=>{Wf(t)})}function xk(e,t){const s=t.length;let n=0,i;const{iScale:o}=e,{min:r,max:a,minDefined:l,maxDefined:c}=o.getUserBounds();return l&&(n=Gt(cs(t,o.axis,r).lo,0,s-1)),c?i=Gt(cs(t,o.axis,a).hi+1,n,s)-n:i=s-n,{start:n,count:i}}var _k={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,s)=>{if(!s.enabled){Nu(e);return}const n=e.width;e.data.datasets.forEach((i,o)=>{const{_data:r,indexAxis:a}=i,l=e.getDatasetMeta(o),c=r||i.data;if(si([a,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;const u=e.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||e.options.parsing)return;let{start:d,count:f}=xk(l,c);const p=s.threshold||4*n;if(f<=p){Wf(i);return}pt(r)&&(i._data=c,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(m){this._data=m}}));let g;switch(s.algorithm){case"lttb":g=bk(c,d,f,n,s);break;case"min-max":g=yk(c,d,f,n);break;default:throw new Error(`Unsupported decimation algorithm '${s.algorithm}'`)}i._decimated=g})},destroy(e){Nu(e)}};function vk(e,t,s){const n=e.segments,i=e.points,o=t.points,r=[];for(const a of n){let{start:l,end:c}=a;c=Pl(l,c,i);const u=Ea(s,i[l],i[c],a.loop);if(!t.segments){r.push({source:a,target:u,start:i[l],end:i[c]});continue}const d=Mf(t,u);for(const f of d){const p=Ea(s,o[f.start],o[f.end],f.loop),g=Cf(a,i,p);for(const m of g)r.push({source:m,target:f,start:{[s]:Bu(u,p,"start",Math.max)},end:{[s]:Bu(u,p,"end",Math.min)}})}}return r}function Ea(e,t,s,n){if(n)return;let i=t[e],o=s[e];return e==="angle"&&(i=ke(i),o=ke(o)),{property:e,start:i,end:o}}function wk(e,t){const{x:s=null,y:n=null}=e||{},i=t.points,o=[];return t.segments.forEach(({start:r,end:a})=>{a=Pl(r,a,i);const l=i[r],c=i[a];n!==null?(o.push({x:l.x,y:n}),o.push({x:c.x,y:n})):s!==null&&(o.push({x:s,y:l.y}),o.push({x:s,y:c.y}))}),o}function Pl(e,t,s){for(;t>e;t--){const n=s[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function Bu(e,t,s,n){return e&&t?n(e[s],t[s]):e?e[s]:t?t[s]:0}function qf(e,t){let s=[],n=!1;return Lt(e)?(n=!0,s=e):s=wk(e,t),s.length?new Ts({points:s,options:{tension:0},_loop:n,_fullLoop:n}):null}function Uu(e){return e&&e.fill!==!1}function kk(e,t,s){let i=e[t].fill;const o=[t];let r;if(!s)return i;for(;i!==!1&&o.indexOf(i)===-1;){if(!Bt(i))return i;if(r=e[i],!r)return!1;if(r.visible)return i;o.push(i),i=r.fill}return!1}function Sk(e,t,s){const n=Ak(e);if(mt(n))return isNaN(n.value)?!1:n;let i=parseFloat(n);return Bt(i)&&Math.floor(i)===i?Ck(n[0],t,i,s):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function Ck(e,t,s,n){return(e==="-"||e==="+")&&(s=t+s),s===t||s<0||s>=n?!1:s}function Mk(e,t){let s=null;return e==="start"?s=t.bottom:e==="end"?s=t.top:mt(e)?s=t.getPixelForValue(e.value):t.getBasePixel&&(s=t.getBasePixel()),s}function Pk(e,t,s){let n;return e==="start"?n=s:e==="end"?n=t.options.reverse?t.min:t.max:mt(e)?n=e.value:n=t.getBaseValue(),n}function Ak(e){const t=e.options,s=t.fill;let n=dt(s&&s.target,s);return n===void 0&&(n=!!t.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function Ok(e){const{scale:t,index:s,line:n}=e,i=[],o=n.segments,r=n.points,a=Tk(t,s);a.push(qf({x:null,y:t.bottom},n));for(let l=0;l<o.length;l++){const c=o[l];for(let u=c.start;u<=c.end;u++)Ek(i,r[u],a)}return new Ts({points:i,options:{}})}function Tk(e,t){const s=[],n=e.getMatchingVisibleMetas("line");for(let i=0;i<n.length;i++){const o=n[i];if(o.index===t)break;o.hidden||s.unshift(o.dataset)}return s}function Ek(e,t,s){const n=[];for(let i=0;i<s.length;i++){const o=s[i],{first:r,last:a,point:l}=Dk(o,t,"x");if(!(!l||r&&a)){if(r)n.unshift(l);else if(e.push(l),!a)break}}e.push(...n)}function Dk(e,t,s){const n=e.interpolate(t,s);if(!n)return{};const i=n[s],o=e.segments,r=e.points;let a=!1,l=!1;for(let c=0;c<o.length;c++){const u=o[c],d=r[u.start][s],f=r[u.end][s];if(ls(i,d,f)){a=i===d,l=i===f;break}}return{first:a,last:l,point:n}}class Kf{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,s,n){const{x:i,y:o,radius:r}=this;return s=s||{start:0,end:jt},t.arc(i,o,r,s.end,s.start,!0),!n.bounds}interpolate(t){const{x:s,y:n,radius:i}=this,o=t.angle;return{x:s+Math.cos(o)*i,y:n+Math.sin(o)*i,angle:o}}}function Rk(e){const{chart:t,fill:s,line:n}=e;if(Bt(s))return Ik(t,s);if(s==="stack")return Ok(e);if(s==="shape")return!0;const i=Lk(e);return i instanceof Kf?i:qf(i,n)}function Ik(e,t){const s=e.getDatasetMeta(t);return s&&e.isDatasetVisible(t)?s.dataset:null}function Lk(e){return(e.scale||{}).getPointPositionForValue?Fk(e):jk(e)}function jk(e){const{scale:t={},fill:s}=e,n=Mk(s,t);if(Bt(n)){const i=t.isHorizontal();return{x:i?n:null,y:i?null:n}}return null}function Fk(e){const{scale:t,fill:s}=e,n=t.options,i=t.getLabels().length,o=n.reverse?t.max:t.min,r=Pk(s,t,o),a=[];if(n.grid.circular){const l=t.getPointPositionForValue(0,o);return new Kf({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(r)})}for(let l=0;l<i;++l)a.push(t.getPointPositionForValue(l,r));return a}function ta(e,t,s){const n=Rk(t),{chart:i,index:o,line:r,scale:a,axis:l}=t,c=r.options,u=c.fill,d=c.backgroundColor,{above:f=d,below:p=d}=u||{},g=i.getDatasetMeta(o),m=Pf(i,g);n&&r.points.length&&(yr(e,s),$k(e,{line:r,target:n,above:f,below:p,area:s,scale:a,axis:l,clip:m}),xr(e))}function $k(e,t){const{line:s,target:n,above:i,below:o,area:r,scale:a,clip:l}=t,c=s._loop?"angle":t.axis;e.save(),c==="x"&&o!==i&&(Vu(e,n,r.top),zu(e,{line:s,target:n,color:i,scale:a,property:c,clip:l}),e.restore(),e.save(),Vu(e,n,r.bottom)),zu(e,{line:s,target:n,color:o,scale:a,property:c,clip:l}),e.restore()}function Vu(e,t,s){const{segments:n,points:i}=t;let o=!0,r=!1;e.beginPath();for(const a of n){const{start:l,end:c}=a,u=i[l],d=i[Pl(l,c,i)];o?(e.moveTo(u.x,u.y),o=!1):(e.lineTo(u.x,s),e.lineTo(u.x,u.y)),r=!!t.pathSegment(e,a,{move:r}),r?e.closePath():e.lineTo(d.x,s)}e.lineTo(t.first().x,s),e.closePath(),e.clip()}function zu(e,t){const{line:s,target:n,property:i,color:o,scale:r,clip:a}=t,l=vk(s,n,i);for(const{source:c,target:u,start:d,end:f}of l){const{style:{backgroundColor:p=o}={}}=c,g=n!==!0;e.save(),e.fillStyle=p,Nk(e,r,a,g&&Ea(i,d,f)),e.beginPath();const m=!!s.pathSegment(e,c);let b;if(g){m?e.closePath():Hu(e,n,f,i);const _=!!n.pathSegment(e,u,{move:m,reverse:!0});b=m&&_,b||Hu(e,n,d,i)}e.closePath(),e.fill(b?"evenodd":"nonzero"),e.restore()}}function Nk(e,t,s,n){const i=t.chart.chartArea,{property:o,start:r,end:a}=n||{};if(o==="x"||o==="y"){let l,c,u,d;o==="x"?(l=r,c=i.top,u=a,d=i.bottom):(l=i.left,c=r,u=i.right,d=a),e.beginPath(),s&&(l=Math.max(l,s.left),u=Math.min(u,s.right),c=Math.max(c,s.top),d=Math.min(d,s.bottom)),e.rect(l,c,u-l,d-c),e.clip()}}function Hu(e,t,s,n){const i=t.interpolate(s,n);i&&e.lineTo(i.x,i.y)}var Bk={id:"filler",afterDatasetsUpdate(e,t,s){const n=(e.data.datasets||[]).length,i=[];let o,r,a,l;for(r=0;r<n;++r)o=e.getDatasetMeta(r),a=o.dataset,l=null,a&&a.options&&a instanceof Ts&&(l={visible:e.isDatasetVisible(r),index:r,fill:Sk(a,r,n),chart:e,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,i.push(l);for(r=0;r<n;++r)l=i[r],!(!l||l.fill===!1)&&(l.fill=kk(i,r,s.propagate))},beforeDraw(e,t,s){const n=s.drawTime==="beforeDraw",i=e.getSortedVisibleDatasetMetas(),o=e.chartArea;for(let r=i.length-1;r>=0;--r){const a=i[r].$filler;a&&(a.line.updateControlPoints(o,a.axis),n&&a.fill&&ta(e.ctx,a,o))}},beforeDatasetsDraw(e,t,s){if(s.drawTime!=="beforeDatasetsDraw")return;const n=e.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i){const o=n[i].$filler;Uu(o)&&ta(e.ctx,o,e.chartArea)}},beforeDatasetDraw(e,t,s){const n=t.meta.$filler;!Uu(n)||s.drawTime!=="beforeDatasetDraw"||ta(e.ctx,n,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const Wu=(e,t)=>{let{boxHeight:s=t,boxWidth:n=t}=e;return e.usePointStyle&&(s=Math.min(s,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:s,itemHeight:Math.max(t,s)}},Uk=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class qu extends bs{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s,n){this.maxWidth=t,this.maxHeight=s,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let s=Rt(t.generateLabels,[this.chart],this)||[];t.filter&&(s=s.filter(n=>t.filter(n,this.chart.data))),t.sort&&(s=s.sort((n,i)=>t.sort(n,i,this.chart.data))),this.options.reverse&&s.reverse(),this.legendItems=s}fit(){const{options:t,ctx:s}=this;if(!t.display){this.width=this.height=0;return}const n=t.labels,i=qt(n.font),o=i.size,r=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Wu(n,o);let c,u;s.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(r,o,a,l)+10):(u=this.maxHeight,c=this._fitCols(r,i,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,s,n,i){const{ctx:o,maxWidth:r,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let d=t;o.textAlign="left",o.textBaseline="middle";let f=-1,p=-u;return this.legendItems.forEach((g,m)=>{const b=n+s/2+o.measureText(g.text).width;(m===0||c[c.length-1]+b+2*a>r)&&(d+=u,c[c.length-(m>0?0:1)]=0,p+=u,f++),l[m]={left:0,top:p,row:f,width:b,height:i},c[c.length-1]+=b+a}),d}_fitCols(t,s,n,i){const{ctx:o,maxHeight:r,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=r-t;let d=a,f=0,p=0,g=0,m=0;return this.legendItems.forEach((b,_)=>{const{itemWidth:v,itemHeight:S}=Vk(n,s,o,b,i);_>0&&p+S+2*a>u&&(d+=f+a,c.push({width:f,height:p}),g+=f+a,m++,f=p=0),l[_]={left:g,top:p,col:m,width:v,height:S},f=Math.max(f,v),p+=S+a}),d+=f,c.push({width:f,height:p}),d}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:s,options:{align:n,labels:{padding:i},rtl:o}}=this,r=Pn(o,this.left,this.width);if(this.isHorizontal()){let a=0,l=Zt(n,this.left+i,this.right-this.lineWidths[a]);for(const c of s)a!==c.row&&(a=c.row,l=Zt(n,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+t+i,c.left=r.leftForLtr(r.x(l),c.width),l+=c.width+i}else{let a=0,l=Zt(n,this.top+t+i,this.bottom-this.columnSizes[a].height);for(const c of s)c.col!==a&&(a=c.col,l=Zt(n,this.top+t+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=r.leftForLtr(r.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;yr(t,this),this._draw(),xr(t)}}_draw(){const{options:t,columnSizes:s,lineWidths:n,ctx:i}=this,{align:o,labels:r}=t,a=Nt.color,l=Pn(t.rtl,this.left,this.width),c=qt(r.font),{padding:u}=r,d=c.size,f=d/2;let p;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:g,boxHeight:m,itemHeight:b}=Wu(r,d),_=function(R,E,j){if(isNaN(g)||g<=0||isNaN(m)||m<0)return;i.save();const G=dt(j.lineWidth,1);if(i.fillStyle=dt(j.fillStyle,a),i.lineCap=dt(j.lineCap,"butt"),i.lineDashOffset=dt(j.lineDashOffset,0),i.lineJoin=dt(j.lineJoin,"miter"),i.lineWidth=G,i.strokeStyle=dt(j.strokeStyle,a),i.setLineDash(dt(j.lineDash,[])),r.usePointStyle){const et={radius:m*Math.SQRT2/2,pointStyle:j.pointStyle,rotation:j.rotation,borderWidth:G},it=l.xPlus(R,g/2),ct=E+f;pf(i,et,it,ct,r.pointStyleWidth&&g)}else{const et=E+Math.max((d-m)/2,0),it=l.leftForLtr(R,g),ct=tn(j.borderRadius);i.beginPath(),Object.values(ct).some(Pt=>Pt!==0)?ji(i,{x:it,y:et,w:g,h:m,radius:ct}):i.rect(it,et,g,m),i.fill(),G!==0&&i.stroke()}i.restore()},v=function(R,E,j){on(i,j.text,R,E+b/2,c,{strikethrough:j.hidden,textAlign:l.textAlign(j.textAlign)})},S=this.isHorizontal(),w=this._computeTitleHeight();S?p={x:Zt(o,this.left+u,this.right-n[0]),y:this.top+u+w,line:0}:p={x:this.left+u,y:Zt(o,this.top+w+u,this.bottom-s[0].height),line:0},wf(this.ctx,t.textDirection);const C=b+u;this.legendItems.forEach((R,E)=>{i.strokeStyle=R.fontColor,i.fillStyle=R.fontColor;const j=i.measureText(R.text).width,G=l.textAlign(R.textAlign||(R.textAlign=r.textAlign)),et=g+f+j;let it=p.x,ct=p.y;l.setWidth(this.width),S?E>0&&it+et+u>this.right&&(ct=p.y+=C,p.line++,it=p.x=Zt(o,this.left+u,this.right-n[p.line])):E>0&&ct+C>this.bottom&&(it=p.x=it+s[p.line].width+u,p.line++,ct=p.y=Zt(o,this.top+w+u,this.bottom-s[p.line].height));const Pt=l.x(it);if(_(Pt,ct,R),it=lv(G,it+g+f,S?it+et:this.right,t.rtl),v(l.x(it),ct,R),S)p.x+=et+u;else if(typeof R.text!="string"){const Wt=c.lineHeight;p.y+=Gf(R,Wt)+u}else p.y+=C}),kf(this.ctx,t.textDirection)}drawTitle(){const t=this.options,s=t.title,n=qt(s.font),i=ie(s.padding);if(!s.display)return;const o=Pn(t.rtl,this.left,this.width),r=this.ctx,a=s.position,l=n.size/2,c=i.top+l;let u,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),u=this.top+c,d=Zt(t.align,d,this.right-f);else{const g=this.columnSizes.reduce((m,b)=>Math.max(m,b.height),0);u=c+Zt(t.align,this.top,this.bottom-g-t.labels.padding-this._computeTitleHeight())}const p=Zt(a,d,d+f);r.textAlign=o.textAlign(yl(a)),r.textBaseline="middle",r.strokeStyle=s.color,r.fillStyle=s.color,r.font=n.string,on(r,s.text,p,u,n)}_computeTitleHeight(){const t=this.options.title,s=qt(t.font),n=ie(t.padding);return t.display?s.lineHeight+n.height:0}_getLegendItemAt(t,s){let n,i,o;if(ls(t,this.left,this.right)&&ls(s,this.top,this.bottom)){for(o=this.legendHitBoxes,n=0;n<o.length;++n)if(i=o[n],ls(t,i.left,i.left+i.width)&&ls(s,i.top,i.top+i.height))return this.legendItems[n]}return null}handleEvent(t){const s=this.options;if(!Wk(t.type,s))return;const n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,o=Uk(i,n);i&&!o&&Rt(s.onLeave,[t,i,this],this),this._hoveredItem=n,n&&!o&&Rt(s.onHover,[t,n,this],this)}else n&&Rt(s.onClick,[t,n,this],this)}}function Vk(e,t,s,n,i){const o=zk(n,e,t,s),r=Hk(i,n,t.lineHeight);return{itemWidth:o,itemHeight:r}}function zk(e,t,s,n){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((o,r)=>o.length>r.length?o:r)),t+s.size/2+n.measureText(i).width}function Hk(e,t,s){let n=e;return typeof t.text!="string"&&(n=Gf(t,s)),n}function Gf(e,t){const s=e.text?e.text.length:0;return t*s}function Wk(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var qk={id:"legend",_element:qu,start(e,t,s){const n=e.legend=new qu({ctx:e.ctx,options:s,chart:e});se.configure(e,n,s),se.addBox(e,n)},stop(e){se.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,s){const n=e.legend;se.configure(e,n,s),n.options=s},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,s){const n=t.datasetIndex,i=s.chart;i.isDatasetVisible(n)?(i.hide(n),t.hidden=!0):(i.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:s,pointStyle:n,textAlign:i,color:o,useBorderRadius:r,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(s?0:void 0),u=ie(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:o,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:n||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:r&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class Al extends bs{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,s){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=s;const i=Lt(n.text)?n.text.length:1;this._padding=ie(n.padding);const o=i*qt(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:s,left:n,bottom:i,right:o,options:r}=this,a=r.align;let l=0,c,u,d;return this.isHorizontal()?(u=Zt(a,n,o),d=s+t,c=o-n):(r.position==="left"?(u=n+t,d=Zt(a,i,s),l=Ft*-.5):(u=o-t,d=Zt(a,s,i),l=Ft*.5),c=i-s),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){const t=this.ctx,s=this.options;if(!s.display)return;const n=qt(s.font),o=n.lineHeight/2+this._padding.top,{titleX:r,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(o);on(t,s.text,0,0,n,{color:s.color,maxWidth:l,rotation:c,textAlign:yl(s.align),textBaseline:"middle",translation:[r,a]})}}function Kk(e,t){const s=new Al({ctx:e.ctx,options:t,chart:e});se.configure(e,s,t),se.addBox(e,s),e.titleBlock=s}var Gk={id:"title",_element:Al,start(e,t,s){Kk(e,s)},stop(e){const t=e.titleBlock;se.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,s){const n=e.titleBlock;se.configure(e,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const po=new WeakMap;var Yk={id:"subtitle",start(e,t,s){const n=new Al({ctx:e.ctx,options:s,chart:e});se.configure(e,n,s),se.addBox(e,n),po.set(e,n)},stop(e){se.removeBox(e,po.get(e)),po.delete(e)},beforeUpdate(e,t,s){const n=po.get(e);se.configure(e,n,s),n.options=s},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const oi={average(e){if(!e.length)return!1;let t,s,n=new Set,i=0,o=0;for(t=0,s=e.length;t<s;++t){const a=e[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();n.add(l.x),i+=l.y,++o}}return o===0||n.size===0?!1:{x:[...n].reduce((a,l)=>a+l)/n.size,y:i/o}},nearest(e,t){if(!e.length)return!1;let s=t.x,n=t.y,i=Number.POSITIVE_INFINITY,o,r,a;for(o=0,r=e.length;o<r;++o){const l=e[o].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=ka(t,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();s=l.x,n=l.y}return{x:s,y:n}}};function We(e,t){return t&&(Lt(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function ss(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function Jk(e,t){const{element:s,datasetIndex:n,index:i}=t,o=e.getDatasetMeta(n).controller,{label:r,value:a}=o.getLabelAndValue(i);return{chart:e,label:r,parsed:o.getParsed(i),raw:e.data.datasets[n].data[i],formattedValue:a,dataset:o.getDataset(),dataIndex:i,datasetIndex:n,element:s}}function Ku(e,t){const s=e.chart.ctx,{body:n,footer:i,title:o}=e,{boxWidth:r,boxHeight:a}=t,l=qt(t.bodyFont),c=qt(t.titleFont),u=qt(t.footerFont),d=o.length,f=i.length,p=n.length,g=ie(t.padding);let m=g.height,b=0,_=n.reduce((w,C)=>w+C.before.length+C.lines.length+C.after.length,0);if(_+=e.beforeBody.length+e.afterBody.length,d&&(m+=d*c.lineHeight+(d-1)*t.titleSpacing+t.titleMarginBottom),_){const w=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;m+=p*w+(_-p)*l.lineHeight+(_-1)*t.bodySpacing}f&&(m+=t.footerMarginTop+f*u.lineHeight+(f-1)*t.footerSpacing);let v=0;const S=function(w){b=Math.max(b,s.measureText(w).width+v)};return s.save(),s.font=c.string,Ct(e.title,S),s.font=l.string,Ct(e.beforeBody.concat(e.afterBody),S),v=t.displayColors?r+2+t.boxPadding:0,Ct(n,w=>{Ct(w.before,S),Ct(w.lines,S),Ct(w.after,S)}),v=0,s.font=u.string,Ct(e.footer,S),s.restore(),b+=g.width,{width:b,height:m}}function Xk(e,t){const{y:s,height:n}=t;return s<n/2?"top":s>e.height-n/2?"bottom":"center"}function Qk(e,t,s,n){const{x:i,width:o}=n,r=s.caretSize+s.caretPadding;if(e==="left"&&i+o+r>t.width||e==="right"&&i-o-r<0)return!0}function Zk(e,t,s,n){const{x:i,width:o}=s,{width:r,chartArea:{left:a,right:l}}=e;let c="center";return n==="center"?c=i<=(a+l)/2?"left":"right":i<=o/2?c="left":i>=r-o/2&&(c="right"),Qk(c,e,t,s)&&(c="center"),c}function Gu(e,t,s){const n=s.yAlign||t.yAlign||Xk(e,s);return{xAlign:s.xAlign||t.xAlign||Zk(e,t,s,n),yAlign:n}}function tS(e,t){let{x:s,width:n}=e;return t==="right"?s-=n:t==="center"&&(s-=n/2),s}function eS(e,t,s){let{y:n,height:i}=e;return t==="top"?n+=s:t==="bottom"?n-=i+s:n-=i/2,n}function Yu(e,t,s,n){const{caretSize:i,caretPadding:o,cornerRadius:r}=e,{xAlign:a,yAlign:l}=s,c=i+o,{topLeft:u,topRight:d,bottomLeft:f,bottomRight:p}=tn(r);let g=tS(t,a);const m=eS(t,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(u,f)+i:a==="right"&&(g+=Math.max(d,p)+i),{x:Gt(g,0,n.width-t.width),y:Gt(m,0,n.height-t.height)}}function go(e,t,s){const n=ie(s.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-n.right:e.x+n.left}function Ju(e){return We([],ss(e))}function sS(e,t,s){return Ns(e,{tooltip:t,tooltipItems:s,type:"tooltip"})}function Xu(e,t){const s=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return s?e.override(s):e}const Yf={beforeTitle:ts,title(e){if(e.length>0){const t=e[0],s=t.chart.data.labels,n=s?s.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return s[t.dataIndex]}return""},afterTitle:ts,beforeBody:ts,beforeLabel:ts,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const s=e.formattedValue;return pt(s)||(t+=s),t},labelColor(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:s.borderColor,backgroundColor:s.backgroundColor,borderWidth:s.borderWidth,borderDash:s.borderDash,borderDashOffset:s.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const s=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:s.pointStyle,rotation:s.rotation}},afterLabel:ts,afterBody:ts,beforeFooter:ts,footer:ts,afterFooter:ts};function he(e,t,s,n){const i=e[t].call(s,n);return typeof i>"u"?Yf[t].call(s,n):i}class Da extends bs{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const s=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&s.options.animation&&n.animations,o=new Af(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=sS(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,s){const{callbacks:n}=s,i=he(n,"beforeTitle",this,t),o=he(n,"title",this,t),r=he(n,"afterTitle",this,t);let a=[];return a=We(a,ss(i)),a=We(a,ss(o)),a=We(a,ss(r)),a}getBeforeBody(t,s){return Ju(he(s.callbacks,"beforeBody",this,t))}getBody(t,s){const{callbacks:n}=s,i=[];return Ct(t,o=>{const r={before:[],lines:[],after:[]},a=Xu(n,o);We(r.before,ss(he(a,"beforeLabel",this,o))),We(r.lines,he(a,"label",this,o)),We(r.after,ss(he(a,"afterLabel",this,o))),i.push(r)}),i}getAfterBody(t,s){return Ju(he(s.callbacks,"afterBody",this,t))}getFooter(t,s){const{callbacks:n}=s,i=he(n,"beforeFooter",this,t),o=he(n,"footer",this,t),r=he(n,"afterFooter",this,t);let a=[];return a=We(a,ss(i)),a=We(a,ss(o)),a=We(a,ss(r)),a}_createItems(t){const s=this._active,n=this.chart.data,i=[],o=[],r=[];let a=[],l,c;for(l=0,c=s.length;l<c;++l)a.push(Jk(this.chart,s[l]));return t.filter&&(a=a.filter((u,d,f)=>t.filter(u,d,f,n))),t.itemSort&&(a=a.sort((u,d)=>t.itemSort(u,d,n))),Ct(a,u=>{const d=Xu(t.callbacks,u);i.push(he(d,"labelColor",this,u)),o.push(he(d,"labelPointStyle",this,u)),r.push(he(d,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=o,this.labelTextColors=r,this.dataPoints=a,a}update(t,s){const n=this.options.setContext(this.getContext()),i=this._active;let o,r=[];if(!i.length)this.opacity!==0&&(o={opacity:0});else{const a=oi[n.position].call(this,i,this._eventPosition);r=this._createItems(n),this.title=this.getTitle(r,n),this.beforeBody=this.getBeforeBody(r,n),this.body=this.getBody(r,n),this.afterBody=this.getAfterBody(r,n),this.footer=this.getFooter(r,n);const l=this._size=Ku(this,n),c=Object.assign({},a,l),u=Gu(this.chart,n,c),d=Yu(n,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,o={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=r,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:s})}drawCaret(t,s,n,i){const o=this.getCaretPosition(t,n,i);s.lineTo(o.x1,o.y1),s.lineTo(o.x2,o.y2),s.lineTo(o.x3,o.y3)}getCaretPosition(t,s,n){const{xAlign:i,yAlign:o}=this,{caretSize:r,cornerRadius:a}=n,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:d}=tn(a),{x:f,y:p}=t,{width:g,height:m}=s;let b,_,v,S,w,C;return o==="center"?(w=p+m/2,i==="left"?(b=f,_=b-r,S=w+r,C=w-r):(b=f+g,_=b+r,S=w-r,C=w+r),v=b):(i==="left"?_=f+Math.max(l,u)+r:i==="right"?_=f+g-Math.max(c,d)-r:_=this.caretX,o==="top"?(S=p,w=S-r,b=_-r,v=_+r):(S=p+m,w=S+r,b=_+r,v=_-r),C=S),{x1:b,x2:_,x3:v,y1:S,y2:w,y3:C}}drawTitle(t,s,n){const i=this.title,o=i.length;let r,a,l;if(o){const c=Pn(n.rtl,this.x,this.width);for(t.x=go(this,n.titleAlign,n),s.textAlign=c.textAlign(n.titleAlign),s.textBaseline="middle",r=qt(n.titleFont),a=n.titleSpacing,s.fillStyle=n.titleColor,s.font=r.string,l=0;l<o;++l)s.fillText(i[l],c.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+a,l+1===o&&(t.y+=n.titleMarginBottom-a)}}_drawColorBox(t,s,n,i,o){const r=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:l,boxWidth:c}=o,u=qt(o.bodyFont),d=go(this,"left",o),f=i.x(d),p=l<u.lineHeight?(u.lineHeight-l)/2:0,g=s.y+p;if(o.usePointStyle){const m={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},b=i.leftForLtr(f,c)+c/2,_=g+l/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Ca(t,m,b,_),t.strokeStyle=r.borderColor,t.fillStyle=r.backgroundColor,Ca(t,m,b,_)}else{t.lineWidth=mt(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,t.strokeStyle=r.borderColor,t.setLineDash(r.borderDash||[]),t.lineDashOffset=r.borderDashOffset||0;const m=i.leftForLtr(f,c),b=i.leftForLtr(i.xPlus(f,1),c-2),_=tn(r.borderRadius);Object.values(_).some(v=>v!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,ji(t,{x:m,y:g,w:c,h:l,radius:_}),t.fill(),t.stroke(),t.fillStyle=r.backgroundColor,t.beginPath(),ji(t,{x:b,y:g+1,w:c-2,h:l-2,radius:_}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(m,g,c,l),t.strokeRect(m,g,c,l),t.fillStyle=r.backgroundColor,t.fillRect(b,g+1,c-2,l-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,s,n){const{body:i}=this,{bodySpacing:o,bodyAlign:r,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=n,d=qt(n.bodyFont);let f=d.lineHeight,p=0;const g=Pn(n.rtl,this.x,this.width),m=function(j){s.fillText(j,g.x(t.x+p),t.y+f/2),t.y+=f+o},b=g.textAlign(r);let _,v,S,w,C,R,E;for(s.textAlign=r,s.textBaseline="middle",s.font=d.string,t.x=go(this,b,n),s.fillStyle=n.bodyColor,Ct(this.beforeBody,m),p=a&&b!=="right"?r==="center"?c/2+u:c+2+u:0,w=0,R=i.length;w<R;++w){for(_=i[w],v=this.labelTextColors[w],s.fillStyle=v,Ct(_.before,m),S=_.lines,a&&S.length&&(this._drawColorBox(s,t,w,g,n),f=Math.max(d.lineHeight,l)),C=0,E=S.length;C<E;++C)m(S[C]),f=d.lineHeight;Ct(_.after,m)}p=0,f=d.lineHeight,Ct(this.afterBody,m),t.y-=o}drawFooter(t,s,n){const i=this.footer,o=i.length;let r,a;if(o){const l=Pn(n.rtl,this.x,this.width);for(t.x=go(this,n.footerAlign,n),t.y+=n.footerMarginTop,s.textAlign=l.textAlign(n.footerAlign),s.textBaseline="middle",r=qt(n.footerFont),s.fillStyle=n.footerColor,s.font=r.string,a=0;a<o;++a)s.fillText(i[a],l.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+n.footerSpacing}}drawBackground(t,s,n,i){const{xAlign:o,yAlign:r}=this,{x:a,y:l}=t,{width:c,height:u}=n,{topLeft:d,topRight:f,bottomLeft:p,bottomRight:g}=tn(i.cornerRadius);s.fillStyle=i.backgroundColor,s.strokeStyle=i.borderColor,s.lineWidth=i.borderWidth,s.beginPath(),s.moveTo(a+d,l),r==="top"&&this.drawCaret(t,s,n,i),s.lineTo(a+c-f,l),s.quadraticCurveTo(a+c,l,a+c,l+f),r==="center"&&o==="right"&&this.drawCaret(t,s,n,i),s.lineTo(a+c,l+u-g),s.quadraticCurveTo(a+c,l+u,a+c-g,l+u),r==="bottom"&&this.drawCaret(t,s,n,i),s.lineTo(a+p,l+u),s.quadraticCurveTo(a,l+u,a,l+u-p),r==="center"&&o==="left"&&this.drawCaret(t,s,n,i),s.lineTo(a,l+d),s.quadraticCurveTo(a,l,a+d,l),s.closePath(),s.fill(),i.borderWidth>0&&s.stroke()}_updateAnimationTarget(t){const s=this.chart,n=this.$animations,i=n&&n.x,o=n&&n.y;if(i||o){const r=oi[t.position].call(this,this._active,this._eventPosition);if(!r)return;const a=this._size=Ku(this,t),l=Object.assign({},r,this._size),c=Gu(s,t,l),u=Yu(t,l,c,s);(i._to!==u.x||o._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const s=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(s);const i={width:this.width,height:this.height},o={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const r=ie(s.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;s.enabled&&a&&(t.save(),t.globalAlpha=n,this.drawBackground(o,t,i,s),wf(t,s.textDirection),o.y+=r.top,this.drawTitle(o,t,s),this.drawBody(o,t,s),this.drawFooter(o,t,s),kf(t,s.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,s){const n=this._active,i=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),o=!zo(n,i),r=this._positionChanged(i,s);(o||r)&&(this._active=i,this._eventPosition=s,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,s,n=!0){if(s&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,o=this._active||[],r=this._getActiveElements(t,o,s,n),a=this._positionChanged(r,t),l=s||!zo(r,o)||a;return l&&(this._active=r,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,s))),l}_getActiveElements(t,s,n,i){const o=this.options;if(t.type==="mouseout")return[];if(!i)return s.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const r=this.chart.getElementsAtEventForMode(t,o.mode,o,n);return o.reverse&&r.reverse(),r}_positionChanged(t,s){const{caretX:n,caretY:i,options:o}=this,r=oi[o.position].call(this,t,s);return r!==!1&&(n!==r.x||i!==r.y)}}$(Da,"positioners",oi);var nS={id:"tooltip",_element:Da,positioners:oi,afterInit(e,t,s){s&&(e.tooltip=new Da({chart:e,options:s}))},beforeUpdate(e,t,s){e.tooltip&&e.tooltip.initialize(s)},reset(e,t,s){e.tooltip&&e.tooltip.initialize(s)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const s={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...s,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",s)}},afterEvent(e,t){if(e.tooltip){const s=t.replay;e.tooltip.handleEvent(t.event,s,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:Yf},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},iS=Object.freeze({__proto__:null,Colors:mk,Decimation:_k,Filler:Bk,Legend:qk,SubTitle:Yk,Title:Gk,Tooltip:nS});const oS=(e,t,s,n)=>(typeof t=="string"?(s=e.push(t)-1,n.unshift({index:s,label:t})):isNaN(t)&&(s=null),s);function rS(e,t,s,n){const i=e.indexOf(t);if(i===-1)return oS(e,t,s,n);const o=e.lastIndexOf(t);return i!==o?s:i}const aS=(e,t)=>e===null?null:Gt(Math.round(e),0,t);function Qu(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Ra extends cn{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const s=this._addedLabels;if(s.length){const n=this.getLabels();for(const{index:i,label:o}of s)n[i]===o&&n.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,s){if(pt(t))return null;const n=this.getLabels();return s=isFinite(s)&&n[s]===t?s:rS(n,t,dt(s,t),this._addedLabels),aS(s,n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:s}=this.getUserBounds();let{min:n,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),s||(i=this.getLabels().length-1)),this.min=n,this.max=i}buildTicks(){const t=this.min,s=this.max,n=this.options.offset,i=[];let o=this.getLabels();o=t===0&&s===o.length-1?o:o.slice(t,s+1),this._valueRange=Math.max(o.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let r=t;r<=s;r++)i.push({value:r});return i}getLabelForValue(t){return Qu.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const s=this.ticks;return t<0||t>s.length-1?null:this.getPixelForValue(s[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}$(Ra,"id","category"),$(Ra,"defaults",{ticks:{callback:Qu}});function lS(e,t){const s=[],{bounds:i,step:o,min:r,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:f}=e,p=o||1,g=u-1,{min:m,max:b}=t,_=!pt(r),v=!pt(a),S=!pt(c),w=(b-m)/(d+1);let C=Kc((b-m)/g/p)*p,R,E,j,G;if(C<1e-14&&!_&&!v)return[{value:m},{value:b}];G=Math.ceil(b/C)-Math.floor(m/C),G>g&&(C=Kc(G*C/g/p)*p),pt(l)||(R=Math.pow(10,l),C=Math.ceil(C*R)/R),i==="ticks"?(E=Math.floor(m/C)*C,j=Math.ceil(b/C)*C):(E=m,j=b),_&&v&&o&&ev((a-r)/o,C/1e3)?(G=Math.round(Math.min((a-r)/C,u)),C=(a-r)/G,E=r,j=a):S?(E=_?r:E,j=v?a:j,G=c-1,C=(j-E)/G):(G=(j-E)/C,yi(G,Math.round(G),C/1e3)?G=Math.round(G):G=Math.ceil(G));const et=Math.max(Gc(C),Gc(E));R=Math.pow(10,pt(l)?et:l),E=Math.round(E*R)/R,j=Math.round(j*R)/R;let it=0;for(_&&(f&&E!==r?(s.push({value:r}),E<r&&it++,yi(Math.round((E+it*C)*R)/R,r,Zu(r,w,e))&&it++):E<r&&it++);it<G;++it){const ct=Math.round((E+it*C)*R)/R;if(v&&ct>a)break;s.push({value:ct})}return v&&f&&j!==a?s.length&&yi(s[s.length-1].value,a,Zu(a,w,e))?s[s.length-1].value=a:s.push({value:a}):(!v||j===a)&&s.push({value:j}),s}function Zu(e,t,{horizontal:s,minRotation:n}){const i=Re(n),o=(s?Math.sin(i):Math.cos(i))||.001,r=.75*t*(""+e).length;return Math.min(t/o,r)}class Jo extends cn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,s){return pt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:s,maxDefined:n}=this.getUserBounds();let{min:i,max:o}=this;const r=l=>i=s?i:l,a=l=>o=n?o:l;if(t){const l=Je(i),c=Je(o);l<0&&c<0?a(0):l>0&&c>0&&r(0)}if(i===o){let l=o===0?1:Math.abs(o*.05);a(o+l),t||r(i-l)}this.min=i,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:s,stepSize:n}=t,i;return n?(i=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),s=s||11),s&&(i=Math.min(s,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,s=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const i={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:s.precision,step:s.stepSize,count:s.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:s.minRotation||0,includeBounds:s.includeBounds!==!1},o=this._range||this,r=lS(i,o);return t.bounds==="ticks"&&of(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const t=this.ticks;let s=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const i=(n-s)/Math.max(t.length-1,1)/2;s-=i,n+=i}this._startValue=s,this._endValue=n,this._valueRange=n-s}getLabelForValue(t){return Ki(t,this.chart.options.locale,this.options.ticks.format)}}class Ia extends Jo{determineDataLimits(){const{min:t,max:s}=this.getMinMax(!0);this.min=Bt(t)?t:0,this.max=Bt(s)?s:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),s=t?this.width:this.height,n=Re(this.options.ticks.minRotation),i=(t?Math.sin(n):Math.cos(n))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(s/Math.min(40,o.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}$(Ia,"id","linear"),$(Ia,"defaults",{ticks:{callback:br.formatters.numeric}});const $i=e=>Math.floor(Os(e)),qs=(e,t)=>Math.pow(10,$i(e)+t);function td(e){return e/Math.pow(10,$i(e))===1}function ed(e,t,s){const n=Math.pow(10,s),i=Math.floor(e/n);return Math.ceil(t/n)-i}function cS(e,t){const s=t-e;let n=$i(s);for(;ed(e,t,n)>10;)n++;for(;ed(e,t,n)<10;)n--;return Math.min(n,$i(e))}function uS(e,{min:t,max:s}){t=we(e.min,t);const n=[],i=$i(t);let o=cS(t,s),r=o<0?Math.pow(10,Math.abs(o)):1;const a=Math.pow(10,o),l=i>o?Math.pow(10,i):0,c=Math.round((t-l)*r)/r,u=Math.floor((t-l)/a/10)*a*10;let d=Math.floor((c-u)/Math.pow(10,o)),f=we(e.min,Math.round((l+u+d*Math.pow(10,o))*r)/r);for(;f<s;)n.push({value:f,major:td(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(o++,d=2,r=o>=0?1:r),f=Math.round((l+u+d*Math.pow(10,o))*r)/r;const p=we(e.max,f);return n.push({value:p,major:td(p),significand:d}),n}class La extends cn{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,s){const n=Jo.prototype.parse.apply(this,[t,s]);if(n===0){this._zero=!0;return}return Bt(n)&&n>0?n:null}determineDataLimits(){const{min:t,max:s}=this.getMinMax(!0);this.min=Bt(t)?Math.max(0,t):null,this.max=Bt(s)?Math.max(0,s):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Bt(this._userMin)&&(this.min=t===qs(this.min,0)?qs(this.min,-1):qs(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:s}=this.getUserBounds();let n=this.min,i=this.max;const o=a=>n=t?n:a,r=a=>i=s?i:a;n===i&&(n<=0?(o(1),r(10)):(o(qs(n,-1)),r(qs(i,1)))),n<=0&&o(qs(i,-1)),i<=0&&r(qs(n,1)),this.min=n,this.max=i}buildTicks(){const t=this.options,s={min:this._userMin,max:this._userMax},n=uS(s,this);return t.bounds==="ticks"&&of(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return t===void 0?"0":Ki(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=Os(t),this._valueRange=Os(this.max)-Os(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Os(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const s=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+s*this._valueRange)}}$(La,"id","logarithmic"),$(La,"defaults",{ticks:{callback:br.formatters.logarithmic,major:{enabled:!0}}});function ja(e){const t=e.ticks;if(t.display&&e.display){const s=ie(t.backdropPadding);return dt(t.font&&t.font.size,Nt.font.size)+s.height}return 0}function dS(e,t,s){return s=Lt(s)?s:[s],{w:yv(e,t.string,s),h:s.length*t.lineHeight}}function sd(e,t,s,n,i){return e===n||e===i?{start:t-s/2,end:t+s/2}:e<n||e>i?{start:t-s,end:t}:{start:t,end:t+s}}function hS(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},s=Object.assign({},t),n=[],i=[],o=e._pointLabels.length,r=e.options.pointLabels,a=r.centerPointLabels?Ft/o:0;for(let l=0;l<o;l++){const c=r.setContext(e.getPointLabelContext(l));i[l]=c.padding;const u=e.getPointPosition(l,e.drawingArea+i[l],a),d=qt(c.font),f=dS(e.ctx,d,e._pointLabels[l]);n[l]=f;const p=ke(e.getIndexAngle(l)+a),g=Math.round(ml(p)),m=sd(g,u.x,f.w,0,180),b=sd(g,u.y,f.h,90,270);fS(s,t,p,m,b)}e.setCenterPoint(t.l-s.l,s.r-t.r,t.t-s.t,s.b-t.b),e._pointLabelItems=mS(e,n,i)}function fS(e,t,s,n,i){const o=Math.abs(Math.sin(s)),r=Math.abs(Math.cos(s));let a=0,l=0;n.start<t.l?(a=(t.l-n.start)/o,e.l=Math.min(e.l,t.l-a)):n.end>t.r&&(a=(n.end-t.r)/o,e.r=Math.max(e.r,t.r+a)),i.start<t.t?(l=(t.t-i.start)/r,e.t=Math.min(e.t,t.t-l)):i.end>t.b&&(l=(i.end-t.b)/r,e.b=Math.max(e.b,t.b+l))}function pS(e,t,s){const n=e.drawingArea,{extra:i,additionalAngle:o,padding:r,size:a}=s,l=e.getPointPosition(t,n+i+r,o),c=Math.round(ml(ke(l.angle+Vt))),u=xS(l.y,a.h,c),d=bS(c),f=yS(l.x,a.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:f,top:u,right:f+a.w,bottom:u+a.h}}function gS(e,t){if(!t)return!0;const{left:s,top:n,right:i,bottom:o}=e;return!(us({x:s,y:n},t)||us({x:s,y:o},t)||us({x:i,y:n},t)||us({x:i,y:o},t))}function mS(e,t,s){const n=[],i=e._pointLabels.length,o=e.options,{centerPointLabels:r,display:a}=o.pointLabels,l={extra:ja(o)/2,additionalAngle:r?Ft/i:0};let c;for(let u=0;u<i;u++){l.padding=s[u],l.size=t[u];const d=pS(e,u,l);n.push(d),a==="auto"&&(d.visible=gS(d,c),d.visible&&(c=d))}return n}function bS(e){return e===0||e===180?"center":e<180?"left":"right"}function yS(e,t,s){return s==="right"?e-=t:s==="center"&&(e-=t/2),e}function xS(e,t,s){return s===90||s===270?e-=t/2:(s>270||s<90)&&(e-=t),e}function _S(e,t,s){const{left:n,top:i,right:o,bottom:r}=s,{backdropColor:a}=t;if(!pt(a)){const l=tn(t.borderRadius),c=ie(t.backdropPadding);e.fillStyle=a;const u=n-c.left,d=i-c.top,f=o-n+c.width,p=r-i+c.height;Object.values(l).some(g=>g!==0)?(e.beginPath(),ji(e,{x:u,y:d,w:f,h:p,radius:l}),e.fill()):e.fillRect(u,d,f,p)}}function vS(e,t){const{ctx:s,options:{pointLabels:n}}=e;for(let i=t-1;i>=0;i--){const o=e._pointLabelItems[i];if(!o.visible)continue;const r=n.setContext(e.getPointLabelContext(i));_S(s,r,o);const a=qt(r.font),{x:l,y:c,textAlign:u}=o;on(s,e._pointLabels[i],l,c+a.lineHeight/2,a,{color:r.color,textAlign:u,textBaseline:"middle"})}}function Jf(e,t,s,n){const{ctx:i}=e;if(s)i.arc(e.xCenter,e.yCenter,t,0,jt);else{let o=e.getPointPosition(0,t);i.moveTo(o.x,o.y);for(let r=1;r<n;r++)o=e.getPointPosition(r,t),i.lineTo(o.x,o.y)}}function wS(e,t,s,n,i){const o=e.ctx,r=t.circular,{color:a,lineWidth:l}=t;!r&&!n||!a||!l||s<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(i.dash||[]),o.lineDashOffset=i.dashOffset,o.beginPath(),Jf(e,s,r,n),o.closePath(),o.stroke(),o.restore())}function kS(e,t,s){return Ns(e,{label:s,index:t,type:"pointLabel"})}class ri extends Jo{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=ie(ja(this.options)/2),s=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+s/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(s,n)/2)}determineDataLimits(){const{min:t,max:s}=this.getMinMax(!1);this.min=Bt(t)&&!isNaN(t)?t:0,this.max=Bt(s)&&!isNaN(s)?s:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ja(this.options))}generateTickLabels(t){Jo.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((s,n)=>{const i=Rt(this.options.pointLabels.callback,[s,n],this);return i||i===0?i:""}).filter((s,n)=>this.chart.getDataVisibility(n))}fit(){const t=this.options;t.display&&t.pointLabels.display?hS(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,s,n,i){this.xCenter+=Math.floor((t-s)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,s,n,i))}getIndexAngle(t){const s=jt/(this._pointLabels.length||1),n=this.options.startAngle||0;return ke(t*s+Re(n))}getDistanceFromCenterForValue(t){if(pt(t))return NaN;const s=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*s:(t-this.min)*s}getValueForDistanceFromCenter(t){if(pt(t))return NaN;const s=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-s:this.min+s}getPointLabelContext(t){const s=this._pointLabels||[];if(t>=0&&t<s.length){const n=s[t];return kS(this.getContext(),t,n)}}getPointPosition(t,s,n=0){const i=this.getIndexAngle(t)-Vt+n;return{x:Math.cos(i)*s+this.xCenter,y:Math.sin(i)*s+this.yCenter,angle:i}}getPointPositionForValue(t,s){return this.getPointPosition(t,this.getDistanceFromCenterForValue(s))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:s,top:n,right:i,bottom:o}=this._pointLabelItems[t];return{left:s,top:n,right:i,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:s}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),Jf(this,this.getDistanceFromCenterForValue(this._endValue),s,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,s=this.options,{angleLines:n,grid:i,border:o}=s,r=this._pointLabels.length;let a,l,c;if(s.pointLabels.display&&vS(this,r),i.display&&this.ticks.forEach((u,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);const f=this.getContext(d),p=i.setContext(f),g=o.setContext(f);wS(this,p,l,r,g)}}),n.display){for(t.save(),a=r-1;a>=0;a--){const u=n.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:f}=u;!f||!d||(t.lineWidth=f,t.strokeStyle=d,t.setLineDash(u.borderDash),t.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(s.reverse?this.min:this.max),c=this.getPointPosition(a,l),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(c.x,c.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,s=this.options,n=s.ticks;if(!n.display)return;const i=this.getIndexAngle(0);let o,r;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(i),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!s.reverse)return;const c=n.setContext(this.getContext(l)),u=qt(c.font);if(o=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=u.string,r=t.measureText(a.label).width,t.fillStyle=c.backdropColor;const d=ie(c.backdropPadding);t.fillRect(-r/2-d.left,-o-u.size/2-d.top,r+d.width,u.size+d.height)}on(t,a.label,0,-o,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),t.restore()}drawTitle(){}}$(ri,"id","radialLinear"),$(ri,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:br.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),$(ri,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),$(ri,"descriptors",{angleLines:{_fallback:"grid"}});const vr={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ge=Object.keys(vr);function nd(e,t){return e-t}function id(e,t){if(pt(t))return null;const s=e._adapter,{parser:n,round:i,isoWeekday:o}=e._parseOpts;let r=t;return typeof n=="function"&&(r=n(r)),Bt(r)||(r=typeof n=="string"?s.parse(r,n):s.parse(r)),r===null?null:(i&&(r=i==="week"&&(In(o)||o===!0)?s.startOf(r,"isoWeek",o):s.startOf(r,i)),+r)}function od(e,t,s,n){const i=ge.length;for(let o=ge.indexOf(e);o<i-1;++o){const r=vr[ge[o]],a=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((s-t)/(a*r.size))<=n)return ge[o]}return ge[i-1]}function SS(e,t,s,n,i){for(let o=ge.length-1;o>=ge.indexOf(s);o--){const r=ge[o];if(vr[r].common&&e._adapter.diff(i,n,r)>=t-1)return r}return ge[s?ge.indexOf(s):0]}function CS(e){for(let t=ge.indexOf(e)+1,s=ge.length;t<s;++t)if(vr[ge[t]].common)return ge[t]}function rd(e,t,s){if(!s)e[t]=!0;else if(s.length){const{lo:n,hi:i}=bl(s,t),o=s[n]>=t?s[n]:s[i];e[o]=!0}}function MS(e,t,s,n){const i=e._adapter,o=+i.startOf(t[0].value,n),r=t[t.length-1].value;let a,l;for(a=o;a<=r;a=+i.add(a,1,n))l=s[a],l>=0&&(t[l].major=!0);return t}function ad(e,t,s){const n=[],i={},o=t.length;let r,a;for(r=0;r<o;++r)a=t[r],i[a]=r,n.push({value:a,major:!1});return o===0||!s?n:MS(e,n,i,s)}class Ni extends cn{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,s={}){const n=t.time||(t.time={}),i=this._adapter=new Lw._date(t.adapters.date);i.init(s),bi(n.displayFormats,i.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=s.normalized}parse(t,s){return t===void 0?null:id(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,s=this._adapter,n=t.time.unit||"day";let{min:i,max:o,minDefined:r,maxDefined:a}=this.getUserBounds();function l(c){!r&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(o=Math.max(o,c.max))}(!r||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Bt(i)&&!isNaN(i)?i:+s.startOf(Date.now(),n),o=Bt(o)&&!isNaN(o)?o:+s.endOf(Date.now(),n)+1,this.min=Math.min(i,o-1),this.max=Math.max(i+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let s=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(s=t[0],n=t[t.length-1]),{min:s,max:n}}buildTicks(){const t=this.options,s=t.time,n=t.ticks,i=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const o=this.min,r=this.max,a=ov(i,o,r);return this._unit=s.unit||(n.autoSkip?od(s.minUnit,this.min,this.max,this._getLabelCapacity(o)):SS(this,a.length,s.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:CS(this._unit),this.initOffsets(i),t.reverse&&a.reverse(),ad(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let s=0,n=0,i,o;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?s=1-i:s=(this.getDecimalForValue(t[1])-i)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?n=o:n=(o-this.getDecimalForValue(t[t.length-2]))/2);const r=t.length<3?.5:.25;s=Gt(s,0,r),n=Gt(n,0,r),this._offsets={start:s,end:n,factor:1/(s+1+n)}}_generate(){const t=this._adapter,s=this.min,n=this.max,i=this.options,o=i.time,r=o.unit||od(o.minUnit,s,n,this._getLabelCapacity(s)),a=dt(i.ticks.stepSize,1),l=r==="week"?o.isoWeekday:!1,c=In(l)||l===!0,u={};let d=s,f,p;if(c&&(d=+t.startOf(d,"isoWeek",l)),d=+t.startOf(d,c?"day":r),t.diff(n,s,r)>1e5*a)throw new Error(s+" and "+n+" are too far apart with stepSize of "+a+" "+r);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(f=d,p=0;f<n;f=+t.add(f,a,r),p++)rd(u,f,g);return(f===n||i.bounds==="ticks"||p===1)&&rd(u,f,g),Object.keys(u).sort(nd).map(m=>+m)}getLabelForValue(t){const s=this._adapter,n=this.options.time;return n.tooltipFormat?s.format(t,n.tooltipFormat):s.format(t,n.displayFormats.datetime)}format(t,s){const i=this.options.time.displayFormats,o=this._unit,r=s||i[o];return this._adapter.format(t,r)}_tickFormatFunction(t,s,n,i){const o=this.options,r=o.ticks.callback;if(r)return Rt(r,[t,s,n],this);const a=o.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],d=c&&a[c],f=n[s],p=c&&d&&f&&f.major;return this._adapter.format(t,i||(p?d:u))}generateTickLabels(t){let s,n,i;for(s=0,n=t.length;s<n;++s)i=t[s],i.label=this._tickFormatFunction(i.value,s,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const s=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((s.start+n)*s.factor)}getValueForPixel(t){const s=this._offsets,n=this.getDecimalForPixel(t)/s.factor-s.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const s=this.options.ticks,n=this.ctx.measureText(t).width,i=Re(this.isHorizontal()?s.maxRotation:s.minRotation),o=Math.cos(i),r=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:n*o+a*r,h:n*r+a*o}}_getLabelCapacity(t){const s=this.options.time,n=s.displayFormats,i=n[s.unit]||n.millisecond,o=this._tickFormatFunction(t,0,ad(this,[t],this._majorUnit),i),r=this._getLabelSize(o),a=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],s,n;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(s=0,n=i.length;s<n;++s)t=t.concat(i[s].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let s,n;if(t.length)return t;const i=this.getLabels();for(s=0,n=i.length;s<n;++s)t.push(id(this,i[s]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return lf(t.sort(nd))}}$(Ni,"id","time"),$(Ni,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function mo(e,t,s){let n=0,i=e.length-1,o,r,a,l;s?(t>=e[n].pos&&t<=e[i].pos&&({lo:n,hi:i}=cs(e,"pos",t)),{pos:o,time:a}=e[n],{pos:r,time:l}=e[i]):(t>=e[n].time&&t<=e[i].time&&({lo:n,hi:i}=cs(e,"time",t)),{time:o,pos:a}=e[n],{time:r,pos:l}=e[i]);const c=r-o;return c?a+(l-a)*(t-o)/c:a}class Fa extends Ni{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),s=this._table=this.buildLookupTable(t);this._minPos=mo(s,this.min),this._tableRange=mo(s,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:s,max:n}=this,i=[],o=[];let r,a,l,c,u;for(r=0,a=t.length;r<a;++r)c=t[r],c>=s&&c<=n&&i.push(c);if(i.length<2)return[{time:s,pos:0},{time:n,pos:1}];for(r=0,a=i.length;r<a;++r)u=i[r+1],l=i[r-1],c=i[r],Math.round((u+l)/2)!==c&&o.push({time:c,pos:r/(a-1)});return o}_generate(){const t=this.min,s=this.max;let n=super.getDataTimestamps();return(!n.includes(t)||!n.length)&&n.splice(0,0,t),(!n.includes(s)||n.length===1)&&n.push(s),n.sort((i,o)=>i-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const s=this.getDataTimestamps(),n=this.getLabelTimestamps();return s.length&&n.length?t=this.normalize(s.concat(n)):t=s.length?s:n,t=this._cache.all=t,t}getDecimalForValue(t){return(mo(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const s=this._offsets,n=this.getDecimalForPixel(t)/s.factor-s.end;return mo(this._table,n*this._tableRange+this._minPos,!0)}}$(Fa,"id","timeseries"),$(Fa,"defaults",Ni.defaults);var PS=Object.freeze({__proto__:null,CategoryScale:Ra,LinearScale:Ia,LogarithmicScale:La,RadialLinearScale:ri,TimeScale:Ni,TimeSeriesScale:Fa});const AS=[Iw,ck,iS,PS];Ye.register(...AS);const OS={name:"Dashboard",components:{Sidebar:Ne,HeaderUser:Be,Modal:ln,WeekView:Qh},data(){return{userId:null,stats:{week:0,month:0,clients:0,newClients:0},upcomingAppointments:[],clients:[],services:[],topClients:[],sidebarOpen:!0,showClientModal:!1,showAppointmentModal:!1,showDetailsModal:!1,weekChart:null,weekCounts:[0,0,0,0,0,0,0],clientForm:{name:"",email:"",phone:""},appointmentForm:{date:"",time:"",clientId:"",serviceId:"",duration:"",description:""},selectedAppointment:null}},methods:{async fetchStats(){const e=new Date,t=e.getDay(),s=new Date(e);s.setDate(e.getDate()-t),s.setHours(0,0,0,0);const n=new Date(e);n.setDate(e.getDate()+(6-t)),n.setHours(23,59,59,999);const i=s.toISOString().split("T")[0],o=n.toISOString().split("T")[0],r=new Date(e.getFullYear(),e.getMonth(),1),a=new Date(e.getFullYear(),e.getMonth()+1,0);a.setHours(23,59,59,999);const l=r.toISOString().split("T")[0],c=a.toISOString().split("T")[0],{data:u}=await W.from("appointments").select().eq("user_id",this.userId).gte("date",i).lte("date",o);this.stats.week=u?u.length:0;const d=[0,0,0,0,0,0,0];u&&u.forEach(g=>{const m=new Date(g.date);d[m.getDay()]++}),this.weekCounts=d;const{data:f}=await W.from("appointments").select().eq("user_id",this.userId).gte("date",l).lte("date",c);this.stats.month=f?f.length:0;const{data:p}=await W.from("clients").select().eq("user_id",this.userId);p&&(this.stats.clients=p.length,this.clients=p,this.stats.newClients=p.filter(g=>{const m=new Date(g.created_at);return m>=r&&m<=a}).length),await this.fetchTopClients(),this.$nextTick(()=>this.renderWeekChart())},async fetchUpcomingAppointments(){const e=new Date,t=e.getDay(),s=new Date(e);s.setDate(e.getDate()-t),s.setHours(0,0,0,0);const n=new Date(e);n.setDate(e.getDate()+(6-t)),n.setHours(23,59,59,999);const i=s.toISOString().split("T")[0],o=n.toISOString().split("T")[0],{data:r}=await W.from("appointments").select().eq("user_id",this.userId).gte("date",i).lte("date",o).order("date",{ascending:!0}).order("time",{ascending:!0});this.upcomingAppointments=r||[]},async fetchTopClients(){const{data:e}=await W.from("appointments").select("client_id").eq("user_id",this.userId),t={};e&&e.forEach(n=>{t[n.client_id]=(t[n.client_id]||0)+1});const s=Object.entries(t).sort((n,i)=>i[1]-n[1]).slice(0,5);this.topClients=s.map(([n,i])=>({id:n,count:i,name:this.getClientName(n)}))},renderWeekChart(){const e=this.$refs.weekChartCanvas.getContext("2d");this.weekChart&&this.weekChart.destroy(),this.weekChart=new Ye(e,{type:"bar",data:{labels:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],datasets:[{label:"Agendamentos",data:this.weekCounts,backgroundColor:"#3b82f6"}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0}}}})},getClientName(e){const t=this.clients.find(s=>s.id===e);return t?t.name:""},getServiceName(e){const t=this.services.find(s=>s.id===e);return t?t.name:""},openDetails(e){this.selectedAppointment=e,this.showDetailsModal=!0},closeDetails(){this.showDetailsModal=!1,this.selectedAppointment=null},async handleAddClient(){const{data:e,error:t}=await W.from("clients").insert({name:this.clientForm.name,email:this.clientForm.email,phone:this.clientForm.phone,user_id:this.userId}).select().single();if(t)alert("Erro ao salvar cliente: "+t.message);else{this.clients.push(e),this.clientForm={name:"",email:"",phone:""},this.stats.clients+=1;const s=new Date(e.created_at),n=new Date(s.getFullYear(),s.getMonth(),1),i=new Date(s.getFullYear(),s.getMonth()+1,0);i.setHours(23,59,59,999),s>=n&&s<=i&&(this.stats.newClients+=1),await this.fetchTopClients(),alert("Cliente cadastrado!")}},async handleAddAppointment(){const{data:e,error:t}=await W.from("appointments").insert({date:this.appointmentForm.date,time:this.appointmentForm.time,client_id:this.appointmentForm.clientId,service_id:this.appointmentForm.serviceId,duration:this.appointmentForm.duration,description:this.appointmentForm.description,user_id:this.userId}).select().single();if(t)alert("Erro ao salvar agendamento: "+t.message);else{this.upcomingAppointments.push(e),this.showAppointmentModal=!1,this.appointmentForm={date:"",time:"",clientId:"",serviceId:"",duration:"",description:""},this.stats.week+=1,this.stats.month+=1;const s=new Date(e.date);this.weekCounts[s.getDay()]++,await this.fetchTopClients(),this.renderWeekChart()}}},watch:{"appointmentForm.serviceId"(e){const t=this.services.find(s=>s.id===e);t&&this.appointmentForm.duration===""&&(this.appointmentForm.duration=t.duration)}},async mounted(){const{data:{user:e}}=await W.auth.getUser();if(!e){this.$router.push("/login");return}this.userId=e.id,await this.fetchStats(),await this.fetchUpcomingAppointments();const{data:t}=await W.from("services").select().eq("user_id",this.userId);t&&(this.services=t)}},TS={class:"min-h-screen flex bg-gray-50 relative"},ES={class:"flex-1 p-4 md:p-8 space-y-8"},DS={key:0,class:"flex items-center mb-4"},RS={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},IS={class:"bg-white p-6 rounded-lg shadow-lg text-center"},LS={class:"text-2xl font-bold"},jS={class:"bg-white p-6 rounded-lg shadow-lg text-center"},FS={class:"text-2xl font-bold"},$S={class:"bg-white p-6 rounded-lg shadow-lg text-center"},NS={class:"text-2xl font-bold"},BS={class:"bg-white p-6 rounded-lg shadow-lg text-center"},US={class:"text-2xl font-bold"},VS={class:"bg-white p-6 rounded-lg shadow-lg h-64"},zS={ref:"weekChartCanvas",class:"w-full h-full"},HS={class:"grid grid-cols-1 md:grid-cols-12 gap-6"},WS={class:"md:col-span-8"},qS={class:"flex items-center justify-between mb-4"},KS={class:"md:col-span-4 space-y-4"},GS={class:"bg-white p-4 rounded-lg shadow"},YS={class:"space-y-1"},JS={key:0,class:"text-gray-500 text-sm"},XS={class:"flex justify-end space-x-2"},QS=["value"],ZS=["value"],t2={class:"flex justify-end space-x-2"},e2={key:0,class:"space-y-1"},s2={class:"flex justify-end mt-4"};function n2(e,t,s,n,i,o){const r=X("Sidebar"),a=X("HeaderUser"),l=X("WeekView"),c=X("Modal");return k(),M("div",TS,[F(r,{"is-open":i.sidebarOpen,onClose:t[0]||(t[0]=u=>i.sidebarOpen=!1)},null,8,["is-open"]),h("main",ES,[i.sidebarOpen?Y("",!0):(k(),M("div",DS,[h("button",{onClick:t[1]||(t[1]=u=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},t[20]||(t[20]=[h("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),F(a,{title:"Dashboard"}),h("section",RS,[h("div",IS,[t[21]||(t[21]=h("p",{class:"text-sm text-gray-500"},"Agendamentos na semana",-1)),h("p",LS,T(i.stats.week),1)]),h("div",jS,[t[22]||(t[22]=h("p",{class:"text-sm text-gray-500"},"Agendamentos no ms",-1)),h("p",FS,T(i.stats.month),1)]),h("div",$S,[t[23]||(t[23]=h("p",{class:"text-sm text-gray-500"},"Clientes cadastrados",-1)),h("p",NS,T(i.stats.clients),1)]),h("div",BS,[t[24]||(t[24]=h("p",{class:"text-sm text-gray-500"},"Novos clientes no ms",-1)),h("p",US,T(i.stats.newClients),1)])]),h("section",VS,[t[25]||(t[25]=h("h3",{class:"text-lg font-medium mb-4"},"Agendamentos na semana",-1)),h("canvas",zS,null,512)]),h("section",HS,[h("div",WS,[h("div",qS,[t[26]||(t[26]=h("h3",{class:"text-lg font-medium"},"Agenda da Semana",-1)),h("button",{onClick:t[2]||(t[2]=u=>i.showAppointmentModal=!0),class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"},"Novo Agendamento")]),F(l,{appointments:i.upcomingAppointments,getClientName:o.getClientName,onSelect:o.openDetails},null,8,["appointments","getClientName","onSelect"])]),h("div",KS,[h("button",{onClick:t[3]||(t[3]=u=>i.showClientModal=!0),class:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700"},"Novo Cliente"),h("div",GS,[t[27]||(t[27]=h("h4",{class:"font-medium mb-2"},"Clientes com mais agendamentos",-1)),h("ul",YS,[(k(!0),M(nt,null,Mt(i.topClients,u=>(k(),M("li",{key:u.id,class:"flex justify-between"},[h("span",null,T(u.name),1),h("span",null,T(u.count),1)]))),128)),i.topClients.length===0?(k(),M("li",JS,"Nenhum dado")):Y("",!0)])])])]),i.showClientModal?(k(),me(c,{key:1,onClose:t[9]||(t[9]=u=>i.showClientModal=!1)},{default:ft(()=>[t[32]||(t[32]=h("h3",{class:"text-lg font-semibold mb-4"},"Adicionar Cliente",-1)),h("form",{onSubmit:t[8]||(t[8]=ce((...u)=>o.handleAddClient&&o.handleAddClient(...u),["prevent"])),class:"space-y-4"},[h("div",null,[t[28]||(t[28]=h("label",{class:"block text-sm font-medium text-gray-700"},"Nome",-1)),U(h("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=u=>i.clientForm.name=u),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.clientForm.name]])]),h("div",null,[t[29]||(t[29]=h("label",{class:"block text-sm font-medium text-gray-700"},"E-mail",-1)),U(h("input",{type:"email","onUpdate:modelValue":t[5]||(t[5]=u=>i.clientForm.email=u),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.clientForm.email]])]),h("div",null,[t[30]||(t[30]=h("label",{class:"block text-sm font-medium text-gray-700"},"Telefone",-1)),U(h("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=u=>i.clientForm.phone=u),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.clientForm.phone]])]),h("div",XS,[h("button",{type:"button",onClick:t[7]||(t[7]=u=>i.showClientModal=!1),class:"px-4 py-2 rounded border"},"Cancelar"),t[31]||(t[31]=h("button",{type:"submit",class:"bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700"},"Salvar",-1))])],32)]),_:1,__:[32]})):Y("",!0),i.showAppointmentModal?(k(),me(c,{key:2,onClose:t[18]||(t[18]=u=>i.showAppointmentModal=!1)},{default:ft(()=>[t[42]||(t[42]=h("h3",{class:"text-lg font-semibold mb-4"},"Adicionar Agendamento",-1)),h("form",{onSubmit:t[17]||(t[17]=ce((...u)=>o.handleAddAppointment&&o.handleAddAppointment(...u),["prevent"])),class:"space-y-4"},[h("div",null,[t[33]||(t[33]=h("label",{class:"block text-sm font-medium text-gray-700"},"Data",-1)),U(h("input",{type:"date","onUpdate:modelValue":t[10]||(t[10]=u=>i.appointmentForm.date=u),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.appointmentForm.date]])]),h("div",null,[t[34]||(t[34]=h("label",{class:"block text-sm font-medium text-gray-700"},"Hora",-1)),U(h("input",{type:"time","onUpdate:modelValue":t[11]||(t[11]=u=>i.appointmentForm.time=u),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.appointmentForm.time]])]),h("div",null,[t[36]||(t[36]=h("label",{class:"block text-sm font-medium text-gray-700"},"Cliente",-1)),U(h("select",{"onUpdate:modelValue":t[12]||(t[12]=u=>i.appointmentForm.clientId=u),class:"w-full mt-1 px-4 py-2 border rounded-md"},[t[35]||(t[35]=h("option",{disabled:"",value:""},"Selecione um cliente",-1)),(k(!0),M(nt,null,Mt(i.clients,u=>(k(),M("option",{key:u.id,value:u.id},T(u.name),9,QS))),128))],512),[[Ls,i.appointmentForm.clientId]])]),h("div",null,[t[38]||(t[38]=h("label",{class:"block text-sm font-medium text-gray-700"},"Servio",-1)),U(h("select",{"onUpdate:modelValue":t[13]||(t[13]=u=>i.appointmentForm.serviceId=u),class:"w-full mt-1 px-4 py-2 border rounded-md"},[t[37]||(t[37]=h("option",{disabled:"",value:""},"Selecione um servio",-1)),(k(!0),M(nt,null,Mt(i.services,u=>(k(),M("option",{key:u.id,value:u.id},T(u.name),9,ZS))),128))],512),[[Ls,i.appointmentForm.serviceId]])]),h("div",null,[t[39]||(t[39]=h("label",{class:"block text-sm font-medium text-gray-700"},"Durao (minutos)",-1)),U(h("input",{type:"text","onUpdate:modelValue":t[14]||(t[14]=u=>i.appointmentForm.duration=u),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.appointmentForm.duration]])]),h("div",null,[t[40]||(t[40]=h("label",{class:"block text-sm font-medium text-gray-700"},"Descrio",-1)),U(h("textarea",{"onUpdate:modelValue":t[15]||(t[15]=u=>i.appointmentForm.description=u),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.appointmentForm.description]])]),h("div",t2,[h("button",{type:"button",onClick:t[16]||(t[16]=u=>i.showAppointmentModal=!1),class:"px-4 py-2 rounded border"},"Cancelar"),t[41]||(t[41]=h("button",{type:"submit",class:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700"},"Salvar",-1))])],32)]),_:1,__:[42]})):Y("",!0),i.showDetailsModal?(k(),me(c,{key:3,onClose:o.closeDetails},{default:ft(()=>[t[49]||(t[49]=h("h3",{class:"text-lg font-semibold mb-4"},"Detalhes do Agendamento",-1)),i.selectedAppointment?(k(),M("div",e2,[h("p",null,[t[43]||(t[43]=h("strong",null,"Data:",-1)),at(" "+T(i.selectedAppointment.date),1)]),h("p",null,[t[44]||(t[44]=h("strong",null,"Hora:",-1)),at(" "+T(i.selectedAppointment.time),1)]),h("p",null,[t[45]||(t[45]=h("strong",null,"Cliente:",-1)),at(" "+T(o.getClientName(i.selectedAppointment.client_id)),1)]),h("p",null,[t[46]||(t[46]=h("strong",null,"Servio:",-1)),at(" "+T(o.getServiceName(i.selectedAppointment.service_id)),1)]),h("p",null,[t[47]||(t[47]=h("strong",null,"Durao:",-1)),at(" "+T(i.selectedAppointment.duration),1)]),h("p",null,[t[48]||(t[48]=h("strong",null,"Descrio:",-1)),at(" "+T(i.selectedAppointment.description),1)])])):Y("",!0),h("div",s2,[h("button",{onClick:t[19]||(t[19]=(...u)=>o.closeDetails&&o.closeDetails(...u)),class:"px-4 py-2 rounded border"},"Fechar")])]),_:1,__:[49]},8,["onClose"])):Y("",!0)])])}const i2=xt(OS,[["render",n2]]),o2={name:"Configuracao",components:{Sidebar:Ne,HeaderUser:Be},data(){return{userId:null,sidebarOpen:!0,slug:"",activeTab:"perfil",form:{businessName:"",description:"",areaAtuacao:"",phone:"",whatsapp:"",email:"",address:"",instagram:"",facebook:"",youtube:"",x:"",imageUrl:""},agenda:{startTime:"",endTime:"",daysOfWeek:[]},daysOfWeekOptions:[{value:"0",label:"Domingo"},{value:"1",label:"Segunda"},{value:"2",label:"Tera"},{value:"3",label:"Quarta"},{value:"4",label:"Quinta"},{value:"5",label:"Sexta"},{value:"6",label:"Sbado"}]}},methods:{updateSlug(){this.slug=this.form.businessName.toLowerCase().normalize("NFD").replace(/\p{Diacritic}/gu,"").replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")},async handleSave(){const e={id:this.userId,business_name:this.form.businessName,slug:this.slug,description:this.form.description,area_atuacao:this.form.areaAtuacao,phone:this.form.phone,whatsapp:this.form.whatsapp,email:this.form.email,address:this.form.address,instagram:this.form.instagram,facebook:this.form.facebook,youtube:this.form.youtube,x:this.form.x,image_url:this.form.imageUrl},{error:t}=await W.from("profiles").upsert(e,{onConflict:["id"]});alert(t?"Erro ao salvar dados: "+t.message:"Dados salvos com sucesso!")},async handleImageUpload(e){const t=e.target.files[0];if(!t)return;const s=t.name.split(".").pop(),n=`${this.userId}.${s}`,{error:i}=await W.storage.from("profile-images").upload(n,t,{upsert:!0});if(i){alert("Erro ao enviar imagem: "+i.message);return}const{data:{publicUrl:o}}=W.storage.from("profile-images").getPublicUrl(n);this.form.imageUrl=o},async handleSaveAgenda(){const e={id:this.userId,start_time:this.agenda.startTime,end_time:this.agenda.endTime,week_days:this.agenda.daysOfWeek.join(",")},{error:t}=await W.from("profiles").upsert(e,{onConflict:["id"]});alert(t?"Erro ao salvar dados: "+t.message:"Dados salvos com sucesso!")}},async mounted(){const{data:{user:e}}=await W.auth.getUser();if(!e){this.$router.push("/login");return}this.userId=e.id;const{data:t,error:s}=await W.from("profiles").select().eq("id",this.userId).single();t&&(this.form={businessName:t.business_name||"",description:t.description||"",areaAtuacao:t.area_atuacao||"",phone:t.phone||"",whatsapp:t.whatsapp||"",email:t.email||"",address:t.address||"",instagram:t.instagram||"",facebook:t.facebook||"",youtube:t.youtube||"",x:t.x||"",imageUrl:t.image_url||""},this.agenda={startTime:t.start_time||"",endTime:t.end_time||"",daysOfWeek:t.week_days?t.week_days.split(","):[]},this.updateSlug())}},r2={class:"min-h-screen flex bg-gray-100 relative"},a2={class:"flex-1 p-8"},l2={key:0,class:"flex items-center mb-4"},c2={class:"mb-6 space-x-2"},u2={class:"text-sm text-gray-500 mt-1"},d2={class:"font-mono"},h2=["href"],f2={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},p2={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},g2={key:0,class:"mt-2"},m2=["src"],b2={class:"mt-1 space-y-1"},y2=["value"];function x2(e,t,s,n,i,o){const r=X("Sidebar"),a=X("HeaderUser"),l=X("router-link");return k(),M("div",r2,[F(r,{"is-open":i.sidebarOpen,onClose:t[0]||(t[0]=c=>i.sidebarOpen=!1)},null,8,["is-open"]),h("main",a2,[i.sidebarOpen?Y("",!0):(k(),M("div",l2,[h("button",{onClick:t[1]||(t[1]=c=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},t[22]||(t[22]=[h("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),F(a,{title:"Configuraes"}),F(l,{to:"/onboarding",class:"text-blue-600 underline mb-4 inline-block"},{default:ft(()=>t[23]||(t[23]=[at("Refazer Onboarding")])),_:1,__:[23]}),h("nav",c2,[h("button",{onClick:t[2]||(t[2]=c=>i.activeTab="perfil"),class:sn([i.activeTab==="perfil"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700","px-4 py-2 rounded-l"])},"Perfil",2),h("button",{onClick:t[3]||(t[3]=c=>i.activeTab="agenda"),class:sn([i.activeTab==="agenda"?"bg-blue-600 text-white":"bg-gray-200 text-gray-700","px-4 py-2 rounded-r"])},"Agenda",2)]),i.activeTab==="perfil"?(k(),M("form",{key:1,onSubmit:t[17]||(t[17]=ce((...c)=>o.handleSave&&o.handleSave(...c),["prevent"])),class:"space-y-6 max-w-3xl"},[h("div",null,[t[25]||(t[25]=h("label",{class:"block text-sm font-medium text-gray-700"},"Nome Comercial",-1)),U(h("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=c=>i.form.businessName=c),onInput:t[5]||(t[5]=(...c)=>o.updateSlug&&o.updateSlug(...c)),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,544),[[K,i.form.businessName]]),h("p",u2,[t[24]||(t[24]=at(" Seu link pblico: ")),h("span",d2,"/agenda-zen/#/"+T(i.slug),1),h("a",{href:"/agenda-zen/#/"+i.slug,target:"_blank",class:"text-blue-600 hover:underline ml-2"},"Abrir pgina do cliente",8,h2)])]),h("div",null,[t[26]||(t[26]=h("label",{class:"block text-sm font-medium text-gray-700"},"Descrio do Estabelecimento",-1)),U(h("textarea",{"onUpdate:modelValue":t[6]||(t[6]=c=>i.form.description=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.form.description]])]),h("div",null,[t[28]||(t[28]=h("label",{class:"block text-sm font-medium text-gray-700"},"rea de Atuao",-1)),U(h("select",{"onUpdate:modelValue":t[7]||(t[7]=c=>i.form.areaAtuacao=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},t[27]||(t[27]=[ar('<option disabled value="">Selecione</option><option>Psicologia</option><option>Terapias Gerais</option><option>Psicopedagogia</option><option>Medicina</option><option>Coaching</option><option>Fonoaudiologia</option><option>Fisioterapia</option><option>Nutrio</option><option>Terapia Ocupacional</option>',10)]),512),[[Ls,i.form.areaAtuacao]])]),h("div",f2,[h("div",null,[t[29]||(t[29]=h("label",{class:"block text-sm font-medium text-gray-700"},"Telefone de Contato",-1)),U(h("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=c=>i.form.phone=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.form.phone]])]),h("div",null,[t[30]||(t[30]=h("label",{class:"block text-sm font-medium text-gray-700"},"WhatsApp",-1)),U(h("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=c=>i.form.whatsapp=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.form.whatsapp]])]),h("div",null,[t[31]||(t[31]=h("label",{class:"block text-sm font-medium text-gray-700"},"E-mail",-1)),U(h("input",{type:"email","onUpdate:modelValue":t[10]||(t[10]=c=>i.form.email=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.form.email]])]),h("div",null,[t[32]||(t[32]=h("label",{class:"block text-sm font-medium text-gray-700"},"Endereo",-1)),U(h("input",{type:"text","onUpdate:modelValue":t[11]||(t[11]=c=>i.form.address=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.form.address]])])]),h("div",p2,[h("div",null,[t[33]||(t[33]=h("label",{class:"block text-sm font-medium text-gray-700"},"Instagram",-1)),U(h("input",{type:"text","onUpdate:modelValue":t[12]||(t[12]=c=>i.form.instagram=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.form.instagram]])]),h("div",null,[t[34]||(t[34]=h("label",{class:"block text-sm font-medium text-gray-700"},"Facebook",-1)),U(h("input",{type:"text","onUpdate:modelValue":t[13]||(t[13]=c=>i.form.facebook=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.form.facebook]])]),h("div",null,[t[35]||(t[35]=h("label",{class:"block text-sm font-medium text-gray-700"},"YouTube",-1)),U(h("input",{type:"text","onUpdate:modelValue":t[14]||(t[14]=c=>i.form.youtube=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.form.youtube]])]),h("div",null,[t[36]||(t[36]=h("label",{class:"block text-sm font-medium text-gray-700"},"X (Twitter)",-1)),U(h("input",{type:"text","onUpdate:modelValue":t[15]||(t[15]=c=>i.form.x=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.form.x]])])]),h("div",null,[t[37]||(t[37]=h("label",{class:"block text-sm font-medium text-gray-700"},"Imagem do Estabelecimento",-1)),h("input",{type:"file",accept:"image/*",onChange:t[16]||(t[16]=(...c)=>o.handleImageUpload&&o.handleImageUpload(...c)),class:"mt-1"},null,32),i.form.imageUrl?(k(),M("div",g2,[h("img",{src:i.form.imageUrl,alt:"Imagem do estabelecimento",class:"h-24 rounded-md"},null,8,m2)])):Y("",!0)]),t[38]||(t[38]=h("div",null,[h("button",{type:"submit",class:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700"},"Salvar")],-1))],32)):Y("",!0),i.activeTab==="agenda"?(k(),M("form",{key:2,onSubmit:t[21]||(t[21]=ce((...c)=>o.handleSaveAgenda&&o.handleSaveAgenda(...c),["prevent"])),class:"space-y-6 max-w-3xl"},[h("div",null,[t[39]||(t[39]=h("label",{class:"block text-sm font-medium text-gray-700"},"Incio dos atendimentos",-1)),U(h("input",{type:"time","onUpdate:modelValue":t[18]||(t[18]=c=>i.agenda.startTime=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.agenda.startTime]])]),h("div",null,[t[40]||(t[40]=h("label",{class:"block text-sm font-medium text-gray-700"},"Final dos atendimentos",-1)),U(h("input",{type:"time","onUpdate:modelValue":t[19]||(t[19]=c=>i.agenda.endTime=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.agenda.endTime]])]),h("div",null,[t[41]||(t[41]=h("label",{class:"block text-sm font-medium text-gray-700"},"Dias da semana dos atendimentos",-1)),h("div",b2,[(k(!0),M(nt,null,Mt(i.daysOfWeekOptions,c=>(k(),M("label",{key:c.value,class:"flex items-center space-x-2"},[U(h("input",{type:"checkbox",value:c.value,"onUpdate:modelValue":t[20]||(t[20]=u=>i.agenda.daysOfWeek=u)},null,8,y2),[[il,i.agenda.daysOfWeek]]),h("span",null,T(c.label),1)]))),128))])]),t[42]||(t[42]=h("div",null,[h("button",{type:"submit",class:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700"},"Salvar")],-1))],32)):Y("",!0)])])}const _2=xt(o2,[["render",x2]]),v2={name:"Clientes",components:{Sidebar:Ne,HeaderUser:Be,Modal:ln},data(){return{userId:null,showModal:!1,search:"",form:{name:"",email:"",phone:""},clients:[],sidebarOpen:!0,page:1,pageSize:10}},methods:{openModal(){this.showModal=!0},closeModal(){this.showModal=!1,this.form={name:"",email:"",phone:""}},formatPhone(e){return e.replace(/[^\d]/g,"")},whatsappLink(e){return`https://wa.me/${this.formatPhone(e)}`},async handleAddClient(){const{data:e,error:t}=await W.from("clients").insert({name:this.form.name,email:this.form.email,phone:this.form.phone,user_id:this.userId}).select().single();t?alert("Erro ao salvar cliente: "+t.message):(this.clients.push(e),this.closeModal())},async handleDeleteClient(e){if(!confirm("Tem certeza que deseja excluir este cliente?"))return;const{error:s}=await W.from("clients").delete().eq("id",e);s?alert("Erro ao excluir cliente: "+s.message):this.clients=this.clients.filter(n=>n.id!==e)},nextPage(){this.page<this.totalPages&&this.page++},prevPage(){this.page>1&&this.page--}},computed:{filteredClients(){const e=this.search.toLowerCase();return this.clients.filter(t=>t.name.toLowerCase().includes(e)||t.email.toLowerCase().includes(e)||t.phone.toLowerCase().includes(e))},paginatedClients(){const e=(this.page-1)*this.pageSize;return this.filteredClients.slice(e,e+this.pageSize)},totalPages(){return Math.max(1,Math.ceil(this.filteredClients.length/this.pageSize))}},watch:{search(){this.page=1}},async mounted(){const{data:{user:e}}=await W.auth.getUser();if(!e){this.$router.push("/login");return}this.userId=e.id;const{data:t}=await W.from("clients").select().eq("user_id",this.userId);t&&(this.clients=t)}},w2={class:"min-h-screen flex bg-gray-100 relative"},k2={class:"flex-1 p-4 md:p-8 space-y-6"},S2={key:0,class:"flex items-center mb-4"},C2={class:"bg-white p-6 rounded-lg shadow"},M2={class:"flex justify-between items-center mb-4"},P2={class:"flex items-center space-x-3"},A2={class:"overflow-x-auto"},O2={class:"min-w-full text-left"},T2={class:"px-4 py-2"},E2={class:"px-4 py-2"},D2={class:"px-4 py-2"},R2={class:"px-4 py-2 text-right space-x-2"},I2=["href"],L2=["onClick"],j2={key:0},F2={class:"mt-4 flex justify-between items-center"},$2=["disabled"],N2={class:"text-sm"},B2=["disabled"],U2={class:"flex justify-end space-x-2"};function V2(e,t,s,n,i,o){const r=X("Sidebar"),a=X("HeaderUser"),l=X("Modal");return k(),M("div",w2,[F(r,{"is-open":i.sidebarOpen,onClose:t[0]||(t[0]=c=>i.sidebarOpen=!1)},null,8,["is-open"]),h("main",k2,[i.sidebarOpen?Y("",!0):(k(),M("div",S2,[h("button",{onClick:t[1]||(t[1]=c=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},t[11]||(t[11]=[h("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),F(a,{title:"Clientes"}),h("section",C2,[h("div",M2,[t[12]||(t[12]=h("h3",{class:"text-lg font-medium"},"Clientes cadastrados",-1)),h("div",P2,[U(h("input",{"onUpdate:modelValue":t[2]||(t[2]=c=>i.search=c),type:"text",placeholder:"Buscar...",class:"border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[K,i.search]]),h("button",{onClick:t[3]||(t[3]=(...c)=>o.openModal&&o.openModal(...c)),class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"}," Novo Cliente ")])]),h("div",A2,[h("table",O2,[t[14]||(t[14]=h("thead",{class:"bg-gray-50"},[h("tr",null,[h("th",{class:"px-4 py-2 font-medium text-gray-700"},"Nome"),h("th",{class:"px-4 py-2 font-medium text-gray-700"},"E-mail"),h("th",{class:"px-4 py-2 font-medium text-gray-700"},"Telefone"),h("th",{class:"px-4 py-2"})])],-1)),h("tbody",null,[(k(!0),M(nt,null,Mt(o.paginatedClients,c=>(k(),M("tr",{key:c.id,class:"border-b last:border-b-0"},[h("td",T2,T(c.name),1),h("td",E2,T(c.email),1),h("td",D2,T(c.phone),1),h("td",R2,[h("a",{href:o.whatsappLink(c.phone),target:"_blank",rel:"noopener",class:"text-green-600 hover:underline"}," WhatsApp ",8,I2),h("button",{onClick:u=>o.handleDeleteClient(c.id),class:"text-red-600 hover:underline"}," Excluir ",8,L2)])]))),128)),o.filteredClients.length===0?(k(),M("tr",j2,t[13]||(t[13]=[h("td",{colspan:"4",class:"px-4 py-6 text-center text-gray-500"}," Nenhum cliente encontrado ",-1)]))):Y("",!0)])]),h("div",F2,[h("button",{class:"px-3 py-1 border rounded",onClick:t[4]||(t[4]=(...c)=>o.prevPage&&o.prevPage(...c)),disabled:i.page===1}," Anterior ",8,$2),h("span",N2,"Pgina "+T(i.page)+" de "+T(o.totalPages),1),h("button",{class:"px-3 py-1 border rounded",onClick:t[5]||(t[5]=(...c)=>o.nextPage&&o.nextPage(...c)),disabled:i.page===o.totalPages}," Prxima ",8,B2)])])]),i.showModal?(k(),me(l,{key:1,onClose:o.closeModal},{default:ft(()=>[t[19]||(t[19]=h("h3",{class:"text-lg font-semibold mb-4"},"Adicionar Cliente",-1)),h("form",{onSubmit:t[10]||(t[10]=ce((...c)=>o.handleAddClient&&o.handleAddClient(...c),["prevent"])),class:"space-y-6"},[h("div",null,[t[15]||(t[15]=h("label",{class:"block text-sm font-medium text-gray-700"},"Nome",-1)),U(h("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=c=>i.form.name=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.form.name]])]),h("div",null,[t[16]||(t[16]=h("label",{class:"block text-sm font-medium text-gray-700"},"E-mail",-1)),U(h("input",{type:"email","onUpdate:modelValue":t[7]||(t[7]=c=>i.form.email=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.form.email]])]),h("div",null,[t[17]||(t[17]=h("label",{class:"block text-sm font-medium text-gray-700"},"Telefone",-1)),U(h("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=c=>i.form.phone=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.form.phone]])]),h("div",U2,[h("button",{type:"button",onClick:t[9]||(t[9]=(...c)=>o.closeModal&&o.closeModal(...c)),class:"px-4 py-2 rounded border"},"Cancelar"),t[18]||(t[18]=h("button",{type:"submit",class:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700"},"Salvar",-1))])],32)]),_:1,__:[19]},8,["onClose"])):Y("",!0)])])}const z2=xt(v2,[["render",V2]]),H2={name:"CalendarView",props:{appointments:{type:Array,required:!0},getClientName:{type:Function,required:!0}},data(){const e=new Date;return{currentYear:e.getFullYear(),currentMonth:e.getMonth(),monthNames:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],daysOfWeek:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"]}},computed:{daysInMonth(){return new Date(this.currentYear,this.currentMonth+1,0).getDate()},leadingBlanks(){return new Date(this.currentYear,this.currentMonth,1).getDay()}},methods:{prevMonth(){this.currentMonth===0?(this.currentMonth=11,this.currentYear--):this.currentMonth--},nextMonth(){this.currentMonth===11?(this.currentMonth=0,this.currentYear++):this.currentMonth++},getAppointmentsForDay(e){const t=String(this.currentMonth+1).padStart(2,"0"),s=String(e).padStart(2,"0"),n=`${this.currentYear}-${t}-${s}`;return this.appointments.filter(i=>i.date===n)}}},W2={class:"flex justify-between items-center mb-2"},q2={class:"font-semibold"},K2={class:"grid grid-cols-7 gap-1 text-sm"},G2={class:"text-center font-medium"};function Y2(e,t,s,n,i,o){return k(),M("div",null,[h("div",W2,[h("button",{onClick:t[0]||(t[0]=(...r)=>o.prevMonth&&o.prevMonth(...r)),class:"px-2"},"<"),h("div",q2,T(i.monthNames[i.currentMonth])+" "+T(i.currentYear),1),h("button",{onClick:t[1]||(t[1]=(...r)=>o.nextMonth&&o.nextMonth(...r)),class:"px-2"},">")]),h("div",K2,[(k(!0),M(nt,null,Mt(i.daysOfWeek,r=>(k(),M("div",{class:"font-semibold text-center",key:r},T(r),1))),128)),(k(!0),M(nt,null,Mt(o.leadingBlanks,r=>(k(),M("div",{key:"b"+r}))),128)),(k(!0),M(nt,null,Mt(o.daysInMonth,r=>(k(),M("div",{key:r,class:"border h-24 p-1 overflow-auto"},[h("div",G2,T(r),1),h("ul",null,[(k(!0),M(nt,null,Mt(o.getAppointmentsForDay(r),a=>(k(),M("li",{key:a.id,class:"text-xs truncate"},T(a.time)+" - "+T(s.getClientName(a.client_id)),1))),128))])]))),128))])])}const J2=xt(H2,[["render",Y2]]),X2={name:"Agendamentos",components:{Sidebar:Ne,HeaderUser:Be,Modal:ln,CalendarView:J2,WeekView:Qh},data(){return{userId:null,showModal:!1,editingId:null,viewMode:"week",form:{date:"",time:"",clientId:"",serviceId:"",duration:"",description:""},clients:[],services:[],appointments:[],selectedAppointment:null,showDetailsModal:!1,filterStartDate:"",filterEndDate:"",searchQuery:"",sortColumn:"",sortAsc:!0,showViewDropdown:!1,sidebarOpen:!0}},computed:{processedAppointments(){let e=this.appointments.slice();if(this.searchQuery){const t=this.searchQuery.toLowerCase();e=e.filter(s=>s.date.toLowerCase().includes(t)||s.time.toLowerCase().includes(t)||this.getClientName(s.client_id).toLowerCase().includes(t)||this.getServiceName(s.service_id).toLowerCase().includes(t)||s.description&&s.description.toLowerCase().includes(t))}return this.filterStartDate&&(e=e.filter(t=>t.date>=this.filterStartDate)),this.filterEndDate&&(e=e.filter(t=>t.date<=this.filterEndDate)),this.sortColumn&&e.sort((t,s)=>{let n,i;switch(this.sortColumn){case"client":n=this.getClientName(t.client_id),i=this.getClientName(s.client_id);break;case"service":n=this.getServiceName(t.service_id),i=this.getServiceName(s.service_id);break;case"datetime":n=t.date+" "+t.time,i=s.date+" "+s.time;break;default:n=t[this.sortColumn],i=s[this.sortColumn]}return n<i?this.sortAsc?-1:1:n>i?this.sortAsc?1:-1:0}),e}},methods:{openModal(e){e?(this.editingId=e.id,this.form={date:e.date,time:e.time,clientId:e.client_id,serviceId:e.service_id,duration:e.duration,description:e.description}):(this.editingId=null,this.form={date:"",time:"",clientId:"",serviceId:"",duration:"",description:""}),this.showModal=!0},closeModal(){this.showModal=!1,this.form={date:"",time:"",clientId:"",serviceId:"",duration:"",description:""},this.editingId=null},closeDetails(){this.showDetailsModal=!1,this.selectedAppointment=null},async handleSaveAppointment(){if(this.editingId){const{data:e,error:t}=await W.from("appointments").update({date:this.form.date,time:this.form.time,client_id:this.form.clientId,service_id:this.form.serviceId,duration:this.form.duration,description:this.form.description}).eq("id",this.editingId).select().single();if(t)alert("Erro ao atualizar agendamento: "+t.message);else{const s=this.appointments.findIndex(n=>n.id===this.editingId);s!==-1&&(this.appointments[s]=e),this.closeModal()}}else{const{data:e,error:t}=await W.from("appointments").insert({date:this.form.date,time:this.form.time,client_id:this.form.clientId,service_id:this.form.serviceId,duration:this.form.duration,description:this.form.description,user_id:this.userId}).select().single();t?alert("Erro ao salvar agendamento: "+t.message):(this.appointments.push(e),this.closeModal())}},async handleDeleteAppointment(e){if(!confirm("Tem certeza que deseja excluir este agendamento?"))return;const{error:s}=await W.from("appointments").delete().eq("id",e);s?alert("Erro ao excluir agendamento: "+s.message):this.appointments=this.appointments.filter(n=>n.id!==e)},getClientName(e){const t=this.clients.find(s=>s.id===e);return t?t.name:""},getServiceName(e){const t=this.services.find(s=>s.id===e);return t?t.name:""},sortBy(e){this.sortColumn===e?this.sortAsc=!this.sortAsc:(this.sortColumn=e,this.sortAsc=!0)},setViewMode(e){this.viewMode=e,this.showViewDropdown=!1},openDetails(e){this.selectedAppointment=e,this.showDetailsModal=!0},exportCSV(){const e=["Data","Hora","Cliente","Servio","Durao","Descrio"],t=this.appointments.map(o=>[o.date,o.time,this.getClientName(o.client_id),this.getServiceName(o.service_id),o.duration,(o.description||"").replace(/(\r\n|\n|\r)/g," ")]),s=[e.join(","),...t.map(o=>o.map(r=>`"${String(r).replace(/"/g,'""')}"`).join(","))].join(`
`),n=new Blob([s],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a");i.href=URL.createObjectURL(n),i.setAttribute("download","agendamentos.csv"),document.body.appendChild(i),i.click(),document.body.removeChild(i)}},watch:{"form.serviceId"(e){const t=this.services.find(s=>s.id===e);t&&(!this.editingId||this.form.duration==="")&&(this.form.duration=t.duration)}},async mounted(){const{data:{user:e}}=await W.auth.getUser();if(!e){this.$router.push("/login");return}this.userId=e.id;const{data:t}=await W.from("clients").select().eq("user_id",this.userId);t&&(this.clients=t);const{data:s}=await W.from("services").select().eq("user_id",this.userId);s&&(this.services=s);const{data:n}=await W.from("appointments").select().eq("user_id",this.userId);n&&(this.appointments=n)}},Q2={class:"min-h-screen flex bg-gray-100 relative"},Z2={class:"flex-1 p-4 md:p-8"},tC={key:0,class:"flex items-center mb-4"},eC={class:"flex flex-col sm:flex-row sm:items-end mb-4 gap-2"},sC={class:"flex flex-col flex-grow sm:max-w-xs"},nC={class:"flex flex-col"},iC={class:"flex flex-col"},oC={class:"relative"},rC={key:0,class:"absolute right-0 mt-2 w-32 bg-white border rounded shadow"},aC={class:"text-lg font-semibold mb-4"},lC=["value"],cC=["value"],uC={class:"flex justify-end space-x-2"},dC={key:0,class:"space-y-1"},hC={class:"flex justify-end mt-4"},fC={class:"mt-8"},pC={class:"bg-white p-6 rounded-lg shadow overflow-x-auto"},gC={class:"min-w-full text-left"},mC={class:"bg-gray-50"},bC={key:0},yC={key:0},xC={key:0},_C={key:0},vC={key:0},wC={class:"px-4 py-2"},kC={class:"px-4 py-2"},SC={class:"px-4 py-2"},CC={class:"px-4 py-2"},MC={class:"px-4 py-2"},PC={class:"px-4 py-2 text-right"},AC=["onClick"],OC=["onClick"],TC={key:0},EC={class:"mt-8"},DC={class:"mt-8"};function RC(e,t,s,n,i,o){const r=X("Sidebar"),a=X("HeaderUser"),l=X("Modal"),c=X("CalendarView"),u=X("WeekView");return k(),M("div",Q2,[F(r,{"is-open":i.sidebarOpen,onClose:t[0]||(t[0]=d=>i.sidebarOpen=!1)},null,8,["is-open"]),h("main",Z2,[i.sidebarOpen?Y("",!0):(k(),M("div",tC,[h("button",{onClick:t[1]||(t[1]=d=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},t[25]||(t[25]=[h("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),F(a,{title:"Agendamentos"}),h("section",null,[h("div",eC,[h("div",sC,[t[26]||(t[26]=h("label",{class:"text-sm font-medium text-gray-700 mb-1"},"Buscar",-1)),U(h("input",{"onUpdate:modelValue":t[2]||(t[2]=d=>i.searchQuery=d),type:"text",placeholder:"Buscar...",class:"border px-3 py-2 rounded"},null,512),[[K,i.searchQuery]])]),h("div",nC,[t[27]||(t[27]=h("label",{class:"text-sm font-medium text-gray-700 mb-1"},"Data de Incio",-1)),U(h("input",{"onUpdate:modelValue":t[3]||(t[3]=d=>i.filterStartDate=d),type:"date",class:"border px-3 py-2 rounded"},null,512),[[K,i.filterStartDate]])]),h("div",iC,[t[28]||(t[28]=h("label",{class:"text-sm font-medium text-gray-700 mb-1"},"Data de Fim",-1)),U(h("input",{"onUpdate:modelValue":t[4]||(t[4]=d=>i.filterEndDate=d),type:"date",class:"border px-3 py-2 rounded"},null,512),[[K,i.filterEndDate]])]),t[29]||(t[29]=h("p",{class:"text-xs text-gray-600 bg-gray-50 px-2 py-1 rounded sm:self-end"}," Formato: dd/mm/aaaa ",-1)),h("div",oC,[h("button",{onClick:t[5]||(t[5]=d=>i.showViewDropdown=!i.showViewDropdown),class:"px-4 py-2 bg-gray-200 rounded"},T(i.viewMode==="list"?"Lista":i.viewMode==="calendar"?"Calendrio":"Semana"),1),i.showViewDropdown?(k(),M("div",rC,[h("button",{onClick:t[6]||(t[6]=d=>o.setViewMode("list")),class:"block w-full text-left px-4 py-2 hover:bg-gray-100"},"Lista"),h("button",{onClick:t[7]||(t[7]=d=>o.setViewMode("calendar")),class:"block w-full text-left px-4 py-2 hover:bg-gray-100"},"Calendrio"),h("button",{onClick:t[8]||(t[8]=d=>o.setViewMode("week")),class:"block w-full text-left px-4 py-2 hover:bg-gray-100"},"Semana")])):Y("",!0)]),h("button",{onClick:t[9]||(t[9]=d=>o.openModal()),class:"sm:ml-auto bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 w-full sm:w-auto"},"Novo"),h("button",{onClick:t[10]||(t[10]=(...d)=>o.exportCSV&&o.exportCSV(...d)),class:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 w-full sm:w-auto"},"Exportar")]),i.showModal?(k(),me(l,{key:0,onClose:o.closeModal},{default:ft(()=>[h("h3",aC,T(i.editingId?"Editar Agendamento":"Adicionar Agendamento"),1),h("form",{onSubmit:t[18]||(t[18]=ce((...d)=>o.handleSaveAppointment&&o.handleSaveAppointment(...d),["prevent"])),class:"space-y-4"},[h("div",null,[t[30]||(t[30]=h("label",{class:"block text-sm font-medium text-gray-700"},"Data",-1)),U(h("input",{type:"date","onUpdate:modelValue":t[11]||(t[11]=d=>i.form.date=d),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.form.date]])]),h("div",null,[t[31]||(t[31]=h("label",{class:"block text-sm font-medium text-gray-700"},"Hora",-1)),U(h("input",{type:"time","onUpdate:modelValue":t[12]||(t[12]=d=>i.form.time=d),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.form.time]])]),h("div",null,[t[33]||(t[33]=h("label",{class:"block text-sm font-medium text-gray-700"},"Cliente",-1)),U(h("select",{"onUpdate:modelValue":t[13]||(t[13]=d=>i.form.clientId=d),class:"w-full mt-1 px-4 py-2 border rounded-md"},[t[32]||(t[32]=h("option",{disabled:"",value:""},"Selecione um cliente",-1)),(k(!0),M(nt,null,Mt(i.clients,d=>(k(),M("option",{key:d.id,value:d.id},T(d.name),9,lC))),128))],512),[[Ls,i.form.clientId]])]),h("div",null,[t[35]||(t[35]=h("label",{class:"block text-sm font-medium text-gray-700"},"Servio",-1)),U(h("select",{"onUpdate:modelValue":t[14]||(t[14]=d=>i.form.serviceId=d),class:"w-full mt-1 px-4 py-2 border rounded-md"},[t[34]||(t[34]=h("option",{disabled:"",value:""},"Selecione um servio",-1)),(k(!0),M(nt,null,Mt(i.services,d=>(k(),M("option",{key:d.id,value:d.id},T(d.name),9,cC))),128))],512),[[Ls,i.form.serviceId]])]),h("div",null,[t[36]||(t[36]=h("label",{class:"block text-sm font-medium text-gray-700"},"Durao (minutos)",-1)),U(h("input",{type:"text","onUpdate:modelValue":t[15]||(t[15]=d=>i.form.duration=d),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.form.duration]])]),h("div",null,[t[37]||(t[37]=h("label",{class:"block text-sm font-medium text-gray-700"},"Descrio",-1)),U(h("textarea",{"onUpdate:modelValue":t[16]||(t[16]=d=>i.form.description=d),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.form.description]])]),h("div",uC,[h("button",{type:"button",onClick:t[17]||(t[17]=(...d)=>o.closeModal&&o.closeModal(...d)),class:"px-4 py-2 rounded border"},"Cancelar"),t[38]||(t[38]=h("button",{type:"submit",class:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700"},"Salvar",-1))])],32)]),_:1},8,["onClose"])):Y("",!0),i.showDetailsModal?(k(),me(l,{key:1,onClose:o.closeDetails},{default:ft(()=>[t[45]||(t[45]=h("h3",{class:"text-lg font-semibold mb-4"},"Detalhes do Agendamento",-1)),i.selectedAppointment?(k(),M("div",dC,[h("p",null,[t[39]||(t[39]=h("strong",null,"Data:",-1)),at(" "+T(i.selectedAppointment.date),1)]),h("p",null,[t[40]||(t[40]=h("strong",null,"Hora:",-1)),at(" "+T(i.selectedAppointment.time),1)]),h("p",null,[t[41]||(t[41]=h("strong",null,"Cliente:",-1)),at(" "+T(o.getClientName(i.selectedAppointment.client_id)),1)]),h("p",null,[t[42]||(t[42]=h("strong",null,"Servio:",-1)),at(" "+T(o.getServiceName(i.selectedAppointment.service_id)),1)]),h("p",null,[t[43]||(t[43]=h("strong",null,"Durao:",-1)),at(" "+T(i.selectedAppointment.duration),1)]),h("p",null,[t[44]||(t[44]=h("strong",null,"Descrio:",-1)),at(" "+T(i.selectedAppointment.description),1)])])):Y("",!0),h("div",hC,[h("button",{onClick:t[19]||(t[19]=(...d)=>o.closeDetails&&o.closeDetails(...d)),class:"px-4 py-2 rounded border"},"Fechar")])]),_:1,__:[45]},8,["onClose"])):Y("",!0),U(h("div",fC,[t[53]||(t[53]=h("h3",{class:"text-lg font-medium mb-4"},"Agendamentos",-1)),h("div",pC,[h("table",gC,[h("thead",mC,[h("tr",null,[h("th",{onClick:t[20]||(t[20]=d=>o.sortBy("datetime")),class:"px-4 py-2 font-medium text-gray-700 cursor-pointer"},[t[46]||(t[46]=at(" Data/Hora ")),i.sortColumn==="datetime"?(k(),M("span",bC,T(i.sortAsc?"":""),1)):Y("",!0)]),h("th",{onClick:t[21]||(t[21]=d=>o.sortBy("client")),class:"px-4 py-2 font-medium text-gray-700 cursor-pointer"},[t[47]||(t[47]=at(" Cliente ")),i.sortColumn==="client"?(k(),M("span",yC,T(i.sortAsc?"":""),1)):Y("",!0)]),h("th",{onClick:t[22]||(t[22]=d=>o.sortBy("service")),class:"px-4 py-2 font-medium text-gray-700 cursor-pointer"},[t[48]||(t[48]=at(" Servio ")),i.sortColumn==="service"?(k(),M("span",xC,T(i.sortAsc?"":""),1)):Y("",!0)]),h("th",{onClick:t[23]||(t[23]=d=>o.sortBy("duration")),class:"px-4 py-2 font-medium text-gray-700 cursor-pointer"},[t[49]||(t[49]=at(" Durao ")),i.sortColumn==="duration"?(k(),M("span",_C,T(i.sortAsc?"":""),1)):Y("",!0)]),h("th",{onClick:t[24]||(t[24]=d=>o.sortBy("description")),class:"px-4 py-2 font-medium text-gray-700 cursor-pointer"},[t[50]||(t[50]=at(" Descrio ")),i.sortColumn==="description"?(k(),M("span",vC,T(i.sortAsc?"":""),1)):Y("",!0)]),t[51]||(t[51]=h("th",{class:"px-4 py-2"},null,-1))])]),h("tbody",null,[(k(!0),M(nt,null,Mt(o.processedAppointments,d=>(k(),M("tr",{key:d.id,class:"border-b last:border-b-0"},[h("td",wC,T(d.date)+" "+T(d.time),1),h("td",kC,T(o.getClientName(d.client_id)),1),h("td",SC,T(o.getServiceName(d.service_id)),1),h("td",CC,T(d.duration),1),h("td",MC,T(d.description),1),h("td",PC,[h("button",{onClick:f=>o.openModal(d),class:"text-blue-600 hover:underline"},"Editar",8,AC),h("button",{onClick:f=>o.handleDeleteAppointment(d.id),class:"text-red-600 hover:underline ml-2"},"Excluir",8,OC)])]))),128)),o.processedAppointments.length===0?(k(),M("tr",TC,t[52]||(t[52]=[h("td",{colspan:"6",class:"px-4 py-6 text-center text-gray-500"},"Nenhum agendamento encontrado",-1)]))):Y("",!0)])])])],512),[[Tr,i.viewMode==="list"]]),U(h("div",EC,[t[54]||(t[54]=h("h3",{class:"text-lg font-medium mb-4"},"Calendrio",-1)),F(c,{appointments:i.appointments,getClientName:o.getClientName},null,8,["appointments","getClientName"])],512),[[Tr,i.viewMode==="calendar"]]),U(h("div",DC,[t[55]||(t[55]=h("h3",{class:"text-lg font-medium mb-4"},"Semana",-1)),F(u,{appointments:i.appointments,getClientName:o.getClientName,onSelect:o.openDetails},null,8,["appointments","getClientName","onSelect"])],512),[[Tr,i.viewMode==="week"]])])])])}const IC=xt(X2,[["render",RC]]),LC={name:"Servicos",components:{Sidebar:Ne,HeaderUser:Be,Modal:ln},data(){return{userId:null,showModal:!1,editingId:null,search:"",sidebarOpen:!0,form:{name:"",description:"",duration:"",price:""},services:[],page:1,pageSize:10}},methods:{openModal(e){e?(this.editingId=e.id,this.form={name:e.name,description:e.description,duration:e.duration,price:e.price}):(this.editingId=null,this.form={name:"",description:"",duration:"",price:""}),this.showModal=!0},closeModal(){this.showModal=!1,this.form={name:"",description:"",duration:"",price:""},this.editingId=null},async handleSaveService(){let e,t;if(this.editingId?{data:e,error:t}=await W.from("services").update({name:this.form.name,description:this.form.description,duration:this.form.duration,price:parseFloat(this.form.price)}).eq("id",this.editingId).select().single():{data:e,error:t}=await W.from("services").insert({name:this.form.name,description:this.form.description,duration:this.form.duration,price:parseFloat(this.form.price),user_id:this.userId}).select().single(),t)alert("Erro ao salvar servio: "+t.message);else{if(this.editingId){const s=this.services.findIndex(n=>n.id===this.editingId);s!==-1&&(this.services[s]=e)}else this.services.push(e);this.closeModal()}},async handleDeleteService(e){if(!confirm("Tem certeza que deseja excluir este servio?"))return;const{error:s}=await W.from("services").delete().eq("id",e);s?alert("Erro ao excluir servio: "+s.message):this.services=this.services.filter(n=>n.id!==e)},nextPage(){this.page<this.totalPages&&this.page++},prevPage(){this.page>1&&this.page--},formatPrice(e){return e==null||e===""?"":Number(e).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}},computed:{filteredServices(){const e=this.search.toLowerCase();return this.services.filter(t=>t.name.toLowerCase().includes(e)||(t.description||"").toLowerCase().includes(e)||(t.duration||"").toLowerCase().includes(e)||t.price!==null&&t.price.toString().includes(e))},paginatedServices(){const e=(this.page-1)*this.pageSize;return this.filteredServices.slice(e,e+this.pageSize)},totalPages(){return Math.max(1,Math.ceil(this.filteredServices.length/this.pageSize))}},watch:{search(){this.page=1}},async mounted(){const{data:{user:e}}=await W.auth.getUser();if(!e){this.$router.push("/login");return}this.userId=e.id;const{data:t}=await W.from("services").select().eq("user_id",this.userId);t&&(this.services=t)}},jC={class:"min-h-screen flex bg-gray-100 relative"},FC={class:"flex-1 p-4 md:p-8 space-y-6"},$C={key:0,class:"flex items-center mb-4"},NC={class:"bg-white p-6 rounded-lg shadow"},BC={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 space-y-4 sm:space-y-0"},UC={class:"flex flex-col sm:flex-row items-stretch sm:items-center w-full sm:w-auto space-y-2 sm:space-y-0 sm:space-x-3"},VC={class:"overflow-x-auto"},zC={class:"min-w-full text-left"},HC={class:"px-4 py-2"},WC={class:"px-4 py-2"},qC={class:"px-4 py-2"},KC={class:"px-4 py-2"},GC={class:"px-4 py-2 text-right space-x-2"},YC=["onClick"],JC=["onClick"],XC={key:0},QC={class:"mt-4 flex justify-between items-center"},ZC=["disabled"],tM={class:"text-sm"},eM=["disabled"],sM={class:"text-lg font-semibold mb-4"},nM={class:"flex justify-end space-x-2"};function iM(e,t,s,n,i,o){const r=X("Sidebar"),a=X("HeaderUser"),l=X("Modal");return k(),M("div",jC,[F(r,{"is-open":i.sidebarOpen,onClose:t[0]||(t[0]=c=>i.sidebarOpen=!1)},null,8,["is-open"]),h("main",FC,[i.sidebarOpen?Y("",!0):(k(),M("div",$C,[h("button",{onClick:t[1]||(t[1]=c=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},t[12]||(t[12]=[h("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),F(a,{title:"Servios"}),h("section",NC,[h("div",BC,[t[13]||(t[13]=h("h3",{class:"text-lg font-medium"},"Servios cadastrados",-1)),h("div",UC,[U(h("input",{"onUpdate:modelValue":t[2]||(t[2]=c=>i.search=c),type:"text",placeholder:"Buscar...",class:"border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 w-full sm:w-64"},null,512),[[K,i.search]]),h("button",{onClick:t[3]||(t[3]=c=>o.openModal()),class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 w-full sm:w-auto"}," Novo Servio ")])]),h("div",VC,[h("table",zC,[t[15]||(t[15]=h("thead",{class:"bg-gray-50"},[h("tr",null,[h("th",{class:"px-4 py-2 font-medium text-gray-700"},"Nome"),h("th",{class:"px-4 py-2 font-medium text-gray-700"},"Descrio"),h("th",{class:"px-4 py-2 font-medium text-gray-700"},"Durao"),h("th",{class:"px-4 py-2 font-medium text-gray-700"},"Valor"),h("th",{class:"px-4 py-2"})])],-1)),h("tbody",null,[(k(!0),M(nt,null,Mt(o.paginatedServices,c=>(k(),M("tr",{key:c.id,class:"border-b last:border-b-0"},[h("td",HC,T(c.name),1),h("td",WC,T(c.description),1),h("td",qC,T(c.duration),1),h("td",KC,T(o.formatPrice(c.price)),1),h("td",GC,[h("button",{onClick:u=>o.openModal(c),class:"text-blue-600 hover:underline"}," Editar ",8,YC),h("button",{onClick:u=>o.handleDeleteService(c.id),class:"text-red-600 hover:underline"}," Excluir ",8,JC)])]))),128)),o.filteredServices.length===0?(k(),M("tr",XC,t[14]||(t[14]=[h("td",{colspan:"5",class:"px-4 py-6 text-center text-gray-500"}," Nenhum servio encontrado ",-1)]))):Y("",!0)])]),h("div",QC,[h("button",{class:"px-3 py-1 border rounded",onClick:t[4]||(t[4]=(...c)=>o.prevPage&&o.prevPage(...c)),disabled:i.page===1}," Anterior ",8,ZC),h("span",tM,"Pgina "+T(i.page)+" de "+T(o.totalPages),1),h("button",{class:"px-3 py-1 border rounded",onClick:t[5]||(t[5]=(...c)=>o.nextPage&&o.nextPage(...c)),disabled:i.page===o.totalPages}," Prxima ",8,eM)])])]),i.showModal?(k(),me(l,{key:1,onClose:o.closeModal},{default:ft(()=>[h("h3",sM,T(i.editingId?"Editar Servio":"Adicionar Servio"),1),h("form",{onSubmit:t[11]||(t[11]=ce((...c)=>o.handleSaveService&&o.handleSaveService(...c),["prevent"])),class:"space-y-6"},[h("div",null,[t[16]||(t[16]=h("label",{class:"block text-sm font-medium text-gray-700"},"Nome",-1)),U(h("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=c=>i.form.name=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.form.name]])]),h("div",null,[t[17]||(t[17]=h("label",{class:"block text-sm font-medium text-gray-700"},"Descrio",-1)),U(h("textarea",{"onUpdate:modelValue":t[7]||(t[7]=c=>i.form.description=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.form.description]])]),h("div",null,[t[18]||(t[18]=h("label",{class:"block text-sm font-medium text-gray-700"},"Tempo de durao",-1)),U(h("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=c=>i.form.duration=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.form.duration]])]),h("div",null,[t[19]||(t[19]=h("label",{class:"block text-sm font-medium text-gray-700"},"Valor",-1)),U(h("input",{type:"number",step:"0.01","onUpdate:modelValue":t[9]||(t[9]=c=>i.form.price=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.form.price]])]),h("div",nM,[h("button",{type:"button",onClick:t[10]||(t[10]=(...c)=>o.closeModal&&o.closeModal(...c)),class:"px-4 py-2 rounded border"},"Cancelar"),t[20]||(t[20]=h("button",{type:"submit",class:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700"},"Salvar",-1))])],32)]),_:1},8,["onClose"])):Y("",!0)])])}const oM=xt(LC,[["render",iM]]),rM={name:"Usuarios",components:{Sidebar:Ne,HeaderUser:Be},data(){return{form:{email:"",password:""},sidebarOpen:!0,userId:null,successMessage:"",errorMessage:"",users:[],search:""}},methods:{async handleAddUser(){this.successMessage="",this.errorMessage="";const{data:{user:e}}=await W.auth.getUser(),{data:{session:t}}=await W.auth.getSession();let s=null;if(e){const{data:o}=await W.from("profiles").select("*").eq("id",e.id).single();s=o}const{data:n,error:i}=await W.auth.signUp({email:this.form.email,password:this.form.password});t&&await W.auth.setSession(t),i?this.errorMessage="Erro ao cadastrar usurio: "+i.message:(n!=null&&n.user&&s&&await W.from("profiles").insert({id:n.user.id,business_name:s.business_name,description:s.description,phone:s.phone,whatsapp:s.whatsapp,email:s.email,address:s.address,instagram:s.instagram,facebook:s.facebook,youtube:s.youtube,x:s.x,slug:s.slug}),this.successMessage="Usurio cadastrado! Verifique o e-mail para ativar a conta.",this.form={email:"",password:""},await this.fetchUsers())},async fetchUsers(){const{data:e}=await W.from("profiles").select("slug").eq("id",this.userId).single();if(e){const{data:t}=await W.from("profiles").select("id, email").eq("slug",e.slug);this.users=t||[]}}},computed:{filteredUsers(){const e=this.search.toLowerCase();return this.users.filter(t=>t.id.toLowerCase().includes(e)||(t.email||"").toLowerCase().includes(e))}},async mounted(){const{data:{user:e}}=await W.auth.getUser();if(!e){this.$router.push("/login");return}this.userId=e.id,await this.fetchUsers()}},aM={class:"min-h-screen flex bg-gray-100 relative"},lM={class:"flex-1 p-8 space-y-6"},cM={key:0,class:"flex items-center mb-4"},uM={class:"bg-white p-6 rounded-lg shadow"},dM={key:0,class:"text-green-600 mt-4"},hM={key:1,class:"text-red-600 mt-4"},fM={class:"bg-white p-6 rounded-lg shadow"},pM={class:"flex justify-between items-center mb-4"},gM={class:"overflow-x-auto"},mM={class:"min-w-full text-left"},bM={class:"px-4 py-2"},yM={class:"px-4 py-2"},xM={key:0};function _M(e,t,s,n,i,o){const r=X("Sidebar"),a=X("HeaderUser");return k(),M("div",aM,[F(r,{"is-open":i.sidebarOpen,onClose:t[0]||(t[0]=l=>i.sidebarOpen=!1)},null,8,["is-open"]),h("main",lM,[i.sidebarOpen?Y("",!0):(k(),M("div",cM,[h("button",{onClick:t[1]||(t[1]=l=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},t[6]||(t[6]=[h("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),F(a,{title:"Usurios"}),h("section",uM,[t[10]||(t[10]=h("h3",{class:"text-lg font-medium mb-4"},"Cadastrar novo usurio",-1)),h("form",{onSubmit:t[4]||(t[4]=ce((...l)=>o.handleAddUser&&o.handleAddUser(...l),["prevent"])),class:"space-y-4"},[h("div",null,[t[7]||(t[7]=h("label",{class:"block text-sm font-medium text-gray-700"},"E-mail",-1)),U(h("input",{type:"email","onUpdate:modelValue":t[2]||(t[2]=l=>i.form.email=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.form.email]])]),h("div",null,[t[8]||(t[8]=h("label",{class:"block text-sm font-medium text-gray-700"},"Senha",-1)),U(h("input",{type:"password","onUpdate:modelValue":t[3]||(t[3]=l=>i.form.password=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.form.password]])]),t[9]||(t[9]=h("div",{class:"flex justify-end"},[h("button",{type:"submit",class:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700"},"Cadastrar")],-1))],32),i.successMessage?(k(),M("p",dM,T(i.successMessage),1)):Y("",!0),i.errorMessage?(k(),M("p",hM,T(i.errorMessage),1)):Y("",!0)]),h("section",fM,[h("div",pM,[t[11]||(t[11]=h("h3",{class:"text-lg font-medium"},"Usurios cadastrados",-1)),U(h("input",{"onUpdate:modelValue":t[5]||(t[5]=l=>i.search=l),type:"text",placeholder:"Buscar...",class:"border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[K,i.search]])]),h("div",gM,[h("table",mM,[t[13]||(t[13]=h("thead",{class:"bg-gray-50"},[h("tr",null,[h("th",{class:"px-4 py-2 font-medium text-gray-700"},"ID"),h("th",{class:"px-4 py-2 font-medium text-gray-700"},"E-mail")])],-1)),h("tbody",null,[(k(!0),M(nt,null,Mt(o.filteredUsers,l=>(k(),M("tr",{key:l.id,class:"border-b last:border-b-0"},[h("td",bM,T(l.id),1),h("td",yM,T(l.email),1)]))),128)),o.filteredUsers.length===0?(k(),M("tr",xM,t[12]||(t[12]=[h("td",{colspan:"2",class:"px-4 py-6 text-center text-gray-500"},"Nenhum usurio encontrado",-1)]))):Y("",!0)])])])])])])}const vM=xt(rM,[["render",_M]]),wM={name:"SearchProfiles",components:{Navbar:$n,Footer:Nn},data(){return{profiles:[],search:""}},computed:{filteredProfiles(){const e=this.search.toLowerCase();return this.profiles.filter(t=>t.business_name.toLowerCase().includes(e))}},async mounted(){const{data:e}=await W.from("profiles").select("id, business_name, description, slug, area_atuacao");e&&(this.profiles=e)}},kM={class:"min-h-screen bg-gradient-to-b from-white to-blue-50 py-10"},SM={class:"max-w-2xl mx-auto px-4"},CM={class:"mb-6 text-center"},MM={class:"space-y-4"},PM={class:"text-xl font-semibold text-blue-600"},AM={key:0,class:"text-sm text-gray-500"},OM={class:"text-gray-700 mb-2"},TM={key:0,class:"text-center text-gray-500 py-6"};function EM(e,t,s,n,i,o){const r=X("Navbar"),a=X("router-link"),l=X("Footer");return k(),M(nt,null,[F(r),h("div",kM,[h("div",SM,[h("div",CM,[t[1]||(t[1]=h("h1",{class:"text-3xl font-extrabold text-blue-700 mb-4"},"Buscar perfis",-1)),U(h("input",{"onUpdate:modelValue":t[0]||(t[0]=c=>i.search=c),type:"text",placeholder:"Digite o nome do estabelecimento",class:"w-full px-4 py-2 border rounded-md"},null,512),[[K,i.search]])]),h("ul",MM,[(k(!0),M(nt,null,Mt(o.filteredProfiles,c=>(k(),M("li",{key:c.id,class:"bg-white p-4 rounded-md shadow"},[h("h2",PM,T(c.business_name),1),c.area_atuacao?(k(),M("p",AM,T(c.area_atuacao),1)):Y("",!0),h("p",OM,T(c.description),1),F(a,{to:"/"+c.slug,class:"text-blue-600 hover:underline"},{default:ft(()=>t[2]||(t[2]=[at(" Ver perfil ")])),_:2,__:[2]},1032,["to"])]))),128)),o.filteredProfiles.length===0?(k(),M("li",TM," Nenhum resultado encontrado ")):Y("",!0)])])]),F(l)],64)}const DM=xt(wM,[["render",EM]]),RM="/icons/whatsapp.svg",IM={name:"PublicPage",data(){return{profile:null,services:[]}},computed:{whatsappLink(){var s;return`https://wa.me/${(((s=this.profile)==null?void 0:s.whatsapp)||"").replace(/\D/g,"")}`}},methods:{formatPrice(e){return e==null||e===""?"":Number(e).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}},async mounted(){const e=this.$route.params.slug,{data:t}=await W.from("profiles").select("*").eq("slug",e).single();if(t){this.profile=t;const{data:s}=await W.from("services").select().eq("user_id",t.id);this.services=s||[]}}},LM={class:"min-h-screen flex flex-col bg-white"},jM={key:0,class:"flex-1"},FM={class:"bg-blue-600 text-white py-12"},$M={class:"max-w-5xl mx-auto px-4 text-center space-y-4"},NM=["src"],BM={class:"text-4xl font-bold"},UM={key:0,class:"text-sm"},VM={class:"text-lg"},zM={class:"max-w-5xl mx-auto px-4 py-12 space-y-16"},HM={key:0,class:"grid gap-6 md:grid-cols-2"},WM={class:"text-lg font-medium text-blue-700"},qM={class:"text-sm text-gray-600"},KM={class:"text-sm text-gray-500 mt-1"},GM={class:"text-sm text-gray-500"},YM={key:1,class:"text-gray-500"},JM={class:"space-y-1 text-gray-700"},XM=["href"],QM={key:2,class:"flex-1 flex items-center justify-center text-gray-500"},ZM={key:3,class:"bg-gray-100 py-6"},tP={class:"max-w-5xl mx-auto px-4 text-center space-y-2"},eP={class:"space-x-4 text-blue-600"},sP=["href"],nP=["href"],iP=["href"],oP=["href"],rP={class:"text-sm text-gray-500"};function aP(e,t,s,n,i,o){return k(),M("div",LM,[i.profile?(k(),M("section",jM,[h("div",FM,[h("div",$M,[h("img",{src:i.profile.image_url||"/hero-illustration.png",alt:"Banner",class:"w-32 h-32 mx-auto rounded-full shadow-lg"},null,8,NM),h("h1",BM,T(i.profile.business_name),1),i.profile.area_atuacao?(k(),M("p",UM,T(i.profile.area_atuacao),1)):Y("",!0),h("p",VM,T(i.profile.description),1)])]),h("div",zM,[h("div",null,[t[0]||(t[0]=h("h2",{class:"text-2xl font-semibold text-blue-600 mb-4"},"Servios",-1)),i.services.length?(k(),M("ul",HM,[(k(!0),M(nt,null,Mt(i.services,r=>(k(),M("li",{key:r.id,class:"p-4 bg-gray-50 border rounded-lg shadow"},[h("h3",WM,T(r.name),1),h("p",qM,T(r.description),1),h("p",KM,"Durao: "+T(r.duration),1),h("p",GM,"Valor: "+T(o.formatPrice(r.price)),1)]))),128))])):(k(),M("p",YM,"Nenhum servio cadastrado."))]),h("div",null,[t[5]||(t[5]=h("h2",{class:"text-2xl font-semibold text-blue-600 mb-4"},"Contato",-1)),h("ul",JM,[h("li",null,[t[1]||(t[1]=h("strong",null,"Telefone:",-1)),at(" "+T(i.profile.phone),1)]),h("li",null,[t[2]||(t[2]=h("strong",null,"WhatsApp:",-1)),at(" "+T(i.profile.whatsapp),1)]),h("li",null,[t[3]||(t[3]=h("strong",null,"Email:",-1)),at(" "+T(i.profile.email),1)]),h("li",null,[t[4]||(t[4]=h("strong",null,"Endereo:",-1)),at(" "+T(i.profile.address),1)])])])])])):Y("",!0),i.profile&&i.profile.whatsapp?(k(),M("a",{key:1,href:o.whatsappLink,target:"_blank",rel:"noopener",class:"fixed bottom-4 right-4 bg-green-500 hover:bg-green-600 text-white p-4 rounded-full shadow-lg"},t[6]||(t[6]=[h("img",{src:RM,alt:"WhatsApp",class:"w-6 h-6"},null,-1)]),8,XM)):(k(),M("div",QM,t[7]||(t[7]=[h("p",null,"Carregando perfil...",-1)]))),i.profile?(k(),M("footer",ZM,[h("div",tP,[h("div",eP,[i.profile.instagram?(k(),M("a",{key:0,href:i.profile.instagram,class:"hover:underline"},"Instagram",8,sP)):Y("",!0),i.profile.facebook?(k(),M("a",{key:1,href:i.profile.facebook,class:"hover:underline"},"Facebook",8,nP)):Y("",!0),i.profile.youtube?(k(),M("a",{key:2,href:i.profile.youtube,class:"hover:underline"},"YouTube",8,iP)):Y("",!0),i.profile.x?(k(),M("a",{key:3,href:i.profile.x,class:"hover:underline"},"X (Twitter)",8,oP)):Y("",!0)]),h("p",rP," "+T(new Date().getFullYear())+" "+T(i.profile.business_name),1)])])):Y("",!0)])}const lP=xt(IM,[["render",aP]]),cP={name:"Planos",components:{Navbar:$n,Footer:Nn}},uP={class:"max-w-5xl mx-auto px-4 py-16"},dP={class:"text-center mt-8"};function hP(e,t,s,n,i,o){const r=X("Navbar"),a=X("router-link"),l=X("Footer");return k(),M(nt,null,[F(r),h("section",uP,[t[1]||(t[1]=ar('<h1 class="text-3xl font-bold text-center mb-8">Conhea nossos planos</h1><div class="overflow-x-auto"><table class="min-w-full bg-white border border-gray-200 rounded-lg"><thead><tr class="bg-gray-50 text-gray-700"><th class="px-4 py-2 text-left">Recursos</th><th class="px-4 py-2">Bsico</th><th class="px-4 py-2">Plus</th></tr></thead><tbody><tr><td class="border-t px-4 py-2 text-gray-600">Valor</td><td class="border-t px-4 py-2 text-center font-semibold">Grtis</td><td class="border-t px-4 py-2 text-center font-semibold">R$69,00</td></tr><tr class="bg-gray-50"><td class="border-t px-4 py-2 text-gray-600">Cadastro de pacientes</td><td class="border-t px-4 py-2 text-center">At 5 pacientes</td><td class="border-t px-4 py-2 text-center">Ilimitado</td></tr><tr><td class="border-t px-4 py-2 text-gray-600">Lembretes por e-mail</td><td class="border-t px-4 py-2 text-center"></td><td class="border-t px-4 py-2 text-center"></td></tr><tr class="bg-gray-50"><td class="border-t px-4 py-2 text-gray-600">Lembretes via WhatsApp</td><td class="border-t px-4 py-2 text-center line-through text-gray-400"></td><td class="border-t px-4 py-2 text-center"></td></tr><tr><td class="border-t px-4 py-2 text-gray-600">Customizao de domnio da pgina pblica</td><td class="border-t px-4 py-2 text-center line-through text-gray-400"></td><td class="border-t px-4 py-2 text-center"></td></tr><tr class="bg-gray-50"><td class="border-t px-4 py-2 text-gray-600">Pgina pblica sem banner do Agenda Zen</td><td class="border-t px-4 py-2 text-center line-through text-gray-400"></td><td class="border-t px-4 py-2 text-center"></td></tr><tr><td class="border-t px-4 py-2 text-gray-600">Gerao de recibos de atendimentos</td><td class="border-t px-4 py-2 text-center line-through text-gray-400"></td><td class="border-t px-4 py-2 text-center"></td></tr><tr class="bg-gray-50"><td class="border-t px-4 py-2 text-gray-600">Envio de recibos por e-mail automtico</td><td class="border-t px-4 py-2 text-center line-through text-gray-400"></td><td class="border-t px-4 py-2 text-center"></td></tr></tbody></table></div>',2)),h("div",dP,[F(a,{to:"/cadastro",class:"bg-blue-600 text-white px-6 py-3 rounded hover:bg-blue-700"},{default:ft(()=>t[0]||(t[0]=[at(" Contratar plano ")])),_:1,__:[0]})])]),F(l)],64)}const fP=xt(cP,[["render",hP]]),pP={name:"Salas",components:{Sidebar:Ne,HeaderUser:Be,Modal:ln},data(){return{userId:null,showModal:!1,search:"",form:{name:""},rooms:[],sidebarOpen:!0,page:1,pageSize:10}},methods:{openModal(){this.showModal=!0},closeModal(){this.showModal=!1,this.form={name:""}},async handleAddRoom(){const{data:e,error:t}=await W.from("rooms").insert({name:this.form.name,user_id:this.userId}).select().single();t?alert("Erro ao salvar sala: "+t.message):(this.rooms.push(e),this.closeModal())},async handleDeleteRoom(e){if(!confirm("Tem certeza que deseja excluir esta sala?"))return;const{error:s}=await W.from("rooms").delete().eq("id",e);s?alert("Erro ao excluir sala: "+s.message):this.rooms=this.rooms.filter(n=>n.id!==e)},nextPage(){this.page<this.totalPages&&this.page++},prevPage(){this.page>1&&this.page--}},computed:{filteredRooms(){const e=this.search.toLowerCase();return this.rooms.filter(t=>t.name.toLowerCase().includes(e))},paginatedRooms(){const e=(this.page-1)*this.pageSize;return this.filteredRooms.slice(e,e+this.pageSize)},totalPages(){return Math.max(1,Math.ceil(this.filteredRooms.length/this.pageSize))}},watch:{search(){this.page=1}},async mounted(){const{data:{user:e}}=await W.auth.getUser();if(!e){this.$router.push("/login");return}this.userId=e.id;const{data:t}=await W.from("rooms").select().eq("user_id",this.userId);t&&(this.rooms=t)}},gP={class:"min-h-screen flex bg-gray-100 relative"},mP={class:"flex-1 p-4 md:p-8 space-y-6"},bP={key:0,class:"flex items-center mb-4"},yP={class:"bg-white p-6 rounded-lg shadow"},xP={class:"flex justify-between items-center mb-4"},_P={class:"flex items-center space-x-3"},vP={class:"overflow-x-auto"},wP={class:"min-w-full text-left"},kP={class:"px-4 py-2"},SP={class:"px-4 py-2 text-right"},CP=["onClick"],MP={key:0},PP={class:"mt-4 flex justify-between items-center"},AP=["disabled"],OP={class:"text-sm"},TP=["disabled"],EP={class:"flex justify-end space-x-2"};function DP(e,t,s,n,i,o){const r=X("Sidebar"),a=X("HeaderUser"),l=X("Modal");return k(),M("div",gP,[F(r,{"is-open":i.sidebarOpen,onClose:t[0]||(t[0]=c=>i.sidebarOpen=!1)},null,8,["is-open"]),h("main",mP,[i.sidebarOpen?Y("",!0):(k(),M("div",bP,[h("button",{onClick:t[1]||(t[1]=c=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},t[9]||(t[9]=[h("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),F(a,{title:"Salas"}),h("section",yP,[h("div",xP,[t[10]||(t[10]=h("h3",{class:"text-lg font-medium"},"Salas cadastradas",-1)),h("div",_P,[U(h("input",{"onUpdate:modelValue":t[2]||(t[2]=c=>i.search=c),type:"text",placeholder:"Buscar...",class:"border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[K,i.search]]),h("button",{onClick:t[3]||(t[3]=(...c)=>o.openModal&&o.openModal(...c)),class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"}," Nova Sala ")])]),h("div",vP,[h("table",wP,[t[12]||(t[12]=h("thead",{class:"bg-gray-50"},[h("tr",null,[h("th",{class:"px-4 py-2 font-medium text-gray-700"},"Nome"),h("th",{class:"px-4 py-2"})])],-1)),h("tbody",null,[(k(!0),M(nt,null,Mt(o.paginatedRooms,c=>(k(),M("tr",{key:c.id,class:"border-b last:border-b-0"},[h("td",kP,T(c.name),1),h("td",SP,[h("button",{onClick:u=>o.handleDeleteRoom(c.id),class:"text-red-600 hover:underline"}," Excluir ",8,CP)])]))),128)),o.filteredRooms.length===0?(k(),M("tr",MP,t[11]||(t[11]=[h("td",{colspan:"2",class:"px-4 py-6 text-center text-gray-500"}," Nenhuma sala encontrada ",-1)]))):Y("",!0)])]),h("div",PP,[h("button",{class:"px-3 py-1 border rounded",onClick:t[4]||(t[4]=(...c)=>o.prevPage&&o.prevPage(...c)),disabled:i.page===1}," Anterior ",8,AP),h("span",OP,"Pgina "+T(i.page)+" de "+T(o.totalPages),1),h("button",{class:"px-3 py-1 border rounded",onClick:t[5]||(t[5]=(...c)=>o.nextPage&&o.nextPage(...c)),disabled:i.page===o.totalPages}," Prxima ",8,TP)])])]),i.showModal?(k(),me(l,{key:1,onClose:o.closeModal},{default:ft(()=>[t[15]||(t[15]=h("h3",{class:"text-lg font-semibold mb-4"},"Adicionar Sala",-1)),h("form",{onSubmit:t[8]||(t[8]=ce((...c)=>o.handleAddRoom&&o.handleAddRoom(...c),["prevent"])),class:"space-y-6"},[h("div",null,[t[13]||(t[13]=h("label",{class:"block text-sm font-medium text-gray-700"},"Nome",-1)),U(h("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=c=>i.form.name=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.form.name]])]),h("div",EP,[h("button",{type:"button",onClick:t[7]||(t[7]=(...c)=>o.closeModal&&o.closeModal(...c)),class:"px-4 py-2 rounded border"},"Cancelar"),t[14]||(t[14]=h("button",{type:"submit",class:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700"},"Salvar",-1))])],32)]),_:1,__:[15]},8,["onClose"])):Y("",!0)])])}const RP=xt(pP,[["render",DP]]),IP={name:"Comprovantes",components:{Sidebar:Ne,HeaderUser:Be,Modal:ln},data(){return{userId:null,sidebarOpen:!0,templates:[],receipts:[],clients:[],showGenerateModal:!1,generateForm:{clientId:"",startDate:"",endDate:"",templateId:""},receiptContent:null}},methods:{closeGenerateModal(){this.showGenerateModal=!1,this.generateForm={clientId:"",startDate:"",endDate:"",templateId:""}},getClientName(e){const t=this.clients.find(s=>s.id===e);return t?t.name:""},showReceipt(e){this.receiptContent=e},async handleGenerate(){const{data:e}=await W.from("appointments").select().eq("user_id",this.userId).eq("client_id",this.generateForm.clientId).gte("date",this.generateForm.startDate).lte("date",this.generateForm.endDate).order("date",{ascending:!0}).order("time",{ascending:!0}),t=this.templates.find(a=>a.id===this.generateForm.templateId),s=this.clients.find(a=>a.id===this.generateForm.clientId);let n=t?t.content:"";s&&(n=n.replace("{{client_name}}",s.name));const i=(e||[]).map(a=>`- ${a.date} ${a.time}`).join(`
`);n=n.replace("{{appointments}}",i);const{data:o,error:r}=await W.from("receipts").insert({user_id:this.userId,client_id:this.generateForm.clientId,template_id:this.generateForm.templateId,start_date:this.generateForm.startDate,end_date:this.generateForm.endDate,content:n}).select().single();r?alert("Erro ao gerar comprovante: "+r.message):(this.receipts.push(o),this.closeGenerateModal())}},async mounted(){const{data:{user:e}}=await W.auth.getUser();if(!e){this.$router.push("/login");return}this.userId=e.id;const{data:t}=await W.from("clients").select().eq("user_id",this.userId);t&&(this.clients=t);const{data:s}=await W.from("receipt_templates").select().eq("user_id",this.userId);s&&(this.templates=s);const{data:n}=await W.from("receipts").select().eq("user_id",this.userId).order("created_at",{ascending:!1});n&&(this.receipts=n)}},LP={class:"min-h-screen flex bg-gray-100 relative"},jP={class:"flex-1 p-4 md:p-8 space-y-6"},FP={key:0,class:"flex items-center mb-4"},$P={class:"bg-white p-6 rounded-lg shadow space-y-4"},NP={class:"flex justify-between items-center"},BP={class:"overflow-x-auto"},UP={class:"min-w-full text-left"},VP={class:"px-4 py-2"},zP={class:"px-4 py-2"},HP={class:"px-4 py-2"},WP={class:"px-4 py-2 text-right"},qP=["onClick"],KP={key:0},GP=["value"],YP={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},JP=["value"],XP={class:"flex justify-end space-x-2"},QP={class:"whitespace-pre-wrap"};function ZP(e,t,s,n,i,o){const r=X("Sidebar"),a=X("HeaderUser"),l=X("Modal");return k(),M("div",LP,[F(r,{"is-open":i.sidebarOpen,onClose:t[0]||(t[0]=c=>i.sidebarOpen=!1)},null,8,["is-open"]),h("main",jP,[i.sidebarOpen?Y("",!0):(k(),M("div",FP,[h("button",{onClick:t[1]||(t[1]=c=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},t[10]||(t[10]=[h("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),F(a,{title:"Comprovantes"}),h("section",$P,[h("div",NP,[t[11]||(t[11]=h("h3",{class:"text-lg font-medium"},"Comprovantes Gerados",-1)),h("button",{onClick:t[2]||(t[2]=c=>i.showGenerateModal=!0),class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"},"Novo Comprovante")]),h("div",BP,[h("table",UP,[t[13]||(t[13]=h("thead",{class:"bg-gray-50"},[h("tr",null,[h("th",{class:"px-4 py-2 font-medium text-gray-700"},"Cliente"),h("th",{class:"px-4 py-2 font-medium text-gray-700"},"Perodo"),h("th",{class:"px-4 py-2 font-medium text-gray-700"},"Criado em"),h("th",{class:"px-4 py-2"})])],-1)),h("tbody",null,[(k(!0),M(nt,null,Mt(i.receipts,c=>(k(),M("tr",{key:c.id,class:"border-b last:border-b-0"},[h("td",VP,T(o.getClientName(c.client_id)),1),h("td",zP,T(c.start_date)+" - "+T(c.end_date),1),h("td",HP,T(c.created_at.split("T")[0]),1),h("td",WP,[h("button",{onClick:u=>o.showReceipt(c.content),class:"text-blue-600 hover:underline"},"Ver",8,qP)])]))),128)),i.receipts.length===0?(k(),M("tr",KP,t[12]||(t[12]=[h("td",{colspan:"4",class:"px-4 py-6 text-center text-gray-500"},"Nenhum comprovante",-1)]))):Y("",!0)])])])]),i.showGenerateModal?(k(),me(l,{key:1,onClose:o.closeGenerateModal},{default:ft(()=>[t[21]||(t[21]=h("h3",{class:"text-lg font-semibold mb-4"},"Novo Comprovante",-1)),h("form",{onSubmit:t[8]||(t[8]=ce((...c)=>o.handleGenerate&&o.handleGenerate(...c),["prevent"])),class:"space-y-4"},[h("div",null,[t[15]||(t[15]=h("label",{class:"block text-sm font-medium text-gray-700"},"Cliente",-1)),U(h("select",{"onUpdate:modelValue":t[3]||(t[3]=c=>i.generateForm.clientId=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},[t[14]||(t[14]=h("option",{disabled:"",value:""},"Selecione",-1)),(k(!0),M(nt,null,Mt(i.clients,c=>(k(),M("option",{key:c.id,value:c.id},T(c.name),9,GP))),128))],512),[[Ls,i.generateForm.clientId]])]),h("div",YP,[h("div",null,[t[16]||(t[16]=h("label",{class:"block text-sm font-medium text-gray-700"},"De",-1)),U(h("input",{type:"date","onUpdate:modelValue":t[4]||(t[4]=c=>i.generateForm.startDate=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.generateForm.startDate]])]),h("div",null,[t[17]||(t[17]=h("label",{class:"block text-sm font-medium text-gray-700"},"At",-1)),U(h("input",{type:"date","onUpdate:modelValue":t[5]||(t[5]=c=>i.generateForm.endDate=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.generateForm.endDate]])])]),h("div",null,[t[19]||(t[19]=h("label",{class:"block text-sm font-medium text-gray-700"},"Template",-1)),U(h("select",{"onUpdate:modelValue":t[6]||(t[6]=c=>i.generateForm.templateId=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},[t[18]||(t[18]=h("option",{disabled:"",value:""},"Selecione",-1)),(k(!0),M(nt,null,Mt(i.templates,c=>(k(),M("option",{key:c.id,value:c.id},T(c.name),9,JP))),128))],512),[[Ls,i.generateForm.templateId]])]),h("div",XP,[h("button",{type:"button",onClick:t[7]||(t[7]=(...c)=>o.closeGenerateModal&&o.closeGenerateModal(...c)),class:"px-4 py-2 rounded border"},"Cancelar"),t[20]||(t[20]=h("button",{type:"submit",class:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700"},"Gerar",-1))])],32)]),_:1,__:[21]},8,["onClose"])):Y("",!0),i.receiptContent?(k(),me(l,{key:2,onClose:t[9]||(t[9]=c=>i.receiptContent=null)},{default:ft(()=>[t[22]||(t[22]=h("h3",{class:"text-lg font-semibold mb-4"},"Comprovante",-1)),h("pre",QP,T(i.receiptContent),1)]),_:1,__:[22]})):Y("",!0)])])}const tA=xt(IP,[["render",ZP]]),eA={name:"Templates",components:{Sidebar:Ne,HeaderUser:Be,Modal:ln},data(){return{userId:null,sidebarOpen:!0,templates:[],showTemplateModal:!1,templateForm:{name:"",content:""}}},methods:{closeTemplateModal(){this.showTemplateModal=!1,this.templateForm={name:"",content:""}},async handleAddTemplate(){const{data:e,error:t}=await W.from("receipt_templates").insert({name:this.templateForm.name,content:this.templateForm.content,user_id:this.userId}).select().single();t?alert("Erro ao salvar template: "+t.message):(this.templates.push(e),this.closeTemplateModal())}},async mounted(){const{data:{user:e}}=await W.auth.getUser();if(!e){this.$router.push("/login");return}this.userId=e.id;const{data:t}=await W.from("receipt_templates").select().eq("user_id",this.userId);t&&(this.templates=t)}},sA={class:"min-h-screen flex bg-gray-100 relative"},nA={class:"flex-1 p-4 md:p-8 space-y-6"},iA={key:0,class:"flex items-center mb-4"},oA={class:"bg-white p-6 rounded-lg shadow space-y-4"},rA={class:"flex justify-between items-center"},aA={class:"overflow-x-auto"},lA={class:"min-w-full text-left"},cA={class:"px-4 py-2"},uA={key:0},dA={class:"flex justify-end space-x-2"};function hA(e,t,s,n,i,o){const r=X("Sidebar"),a=X("HeaderUser"),l=X("Modal");return k(),M("div",sA,[F(r,{"is-open":i.sidebarOpen,onClose:t[0]||(t[0]=c=>i.sidebarOpen=!1)},null,8,["is-open"]),h("main",nA,[i.sidebarOpen?Y("",!0):(k(),M("div",iA,[h("button",{onClick:t[1]||(t[1]=c=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},t[7]||(t[7]=[h("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),F(a,{title:"Templates"}),h("section",oA,[h("div",rA,[t[8]||(t[8]=h("h3",{class:"text-lg font-medium"},"Templates",-1)),h("button",{onClick:t[2]||(t[2]=c=>i.showTemplateModal=!0),class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"},"Novo Template")]),h("div",aA,[h("table",lA,[t[10]||(t[10]=h("thead",{class:"bg-gray-50"},[h("tr",null,[h("th",{class:"px-4 py-2 font-medium text-gray-700"},"Nome")])],-1)),h("tbody",null,[(k(!0),M(nt,null,Mt(i.templates,c=>(k(),M("tr",{key:c.id,class:"border-b last:border-b-0"},[h("td",cA,T(c.name),1)]))),128)),i.templates.length===0?(k(),M("tr",uA,t[9]||(t[9]=[h("td",{class:"px-4 py-6 text-center text-gray-500"},"Nenhum template",-1)]))):Y("",!0)])])])]),i.showTemplateModal?(k(),me(l,{key:1,onClose:o.closeTemplateModal},{default:ft(()=>[t[15]||(t[15]=h("h3",{class:"text-lg font-semibold mb-4"},"Novo Template",-1)),h("form",{onSubmit:t[6]||(t[6]=ce((...c)=>o.handleAddTemplate&&o.handleAddTemplate(...c),["prevent"])),class:"space-y-4"},[h("div",null,[t[11]||(t[11]=h("label",{class:"block text-sm font-medium text-gray-700"},"Nome",-1)),U(h("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=c=>i.templateForm.name=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.templateForm.name]])]),h("div",null,[t[12]||(t[12]=h("label",{class:"block text-sm font-medium text-gray-700"},"Contedo",-1)),U(h("textarea",{"onUpdate:modelValue":t[4]||(t[4]=c=>i.templateForm.content=c),class:"w-full mt-1 px-4 py-2 border rounded-md",rows:"4"},null,512),[[K,i.templateForm.content]]),t[13]||(t[13]=h("p",{class:"text-sm text-gray-500 mt-1"},"Use {{client_name}} e {{appointments}}",-1))]),h("div",dA,[h("button",{type:"button",onClick:t[5]||(t[5]=(...c)=>o.closeTemplateModal&&o.closeTemplateModal(...c)),class:"px-4 py-2 rounded border"},"Cancelar"),t[14]||(t[14]=h("button",{type:"submit",class:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700"},"Salvar",-1))])],32)]),_:1,__:[15]},8,["onClose"])):Y("",!0)])])}const fA=xt(eA,[["render",hA]]),pA={name:"Contato",components:{Navbar:$n,Footer:Nn},data(){return{nome:"",email:"",mensagem:"",sucesso:!1,erro:""}},methods:{async enviar(){this.sucesso=!1,this.erro="";const{error:e}=await W.from("contacts").insert({name:this.nome,email:this.email,message:this.mensagem});e?this.erro="Erro ao enviar mensagem: "+e.message:(this.sucesso=!0,this.nome="",this.email="",this.mensagem="")}}},gA={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 px-4"},mA={class:"bg-white p-10 rounded-2xl shadow-xl w-full max-w-lg"},bA={key:0,class:"mt-4 text-green-600 text-center"},yA={key:1,class:"mt-4 text-red-600 text-center"};function xA(e,t,s,n,i,o){const r=X("Navbar"),a=X("Footer");return k(),M(nt,null,[F(r),h("section",gA,[h("div",mA,[t[8]||(t[8]=h("div",{class:"mb-8 text-center"},[h("h2",{class:"text-3xl font-extrabold text-blue-700"},"Fale conosco"),h("p",{class:"text-gray-500"},"Envie sua mensagem e entraremos em contato")],-1)),h("form",{onSubmit:t[3]||(t[3]=ce((...l)=>o.enviar&&o.enviar(...l),["prevent"])),class:"space-y-5"},[h("div",null,[t[4]||(t[4]=h("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"nome"},"Nome",-1)),U(h("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>i.nome=l),id:"nome",type:"text",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[K,i.nome]])]),h("div",null,[t[5]||(t[5]=h("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"email"},"E-mail",-1)),U(h("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>i.email=l),id:"email",type:"email",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[K,i.email]])]),h("div",null,[t[6]||(t[6]=h("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"mensagem"},"Mensagem",-1)),U(h("textarea",{"onUpdate:modelValue":t[2]||(t[2]=l=>i.mensagem=l),id:"mensagem",required:"",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"4"},null,512),[[K,i.mensagem]])]),t[7]||(t[7]=h("button",{type:"submit",class:"w-full bg-blue-600 text-white font-semibold py-3 rounded-lg hover:bg-blue-700 transition duration-200"},"Enviar",-1))],32),i.sucesso?(k(),M("p",bA,"Mensagem enviada com sucesso!")):Y("",!0),i.erro?(k(),M("p",yA,T(i.erro),1)):Y("",!0)])]),F(a)],64)}const _A=xt(pA,[["render",xA]]),vA={name:"MinhaAssinatura",components:{Sidebar:Ne,HeaderUser:Be},data(){return{sidebarOpen:!0}}},wA={class:"min-h-screen flex bg-gray-100 relative"},kA={class:"flex-1 p-4 md:p-8 space-y-6"},SA={key:0,class:"flex items-center mb-4"};function CA(e,t,s,n,i,o){const r=X("Sidebar"),a=X("HeaderUser");return k(),M("div",wA,[F(r,{"is-open":i.sidebarOpen,onClose:t[0]||(t[0]=l=>i.sidebarOpen=!1)},null,8,["is-open"]),h("main",kA,[i.sidebarOpen?Y("",!0):(k(),M("div",SA,[h("button",{onClick:t[1]||(t[1]=l=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},t[2]||(t[2]=[h("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),F(a,{title:"Minha Assinatura"}),t[3]||(t[3]=ar('<section class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class="bg-white p-6 rounded-lg shadow space-y-4"><h3 class="text-xl font-semibold text-center">Bsico</h3><p class="text-center text-2xl font-bold text-blue-600">Grtis</p><ul class="space-y-2"><li class="flex items-start"><span class="mr-2"></span>Cadastro de at 5 pacientes</li><li class="flex items-start"><span class="mr-2"></span>Lembretes por e-mail</li><li class="flex items-start line-through text-gray-400"><span class="mr-2"></span>Lembretes via WhatsApp</li><li class="flex items-start line-through text-gray-400"><span class="mr-2"></span>Customizao de domnio da pgina pblica</li><li class="flex items-start line-through text-gray-400"><span class="mr-2"></span>Pgina pblica sem banner do Agenda Zen</li><li class="flex items-start line-through text-gray-400"><span class="mr-2"></span>Gerao de recibos de atendimentos</li><li class="flex items-start line-through text-gray-400"><span class="mr-2"></span>Envio de recibos por e-mail automtico</li></ul><button class="mt-4 bg-blue-600 text-white px-4 py-2 rounded w-full hover:bg-blue-700">Escolher</button></div><div class="bg-white p-6 rounded-lg shadow space-y-4"><h3 class="text-xl font-semibold text-center">Plus</h3><p class="text-center text-2xl font-bold text-blue-600">R$69,00</p><ul class="space-y-2"><li class="flex items-start"><span class="mr-2"></span>Cadastro de pacientes ilimitado</li><li class="flex items-start"><span class="mr-2"></span>Lembretes por e-mail</li><li class="flex items-start"><span class="mr-2"></span>Lembretes via WhatsApp</li><li class="flex items-start"><span class="mr-2"></span>Customizao de domnio da pgina pblica</li><li class="flex items-start"><span class="mr-2"></span>Pgina pblica sem banner do Agenda Zen</li><li class="flex items-start"><span class="mr-2"></span>Gerao de recibos de atendimentos</li><li class="flex items-start"><span class="mr-2"></span>Envio de recibos por e-mail automtico</li></ul><button class="mt-4 bg-blue-600 text-white px-4 py-2 rounded w-full hover:bg-blue-700">Escolher</button></div></section>',1))])])}const MA=xt(vA,[["render",CA]]),PA={name:"Faturamento",components:{Sidebar:Ne,HeaderUser:Be},data(){return{userId:null,sidebarOpen:!0,services:[],selectedServices:[],filterStart:"",filterEnd:"",groupBy:"mes",revenueData:[],chart:null}},methods:{async fetchServices(){const{data:e}=await W.from("services").select().eq("user_id",this.userId);this.services=e||[],this.selectedServices=this.services.map(t=>t.id)},async fetchRevenue(){if(!this.filterStart||!this.filterEnd)return;const{data:e}=await W.from("appointments").select("date, service_id").eq("user_id",this.userId).gte("date",this.filterStart).lte("date",this.filterEnd),t=e||[],s={};this.services.forEach(o=>{s[o.id]=Number(o.price)||0});const n=this.selectedServices.length?t.filter(o=>this.selectedServices.includes(o.service_id)):t,i={};n.forEach(o=>{const r=new Date(o.date);let a="";if(this.groupBy==="dia")a=r.toISOString().split("T")[0];else if(this.groupBy==="semana"){const c=this.getWeekNumber(r);a=`${r.getFullYear()}-W${c}`}else a=`${r.getFullYear()}-${(r.getMonth()+1).toString().padStart(2,"0")}`;const l=s[o.service_id]||0;i[a]=(i[a]||0)+l}),this.revenueData=Object.keys(i).sort().map(o=>({label:o,total:i[o]})),this.renderChart()},getWeekNumber(e){const t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())),s=t.getUTCDay()||7;t.setUTCDate(t.getUTCDate()+4-s);const n=new Date(Date.UTC(t.getUTCFullYear(),0,1));return Math.ceil(((t-n)/864e5+1)/7)},renderChart(){const e=this.$refs.chartCanvas.getContext("2d");this.chart&&this.chart.destroy(),this.chart=new Ye(e,{type:"bar",data:{labels:this.revenueData.map(t=>t.label),datasets:[{label:"Faturamento",data:this.revenueData.map(t=>t.total),backgroundColor:"#3b82f6"}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0}}}})},formatPrice(e){return Number(e).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}},async mounted(){const{data:{user:e}}=await W.auth.getUser();if(!e){this.$router.push("/login");return}this.userId=e.id,await this.fetchServices();const t=new Date,s=new Date(t.getFullYear(),t.getMonth(),1),n=new Date(t.getFullYear(),t.getMonth()+1,0);this.filterStart=s.toISOString().split("T")[0],this.filterEnd=n.toISOString().split("T")[0]}},AA={class:"min-h-screen flex bg-gray-100 relative"},OA={class:"flex-1 p-4 md:p-8 space-y-6"},TA={key:0,class:"flex items-center mb-4"},EA={class:"bg-white p-6 rounded-lg shadow space-y-4"},DA={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},RA={class:"mt-1 space-y-1"},IA=["value"],LA={class:"flex justify-end"},jA={class:"bg-white p-6 rounded-lg shadow space-y-4"},FA={class:"overflow-x-auto"},$A={class:"min-w-full text-left"},NA={class:"px-4 py-2"},BA={class:"px-4 py-2"},UA={key:0},VA={class:"h-64"},zA={ref:"chartCanvas",class:"w-full h-full"};function HA(e,t,s,n,i,o){const r=X("Sidebar"),a=X("HeaderUser");return k(),M("div",AA,[F(r,{"is-open":i.sidebarOpen,onClose:t[0]||(t[0]=l=>i.sidebarOpen=!1)},null,8,["is-open"]),h("main",OA,[i.sidebarOpen?Y("",!0):(k(),M("div",TA,[h("button",{onClick:t[1]||(t[1]=l=>i.sidebarOpen=!0),class:"text-gray-600 focus:outline-none"},t[7]||(t[7]=[h("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[h("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)]))])),F(a,{title:"Relatrio de Faturamento"}),h("section",EA,[h("div",DA,[h("div",null,[t[8]||(t[8]=h("label",{class:"block text-sm font-medium text-gray-700"},"De",-1)),U(h("input",{type:"date","onUpdate:modelValue":t[2]||(t[2]=l=>i.filterStart=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.filterStart]])]),h("div",null,[t[9]||(t[9]=h("label",{class:"block text-sm font-medium text-gray-700"},"At",-1)),U(h("input",{type:"date","onUpdate:modelValue":t[3]||(t[3]=l=>i.filterEnd=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[K,i.filterEnd]])]),h("div",null,[t[10]||(t[10]=h("label",{class:"block text-sm font-medium text-gray-700"},"Servios",-1)),h("div",RA,[(k(!0),M(nt,null,Mt(i.services,l=>(k(),M("label",{key:l.id,class:"flex items-center space-x-2"},[U(h("input",{type:"checkbox",value:l.id,"onUpdate:modelValue":t[4]||(t[4]=c=>i.selectedServices=c)},null,8,IA),[[il,i.selectedServices]]),h("span",null,T(l.name),1)]))),128))])]),h("div",null,[t[12]||(t[12]=h("label",{class:"block text-sm font-medium text-gray-700"},"Agrupar por",-1)),U(h("select",{"onUpdate:modelValue":t[5]||(t[5]=l=>i.groupBy=l),class:"w-full mt-1 px-4 py-2 border rounded-md"},t[11]||(t[11]=[h("option",{value:"mes"},"Ms",-1),h("option",{value:"semana"},"Semana",-1),h("option",{value:"dia"},"Dia",-1)]),512),[[Ls,i.groupBy]])])]),h("div",LA,[h("button",{onClick:t[6]||(t[6]=(...l)=>o.fetchRevenue&&o.fetchRevenue(...l)),class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"},"Aplicar")])]),h("section",jA,[h("div",FA,[h("table",$A,[t[14]||(t[14]=h("thead",{class:"bg-gray-50"},[h("tr",null,[h("th",{class:"px-4 py-2 font-medium text-gray-700"},"Perodo"),h("th",{class:"px-4 py-2 font-medium text-gray-700"},"Faturamento")])],-1)),h("tbody",null,[(k(!0),M(nt,null,Mt(i.revenueData,l=>(k(),M("tr",{key:l.label,class:"border-b last:border-b-0"},[h("td",NA,T(l.label),1),h("td",BA,T(o.formatPrice(l.total)),1)]))),128)),i.revenueData.length===0?(k(),M("tr",UA,t[13]||(t[13]=[h("td",{colspan:"2",class:"px-4 py-6 text-center text-gray-500"},"Nenhum dado",-1)]))):Y("",!0)])])]),h("div",VA,[h("canvas",zA,null,512)])])])])}const WA=xt(PA,[["render",HA]]),qA=[{path:"/",name:"Home",component:n0},{path:"/cadastro",name:"Signup",component:Px},{path:"/login",name:"Login",component:Rx},{path:"/onboarding",name:"Onboarding",component:Yx},{path:"/dashboard",name:"Dashboard",component:i2},{path:"/configuracao",name:"Configuracao",component:_2},{path:"/clientes",name:"Clientes",component:z2},{path:"/servicos",name:"Servicos",component:oM},{path:"/salas",name:"Salas",component:RP},{path:"/agendamentos",name:"Agendamentos",component:IC},{path:"/comprovantes",name:"Comprovantes",component:tA},{path:"/templates",name:"Templates",component:fA},{path:"/usuarios",name:"Usuarios",component:vM},{path:"/minha-assinatura",name:"MinhaAssinatura",component:MA},{path:"/faturamento",name:"Faturamento",component:WA},{path:"/buscar",name:"SearchProfiles",component:DM},{path:"/planos",name:"Planos",component:fP},{path:"/contato",name:"Contato",component:_A},{path:"/:slug",name:"PublicPage",component:lP}],KA=Ob({history:ib(),routes:qA});bm(Mm).use(KA).mount("#app");export{YA as g};
