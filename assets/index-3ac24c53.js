(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();/**
* @vue/shared v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Lr(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const ae={},is=[],Ye=()=>{},ha=()=>!1,Pn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Nr=t=>t.startsWith("onUpdate:"),xe=Object.assign,Fr=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},pa=Object.prototype.hasOwnProperty,ne=(t,e)=>pa.call(t,e),H=Array.isArray,os=t=>Qs(t)==="[object Map]",On=t=>Qs(t)==="[object Set]",hi=t=>Qs(t)==="[object Date]",K=t=>typeof t=="function",ve=t=>typeof t=="string",Xe=t=>typeof t=="symbol",pe=t=>t!==null&&typeof t=="object",So=t=>(pe(t)||K(t))&&K(t.then)&&K(t.catch),ko=Object.prototype.toString,Qs=t=>ko.call(t),ma=t=>Qs(t).slice(8,-1),Eo=t=>Qs(t)==="[object Object]",Br=t=>ve(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,$s=Lr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Rn=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},ga=/-(\w)/g,Ke=Rn(t=>t.replace(ga,(e,s)=>s?s.toUpperCase():"")),ya=/\B([A-Z])/g,Wt=Rn(t=>t.replace(ya,"-$1").toLowerCase()),$n=Rn(t=>t.charAt(0).toUpperCase()+t.slice(1)),Qn=Rn(t=>t?`on${$n(t)}`:""),Mt=(t,e)=>!Object.is(t,e),dn=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},Co=(t,e,s,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:s})},yn=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let pi;const In=()=>pi||(pi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Hr(t){if(H(t)){const e={};for(let s=0;s<t.length;s++){const n=t[s],r=ve(n)?wa(n):Hr(n);if(r)for(const i in r)e[i]=r[i]}return e}else if(ve(t)||pe(t))return t}const _a=/;(?![^(]*\))/g,va=/:([^]+)/,ba=/\/\*[^]*?\*\//g;function wa(t){const e={};return t.replace(ba,"").split(_a).forEach(s=>{if(s){const n=s.split(va);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Vr(t){let e="";if(ve(t))e=t;else if(H(t))for(let s=0;s<t.length;s++){const n=Vr(t[s]);n&&(e+=n+" ")}else if(pe(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const xa="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Sa=Lr(xa);function To(t){return!!t||t===""}function ka(t,e){if(t.length!==e.length)return!1;let s=!0;for(let n=0;s&&n<t.length;n++)s=jn(t[n],e[n]);return s}function jn(t,e){if(t===e)return!0;let s=hi(t),n=hi(e);if(s||n)return s&&n?t.getTime()===e.getTime():!1;if(s=Xe(t),n=Xe(e),s||n)return t===e;if(s=H(t),n=H(e),s||n)return s&&n?ka(t,e):!1;if(s=pe(t),n=pe(e),s||n){if(!s||!n)return!1;const r=Object.keys(t).length,i=Object.keys(e).length;if(r!==i)return!1;for(const o in t){const l=t.hasOwnProperty(o),a=e.hasOwnProperty(o);if(l&&!a||!l&&a||!jn(t[o],e[o]))return!1}}return String(t)===String(e)}function Ea(t,e){return t.findIndex(s=>jn(s,e))}const Ao=t=>!!(t&&t.__v_isRef===!0),N=t=>ve(t)?t:t==null?"":H(t)||pe(t)&&(t.toString===ko||!K(t.toString))?Ao(t)?N(t.value):JSON.stringify(t,Po,2):String(t),Po=(t,e)=>Ao(e)?Po(t,e.value):os(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[n,r],i)=>(s[Xn(n,i)+" =>"]=r,s),{})}:On(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>Xn(s))}:Xe(e)?Xn(e):pe(e)&&!H(e)&&!Eo(e)?String(e):e,Xn=(t,e="")=>{var s;return Xe(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let je;class Ca{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=je,!e&&je&&(this.index=(je.scopes||(je.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=je;try{return je=this,e()}finally{je=s}}}on(){++this._on===1&&(this.prevScope=je,je=this)}off(){this._on>0&&--this._on===0&&(je=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(this.effects.length=0,s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Ta(){return je}let fe;const Zn=new WeakSet;class Oo{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,je&&je.active&&je.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Zn.has(this)&&(Zn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||$o(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,mi(this),Io(this);const e=fe,s=Qe;fe=this,Qe=!0;try{return this.fn()}finally{jo(this),fe=e,Qe=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)zr(e);this.deps=this.depsTail=void 0,mi(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Zn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){gr(this)&&this.run()}get dirty(){return gr(this)}}let Ro=0,Is,js;function $o(t,e=!1){if(t.flags|=8,e){t.next=js,js=t;return}t.next=Is,Is=t}function qr(){Ro++}function Kr(){if(--Ro>0)return;if(js){let e=js;for(js=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Is;){let e=Is;for(Is=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=s}}if(t)throw t}function Io(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function jo(t){let e,s=t.depsTail,n=s;for(;n;){const r=n.prevDep;n.version===-1?(n===s&&(s=r),zr(n),Aa(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=r}t.deps=e,t.depsTail=s}function gr(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(Mo(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function Mo(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Hs)||(t.globalVersion=Hs,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!gr(t))))return;t.flags|=2;const e=t.dep,s=fe,n=Qe;fe=t,Qe=!0;try{Io(t);const r=t.fn(t._value);(e.version===0||Mt(r,t._value))&&(t.flags|=128,t._value=r,e.version++)}catch(r){throw e.version++,r}finally{fe=s,Qe=n,jo(t),t.flags&=-3}}function zr(t,e=!1){const{dep:s,prevSub:n,nextSub:r}=t;if(n&&(n.nextSub=r,t.prevSub=void 0),r&&(r.prevSub=n,t.nextSub=void 0),s.subs===t&&(s.subs=n,!n&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)zr(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function Aa(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let Qe=!0;const Uo=[];function vt(){Uo.push(Qe),Qe=!1}function bt(){const t=Uo.pop();Qe=t===void 0?!0:t}function mi(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=fe;fe=void 0;try{e()}finally{fe=s}}}let Hs=0;class Pa{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Wr{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!fe||!Qe||fe===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==fe)s=this.activeLink=new Pa(fe,this),fe.deps?(s.prevDep=fe.depsTail,fe.depsTail.nextDep=s,fe.depsTail=s):fe.deps=fe.depsTail=s,Do(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const n=s.nextDep;n.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=n),s.prevDep=fe.depsTail,s.nextDep=void 0,fe.depsTail.nextDep=s,fe.depsTail=s,fe.deps===s&&(fe.deps=n)}return s}trigger(e){this.version++,Hs++,this.notify(e)}notify(e){qr();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Kr()}}}function Do(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)Do(n)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const yr=new WeakMap,zt=Symbol(""),_r=Symbol(""),Vs=Symbol("");function Te(t,e,s){if(Qe&&fe){let n=yr.get(t);n||yr.set(t,n=new Map);let r=n.get(s);r||(n.set(s,r=new Wr),r.map=n,r.key=s),r.track()}}function gt(t,e,s,n,r,i){const o=yr.get(t);if(!o){Hs++;return}const l=a=>{a&&a.trigger()};if(qr(),e==="clear")o.forEach(l);else{const a=H(t),c=a&&Br(s);if(a&&s==="length"){const u=Number(n);o.forEach((f,m)=>{(m==="length"||m===Vs||!Xe(m)&&m>=u)&&l(f)})}else switch((s!==void 0||o.has(void 0))&&l(o.get(s)),c&&l(o.get(Vs)),e){case"add":a?c&&l(o.get("length")):(l(o.get(zt)),os(t)&&l(o.get(_r)));break;case"delete":a||(l(o.get(zt)),os(t)&&l(o.get(_r)));break;case"set":os(t)&&l(o.get(zt));break}}Kr()}function Xt(t){const e=se(t);return e===t?e:(Te(e,"iterate",Vs),qe(t)?e:e.map(ke))}function Mn(t){return Te(t=se(t),"iterate",Vs),t}const Oa={__proto__:null,[Symbol.iterator](){return er(this,Symbol.iterator,ke)},concat(...t){return Xt(this).concat(...t.map(e=>H(e)?Xt(e):e))},entries(){return er(this,"entries",t=>(t[1]=ke(t[1]),t))},every(t,e){return ft(this,"every",t,e,void 0,arguments)},filter(t,e){return ft(this,"filter",t,e,s=>s.map(ke),arguments)},find(t,e){return ft(this,"find",t,e,ke,arguments)},findIndex(t,e){return ft(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return ft(this,"findLast",t,e,ke,arguments)},findLastIndex(t,e){return ft(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return ft(this,"forEach",t,e,void 0,arguments)},includes(...t){return tr(this,"includes",t)},indexOf(...t){return tr(this,"indexOf",t)},join(t){return Xt(this).join(t)},lastIndexOf(...t){return tr(this,"lastIndexOf",t)},map(t,e){return ft(this,"map",t,e,void 0,arguments)},pop(){return Es(this,"pop")},push(...t){return Es(this,"push",t)},reduce(t,...e){return gi(this,"reduce",t,e)},reduceRight(t,...e){return gi(this,"reduceRight",t,e)},shift(){return Es(this,"shift")},some(t,e){return ft(this,"some",t,e,void 0,arguments)},splice(...t){return Es(this,"splice",t)},toReversed(){return Xt(this).toReversed()},toSorted(t){return Xt(this).toSorted(t)},toSpliced(...t){return Xt(this).toSpliced(...t)},unshift(...t){return Es(this,"unshift",t)},values(){return er(this,"values",ke)}};function er(t,e,s){const n=Mn(t),r=n[e]();return n!==t&&!qe(t)&&(r._next=r.next,r.next=()=>{const i=r._next();return i.value&&(i.value=s(i.value)),i}),r}const Ra=Array.prototype;function ft(t,e,s,n,r,i){const o=Mn(t),l=o!==t&&!qe(t),a=o[e];if(a!==Ra[e]){const f=a.apply(t,i);return l?ke(f):f}let c=s;o!==t&&(l?c=function(f,m){return s.call(this,ke(f),m,t)}:s.length>2&&(c=function(f,m){return s.call(this,f,m,t)}));const u=a.call(o,c,n);return l&&r?r(u):u}function gi(t,e,s,n){const r=Mn(t);let i=s;return r!==t&&(qe(t)?s.length>3&&(i=function(o,l,a){return s.call(this,o,l,a,t)}):i=function(o,l,a){return s.call(this,o,ke(l),a,t)}),r[e](i,...n)}function tr(t,e,s){const n=se(t);Te(n,"iterate",Vs);const r=n[e](...s);return(r===-1||r===!1)&&Yr(s[0])?(s[0]=se(s[0]),n[e](...s)):r}function Es(t,e,s=[]){vt(),qr();const n=se(t)[e].apply(t,s);return Kr(),bt(),n}const $a=Lr("__proto__,__v_isRef,__isVue"),Lo=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Xe));function Ia(t){Xe(t)||(t=String(t));const e=se(this);return Te(e,"has",t),e.hasOwnProperty(t)}class No{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,n){if(s==="__v_skip")return e.__v_skip;const r=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return i;if(s==="__v_raw")return n===(r?i?Va:Vo:i?Ho:Bo).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=H(e);if(!r){let a;if(o&&(a=Oa[s]))return a;if(s==="hasOwnProperty")return Ia}const l=Reflect.get(e,s,Pe(e)?e:n);return(Xe(s)?Lo.has(s):$a(s))||(r||Te(e,"get",s),i)?l:Pe(l)?o&&Br(s)?l:l.value:pe(l)?r?Ko(l):Un(l):l}}class Fo extends No{constructor(e=!1){super(!1,e)}set(e,s,n,r){let i=e[s];if(!this._isShallow){const a=Ut(i);if(!qe(n)&&!Ut(n)&&(i=se(i),n=se(n)),!H(e)&&Pe(i)&&!Pe(n))return a?!1:(i.value=n,!0)}const o=H(e)&&Br(s)?Number(s)<e.length:ne(e,s),l=Reflect.set(e,s,n,Pe(e)?e:r);return e===se(r)&&(o?Mt(n,i)&&gt(e,"set",s,n):gt(e,"add",s,n)),l}deleteProperty(e,s){const n=ne(e,s);e[s];const r=Reflect.deleteProperty(e,s);return r&&n&&gt(e,"delete",s,void 0),r}has(e,s){const n=Reflect.has(e,s);return(!Xe(s)||!Lo.has(s))&&Te(e,"has",s),n}ownKeys(e){return Te(e,"iterate",H(e)?"length":zt),Reflect.ownKeys(e)}}class ja extends No{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const Ma=new Fo,Ua=new ja,Da=new Fo(!0);const vr=t=>t,nn=t=>Reflect.getPrototypeOf(t);function La(t,e,s){return function(...n){const r=this.__v_raw,i=se(r),o=os(i),l=t==="entries"||t===Symbol.iterator&&o,a=t==="keys"&&o,c=r[t](...n),u=s?vr:e?_n:ke;return!e&&Te(i,"iterate",a?_r:zt),{next(){const{value:f,done:m}=c.next();return m?{value:f,done:m}:{value:l?[u(f[0]),u(f[1])]:u(f),done:m}},[Symbol.iterator](){return this}}}}function rn(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Na(t,e){const s={get(r){const i=this.__v_raw,o=se(i),l=se(r);t||(Mt(r,l)&&Te(o,"get",r),Te(o,"get",l));const{has:a}=nn(o),c=e?vr:t?_n:ke;if(a.call(o,r))return c(i.get(r));if(a.call(o,l))return c(i.get(l));i!==o&&i.get(r)},get size(){const r=this.__v_raw;return!t&&Te(se(r),"iterate",zt),Reflect.get(r,"size",r)},has(r){const i=this.__v_raw,o=se(i),l=se(r);return t||(Mt(r,l)&&Te(o,"has",r),Te(o,"has",l)),r===l?i.has(r):i.has(r)||i.has(l)},forEach(r,i){const o=this,l=o.__v_raw,a=se(l),c=e?vr:t?_n:ke;return!t&&Te(a,"iterate",zt),l.forEach((u,f)=>r.call(i,c(u),c(f),o))}};return xe(s,t?{add:rn("add"),set:rn("set"),delete:rn("delete"),clear:rn("clear")}:{add(r){!e&&!qe(r)&&!Ut(r)&&(r=se(r));const i=se(this);return nn(i).has.call(i,r)||(i.add(r),gt(i,"add",r,r)),this},set(r,i){!e&&!qe(i)&&!Ut(i)&&(i=se(i));const o=se(this),{has:l,get:a}=nn(o);let c=l.call(o,r);c||(r=se(r),c=l.call(o,r));const u=a.call(o,r);return o.set(r,i),c?Mt(i,u)&&gt(o,"set",r,i):gt(o,"add",r,i),this},delete(r){const i=se(this),{has:o,get:l}=nn(i);let a=o.call(i,r);a||(r=se(r),a=o.call(i,r)),l&&l.call(i,r);const c=i.delete(r);return a&&gt(i,"delete",r,void 0),c},clear(){const r=se(this),i=r.size!==0,o=r.clear();return i&&gt(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{s[r]=La(r,t,e)}),s}function Gr(t,e){const s=Na(t,e);return(n,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?n:Reflect.get(ne(s,r)&&r in n?s:n,r,i)}const Fa={get:Gr(!1,!1)},Ba={get:Gr(!1,!0)},Ha={get:Gr(!0,!1)};const Bo=new WeakMap,Ho=new WeakMap,Vo=new WeakMap,Va=new WeakMap;function qa(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ka(t){return t.__v_skip||!Object.isExtensible(t)?0:qa(ma(t))}function Un(t){return Ut(t)?t:Jr(t,!1,Ma,Fa,Bo)}function qo(t){return Jr(t,!1,Da,Ba,Ho)}function Ko(t){return Jr(t,!0,Ua,Ha,Vo)}function Jr(t,e,s,n,r){if(!pe(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=Ka(t);if(i===0)return t;const o=r.get(t);if(o)return o;const l=new Proxy(t,i===2?n:s);return r.set(t,l),l}function ls(t){return Ut(t)?ls(t.__v_raw):!!(t&&t.__v_isReactive)}function Ut(t){return!!(t&&t.__v_isReadonly)}function qe(t){return!!(t&&t.__v_isShallow)}function Yr(t){return t?!!t.__v_raw:!1}function se(t){const e=t&&t.__v_raw;return e?se(e):t}function za(t){return!ne(t,"__v_skip")&&Object.isExtensible(t)&&Co(t,"__v_skip",!0),t}const ke=t=>pe(t)?Un(t):t,_n=t=>pe(t)?Ko(t):t;function Pe(t){return t?t.__v_isRef===!0:!1}function Wa(t){return zo(t,!1)}function Ga(t){return zo(t,!0)}function zo(t,e){return Pe(t)?t:new Ja(t,e)}class Ja{constructor(e,s){this.dep=new Wr,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:se(e),this._value=s?e:ke(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,n=this.__v_isShallow||qe(e)||Ut(e);e=n?e:se(e),Mt(e,s)&&(this._rawValue=e,this._value=n?e:ke(e),this.dep.trigger())}}function as(t){return Pe(t)?t.value:t}const Ya={get:(t,e,s)=>e==="__v_raw"?t:as(Reflect.get(t,e,s)),set:(t,e,s,n)=>{const r=t[e];return Pe(r)&&!Pe(s)?(r.value=s,!0):Reflect.set(t,e,s,n)}};function Wo(t){return ls(t)?t:new Proxy(t,Ya)}class Qa{constructor(e,s,n){this.fn=e,this.setter=s,this._value=void 0,this.dep=new Wr(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Hs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&fe!==this)return $o(this,!0),!0}get value(){const e=this.dep.track();return Mo(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Xa(t,e,s=!1){let n,r;return K(t)?n=t:(n=t.get,r=t.set),new Qa(n,r,s)}const on={},vn=new WeakMap;let Ht;function Za(t,e=!1,s=Ht){if(s){let n=vn.get(s);n||vn.set(s,n=[]),n.push(t)}}function ec(t,e,s=ae){const{immediate:n,deep:r,once:i,scheduler:o,augmentJob:l,call:a}=s,c=I=>r?I:qe(I)||r===!1||r===0?yt(I,1):yt(I);let u,f,m,g,b=!1,k=!1;if(Pe(t)?(f=()=>t.value,b=qe(t)):ls(t)?(f=()=>c(t),b=!0):H(t)?(k=!0,b=t.some(I=>ls(I)||qe(I)),f=()=>t.map(I=>{if(Pe(I))return I.value;if(ls(I))return c(I);if(K(I))return a?a(I,2):I()})):K(t)?e?f=a?()=>a(t,2):t:f=()=>{if(m){vt();try{m()}finally{bt()}}const I=Ht;Ht=u;try{return a?a(t,3,[g]):t(g)}finally{Ht=I}}:f=Ye,e&&r){const I=f,J=r===!0?1/0:r;f=()=>yt(I(),J)}const $=Ta(),M=()=>{u.stop(),$&&$.active&&Fr($.effects,u)};if(i&&e){const I=e;e=(...J)=>{I(...J),M()}}let U=k?new Array(t.length).fill(on):on;const D=I=>{if(!(!(u.flags&1)||!u.dirty&&!I))if(e){const J=u.run();if(r||b||(k?J.some((Se,ge)=>Mt(Se,U[ge])):Mt(J,U))){m&&m();const Se=Ht;Ht=u;try{const ge=[J,U===on?void 0:k&&U[0]===on?[]:U,g];a?a(e,3,ge):e(...ge),U=J}finally{Ht=Se}}}else u.run()};return l&&l(D),u=new Oo(f),u.scheduler=o?()=>o(D,!1):D,g=I=>Za(I,!1,u),m=u.onStop=()=>{const I=vn.get(u);if(I){if(a)a(I,4);else for(const J of I)J();vn.delete(u)}},e?n?D(!0):U=u.run():o?o(D.bind(null,!0),!0):u.run(),M.pause=u.pause.bind(u),M.resume=u.resume.bind(u),M.stop=M,M}function yt(t,e=1/0,s){if(e<=0||!pe(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,Pe(t))yt(t.value,e,s);else if(H(t))for(let n=0;n<t.length;n++)yt(t[n],e,s);else if(On(t)||os(t))t.forEach(n=>{yt(n,e,s)});else if(Eo(t)){for(const n in t)yt(t[n],e,s);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&yt(t[n],e,s)}return t}/**
* @vue/runtime-core v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Xs(t,e,s,n){try{return n?t(...n):t()}catch(r){Dn(r,e,s)}}function ct(t,e,s,n){if(K(t)){const r=Xs(t,e,s,n);return r&&So(r)&&r.catch(i=>{Dn(i,e,s)}),r}if(H(t)){const r=[];for(let i=0;i<t.length;i++)r.push(ct(t[i],e,s,n));return r}}function Dn(t,e,s,n=!0){const r=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ae;if(e){let l=e.parent;const a=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${s}`;for(;l;){const u=l.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](t,a,c)===!1)return}l=l.parent}if(i){vt(),Xs(i,null,10,[t,a,c]),bt();return}}tc(t,s,r,n,o)}function tc(t,e,s,n=!0,r=!1){if(r)throw t;console.error(t)}const Re=[];let lt=-1;const cs=[];let Ot=null,ss=0;const Go=Promise.resolve();let bn=null;function Qr(t){const e=bn||Go;return t?e.then(this?t.bind(this):t):e}function sc(t){let e=lt+1,s=Re.length;for(;e<s;){const n=e+s>>>1,r=Re[n],i=qs(r);i<t||i===t&&r.flags&2?e=n+1:s=n}return e}function Xr(t){if(!(t.flags&1)){const e=qs(t),s=Re[Re.length-1];!s||!(t.flags&2)&&e>=qs(s)?Re.push(t):Re.splice(sc(e),0,t),t.flags|=1,Jo()}}function Jo(){bn||(bn=Go.then(Qo))}function nc(t){H(t)?cs.push(...t):Ot&&t.id===-1?Ot.splice(ss+1,0,t):t.flags&1||(cs.push(t),t.flags|=1),Jo()}function yi(t,e,s=lt+1){for(;s<Re.length;s++){const n=Re[s];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;Re.splice(s,1),s--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function Yo(t){if(cs.length){const e=[...new Set(cs)].sort((s,n)=>qs(s)-qs(n));if(cs.length=0,Ot){Ot.push(...e);return}for(Ot=e,ss=0;ss<Ot.length;ss++){const s=Ot[ss];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Ot=null,ss=0}}const qs=t=>t.id==null?t.flags&2?-1:1/0:t.id;function Qo(t){const e=Ye;try{for(lt=0;lt<Re.length;lt++){const s=Re[lt];s&&!(s.flags&8)&&(s.flags&4&&(s.flags&=-2),Xs(s,s.i,s.i?15:14),s.flags&4||(s.flags&=-2))}}finally{for(;lt<Re.length;lt++){const s=Re[lt];s&&(s.flags&=-2)}lt=-1,Re.length=0,Yo(),bn=null,(Re.length||cs.length)&&Qo()}}let Ee=null,Xo=null;function wn(t){const e=Ee;return Ee=t,Xo=t&&t.type.__scopeId||null,e}function _e(t,e=Ee,s){if(!e||t._n)return t;const n=(...r)=>{n._d&&Ci(-1);const i=wn(e);let o;try{o=t(...r)}finally{wn(i),n._d&&Ci(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function W(t,e){if(Ee===null)return t;const s=Bn(Ee),n=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[i,o,l,a=ae]=e[r];i&&(K(i)&&(i={mounted:i,updated:i}),i.deep&&yt(o),n.push({dir:i,instance:s,value:o,oldValue:void 0,arg:l,modifiers:a}))}return t}function Nt(t,e,s,n){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const l=r[o];i&&(l.oldValue=i[o].value);let a=l.dir[n];a&&(vt(),ct(a,s,8,[t.el,l,t,e]),bt())}}const rc=Symbol("_vte"),ic=t=>t.__isTeleport;function Zr(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Zr(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Zo(t,e){return K(t)?(()=>xe({name:t.name},e,{setup:t}))():t}function el(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function xn(t,e,s,n,r=!1){if(H(t)){t.forEach((b,k)=>xn(b,e&&(H(e)?e[k]:e),s,n,r));return}if(us(n)&&!r){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&xn(t,e,s,n.component.subTree);return}const i=n.shapeFlag&4?Bn(n.component):n.el,o=r?null:i,{i:l,r:a}=t,c=e&&e.r,u=l.refs===ae?l.refs={}:l.refs,f=l.setupState,m=se(f),g=f===ae?()=>!1:b=>ne(m,b);if(c!=null&&c!==a&&(ve(c)?(u[c]=null,g(c)&&(f[c]=null)):Pe(c)&&(c.value=null)),K(a))Xs(a,l,12,[o,u]);else{const b=ve(a),k=Pe(a);if(b||k){const $=()=>{if(t.f){const M=b?g(a)?f[a]:u[a]:a.value;r?H(M)&&Fr(M,i):H(M)?M.includes(i)||M.push(i):b?(u[a]=[i],g(a)&&(f[a]=u[a])):(a.value=[i],t.k&&(u[t.k]=a.value))}else b?(u[a]=o,g(a)&&(f[a]=o)):k&&(a.value=o,t.k&&(u[t.k]=o))};o?($.id=-1,Fe($,s)):$()}}}In().requestIdleCallback;In().cancelIdleCallback;const us=t=>!!t.type.__asyncLoader,tl=t=>t.type.__isKeepAlive;function oc(t,e){sl(t,"a",e)}function lc(t,e){sl(t,"da",e)}function sl(t,e,s=Ae){const n=t.__wdc||(t.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(Ln(e,n,s),s){let r=s.parent;for(;r&&r.parent;)tl(r.parent.vnode)&&ac(n,e,s,r),r=r.parent}}function ac(t,e,s,n){const r=Ln(e,t,n,!0);nl(()=>{Fr(n[e],r)},s)}function Ln(t,e,s=Ae,n=!1){if(s){const r=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{vt();const l=Zs(s),a=ct(e,s,t,o);return l(),bt(),a});return n?r.unshift(i):r.push(i),i}}const St=t=>(e,s=Ae)=>{(!Ws||t==="sp")&&Ln(t,(...n)=>e(...n),s)},cc=St("bm"),uc=St("m"),dc=St("bu"),fc=St("u"),hc=St("bum"),nl=St("um"),pc=St("sp"),mc=St("rtg"),gc=St("rtc");function yc(t,e=Ae){Ln("ec",t,e)}const rl="components";function oe(t,e){return vc(rl,t,!0,e)||t}const _c=Symbol.for("v-ndc");function vc(t,e,s=!0,n=!1){const r=Ee||Ae;if(r){const i=r.type;if(t===rl){const l=lu(i,!1);if(l&&(l===e||l===Ke(e)||l===$n(Ke(e))))return i}const o=_i(r[t]||i[t],e)||_i(r.appContext[t],e);return!o&&n?i:o}}function _i(t,e){return t&&(t[e]||t[Ke(e)]||t[$n(Ke(e))])}function Ue(t,e,s,n){let r;const i=s&&s[n],o=H(t);if(o||ve(t)){const l=o&&ls(t);let a=!1,c=!1;l&&(a=!qe(t),c=Ut(t),t=Mn(t)),r=new Array(t.length);for(let u=0,f=t.length;u<f;u++)r[u]=e(a?c?_n(ke(t[u])):ke(t[u]):t[u],u,void 0,i&&i[u])}else if(typeof t=="number"){r=new Array(t);for(let l=0;l<t;l++)r[l]=e(l+1,l,void 0,i&&i[l])}else if(pe(t))if(t[Symbol.iterator])r=Array.from(t,(l,a)=>e(l,a,void 0,i&&i[a]));else{const l=Object.keys(t);r=new Array(l.length);for(let a=0,c=l.length;a<c;a++){const u=l[a];r[a]=e(t[u],u,a,i&&i[a])}}else r=[];return s&&(s[n]=r),r}function bc(t,e,s={},n,r){if(Ee.ce||Ee.parent&&us(Ee.parent)&&Ee.parent.ce)return e!=="default"&&(s.name=e),E(),xt(ce,null,[V("slot",s,n&&n())],64);let i=t[e];i&&i._c&&(i._d=!1),E();const o=i&&il(i(s)),l=s.key||o&&o.key,a=xt(ce,{key:(l&&!Xe(l)?l:`_${e}`)+(!o&&n?"_fb":"")},o||(n?n():[]),o&&t._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function il(t){return t.some(e=>zs(e)?!(e.type===wt||e.type===ce&&!il(e.children)):!0)?t:null}const br=t=>t?kl(t)?Bn(t):br(t.parent):null,Ms=xe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>br(t.parent),$root:t=>br(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>ei(t),$forceUpdate:t=>t.f||(t.f=()=>{Xr(t.update)}),$nextTick:t=>t.n||(t.n=Qr.bind(t.proxy)),$watch:t=>Bc.bind(t)}),sr=(t,e)=>t!==ae&&!t.__isScriptSetup&&ne(t,e),wc={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:n,data:r,props:i,accessCache:o,type:l,appContext:a}=t;let c;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return n[e];case 2:return r[e];case 4:return s[e];case 3:return i[e]}else{if(sr(n,e))return o[e]=1,n[e];if(r!==ae&&ne(r,e))return o[e]=2,r[e];if((c=t.propsOptions[0])&&ne(c,e))return o[e]=3,i[e];if(s!==ae&&ne(s,e))return o[e]=4,s[e];wr&&(o[e]=0)}}const u=Ms[e];let f,m;if(u)return e==="$attrs"&&Te(t.attrs,"get",""),u(t);if((f=l.__cssModules)&&(f=f[e]))return f;if(s!==ae&&ne(s,e))return o[e]=4,s[e];if(m=a.config.globalProperties,ne(m,e))return m[e]},set({_:t},e,s){const{data:n,setupState:r,ctx:i}=t;return sr(r,e)?(r[e]=s,!0):n!==ae&&ne(n,e)?(n[e]=s,!0):ne(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:n,appContext:r,propsOptions:i}},o){let l;return!!s[o]||t!==ae&&ne(t,o)||sr(e,o)||(l=i[0])&&ne(l,o)||ne(n,o)||ne(Ms,o)||ne(r.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:ne(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function vi(t){return H(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let wr=!0;function xc(t){const e=ei(t),s=t.proxy,n=t.ctx;wr=!1,e.beforeCreate&&bi(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:l,provide:a,inject:c,created:u,beforeMount:f,mounted:m,beforeUpdate:g,updated:b,activated:k,deactivated:$,beforeDestroy:M,beforeUnmount:U,destroyed:D,unmounted:I,render:J,renderTracked:Se,renderTriggered:ge,errorCaptured:et,serverPrefetch:kt,expose:tt,inheritAttrs:Et,components:Lt,directives:st,filters:Ss}=e;if(c&&Sc(c,n,null),o)for(const le in o){const Z=o[le];K(Z)&&(n[le]=Z.bind(s))}if(r){const le=r.call(s,s);pe(le)&&(t.data=Un(le))}if(wr=!0,i)for(const le in i){const Z=i[le],dt=K(Z)?Z.bind(s,s):K(Z.get)?Z.get.bind(s,s):Ye,Ct=!K(Z)&&K(Z.set)?Z.set.bind(s):Ye,nt=Je({get:dt,set:Ct});Object.defineProperty(n,le,{enumerable:!0,configurable:!0,get:()=>nt.value,set:$e=>nt.value=$e})}if(l)for(const le in l)ol(l[le],n,s,le);if(a){const le=K(a)?a.call(s):a;Reflect.ownKeys(le).forEach(Z=>{fn(Z,le[Z])})}u&&bi(u,t,"c");function be(le,Z){H(Z)?Z.forEach(dt=>le(dt.bind(s))):Z&&le(Z.bind(s))}if(be(cc,f),be(uc,m),be(dc,g),be(fc,b),be(oc,k),be(lc,$),be(yc,et),be(gc,Se),be(mc,ge),be(hc,U),be(nl,I),be(pc,kt),H(tt))if(tt.length){const le=t.exposed||(t.exposed={});tt.forEach(Z=>{Object.defineProperty(le,Z,{get:()=>s[Z],set:dt=>s[Z]=dt})})}else t.exposed||(t.exposed={});J&&t.render===Ye&&(t.render=J),Et!=null&&(t.inheritAttrs=Et),Lt&&(t.components=Lt),st&&(t.directives=st),kt&&el(t)}function Sc(t,e,s=Ye){H(t)&&(t=xr(t));for(const n in t){const r=t[n];let i;pe(r)?"default"in r?i=_t(r.from||n,r.default,!0):i=_t(r.from||n):i=_t(r),Pe(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[n]=i}}function bi(t,e,s){ct(H(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,s)}function ol(t,e,s,n){let r=n.includes(".")?vl(s,n):()=>s[n];if(ve(t)){const i=e[t];K(i)&&hn(r,i)}else if(K(t))hn(r,t.bind(s));else if(pe(t))if(H(t))t.forEach(i=>ol(i,e,s,n));else{const i=K(t.handler)?t.handler.bind(s):e[t.handler];K(i)&&hn(r,i,t)}}function ei(t){const e=t.type,{mixins:s,extends:n}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,l=i.get(e);let a;return l?a=l:!r.length&&!s&&!n?a=e:(a={},r.length&&r.forEach(c=>Sn(a,c,o,!0)),Sn(a,e,o)),pe(e)&&i.set(e,a),a}function Sn(t,e,s,n=!1){const{mixins:r,extends:i}=e;i&&Sn(t,i,s,!0),r&&r.forEach(o=>Sn(t,o,s,!0));for(const o in e)if(!(n&&o==="expose")){const l=kc[o]||s&&s[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const kc={data:wi,props:xi,emits:xi,methods:Os,computed:Os,beforeCreate:Oe,created:Oe,beforeMount:Oe,mounted:Oe,beforeUpdate:Oe,updated:Oe,beforeDestroy:Oe,beforeUnmount:Oe,destroyed:Oe,unmounted:Oe,activated:Oe,deactivated:Oe,errorCaptured:Oe,serverPrefetch:Oe,components:Os,directives:Os,watch:Cc,provide:wi,inject:Ec};function wi(t,e){return e?t?function(){return xe(K(t)?t.call(this,this):t,K(e)?e.call(this,this):e)}:e:t}function Ec(t,e){return Os(xr(t),xr(e))}function xr(t){if(H(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function Oe(t,e){return t?[...new Set([].concat(t,e))]:e}function Os(t,e){return t?xe(Object.create(null),t,e):e}function xi(t,e){return t?H(t)&&H(e)?[...new Set([...t,...e])]:xe(Object.create(null),vi(t),vi(e??{})):e}function Cc(t,e){if(!t)return e;if(!e)return t;const s=xe(Object.create(null),t);for(const n in e)s[n]=Oe(t[n],e[n]);return s}function ll(){return{app:null,config:{isNativeTag:ha,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Tc=0;function Ac(t,e){return function(n,r=null){K(n)||(n=xe({},n)),r!=null&&!pe(r)&&(r=null);const i=ll(),o=new WeakSet,l=[];let a=!1;const c=i.app={_uid:Tc++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:cu,get config(){return i.config},set config(u){},use(u,...f){return o.has(u)||(u&&K(u.install)?(o.add(u),u.install(c,...f)):K(u)&&(o.add(u),u(c,...f))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,f){return f?(i.components[u]=f,c):i.components[u]},directive(u,f){return f?(i.directives[u]=f,c):i.directives[u]},mount(u,f,m){if(!a){const g=c._ceVNode||V(n,r);return g.appContext=i,m===!0?m="svg":m===!1&&(m=void 0),f&&e?e(g,u):t(g,u,m),a=!0,c._container=u,u.__vue_app__=c,Bn(g.component)}},onUnmount(u){l.push(u)},unmount(){a&&(ct(l,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,f){return i.provides[u]=f,c},runWithContext(u){const f=ds;ds=c;try{return u()}finally{ds=f}}};return c}}let ds=null;function fn(t,e){if(Ae){let s=Ae.provides;const n=Ae.parent&&Ae.parent.provides;n===s&&(s=Ae.provides=Object.create(n)),s[t]=e}}function _t(t,e,s=!1){const n=Ae||Ee;if(n||ds){const r=ds?ds._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(r&&t in r)return r[t];if(arguments.length>1)return s&&K(e)?e.call(n&&n.proxy):e}}const al={},cl=()=>Object.create(al),ul=t=>Object.getPrototypeOf(t)===al;function Pc(t,e,s,n=!1){const r={},i=cl();t.propsDefaults=Object.create(null),dl(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);s?t.props=n?r:qo(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function Oc(t,e,s,n){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,l=se(r),[a]=t.propsOptions;let c=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let f=0;f<u.length;f++){let m=u[f];if(Nn(t.emitsOptions,m))continue;const g=e[m];if(a)if(ne(i,m))g!==i[m]&&(i[m]=g,c=!0);else{const b=Ke(m);r[b]=Sr(a,l,b,g,t,!1)}else g!==i[m]&&(i[m]=g,c=!0)}}}else{dl(t,e,r,i)&&(c=!0);let u;for(const f in l)(!e||!ne(e,f)&&((u=Wt(f))===f||!ne(e,u)))&&(a?s&&(s[f]!==void 0||s[u]!==void 0)&&(r[f]=Sr(a,l,f,void 0,t,!0)):delete r[f]);if(i!==l)for(const f in i)(!e||!ne(e,f))&&(delete i[f],c=!0)}c&&gt(t.attrs,"set","")}function dl(t,e,s,n){const[r,i]=t.propsOptions;let o=!1,l;if(e)for(let a in e){if($s(a))continue;const c=e[a];let u;r&&ne(r,u=Ke(a))?!i||!i.includes(u)?s[u]=c:(l||(l={}))[u]=c:Nn(t.emitsOptions,a)||(!(a in n)||c!==n[a])&&(n[a]=c,o=!0)}if(i){const a=se(s),c=l||ae;for(let u=0;u<i.length;u++){const f=i[u];s[f]=Sr(r,a,f,c[f],t,!ne(c,f))}}return o}function Sr(t,e,s,n,r,i){const o=t[s];if(o!=null){const l=ne(o,"default");if(l&&n===void 0){const a=o.default;if(o.type!==Function&&!o.skipFactory&&K(a)){const{propsDefaults:c}=r;if(s in c)n=c[s];else{const u=Zs(r);n=c[s]=a.call(null,e),u()}}else n=a;r.ce&&r.ce._setProp(s,n)}o[0]&&(i&&!l?n=!1:o[1]&&(n===""||n===Wt(s))&&(n=!0))}return n}const Rc=new WeakMap;function fl(t,e,s=!1){const n=s?Rc:e.propsCache,r=n.get(t);if(r)return r;const i=t.props,o={},l=[];let a=!1;if(!K(t)){const u=f=>{a=!0;const[m,g]=fl(f,e,!0);xe(o,m),g&&l.push(...g)};!s&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!a)return pe(t)&&n.set(t,is),is;if(H(i))for(let u=0;u<i.length;u++){const f=Ke(i[u]);Si(f)&&(o[f]=ae)}else if(i)for(const u in i){const f=Ke(u);if(Si(f)){const m=i[u],g=o[f]=H(m)||K(m)?{type:m}:xe({},m),b=g.type;let k=!1,$=!0;if(H(b))for(let M=0;M<b.length;++M){const U=b[M],D=K(U)&&U.name;if(D==="Boolean"){k=!0;break}else D==="String"&&($=!1)}else k=K(b)&&b.name==="Boolean";g[0]=k,g[1]=$,(k||ne(g,"default"))&&l.push(f)}}const c=[o,l];return pe(t)&&n.set(t,c),c}function Si(t){return t[0]!=="$"&&!$s(t)}const ti=t=>t[0]==="_"||t==="$stable",si=t=>H(t)?t.map(at):[at(t)],$c=(t,e,s)=>{if(e._n)return e;const n=_e((...r)=>si(e(...r)),s);return n._c=!1,n},hl=(t,e,s)=>{const n=t._ctx;for(const r in t){if(ti(r))continue;const i=t[r];if(K(i))e[r]=$c(r,i,n);else if(i!=null){const o=si(i);e[r]=()=>o}}},pl=(t,e)=>{const s=si(e);t.slots.default=()=>s},ml=(t,e,s)=>{for(const n in e)(s||!ti(n))&&(t[n]=e[n])},Ic=(t,e,s)=>{const n=t.slots=cl();if(t.vnode.shapeFlag&32){const r=e._;r?(ml(n,e,s),s&&Co(n,"_",r,!0)):hl(e,n)}else e&&pl(t,e)},jc=(t,e,s)=>{const{vnode:n,slots:r}=t;let i=!0,o=ae;if(n.shapeFlag&32){const l=e._;l?s&&l===1?i=!1:ml(r,e,s):(i=!e.$stable,hl(e,r)),o=e}else e&&(pl(t,e),o={default:1});if(i)for(const l in r)!ti(l)&&o[l]==null&&delete r[l]},Fe=Gc;function Mc(t){return Uc(t)}function Uc(t,e){const s=In();s.__VUE__=!0;const{insert:n,remove:r,patchProp:i,createElement:o,createText:l,createComment:a,setText:c,setElementText:u,parentNode:f,nextSibling:m,setScopeId:g=Ye,insertStaticContent:b}=t,k=(h,p,y,w=null,_=null,x=null,A=void 0,T=null,C=!!p.dynamicChildren)=>{if(h===p)return;h&&!Cs(h,p)&&(w=v(h),$e(h,_,x,!0),h=null),p.patchFlag===-2&&(C=!1,p.dynamicChildren=null);const{type:S,ref:B,shapeFlag:R}=p;switch(S){case Fn:$(h,p,y,w);break;case wt:M(h,p,y,w);break;case pn:h==null&&U(p,y,w,A);break;case ce:Lt(h,p,y,w,_,x,A,T,C);break;default:R&1?J(h,p,y,w,_,x,A,T,C):R&6?st(h,p,y,w,_,x,A,T,C):(R&64||R&128)&&S.process(h,p,y,w,_,x,A,T,C,L)}B!=null&&_&&xn(B,h&&h.ref,x,p||h,!p)},$=(h,p,y,w)=>{if(h==null)n(p.el=l(p.children),y,w);else{const _=p.el=h.el;p.children!==h.children&&c(_,p.children)}},M=(h,p,y,w)=>{h==null?n(p.el=a(p.children||""),y,w):p.el=h.el},U=(h,p,y,w)=>{[h.el,h.anchor]=b(h.children,p,y,w,h.el,h.anchor)},D=({el:h,anchor:p},y,w)=>{let _;for(;h&&h!==p;)_=m(h),n(h,y,w),h=_;n(p,y,w)},I=({el:h,anchor:p})=>{let y;for(;h&&h!==p;)y=m(h),r(h),h=y;r(p)},J=(h,p,y,w,_,x,A,T,C)=>{p.type==="svg"?A="svg":p.type==="math"&&(A="mathml"),h==null?Se(p,y,w,_,x,A,T,C):kt(h,p,_,x,A,T,C)},Se=(h,p,y,w,_,x,A,T)=>{let C,S;const{props:B,shapeFlag:R,transition:F,dirs:q}=h;if(C=h.el=o(h.type,x,B&&B.is,B),R&8?u(C,h.children):R&16&&et(h.children,C,null,w,_,nr(h,x),A,T),q&&Nt(h,null,w,"created"),ge(C,h,h.scopeId,A,w),B){for(const ue in B)ue!=="value"&&!$s(ue)&&i(C,ue,null,B[ue],x,w);"value"in B&&i(C,"value",null,B.value,x),(S=B.onVnodeBeforeMount)&&it(S,w,h)}q&&Nt(h,null,w,"beforeMount");const X=Dc(_,F);X&&F.beforeEnter(C),n(C,p,y),((S=B&&B.onVnodeMounted)||X||q)&&Fe(()=>{S&&it(S,w,h),X&&F.enter(C),q&&Nt(h,null,w,"mounted")},_)},ge=(h,p,y,w,_)=>{if(y&&g(h,y),w)for(let x=0;x<w.length;x++)g(h,w[x]);if(_){let x=_.subTree;if(p===x||wl(x.type)&&(x.ssContent===p||x.ssFallback===p)){const A=_.vnode;ge(h,A,A.scopeId,A.slotScopeIds,_.parent)}}},et=(h,p,y,w,_,x,A,T,C=0)=>{for(let S=C;S<h.length;S++){const B=h[S]=T?Rt(h[S]):at(h[S]);k(null,B,p,y,w,_,x,A,T)}},kt=(h,p,y,w,_,x,A)=>{const T=p.el=h.el;let{patchFlag:C,dynamicChildren:S,dirs:B}=p;C|=h.patchFlag&16;const R=h.props||ae,F=p.props||ae;let q;if(y&&Ft(y,!1),(q=F.onVnodeBeforeUpdate)&&it(q,y,p,h),B&&Nt(p,h,y,"beforeUpdate"),y&&Ft(y,!0),(R.innerHTML&&F.innerHTML==null||R.textContent&&F.textContent==null)&&u(T,""),S?tt(h.dynamicChildren,S,T,y,w,nr(p,_),x):A||Z(h,p,T,null,y,w,nr(p,_),x,!1),C>0){if(C&16)Et(T,R,F,y,_);else if(C&2&&R.class!==F.class&&i(T,"class",null,F.class,_),C&4&&i(T,"style",R.style,F.style,_),C&8){const X=p.dynamicProps;for(let ue=0;ue<X.length;ue++){const re=X[ue],De=R[re],Ce=F[re];(Ce!==De||re==="value")&&i(T,re,De,Ce,_,y)}}C&1&&h.children!==p.children&&u(T,p.children)}else!A&&S==null&&Et(T,R,F,y,_);((q=F.onVnodeUpdated)||B)&&Fe(()=>{q&&it(q,y,p,h),B&&Nt(p,h,y,"updated")},w)},tt=(h,p,y,w,_,x,A)=>{for(let T=0;T<p.length;T++){const C=h[T],S=p[T],B=C.el&&(C.type===ce||!Cs(C,S)||C.shapeFlag&70)?f(C.el):y;k(C,S,B,null,w,_,x,A,!0)}},Et=(h,p,y,w,_)=>{if(p!==y){if(p!==ae)for(const x in p)!$s(x)&&!(x in y)&&i(h,x,p[x],null,_,w);for(const x in y){if($s(x))continue;const A=y[x],T=p[x];A!==T&&x!=="value"&&i(h,x,T,A,_,w)}"value"in y&&i(h,"value",p.value,y.value,_)}},Lt=(h,p,y,w,_,x,A,T,C)=>{const S=p.el=h?h.el:l(""),B=p.anchor=h?h.anchor:l("");let{patchFlag:R,dynamicChildren:F,slotScopeIds:q}=p;q&&(T=T?T.concat(q):q),h==null?(n(S,y,w),n(B,y,w),et(p.children||[],y,B,_,x,A,T,C)):R>0&&R&64&&F&&h.dynamicChildren?(tt(h.dynamicChildren,F,y,_,x,A,T),(p.key!=null||_&&p===_.subTree)&&gl(h,p,!0)):Z(h,p,y,B,_,x,A,T,C)},st=(h,p,y,w,_,x,A,T,C)=>{p.slotScopeIds=T,h==null?p.shapeFlag&512?_.ctx.activate(p,y,w,A,C):Ss(p,y,w,_,x,A,C):Jt(h,p,C)},Ss=(h,p,y,w,_,x,A)=>{const T=h.component=su(h,w,_);if(tl(h)&&(T.ctx.renderer=L),nu(T,!1,A),T.asyncDep){if(_&&_.registerDep(T,be,A),!h.el){const C=T.subTree=V(wt);M(null,C,p,y)}}else be(T,h,p,y,_,x,A)},Jt=(h,p,y)=>{const w=p.component=h.component;if(zc(h,p,y))if(w.asyncDep&&!w.asyncResolved){le(w,p,y);return}else w.next=p,w.update();else p.el=h.el,w.vnode=p},be=(h,p,y,w,_,x,A)=>{const T=()=>{if(h.isMounted){let{next:R,bu:F,u:q,parent:X,vnode:ue}=h;{const Le=yl(h);if(Le){R&&(R.el=ue.el,le(h,R,A)),Le.asyncDep.then(()=>{h.isUnmounted||T()});return}}let re=R,De;Ft(h,!1),R?(R.el=ue.el,le(h,R,A)):R=ue,F&&dn(F),(De=R.props&&R.props.onVnodeBeforeUpdate)&&it(De,X,R,ue),Ft(h,!0);const Ce=rr(h),We=h.subTree;h.subTree=Ce,k(We,Ce,f(We.el),v(We),h,_,x),R.el=Ce.el,re===null&&Wc(h,Ce.el),q&&Fe(q,_),(De=R.props&&R.props.onVnodeUpdated)&&Fe(()=>it(De,X,R,ue),_)}else{let R;const{el:F,props:q}=p,{bm:X,m:ue,parent:re,root:De,type:Ce}=h,We=us(p);if(Ft(h,!1),X&&dn(X),!We&&(R=q&&q.onVnodeBeforeMount)&&it(R,re,p),Ft(h,!0),F&&me){const Le=()=>{h.subTree=rr(h),me(F,h.subTree,h,_,null)};We&&Ce.__asyncHydrate?Ce.__asyncHydrate(F,h,Le):Le()}else{De.ce&&De.ce._injectChildStyle(Ce);const Le=h.subTree=rr(h);k(null,Le,y,w,h,_,x),p.el=Le.el}if(ue&&Fe(ue,_),!We&&(R=q&&q.onVnodeMounted)){const Le=p;Fe(()=>it(R,re,Le),_)}(p.shapeFlag&256||re&&us(re.vnode)&&re.vnode.shapeFlag&256)&&h.a&&Fe(h.a,_),h.isMounted=!0,p=y=w=null}};h.scope.on();const C=h.effect=new Oo(T);h.scope.off();const S=h.update=C.run.bind(C),B=h.job=C.runIfDirty.bind(C);B.i=h,B.id=h.uid,C.scheduler=()=>Xr(B),Ft(h,!0),S()},le=(h,p,y)=>{p.component=h;const w=h.vnode.props;h.vnode=p,h.next=null,Oc(h,p.props,w,y),jc(h,p.children,y),vt(),yi(h),bt()},Z=(h,p,y,w,_,x,A,T,C=!1)=>{const S=h&&h.children,B=h?h.shapeFlag:0,R=p.children,{patchFlag:F,shapeFlag:q}=p;if(F>0){if(F&128){Ct(S,R,y,w,_,x,A,T,C);return}else if(F&256){dt(S,R,y,w,_,x,A,T,C);return}}q&8?(B&16&&Ve(S,_,x),R!==S&&u(y,R)):B&16?q&16?Ct(S,R,y,w,_,x,A,T,C):Ve(S,_,x,!0):(B&8&&u(y,""),q&16&&et(R,y,w,_,x,A,T,C))},dt=(h,p,y,w,_,x,A,T,C)=>{h=h||is,p=p||is;const S=h.length,B=p.length,R=Math.min(S,B);let F;for(F=0;F<R;F++){const q=p[F]=C?Rt(p[F]):at(p[F]);k(h[F],q,y,null,_,x,A,T,C)}S>B?Ve(h,_,x,!0,!1,R):et(p,y,w,_,x,A,T,C,R)},Ct=(h,p,y,w,_,x,A,T,C)=>{let S=0;const B=p.length;let R=h.length-1,F=B-1;for(;S<=R&&S<=F;){const q=h[S],X=p[S]=C?Rt(p[S]):at(p[S]);if(Cs(q,X))k(q,X,y,null,_,x,A,T,C);else break;S++}for(;S<=R&&S<=F;){const q=h[R],X=p[F]=C?Rt(p[F]):at(p[F]);if(Cs(q,X))k(q,X,y,null,_,x,A,T,C);else break;R--,F--}if(S>R){if(S<=F){const q=F+1,X=q<B?p[q].el:w;for(;S<=F;)k(null,p[S]=C?Rt(p[S]):at(p[S]),y,X,_,x,A,T,C),S++}}else if(S>F)for(;S<=R;)$e(h[S],_,x,!0),S++;else{const q=S,X=S,ue=new Map;for(S=X;S<=F;S++){const Ne=p[S]=C?Rt(p[S]):at(p[S]);Ne.key!=null&&ue.set(Ne.key,S)}let re,De=0;const Ce=F-X+1;let We=!1,Le=0;const ks=new Array(Ce);for(S=0;S<Ce;S++)ks[S]=0;for(S=q;S<=R;S++){const Ne=h[S];if(De>=Ce){$e(Ne,_,x,!0);continue}let rt;if(Ne.key!=null)rt=ue.get(Ne.key);else for(re=X;re<=F;re++)if(ks[re-X]===0&&Cs(Ne,p[re])){rt=re;break}rt===void 0?$e(Ne,_,x,!0):(ks[rt-X]=S+1,rt>=Le?Le=rt:We=!0,k(Ne,p[rt],y,null,_,x,A,T,C),De++)}const di=We?Lc(ks):is;for(re=di.length-1,S=Ce-1;S>=0;S--){const Ne=X+S,rt=p[Ne],fi=Ne+1<B?p[Ne+1].el:w;ks[S]===0?k(null,rt,y,fi,_,x,A,T,C):We&&(re<0||S!==di[re]?nt(rt,y,fi,2):re--)}}},nt=(h,p,y,w,_=null)=>{const{el:x,type:A,transition:T,children:C,shapeFlag:S}=h;if(S&6){nt(h.component.subTree,p,y,w);return}if(S&128){h.suspense.move(p,y,w);return}if(S&64){A.move(h,p,y,L);return}if(A===ce){n(x,p,y);for(let R=0;R<C.length;R++)nt(C[R],p,y,w);n(h.anchor,p,y);return}if(A===pn){D(h,p,y);return}if(w!==2&&S&1&&T)if(w===0)T.beforeEnter(x),n(x,p,y),Fe(()=>T.enter(x),_);else{const{leave:R,delayLeave:F,afterLeave:q}=T,X=()=>{h.ctx.isUnmounted?r(x):n(x,p,y)},ue=()=>{R(x,()=>{X(),q&&q()})};F?F(x,X,ue):ue()}else n(x,p,y)},$e=(h,p,y,w=!1,_=!1)=>{const{type:x,props:A,ref:T,children:C,dynamicChildren:S,shapeFlag:B,patchFlag:R,dirs:F,cacheIndex:q}=h;if(R===-2&&(_=!1),T!=null&&(vt(),xn(T,null,y,h,!0),bt()),q!=null&&(p.renderCache[q]=void 0),B&256){p.ctx.deactivate(h);return}const X=B&1&&F,ue=!us(h);let re;if(ue&&(re=A&&A.onVnodeBeforeUnmount)&&it(re,p,h),B&6)sn(h.component,y,w);else{if(B&128){h.suspense.unmount(y,w);return}X&&Nt(h,null,p,"beforeUnmount"),B&64?h.type.remove(h,p,y,L,w):S&&!S.hasOnce&&(x!==ce||R>0&&R&64)?Ve(S,p,y,!1,!0):(x===ce&&R&384||!_&&B&16)&&Ve(C,p,y),w&&Yt(h)}(ue&&(re=A&&A.onVnodeUnmounted)||X)&&Fe(()=>{re&&it(re,p,h),X&&Nt(h,null,p,"unmounted")},y)},Yt=h=>{const{type:p,el:y,anchor:w,transition:_}=h;if(p===ce){Qt(y,w);return}if(p===pn){I(h);return}const x=()=>{r(y),_&&!_.persisted&&_.afterLeave&&_.afterLeave()};if(h.shapeFlag&1&&_&&!_.persisted){const{leave:A,delayLeave:T}=_,C=()=>A(y,x);T?T(h.el,x,C):C()}else x()},Qt=(h,p)=>{let y;for(;h!==p;)y=m(h),r(h),h=y;r(p)},sn=(h,p,y)=>{const{bum:w,scope:_,job:x,subTree:A,um:T,m:C,a:S,parent:B,slots:{__:R}}=h;ki(C),ki(S),w&&dn(w),B&&H(R)&&R.forEach(F=>{B.renderCache[F]=void 0}),_.stop(),x&&(x.flags|=8,$e(A,h,p,y)),T&&Fe(T,p),Fe(()=>{h.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&h.asyncDep&&!h.asyncResolved&&h.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},Ve=(h,p,y,w=!1,_=!1,x=0)=>{for(let A=x;A<h.length;A++)$e(h[A],p,y,w,_)},v=h=>{if(h.shapeFlag&6)return v(h.component.subTree);if(h.shapeFlag&128)return h.suspense.next();const p=m(h.anchor||h.el),y=p&&p[rc];return y?m(y):p};let j=!1;const O=(h,p,y)=>{h==null?p._vnode&&$e(p._vnode,null,null,!0):k(p._vnode||null,h,p,null,null,null,y),p._vnode=h,j||(j=!0,yi(),Yo(),j=!1)},L={p:k,um:$e,m:nt,r:Yt,mt:Ss,mc:et,pc:Z,pbc:tt,n:v,o:t};let ee,me;return e&&([ee,me]=e(L)),{render:O,hydrate:ee,createApp:Ac(O,ee)}}function nr({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function Ft({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Dc(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function gl(t,e,s=!1){const n=t.children,r=e.children;if(H(n)&&H(r))for(let i=0;i<n.length;i++){const o=n[i];let l=r[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=r[i]=Rt(r[i]),l.el=o.el),!s&&l.patchFlag!==-2&&gl(o,l)),l.type===Fn&&(l.el=o.el),l.type===wt&&!l.el&&(l.el=o.el)}}function Lc(t){const e=t.slice(),s=[0];let n,r,i,o,l;const a=t.length;for(n=0;n<a;n++){const c=t[n];if(c!==0){if(r=s[s.length-1],t[r]<c){e[n]=r,s.push(n);continue}for(i=0,o=s.length-1;i<o;)l=i+o>>1,t[s[l]]<c?i=l+1:o=l;c<t[s[i]]&&(i>0&&(e[n]=s[i-1]),s[i]=n)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function yl(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:yl(e)}function ki(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Nc=Symbol.for("v-scx"),Fc=()=>_t(Nc);function hn(t,e,s){return _l(t,e,s)}function _l(t,e,s=ae){const{immediate:n,deep:r,flush:i,once:o}=s,l=xe({},s),a=e&&n||!e&&i!=="post";let c;if(Ws){if(i==="sync"){const g=Fc();c=g.__watcherHandles||(g.__watcherHandles=[])}else if(!a){const g=()=>{};return g.stop=Ye,g.resume=Ye,g.pause=Ye,g}}const u=Ae;l.call=(g,b,k)=>ct(g,u,b,k);let f=!1;i==="post"?l.scheduler=g=>{Fe(g,u&&u.suspense)}:i!=="sync"&&(f=!0,l.scheduler=(g,b)=>{b?g():Xr(g)}),l.augmentJob=g=>{e&&(g.flags|=4),f&&(g.flags|=2,u&&(g.id=u.uid,g.i=u))};const m=ec(t,e,l);return Ws&&(c?c.push(m):a&&m()),m}function Bc(t,e,s){const n=this.proxy,r=ve(t)?t.includes(".")?vl(n,t):()=>n[t]:t.bind(n,n);let i;K(e)?i=e:(i=e.handler,s=e);const o=Zs(this),l=_l(r,i.bind(n),s);return o(),l}function vl(t,e){const s=e.split(".");return()=>{let n=t;for(let r=0;r<s.length&&n;r++)n=n[s[r]];return n}}const Hc=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ke(e)}Modifiers`]||t[`${Wt(e)}Modifiers`];function Vc(t,e,...s){if(t.isUnmounted)return;const n=t.vnode.props||ae;let r=s;const i=e.startsWith("update:"),o=i&&Hc(n,e.slice(7));o&&(o.trim&&(r=s.map(u=>ve(u)?u.trim():u)),o.number&&(r=s.map(yn)));let l,a=n[l=Qn(e)]||n[l=Qn(Ke(e))];!a&&i&&(a=n[l=Qn(Wt(e))]),a&&ct(a,t,6,r);const c=n[l+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,ct(c,t,6,r)}}function bl(t,e,s=!1){const n=e.emitsCache,r=n.get(t);if(r!==void 0)return r;const i=t.emits;let o={},l=!1;if(!K(t)){const a=c=>{const u=bl(c,e,!0);u&&(l=!0,xe(o,u))};!s&&e.mixins.length&&e.mixins.forEach(a),t.extends&&a(t.extends),t.mixins&&t.mixins.forEach(a)}return!i&&!l?(pe(t)&&n.set(t,null),null):(H(i)?i.forEach(a=>o[a]=null):xe(o,i),pe(t)&&n.set(t,o),o)}function Nn(t,e){return!t||!Pn(e)?!1:(e=e.slice(2).replace(/Once$/,""),ne(t,e[0].toLowerCase()+e.slice(1))||ne(t,Wt(e))||ne(t,e))}function rr(t){const{type:e,vnode:s,proxy:n,withProxy:r,propsOptions:[i],slots:o,attrs:l,emit:a,render:c,renderCache:u,props:f,data:m,setupState:g,ctx:b,inheritAttrs:k}=t,$=wn(t);let M,U;try{if(s.shapeFlag&4){const I=r||n,J=I;M=at(c.call(J,I,u,f,g,m,b)),U=l}else{const I=e;M=at(I.length>1?I(f,{attrs:l,slots:o,emit:a}):I(f,null)),U=e.props?l:qc(l)}}catch(I){Us.length=0,Dn(I,t,1),M=V(wt)}let D=M;if(U&&k!==!1){const I=Object.keys(U),{shapeFlag:J}=D;I.length&&J&7&&(i&&I.some(Nr)&&(U=Kc(U,i)),D=ps(D,U,!1,!0))}return s.dirs&&(D=ps(D,null,!1,!0),D.dirs=D.dirs?D.dirs.concat(s.dirs):s.dirs),s.transition&&Zr(D,s.transition),M=D,wn($),M}const qc=t=>{let e;for(const s in t)(s==="class"||s==="style"||Pn(s))&&((e||(e={}))[s]=t[s]);return e},Kc=(t,e)=>{const s={};for(const n in t)(!Nr(n)||!(n.slice(9)in e))&&(s[n]=t[n]);return s};function zc(t,e,s){const{props:n,children:r,component:i}=t,{props:o,children:l,patchFlag:a}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&a>=0){if(a&1024)return!0;if(a&16)return n?Ei(n,o,c):!!o;if(a&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const m=u[f];if(o[m]!==n[m]&&!Nn(c,m))return!0}}}else return(r||l)&&(!l||!l.$stable)?!0:n===o?!1:n?o?Ei(n,o,c):!0:!!o;return!1}function Ei(t,e,s){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let r=0;r<n.length;r++){const i=n[r];if(e[i]!==t[i]&&!Nn(s,i))return!0}return!1}function Wc({vnode:t,parent:e},s){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=s,e=e.parent;else break}}const wl=t=>t.__isSuspense;function Gc(t,e){e&&e.pendingBranch?H(t)?e.effects.push(...t):e.effects.push(t):nc(t)}const ce=Symbol.for("v-fgt"),Fn=Symbol.for("v-txt"),wt=Symbol.for("v-cmt"),pn=Symbol.for("v-stc"),Us=[];let He=null;function E(t=!1){Us.push(He=t?null:[])}function Jc(){Us.pop(),He=Us[Us.length-1]||null}let Ks=1;function Ci(t,e=!1){Ks+=t,t<0&&He&&e&&(He.hasOnce=!0)}function xl(t){return t.dynamicChildren=Ks>0?He||is:null,Jc(),Ks>0&&He&&He.push(t),t}function P(t,e,s,n,r,i){return xl(d(t,e,s,n,r,i,!0))}function xt(t,e,s,n,r){return xl(V(t,e,s,n,r,!0))}function zs(t){return t?t.__v_isVNode===!0:!1}function Cs(t,e){return t.type===e.type&&t.key===e.key}const Sl=({key:t})=>t??null,mn=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?ve(t)||Pe(t)||K(t)?{i:Ee,r:t,k:e,f:!!s}:t:null);function d(t,e=null,s=null,n=0,r=null,i=t===ce?0:1,o=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Sl(e),ref:e&&mn(e),scopeId:Xo,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ee};return l?(ni(a,s),i&128&&t.normalize(a)):s&&(a.shapeFlag|=ve(s)?8:16),Ks>0&&!o&&He&&(a.patchFlag>0||i&6)&&a.patchFlag!==32&&He.push(a),a}const V=Yc;function Yc(t,e=null,s=null,n=0,r=null,i=!1){if((!t||t===_c)&&(t=wt),zs(t)){const l=ps(t,e,!0);return s&&ni(l,s),Ks>0&&!i&&He&&(l.shapeFlag&6?He[He.indexOf(t)]=l:He.push(l)),l.patchFlag=-2,l}if(au(t)&&(t=t.__vccOpts),e){e=Qc(e);let{class:l,style:a}=e;l&&!ve(l)&&(e.class=Vr(l)),pe(a)&&(Yr(a)&&!H(a)&&(a=xe({},a)),e.style=Hr(a))}const o=ve(t)?1:wl(t)?128:ic(t)?64:pe(t)?4:K(t)?2:0;return d(t,e,s,n,r,o,i,!0)}function Qc(t){return t?Yr(t)||ul(t)?xe({},t):t:null}function ps(t,e,s=!1,n=!1){const{props:r,ref:i,patchFlag:o,children:l,transition:a}=t,c=e?Zc(r||{},e):r,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Sl(c),ref:e&&e.ref?s&&i?H(i)?i.concat(mn(e)):[i,mn(e)]:mn(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ce?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:a,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ps(t.ssContent),ssFallback:t.ssFallback&&ps(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return a&&n&&Zr(u,a.clone(u)),u}function ie(t=" ",e=0){return V(Fn,null,t,e)}function Xc(t,e){const s=V(pn,null,t);return s.staticCount=e,s}function he(t="",e=!1){return e?(E(),xt(wt,null,t)):V(wt,null,t)}function at(t){return t==null||typeof t=="boolean"?V(wt):H(t)?V(ce,null,t.slice()):zs(t)?Rt(t):V(Fn,null,String(t))}function Rt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ps(t)}function ni(t,e){let s=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(H(e))s=16;else if(typeof e=="object")if(n&65){const r=e.default;r&&(r._c&&(r._d=!1),ni(t,r()),r._c&&(r._d=!0));return}else{s=32;const r=e._;!r&&!ul(e)?e._ctx=Ee:r===3&&Ee&&(Ee.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else K(e)?(e={default:e,_ctx:Ee},s=32):(e=String(e),n&64?(s=16,e=[ie(e)]):s=8);t.children=e,t.shapeFlag|=s}function Zc(...t){const e={};for(let s=0;s<t.length;s++){const n=t[s];for(const r in n)if(r==="class")e.class!==n.class&&(e.class=Vr([e.class,n.class]));else if(r==="style")e.style=Hr([e.style,n.style]);else if(Pn(r)){const i=e[r],o=n[r];o&&i!==o&&!(H(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=n[r])}return e}function it(t,e,s,n=null){ct(t,e,7,[s,n])}const eu=ll();let tu=0;function su(t,e,s){const n=t.type,r=(e?e.appContext:t.appContext)||eu,i={uid:tu++,vnode:t,type:n,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ca(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:fl(n,r),emitsOptions:bl(n,r),emit:null,emitted:null,propsDefaults:ae,inheritAttrs:n.inheritAttrs,ctx:ae,data:ae,props:ae,attrs:ae,slots:ae,refs:ae,setupState:ae,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Vc.bind(null,i),t.ce&&t.ce(i),i}let Ae=null,kn,kr;{const t=In(),e=(s,n)=>{let r;return(r=t[s])||(r=t[s]=[]),r.push(n),i=>{r.length>1?r.forEach(o=>o(i)):r[0](i)}};kn=e("__VUE_INSTANCE_SETTERS__",s=>Ae=s),kr=e("__VUE_SSR_SETTERS__",s=>Ws=s)}const Zs=t=>{const e=Ae;return kn(t),t.scope.on(),()=>{t.scope.off(),kn(e)}},Ti=()=>{Ae&&Ae.scope.off(),kn(null)};function kl(t){return t.vnode.shapeFlag&4}let Ws=!1;function nu(t,e=!1,s=!1){e&&kr(e);const{props:n,children:r}=t.vnode,i=kl(t);Pc(t,n,i,e),Ic(t,r,s||e);const o=i?ru(t,e):void 0;return e&&kr(!1),o}function ru(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,wc);const{setup:n}=s;if(n){vt();const r=t.setupContext=n.length>1?ou(t):null,i=Zs(t),o=Xs(n,t,0,[t.props,r]),l=So(o);if(bt(),i(),(l||t.sp)&&!us(t)&&el(t),l){if(o.then(Ti,Ti),e)return o.then(a=>{Ai(t,a,e)}).catch(a=>{Dn(a,t,0)});t.asyncDep=o}else Ai(t,o,e)}else El(t,e)}function Ai(t,e,s){K(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:pe(e)&&(t.setupState=Wo(e)),El(t,s)}let Pi;function El(t,e,s){const n=t.type;if(!t.render){if(!e&&Pi&&!n.render){const r=n.template||ei(t).template;if(r){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:l,compilerOptions:a}=n,c=xe(xe({isCustomElement:i,delimiters:l},o),a);n.render=Pi(r,c)}}t.render=n.render||Ye}{const r=Zs(t);vt();try{xc(t)}finally{bt(),r()}}}const iu={get(t,e){return Te(t,"get",""),t[e]}};function ou(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,iu),slots:t.slots,emit:t.emit,expose:e}}function Bn(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Wo(za(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Ms)return Ms[s](t)},has(e,s){return s in e||s in Ms}})):t.proxy}function lu(t,e=!0){return K(t)?t.displayName||t.name:t.name||e&&t.__name}function au(t){return K(t)&&"__vccOpts"in t}const Je=(t,e)=>Xa(t,e,Ws);function Cl(t,e,s){const n=arguments.length;return n===2?pe(e)&&!H(e)?zs(e)?V(t,null,[e]):V(t,e):V(t,null,e):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&zs(s)&&(s=[s]),V(t,e,s))}const cu="3.5.14";/**
* @vue/runtime-dom v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Er;const Oi=typeof window<"u"&&window.trustedTypes;if(Oi)try{Er=Oi.createPolicy("vue",{createHTML:t=>t})}catch{}const Tl=Er?t=>Er.createHTML(t):t=>t,uu="http://www.w3.org/2000/svg",du="http://www.w3.org/1998/Math/MathML",pt=typeof document<"u"?document:null,Ri=pt&&pt.createElement("template"),fu={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,n)=>{const r=e==="svg"?pt.createElementNS(uu,t):e==="mathml"?pt.createElementNS(du,t):s?pt.createElement(t,{is:s}):pt.createElement(t);return t==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:t=>pt.createTextNode(t),createComment:t=>pt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>pt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,n,r,i){const o=s?s.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),s),!(r===i||!(r=r.nextSibling)););else{Ri.innerHTML=Tl(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const l=Ri.content;if(n==="svg"||n==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}e.insertBefore(l,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},hu=Symbol("_vtc");function pu(t,e,s){const n=t[hu];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const En=Symbol("_vod"),Al=Symbol("_vsh"),$i={beforeMount(t,{value:e},{transition:s}){t[En]=t.style.display==="none"?"":t.style.display,s&&e?s.beforeEnter(t):Ts(t,e)},mounted(t,{value:e},{transition:s}){s&&e&&s.enter(t)},updated(t,{value:e,oldValue:s},{transition:n}){!e!=!s&&(n?e?(n.beforeEnter(t),Ts(t,!0),n.enter(t)):n.leave(t,()=>{Ts(t,!1)}):Ts(t,e))},beforeUnmount(t,{value:e}){Ts(t,e)}};function Ts(t,e){t.style.display=e?t[En]:"none",t[Al]=!e}const mu=Symbol(""),gu=/(^|;)\s*display\s*:/;function yu(t,e,s){const n=t.style,r=ve(s);let i=!1;if(s&&!r){if(e)if(ve(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();s[l]==null&&gn(n,l,"")}else for(const o in e)s[o]==null&&gn(n,o,"");for(const o in s)o==="display"&&(i=!0),gn(n,o,s[o])}else if(r){if(e!==s){const o=n[mu];o&&(s+=";"+o),n.cssText=s,i=gu.test(s)}}else e&&t.removeAttribute("style");En in t&&(t[En]=i?n.display:"",t[Al]&&(n.display="none"))}const Ii=/\s*!important$/;function gn(t,e,s){if(H(s))s.forEach(n=>gn(t,e,n));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const n=_u(t,e);Ii.test(s)?t.setProperty(Wt(n),s.replace(Ii,""),"important"):t[n]=s}}const ji=["Webkit","Moz","ms"],ir={};function _u(t,e){const s=ir[e];if(s)return s;let n=Ke(e);if(n!=="filter"&&n in t)return ir[e]=n;n=$n(n);for(let r=0;r<ji.length;r++){const i=ji[r]+n;if(i in t)return ir[e]=i}return e}const Mi="http://www.w3.org/1999/xlink";function Ui(t,e,s,n,r,i=Sa(e)){n&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(Mi,e.slice(6,e.length)):t.setAttributeNS(Mi,e,s):s==null||i&&!To(s)?t.removeAttribute(e):t.setAttribute(e,i?"":Xe(s)?String(s):s)}function Di(t,e,s,n,r){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?Tl(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?t.getAttribute("value")||"":t.value,a=s==null?t.type==="checkbox"?"on":"":String(s);(l!==a||!("_value"in t))&&(t.value=a),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const l=typeof t[e];l==="boolean"?s=To(s):s==null&&l==="string"?(s="",o=!0):l==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(r||e)}function qt(t,e,s,n){t.addEventListener(e,s,n)}function vu(t,e,s,n){t.removeEventListener(e,s,n)}const Li=Symbol("_vei");function bu(t,e,s,n,r=null){const i=t[Li]||(t[Li]={}),o=i[e];if(n&&o)o.value=n;else{const[l,a]=wu(e);if(n){const c=i[e]=ku(n,r);qt(t,l,c,a)}else o&&(vu(t,l,o,a),i[e]=void 0)}}const Ni=/(?:Once|Passive|Capture)$/;function wu(t){let e;if(Ni.test(t)){e={};let n;for(;n=t.match(Ni);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Wt(t.slice(2)),e]}let or=0;const xu=Promise.resolve(),Su=()=>or||(xu.then(()=>or=0),or=Date.now());function ku(t,e){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;ct(Eu(n,s.value),e,5,[n])};return s.value=t,s.attached=Su(),s}function Eu(t,e){if(H(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(n=>r=>!r._stopped&&n&&n(r))}else return e}const Fi=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Cu=(t,e,s,n,r,i)=>{const o=r==="svg";e==="class"?pu(t,n,o):e==="style"?yu(t,s,n):Pn(e)?Nr(e)||bu(t,e,s,n,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Tu(t,e,n,o))?(Di(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Ui(t,e,n,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!ve(n))?Di(t,Ke(e),n,i,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),Ui(t,e,n,o))};function Tu(t,e,s,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&Fi(e)&&K(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return Fi(e)&&ve(s)?!1:e in t}const Cn=t=>{const e=t.props["onUpdate:modelValue"]||!1;return H(e)?s=>dn(e,s):e};function Au(t){t.target.composing=!0}function Bi(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const fs=Symbol("_assign"),Q={created(t,{modifiers:{lazy:e,trim:s,number:n}},r){t[fs]=Cn(r);const i=n||r.props&&r.props.type==="number";qt(t,e?"change":"input",o=>{if(o.target.composing)return;let l=t.value;s&&(l=l.trim()),i&&(l=yn(l)),t[fs](l)}),s&&qt(t,"change",()=>{t.value=t.value.trim()}),e||(qt(t,"compositionstart",Au),qt(t,"compositionend",Bi),qt(t,"change",Bi))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:n,trim:r,number:i}},o){if(t[fs]=Cn(o),t.composing)return;const l=(i||t.type==="number")&&!/^0\d/.test(t.value)?yn(t.value):t.value,a=e??"";l!==a&&(document.activeElement===t&&t.type!=="range"&&(n&&e===s||r&&t.value.trim()===a)||(t.value=a))}},Cr={deep:!0,created(t,{value:e,modifiers:{number:s}},n){const r=On(e);qt(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>s?yn(Tn(o)):Tn(o));t[fs](t.multiple?r?new Set(i):i:i[0]),t._assigning=!0,Qr(()=>{t._assigning=!1})}),t[fs]=Cn(n)},mounted(t,{value:e}){Hi(t,e)},beforeUpdate(t,e,s){t[fs]=Cn(s)},updated(t,{value:e}){t._assigning||Hi(t,e)}};function Hi(t,e){const s=t.multiple,n=H(e);if(!(s&&!n&&!On(e))){for(let r=0,i=t.options.length;r<i;r++){const o=t.options[r],l=Tn(o);if(s)if(n){const a=typeof l;a==="string"||a==="number"?o.selected=e.some(c=>String(c)===String(l)):o.selected=Ea(e,l)>-1}else o.selected=e.has(l);else if(jn(Tn(o),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Tn(t){return"_value"in t?t._value:t.value}const Pu=["ctrl","shift","alt","meta"],Ou={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Pu.some(s=>t[`${s}Key`]&&!e.includes(s))},ut=(t,e)=>{const s=t._withMods||(t._withMods={}),n=e.join(".");return s[n]||(s[n]=(r,...i)=>{for(let o=0;o<e.length;o++){const l=Ou[e[o]];if(l&&l(r,e))return}return t(r,...i)})},Ru=xe({patchProp:Cu},fu);let Vi;function $u(){return Vi||(Vi=Mc(Ru))}const Iu=(...t)=>{const e=$u().createApp(...t),{mount:s}=e;return e.mount=n=>{const r=Mu(n);if(!r)return;const i=e._component;!K(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=s(r,!1,ju(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function ju(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Mu(t){return ve(t)?document.querySelector(t):t}const ye=(t,e)=>{const s=t.__vccOpts||t;for(const[n,r]of e)s[n]=r;return s},Uu={name:"App"};function Du(t,e,s,n,r,i){const o=oe("router-view");return E(),xt(o)}const Lu=ye(Uu,[["render",Du]]);/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const ns=typeof document<"u";function Pl(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Nu(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Pl(t.default)}const te=Object.assign;function lr(t,e){const s={};for(const n in e){const r=e[n];s[n]=Ze(r)?r.map(t):t(r)}return s}const Ds=()=>{},Ze=Array.isArray,Ol=/#/g,Fu=/&/g,Bu=/\//g,Hu=/=/g,Vu=/\?/g,Rl=/\+/g,qu=/%5B/g,Ku=/%5D/g,$l=/%5E/g,zu=/%60/g,Il=/%7B/g,Wu=/%7C/g,jl=/%7D/g,Gu=/%20/g;function ri(t){return encodeURI(""+t).replace(Wu,"|").replace(qu,"[").replace(Ku,"]")}function Ju(t){return ri(t).replace(Il,"{").replace(jl,"}").replace($l,"^")}function Tr(t){return ri(t).replace(Rl,"%2B").replace(Gu,"+").replace(Ol,"%23").replace(Fu,"%26").replace(zu,"`").replace(Il,"{").replace(jl,"}").replace($l,"^")}function Yu(t){return Tr(t).replace(Hu,"%3D")}function Qu(t){return ri(t).replace(Ol,"%23").replace(Vu,"%3F")}function Xu(t){return t==null?"":Qu(t).replace(Bu,"%2F")}function Gs(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Zu=/\/$/,ed=t=>t.replace(Zu,"");function ar(t,e,s="/"){let n,r={},i="",o="";const l=e.indexOf("#");let a=e.indexOf("?");return l<a&&l>=0&&(a=-1),a>-1&&(n=e.slice(0,a),i=e.slice(a+1,l>-1?l:e.length),r=t(i)),l>-1&&(n=n||e.slice(0,l),o=e.slice(l,e.length)),n=rd(n??e,s),{fullPath:n+(i&&"?")+i+o,path:n,query:r,hash:Gs(o)}}function td(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function qi(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function sd(t,e,s){const n=e.matched.length-1,r=s.matched.length-1;return n>-1&&n===r&&ms(e.matched[n],s.matched[r])&&Ml(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function ms(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Ml(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!nd(t[s],e[s]))return!1;return!0}function nd(t,e){return Ze(t)?Ki(t,e):Ze(e)?Ki(e,t):t===e}function Ki(t,e){return Ze(e)?t.length===e.length&&t.every((s,n)=>s===e[n]):t.length===1&&t[0]===e}function rd(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),n=t.split("/"),r=n[n.length-1];(r===".."||r===".")&&n.push("");let i=s.length-1,o,l;for(o=0;o<n.length;o++)if(l=n[o],l!==".")if(l==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+n.slice(o).join("/")}const Tt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Js;(function(t){t.pop="pop",t.push="push"})(Js||(Js={}));var Ls;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ls||(Ls={}));function id(t){if(!t)if(ns){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),ed(t)}const od=/^[^#]+#/;function ld(t,e){return t.replace(od,"#")+e}function ad(t,e){const s=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-s.left-(e.left||0),top:n.top-s.top-(e.top||0)}}const Hn=()=>({left:window.scrollX,top:window.scrollY});function cd(t){let e;if("el"in t){const s=t.el,n=typeof s=="string"&&s.startsWith("#"),r=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!r)return;e=ad(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function zi(t,e){return(history.state?history.state.position-e:-1)+t}const Ar=new Map;function ud(t,e){Ar.set(t,e)}function dd(t){const e=Ar.get(t);return Ar.delete(t),e}let fd=()=>location.protocol+"//"+location.host;function Ul(t,e){const{pathname:s,search:n,hash:r}=e,i=t.indexOf("#");if(i>-1){let l=r.includes(t.slice(i))?t.slice(i).length:1,a=r.slice(l);return a[0]!=="/"&&(a="/"+a),qi(a,"")}return qi(s,t)+n+r}function hd(t,e,s,n){let r=[],i=[],o=null;const l=({state:m})=>{const g=Ul(t,location),b=s.value,k=e.value;let $=0;if(m){if(s.value=g,e.value=m,o&&o===b){o=null;return}$=k?m.position-k.position:0}else n(g);r.forEach(M=>{M(s.value,b,{delta:$,type:Js.pop,direction:$?$>0?Ls.forward:Ls.back:Ls.unknown})})};function a(){o=s.value}function c(m){r.push(m);const g=()=>{const b=r.indexOf(m);b>-1&&r.splice(b,1)};return i.push(g),g}function u(){const{history:m}=window;m.state&&m.replaceState(te({},m.state,{scroll:Hn()}),"")}function f(){for(const m of i)m();i=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:a,listen:c,destroy:f}}function Wi(t,e,s,n=!1,r=!1){return{back:t,current:e,forward:s,replaced:n,position:window.history.length,scroll:r?Hn():null}}function pd(t){const{history:e,location:s}=window,n={value:Ul(t,s)},r={value:e.state};r.value||i(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(a,c,u){const f=t.indexOf("#"),m=f>-1?(s.host&&document.querySelector("base")?t:t.slice(f))+a:fd()+t+a;try{e[u?"replaceState":"pushState"](c,"",m),r.value=c}catch(g){console.error(g),s[u?"replace":"assign"](m)}}function o(a,c){const u=te({},e.state,Wi(r.value.back,a,r.value.forward,!0),c,{position:r.value.position});i(a,u,!0),n.value=a}function l(a,c){const u=te({},r.value,e.state,{forward:a,scroll:Hn()});i(u.current,u,!0);const f=te({},Wi(n.value,a,null),{position:u.position+1},c);i(a,f,!1),n.value=a}return{location:n,state:r,push:l,replace:o}}function md(t){t=id(t);const e=pd(t),s=hd(t,e.state,e.location,e.replace);function n(i,o=!0){o||s.pauseListeners(),history.go(i)}const r=te({location:"",base:t,go:n,createHref:ld.bind(null,t)},e,s);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function gd(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),md(t)}function yd(t){return typeof t=="string"||t&&typeof t=="object"}function Dl(t){return typeof t=="string"||typeof t=="symbol"}const Ll=Symbol("");var Gi;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Gi||(Gi={}));function gs(t,e){return te(new Error,{type:t,[Ll]:!0},e)}function ht(t,e){return t instanceof Error&&Ll in t&&(e==null||!!(t.type&e))}const Ji="[^/]+?",_d={sensitive:!1,strict:!1,start:!0,end:!0},vd=/[.+*?^${}()[\]/\\]/g;function bd(t,e){const s=te({},_d,e),n=[];let r=s.start?"^":"";const i=[];for(const c of t){const u=c.length?[]:[90];s.strict&&!c.length&&(r+="/");for(let f=0;f<c.length;f++){const m=c[f];let g=40+(s.sensitive?.25:0);if(m.type===0)f||(r+="/"),r+=m.value.replace(vd,"\\$&"),g+=40;else if(m.type===1){const{value:b,repeatable:k,optional:$,regexp:M}=m;i.push({name:b,repeatable:k,optional:$});const U=M||Ji;if(U!==Ji){g+=10;try{new RegExp(`(${U})`)}catch(I){throw new Error(`Invalid custom RegExp for param "${b}" (${U}): `+I.message)}}let D=k?`((?:${U})(?:/(?:${U}))*)`:`(${U})`;f||(D=$&&c.length<2?`(?:/${D})`:"/"+D),$&&(D+="?"),r+=D,g+=20,$&&(g+=-8),k&&(g+=-20),U===".*"&&(g+=-50)}u.push(g)}n.push(u)}if(s.strict&&s.end){const c=n.length-1;n[c][n[c].length-1]+=.7000000000000001}s.strict||(r+="/?"),s.end?r+="$":s.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,s.sensitive?"":"i");function l(c){const u=c.match(o),f={};if(!u)return null;for(let m=1;m<u.length;m++){const g=u[m]||"",b=i[m-1];f[b.name]=g&&b.repeatable?g.split("/"):g}return f}function a(c){let u="",f=!1;for(const m of t){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const g of m)if(g.type===0)u+=g.value;else if(g.type===1){const{value:b,repeatable:k,optional:$}=g,M=b in c?c[b]:"";if(Ze(M)&&!k)throw new Error(`Provided param "${b}" is an array but it is not repeatable (* or + modifiers)`);const U=Ze(M)?M.join("/"):M;if(!U)if($)m.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${b}"`);u+=U}}return u||"/"}return{re:o,score:n,keys:i,parse:l,stringify:a}}function wd(t,e){let s=0;for(;s<t.length&&s<e.length;){const n=e[s]-t[s];if(n)return n;s++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function Nl(t,e){let s=0;const n=t.score,r=e.score;for(;s<n.length&&s<r.length;){const i=wd(n[s],r[s]);if(i)return i;s++}if(Math.abs(r.length-n.length)===1){if(Yi(n))return 1;if(Yi(r))return-1}return r.length-n.length}function Yi(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const xd={type:0,value:""},Sd=/[a-zA-Z0-9_]/;function kd(t){if(!t)return[[]];if(t==="/")return[[xd]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${s})/"${c}": ${g}`)}let s=0,n=s;const r=[];let i;function o(){i&&r.push(i),i=[]}let l=0,a,c="",u="";function f(){c&&(s===0?i.push({type:0,value:c}):s===1||s===2||s===3?(i.length>1&&(a==="*"||a==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):e("Invalid state to consume buffer"),c="")}function m(){c+=a}for(;l<t.length;){if(a=t[l++],a==="\\"&&s!==2){n=s,s=4;continue}switch(s){case 0:a==="/"?(c&&f(),o()):a===":"?(f(),s=1):m();break;case 4:m(),s=n;break;case 1:a==="("?s=2:Sd.test(a)?m():(f(),s=0,a!=="*"&&a!=="?"&&a!=="+"&&l--);break;case 2:a===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+a:s=3:u+=a;break;case 3:f(),s=0,a!=="*"&&a!=="?"&&a!=="+"&&l--,u="";break;default:e("Unknown state");break}}return s===2&&e(`Unfinished custom RegExp for param "${c}"`),f(),o(),r}function Ed(t,e,s){const n=bd(kd(t.path),s),r=te(n,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function Cd(t,e){const s=[],n=new Map;e=eo({strict:!1,end:!0,sensitive:!1},e);function r(f){return n.get(f)}function i(f,m,g){const b=!g,k=Xi(f);k.aliasOf=g&&g.record;const $=eo(e,f),M=[k];if("alias"in f){const I=typeof f.alias=="string"?[f.alias]:f.alias;for(const J of I)M.push(Xi(te({},k,{components:g?g.record.components:k.components,path:J,aliasOf:g?g.record:k})))}let U,D;for(const I of M){const{path:J}=I;if(m&&J[0]!=="/"){const Se=m.record.path,ge=Se[Se.length-1]==="/"?"":"/";I.path=m.record.path+(J&&ge+J)}if(U=Ed(I,m,$),g?g.alias.push(U):(D=D||U,D!==U&&D.alias.push(U),b&&f.name&&!Zi(U)&&o(f.name)),Fl(U)&&a(U),k.children){const Se=k.children;for(let ge=0;ge<Se.length;ge++)i(Se[ge],U,g&&g.children[ge])}g=g||U}return D?()=>{o(D)}:Ds}function o(f){if(Dl(f)){const m=n.get(f);m&&(n.delete(f),s.splice(s.indexOf(m),1),m.children.forEach(o),m.alias.forEach(o))}else{const m=s.indexOf(f);m>-1&&(s.splice(m,1),f.record.name&&n.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function l(){return s}function a(f){const m=Pd(f,s);s.splice(m,0,f),f.record.name&&!Zi(f)&&n.set(f.record.name,f)}function c(f,m){let g,b={},k,$;if("name"in f&&f.name){if(g=n.get(f.name),!g)throw gs(1,{location:f});$=g.record.name,b=te(Qi(m.params,g.keys.filter(D=>!D.optional).concat(g.parent?g.parent.keys.filter(D=>D.optional):[]).map(D=>D.name)),f.params&&Qi(f.params,g.keys.map(D=>D.name))),k=g.stringify(b)}else if(f.path!=null)k=f.path,g=s.find(D=>D.re.test(k)),g&&(b=g.parse(k),$=g.record.name);else{if(g=m.name?n.get(m.name):s.find(D=>D.re.test(m.path)),!g)throw gs(1,{location:f,currentLocation:m});$=g.record.name,b=te({},m.params,f.params),k=g.stringify(b)}const M=[];let U=g;for(;U;)M.unshift(U.record),U=U.parent;return{name:$,path:k,params:b,matched:M,meta:Ad(M)}}t.forEach(f=>i(f));function u(){s.length=0,n.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:l,getRecordMatcher:r}}function Qi(t,e){const s={};for(const n of e)n in t&&(s[n]=t[n]);return s}function Xi(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:Td(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Td(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const n in t.components)e[n]=typeof s=="object"?s[n]:s;return e}function Zi(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Ad(t){return t.reduce((e,s)=>te(e,s.meta),{})}function eo(t,e){const s={};for(const n in t)s[n]=n in e?e[n]:t[n];return s}function Pd(t,e){let s=0,n=e.length;for(;s!==n;){const i=s+n>>1;Nl(t,e[i])<0?n=i:s=i+1}const r=Od(t);return r&&(n=e.lastIndexOf(r,n-1)),n}function Od(t){let e=t;for(;e=e.parent;)if(Fl(e)&&Nl(t,e)===0)return e}function Fl({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Rd(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<n.length;++r){const i=n[r].replace(Rl," "),o=i.indexOf("="),l=Gs(o<0?i:i.slice(0,o)),a=o<0?null:Gs(i.slice(o+1));if(l in e){let c=e[l];Ze(c)||(c=e[l]=[c]),c.push(a)}else e[l]=a}return e}function to(t){let e="";for(let s in t){const n=t[s];if(s=Yu(s),n==null){n!==void 0&&(e+=(e.length?"&":"")+s);continue}(Ze(n)?n.map(i=>i&&Tr(i)):[n&&Tr(n)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+s,i!=null&&(e+="="+i))})}return e}function $d(t){const e={};for(const s in t){const n=t[s];n!==void 0&&(e[s]=Ze(n)?n.map(r=>r==null?null:""+r):n==null?n:""+n)}return e}const Id=Symbol(""),so=Symbol(""),ii=Symbol(""),Bl=Symbol(""),Pr=Symbol("");function As(){let t=[];function e(n){return t.push(n),()=>{const r=t.indexOf(n);r>-1&&t.splice(r,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function $t(t,e,s,n,r,i=o=>o()){const o=n&&(n.enterCallbacks[r]=n.enterCallbacks[r]||[]);return()=>new Promise((l,a)=>{const c=m=>{m===!1?a(gs(4,{from:s,to:e})):m instanceof Error?a(m):yd(m)?a(gs(2,{from:e,to:m})):(o&&n.enterCallbacks[r]===o&&typeof m=="function"&&o.push(m),l())},u=i(()=>t.call(n&&n.instances[r],e,s,c));let f=Promise.resolve(u);t.length<3&&(f=f.then(c)),f.catch(m=>a(m))})}function cr(t,e,s,n,r=i=>i()){const i=[];for(const o of t)for(const l in o.components){let a=o.components[l];if(!(e!=="beforeRouteEnter"&&!o.instances[l]))if(Pl(a)){const u=(a.__vccOpts||a)[e];u&&i.push($t(u,s,n,o,l,r))}else{let c=a();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${l}" at "${o.path}"`);const f=Nu(u)?u.default:u;o.mods[l]=u,o.components[l]=f;const g=(f.__vccOpts||f)[e];return g&&$t(g,s,n,o,l,r)()}))}}return i}function no(t){const e=_t(ii),s=_t(Bl),n=Je(()=>{const a=as(t.to);return e.resolve(a)}),r=Je(()=>{const{matched:a}=n.value,{length:c}=a,u=a[c-1],f=s.matched;if(!u||!f.length)return-1;const m=f.findIndex(ms.bind(null,u));if(m>-1)return m;const g=ro(a[c-2]);return c>1&&ro(u)===g&&f[f.length-1].path!==g?f.findIndex(ms.bind(null,a[c-2])):m}),i=Je(()=>r.value>-1&&Ld(s.params,n.value.params)),o=Je(()=>r.value>-1&&r.value===s.matched.length-1&&Ml(s.params,n.value.params));function l(a={}){if(Dd(a)){const c=e[as(t.replace)?"replace":"push"](as(t.to)).catch(Ds);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:n,href:Je(()=>n.value.href),isActive:i,isExactActive:o,navigate:l}}function jd(t){return t.length===1?t[0]:t}const Md=Zo({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:no,setup(t,{slots:e}){const s=Un(no(t)),{options:n}=_t(ii),r=Je(()=>({[io(t.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[io(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=e.default&&jd(e.default(s));return t.custom?i:Cl("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:r.value},i)}}}),Ud=Md;function Dd(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Ld(t,e){for(const s in e){const n=e[s],r=t[s];if(typeof n=="string"){if(n!==r)return!1}else if(!Ze(r)||r.length!==n.length||n.some((i,o)=>i!==r[o]))return!1}return!0}function ro(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const io=(t,e,s)=>t??e??s,Nd=Zo({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const n=_t(Pr),r=Je(()=>t.route||n.value),i=_t(so,0),o=Je(()=>{let c=as(i);const{matched:u}=r.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),l=Je(()=>r.value.matched[o.value]);fn(so,Je(()=>o.value+1)),fn(Id,l),fn(Pr,r);const a=Wa();return hn(()=>[a.value,l.value,t.name],([c,u,f],[m,g,b])=>{u&&(u.instances[f]=c,g&&g!==u&&c&&c===m&&(u.leaveGuards.size||(u.leaveGuards=g.leaveGuards),u.updateGuards.size||(u.updateGuards=g.updateGuards))),c&&u&&(!g||!ms(u,g)||!m)&&(u.enterCallbacks[f]||[]).forEach(k=>k(c))},{flush:"post"}),()=>{const c=r.value,u=t.name,f=l.value,m=f&&f.components[u];if(!m)return oo(s.default,{Component:m,route:c});const g=f.props[u],b=g?g===!0?c.params:typeof g=="function"?g(c):g:null,$=Cl(m,te({},b,e,{onVnodeUnmounted:M=>{M.component.isUnmounted&&(f.instances[u]=null)},ref:a}));return oo(s.default,{Component:$,route:c})||$}}});function oo(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const Fd=Nd;function Bd(t){const e=Cd(t.routes,t),s=t.parseQuery||Rd,n=t.stringifyQuery||to,r=t.history,i=As(),o=As(),l=As(),a=Ga(Tt);let c=Tt;ns&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=lr.bind(null,v=>""+v),f=lr.bind(null,Xu),m=lr.bind(null,Gs);function g(v,j){let O,L;return Dl(v)?(O=e.getRecordMatcher(v),L=j):L=v,e.addRoute(L,O)}function b(v){const j=e.getRecordMatcher(v);j&&e.removeRoute(j)}function k(){return e.getRoutes().map(v=>v.record)}function $(v){return!!e.getRecordMatcher(v)}function M(v,j){if(j=te({},j||a.value),typeof v=="string"){const p=ar(s,v,j.path),y=e.resolve({path:p.path},j),w=r.createHref(p.fullPath);return te(p,y,{params:m(y.params),hash:Gs(p.hash),redirectedFrom:void 0,href:w})}let O;if(v.path!=null)O=te({},v,{path:ar(s,v.path,j.path).path});else{const p=te({},v.params);for(const y in p)p[y]==null&&delete p[y];O=te({},v,{params:f(p)}),j.params=f(j.params)}const L=e.resolve(O,j),ee=v.hash||"";L.params=u(m(L.params));const me=td(n,te({},v,{hash:Ju(ee),path:L.path})),h=r.createHref(me);return te({fullPath:me,hash:ee,query:n===to?$d(v.query):v.query||{}},L,{redirectedFrom:void 0,href:h})}function U(v){return typeof v=="string"?ar(s,v,a.value.path):te({},v)}function D(v,j){if(c!==v)return gs(8,{from:j,to:v})}function I(v){return ge(v)}function J(v){return I(te(U(v),{replace:!0}))}function Se(v){const j=v.matched[v.matched.length-1];if(j&&j.redirect){const{redirect:O}=j;let L=typeof O=="function"?O(v):O;return typeof L=="string"&&(L=L.includes("?")||L.includes("#")?L=U(L):{path:L},L.params={}),te({query:v.query,hash:v.hash,params:L.path!=null?{}:v.params},L)}}function ge(v,j){const O=c=M(v),L=a.value,ee=v.state,me=v.force,h=v.replace===!0,p=Se(O);if(p)return ge(te(U(p),{state:typeof p=="object"?te({},ee,p.state):ee,force:me,replace:h}),j||O);const y=O;y.redirectedFrom=j;let w;return!me&&sd(n,L,O)&&(w=gs(16,{to:y,from:L}),nt(L,L,!0,!1)),(w?Promise.resolve(w):tt(y,L)).catch(_=>ht(_)?ht(_,2)?_:Ct(_):Z(_,y,L)).then(_=>{if(_){if(ht(_,2))return ge(te({replace:h},U(_.to),{state:typeof _.to=="object"?te({},ee,_.to.state):ee,force:me}),j||y)}else _=Lt(y,L,!0,h,ee);return Et(y,L,_),_})}function et(v,j){const O=D(v,j);return O?Promise.reject(O):Promise.resolve()}function kt(v){const j=Qt.values().next().value;return j&&typeof j.runWithContext=="function"?j.runWithContext(v):v()}function tt(v,j){let O;const[L,ee,me]=Hd(v,j);O=cr(L.reverse(),"beforeRouteLeave",v,j);for(const p of L)p.leaveGuards.forEach(y=>{O.push($t(y,v,j))});const h=et.bind(null,v,j);return O.push(h),Ve(O).then(()=>{O=[];for(const p of i.list())O.push($t(p,v,j));return O.push(h),Ve(O)}).then(()=>{O=cr(ee,"beforeRouteUpdate",v,j);for(const p of ee)p.updateGuards.forEach(y=>{O.push($t(y,v,j))});return O.push(h),Ve(O)}).then(()=>{O=[];for(const p of me)if(p.beforeEnter)if(Ze(p.beforeEnter))for(const y of p.beforeEnter)O.push($t(y,v,j));else O.push($t(p.beforeEnter,v,j));return O.push(h),Ve(O)}).then(()=>(v.matched.forEach(p=>p.enterCallbacks={}),O=cr(me,"beforeRouteEnter",v,j,kt),O.push(h),Ve(O))).then(()=>{O=[];for(const p of o.list())O.push($t(p,v,j));return O.push(h),Ve(O)}).catch(p=>ht(p,8)?p:Promise.reject(p))}function Et(v,j,O){l.list().forEach(L=>kt(()=>L(v,j,O)))}function Lt(v,j,O,L,ee){const me=D(v,j);if(me)return me;const h=j===Tt,p=ns?history.state:{};O&&(L||h?r.replace(v.fullPath,te({scroll:h&&p&&p.scroll},ee)):r.push(v.fullPath,ee)),a.value=v,nt(v,j,O,h),Ct()}let st;function Ss(){st||(st=r.listen((v,j,O)=>{if(!sn.listening)return;const L=M(v),ee=Se(L);if(ee){ge(te(ee,{replace:!0,force:!0}),L).catch(Ds);return}c=L;const me=a.value;ns&&ud(zi(me.fullPath,O.delta),Hn()),tt(L,me).catch(h=>ht(h,12)?h:ht(h,2)?(ge(te(U(h.to),{force:!0}),L).then(p=>{ht(p,20)&&!O.delta&&O.type===Js.pop&&r.go(-1,!1)}).catch(Ds),Promise.reject()):(O.delta&&r.go(-O.delta,!1),Z(h,L,me))).then(h=>{h=h||Lt(L,me,!1),h&&(O.delta&&!ht(h,8)?r.go(-O.delta,!1):O.type===Js.pop&&ht(h,20)&&r.go(-1,!1)),Et(L,me,h)}).catch(Ds)}))}let Jt=As(),be=As(),le;function Z(v,j,O){Ct(v);const L=be.list();return L.length?L.forEach(ee=>ee(v,j,O)):console.error(v),Promise.reject(v)}function dt(){return le&&a.value!==Tt?Promise.resolve():new Promise((v,j)=>{Jt.add([v,j])})}function Ct(v){return le||(le=!v,Ss(),Jt.list().forEach(([j,O])=>v?O(v):j()),Jt.reset()),v}function nt(v,j,O,L){const{scrollBehavior:ee}=t;if(!ns||!ee)return Promise.resolve();const me=!O&&dd(zi(v.fullPath,0))||(L||!O)&&history.state&&history.state.scroll||null;return Qr().then(()=>ee(v,j,me)).then(h=>h&&cd(h)).catch(h=>Z(h,v,j))}const $e=v=>r.go(v);let Yt;const Qt=new Set,sn={currentRoute:a,listening:!0,addRoute:g,removeRoute:b,clearRoutes:e.clearRoutes,hasRoute:$,getRoutes:k,resolve:M,options:t,push:I,replace:J,go:$e,back:()=>$e(-1),forward:()=>$e(1),beforeEach:i.add,beforeResolve:o.add,afterEach:l.add,onError:be.add,isReady:dt,install(v){const j=this;v.component("RouterLink",Ud),v.component("RouterView",Fd),v.config.globalProperties.$router=j,Object.defineProperty(v.config.globalProperties,"$route",{enumerable:!0,get:()=>as(a)}),ns&&!Yt&&a.value===Tt&&(Yt=!0,I(r.location).catch(ee=>{}));const O={};for(const ee in Tt)Object.defineProperty(O,ee,{get:()=>a.value[ee],enumerable:!0});v.provide(ii,j),v.provide(Bl,qo(O)),v.provide(Pr,a);const L=v.unmount;Qt.add(v),v.unmount=function(){Qt.delete(v),Qt.size<1&&(c=Tt,st&&st(),st=null,a.value=Tt,Yt=!1,le=!1),L()}}};function Ve(v){return v.reduce((j,O)=>j.then(()=>kt(O)),Promise.resolve())}return sn}function Hd(t,e){const s=[],n=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const l=e.matched[o];l&&(t.matched.find(c=>ms(c,l))?n.push(l):s.push(l));const a=t.matched[o];a&&(e.matched.find(c=>ms(c,a))||r.push(a))}return[s,n,r]}const Vd={},qd={class:"flex items-center justify-between px-8 py-4 bg-white shadow"},Kd={class:"flex items-center space-x-4"};function zd(t,e){const s=oe("router-link");return E(),P("nav",qd,[e[3]||(e[3]=d("div",{class:"text-xl font-bold text-blue-600"},"Agenda Zen",-1)),d("div",Kd,[V(s,{to:"/buscar",class:"text-blue-600 hover:underline"},{default:_e(()=>e[0]||(e[0]=[ie("Buscar")])),_:1,__:[0]}),V(s,{to:"/login",class:"text-blue-600 hover:underline"},{default:_e(()=>e[1]||(e[1]=[ie("Login")])),_:1,__:[1]}),V(s,{to:"/cadastro",class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"},{default:_e(()=>e[2]||(e[2]=[ie("Cadastre-se")])),_:1,__:[2]})])])}const Wd=ye(Vd,[["render",zd]]),Hl="/agenda-zen/hero-illustration.png",Gd={name:"HeroBanner"},Jd={class:"text-center py-20"},Yd={class:"max-w-4xl mx-auto px-4"},Qd={class:"grid grid-cols-1 md:grid-cols-2 items-center gap-8"},Xd={class:"space-x-4"};function Zd(t,e,s,n,r,i){const o=oe("router-link");return E(),P("section",Jd,[d("div",Yd,[d("div",Qd,[d("div",null,[e[2]||(e[2]=d("h1",{class:"text-4xl font-bold text-blue-800 mb-4"},"Sua agenda digital simples e profissional",-1)),e[3]||(e[3]=d("p",{class:"text-gray-600 text-lg mb-6"},"Perfeita para psicólogos, terapeutas, dentistas, cabeleireiros e mais",-1)),d("div",Xd,[V(o,{to:"/login",class:"bg-white border border-blue-600 text-blue-600 px-6 py-2 rounded hover:bg-blue-100"},{default:_e(()=>e[0]||(e[0]=[ie("Entrar")])),_:1,__:[0]}),V(o,{to:"/cadastro",class:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700"},{default:_e(()=>e[1]||(e[1]=[ie("Criar conta")])),_:1,__:[1]})])]),e[4]||(e[4]=d("div",null,[d("img",{src:Hl,alt:"Ilustração profissional usando a plataforma",class:"w-full h-auto max-w-md mx-auto"})],-1))])])])}const ef=ye(Gd,[["render",Zd]]),tf="/agenda-zen/icons/calendar.svg",sf="/agenda-zen/icons/bell.svg",nf="/agenda-zen/icons/pix.svg",rf={name:"FeaturesSection"},of={class:"py-16 px-8 grid grid-cols-1 md:grid-cols-3 gap-8 text-center"};function lf(t,e,s,n,r,i){return E(),P("section",of,e[0]||(e[0]=[Xc('<div><img src="'+tf+'" alt="Ícone de calendário" class="mx-auto mb-4 w-12 h-12"><h3 class="text-xl font-semibold text-blue-700 mb-2">Agendamento online</h3><p class="text-gray-600">Permita que seus clientes agendem diretamente na sua página.</p></div><div><img src="'+sf+'" alt="Ícone de lembrete" class="mx-auto mb-4 w-12 h-12"><h3 class="text-xl font-semibold text-blue-700 mb-2">Lembretes automáticos</h3><p class="text-gray-600">Envie notificações de lembrete automaticamente.</p></div><div><img src="'+nf+'" alt="Ícone de Pix" class="mx-auto mb-4 w-12 h-12"><h3 class="text-xl font-semibold text-blue-700 mb-2">Pagamentos via Pix</h3><p class="text-gray-600">Aceite pagamentos via Pix de forma prática e segura.</p></div>',3)]))}const af=ye(rf,[["render",lf]]),cf="/agenda-zen/about-illustration.png",uf={name:"AboutSection"},df={class:"px-8 py-16"};function ff(t,e,s,n,r,i){return E(),P("section",df,e[0]||(e[0]=[d("div",{class:"max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 items-center"},[d("div",null,[d("img",{src:cf,alt:"Ilustração sobre agendamento",class:"w-full h-auto max-w-md mx-auto"})]),d("div",null,[d("h2",{class:"text-2xl font-bold mb-4"},"O que é o Agenda Zen?"),d("p",{class:"text-gray-700 text-lg"}," O Agenda Zen é uma plataforma pensada para profissionais que trabalham com agendamentos. Criamos uma solução simples, bonita e eficiente para divulgar seus serviços, aceitar agendamentos online, enviar lembretes automáticos e receber pagamentos por Pix — tudo sem complicação. ")])],-1)]))}const hf=ye(uf,[["render",ff]]),pf={name:"Footer"},mf={class:"bg-gray-100 text-center text-sm text-gray-500 py-6"};function gf(t,e,s,n,r,i){return E(),P("footer",mf,e[0]||(e[0]=[d("p",null,"© 2025 Agenda Zen — Todos os direitos reservados",-1),d("p",null,[d("a",{href:"#",class:"hover:underline"},"Termos de uso"),ie(" | "),d("a",{href:"#",class:"hover:underline"},"Política de privacidade")],-1)]))}const yf=ye(pf,[["render",gf]]),_f={name:"Home",components:{Navbar:Wd,HeroBanner:ef,FeaturesSection:af,AboutSection:hf,Footer:yf}};function vf(t,e,s,n,r,i){const o=oe("Navbar"),l=oe("HeroBanner"),a=oe("FeaturesSection"),c=oe("AboutSection"),u=oe("Footer");return E(),P(ce,null,[V(o),V(l),V(a),V(c),V(u)],64)}const bf=ye(_f,[["render",vf]]),wf="modulepreload",xf=function(t){return"/agenda-zen/"+t},lo={},ys=function(e,s,n){if(!s||s.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(s.map(i=>{if(i=xf(i),i in lo)return;lo[i]=!0;const o=i.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!n)for(let u=r.length-1;u>=0;u--){const f=r[u];if(f.href===i&&(!o||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":wf,o||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),o)return new Promise((u,f)=>{c.addEventListener("load",u),c.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},Sf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>ys(()=>Promise.resolve().then(()=>vs),void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)};class oi extends Error{constructor(e,s="FunctionsError",n){super(e),this.name=s,this.context=n}}class kf extends oi{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ef extends oi{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Cf extends oi{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Or;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Or||(Or={}));var Tf=globalThis&&globalThis.__awaiter||function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(u){try{c(n.next(u))}catch(f){o(f)}}function a(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):r(u.value).then(l,a)}c((n=n.apply(t,e||[])).next())})};class Af{constructor(e,{headers:s={},customFetch:n,region:r=Or.Any}={}){this.url=e,this.headers=s,this.region=r,this.fetch=Sf(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var n;return Tf(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:o}=s;let l={},{region:a}=s;a||(a=this.region),a&&a!=="any"&&(l["x-region"]=a);let c;o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(l["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(l["Content-Type"]="application/json",c=JSON.stringify(o)));const u=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),r),body:c}).catch(b=>{throw new kf(b)}),f=u.headers.get("x-relay-error");if(f&&f==="true")throw new Ef(u);if(!u.ok)throw new Cf(u);let m=((n=u.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return m==="application/json"?g=yield u.json():m==="application/octet-stream"?g=yield u.blob():m==="text/event-stream"?g=u:m==="multipart/form-data"?g=yield u.formData():g=yield u.text(),{data:g,error:null}}catch(r){return{data:null,error:r}}})}}var ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function i_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Pf(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(s,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}),s}var Me={},li={},Vn={},en={},qn={},Kn={},Of=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},_s=Of();const Rf=_s.fetch,Vl=_s.fetch.bind(_s),ql=_s.Headers,$f=_s.Request,If=_s.Response,vs=Object.freeze(Object.defineProperty({__proto__:null,Headers:ql,Request:$f,Response:If,default:Vl,fetch:Rf},Symbol.toStringTag,{value:"Module"})),jf=Pf(vs);var zn={};Object.defineProperty(zn,"__esModule",{value:!0});let Mf=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};zn.default=Mf;var Kl=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Kn,"__esModule",{value:!0});const Uf=Kl(jf),Df=Kl(zn);let Lf=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Uf.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,s){return this.headers=Object.assign({},this.headers),this.headers[e]=s,this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let r=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a;let c=null,u=null,f=null,m=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const M=await i.text();M===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=M:u=JSON.parse(M))}const k=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),$=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");k&&$&&$.length>1&&(f=parseInt($[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,m=406,g="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const k=await i.text();try{c=JSON.parse(k),Array.isArray(c)&&i.status===404&&(u=[],c=null,m=200,g="OK")}catch{i.status===404&&k===""?(m=204,g="No Content"):c={message:k}}if(c&&this.isMaybeSingle&&(!((a=c==null?void 0:c.details)===null||a===void 0)&&a.includes("0 rows"))&&(c=null,m=200,g="OK"),c&&this.shouldThrowOnError)throw new Df.default(c)}return{error:c,data:u,count:f,status:m,statusText:g}});return this.shouldThrowOnError||(r=r.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,s)}returns(){return this}overrideTypes(){return this}};Kn.default=Lf;var Nf=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(qn,"__esModule",{value:!0});const Ff=Nf(Kn);let Bf=class extends Ff.default{select(e){let s=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!s?"":(r==='"'&&(s=!s),r)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:s=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${s?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:n=s}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,s,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:s=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var l;const a=[e?"analyze":null,s?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${a};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};qn.default=Bf;var Hf=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(en,"__esModule",{value:!0});const Vf=Hf(qn);let qf=class extends Vf.default{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const n=Array.from(new Set(s)).map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,n])=>{this.url.searchParams.append(s,`eq.${n}`)}),this}not(e,s,n){return this.url.searchParams.append(e,`not.${s}.${n}`),this}or(e,{foreignTable:s,referencedTable:n=s}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,s,n){return this.url.searchParams.append(e,`${s}.${n}`),this}};en.default=qf;var Kf=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vn,"__esModule",{value:!0});const Ps=Kf(en);let zf=class{constructor(e,{headers:s={},schema:n,fetch:r}){this.url=e,this.headers=s,this.schema=n,this.fetch=r}select(e,{head:s=!1,count:n}={}){const r=s?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Ps.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:s,defaultToNull:n=!0}={}){const r="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ps.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:s,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&l.push(this.headers.Prefer),r&&l.push(`count=${r}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(e)){const a=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(a.length>0){const c=[...new Set(a)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Ps.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:s}={}){const n="PATCH",r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),s&&r.push(`count=${s}`),this.headers.Prefer=r.join(","),new Ps.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const s="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Ps.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Vn.default=zf;var Wn={},Gn={};Object.defineProperty(Gn,"__esModule",{value:!0});Gn.version=void 0;Gn.version="0.0.0-automated";Object.defineProperty(Wn,"__esModule",{value:!0});Wn.DEFAULT_HEADERS=void 0;const Wf=Gn;Wn.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Wf.version}`};var zl=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(li,"__esModule",{value:!0});const Gf=zl(Vn),Jf=zl(en),Yf=Wn;let Qf=class Wl{constructor(e,{headers:s={},schema:n,fetch:r}={}){this.url=e,this.headers=Object.assign(Object.assign({},Yf.DEFAULT_HEADERS),s),this.schemaName=n,this.fetch=r}from(e){const s=new URL(`${this.url}/${e}`);return new Gf.default(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Wl(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:n=!1,get:r=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${e}`);let a;n||r?(o=n?"HEAD":"GET",Object.entries(s).filter(([u,f])=>f!==void 0).map(([u,f])=>[u,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([u,f])=>{l.searchParams.append(u,f)})):(o="POST",a=s);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new Jf.default({method:o,url:l,headers:c,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};li.default=Qf;var bs=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Me,"__esModule",{value:!0});Me.PostgrestError=Me.PostgrestBuilder=Me.PostgrestTransformBuilder=Me.PostgrestFilterBuilder=Me.PostgrestQueryBuilder=Me.PostgrestClient=void 0;const Gl=bs(li);Me.PostgrestClient=Gl.default;const Jl=bs(Vn);Me.PostgrestQueryBuilder=Jl.default;const Yl=bs(en);Me.PostgrestFilterBuilder=Yl.default;const Ql=bs(qn);Me.PostgrestTransformBuilder=Ql.default;const Xl=bs(Kn);Me.PostgrestBuilder=Xl.default;const Zl=bs(zn);Me.PostgrestError=Zl.default;var Xf=Me.default={PostgrestClient:Gl.default,PostgrestQueryBuilder:Jl.default,PostgrestFilterBuilder:Yl.default,PostgrestTransformBuilder:Ql.default,PostgrestBuilder:Xl.default,PostgrestError:Zl.default};const{PostgrestClient:Zf,PostgrestQueryBuilder:d_,PostgrestFilterBuilder:f_,PostgrestTransformBuilder:h_,PostgrestBuilder:p_,PostgrestError:m_}=Xf,eh="2.11.2",th={"X-Client-Info":`realtime-js/${eh}`},sh="1.0.0",ea=1e4,nh=1e3;var hs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(hs||(hs={}));var Be;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Be||(Be={}));var Ge;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ge||(Ge={}));var Rr;(function(t){t.websocket="websocket"})(Rr||(Rr={}));var Kt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Kt||(Kt={}));class rh{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,s,n)}_decodeBroadcast(e,s,n){const r=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+r));o=o+r;const a=n.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:a,payload:c}}}class ta{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var de;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(de||(de={}));const ao=(t,e,s={})=>{var n;const r=(n=s.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=ih(o,t,e,r),i),{})},ih=(t,e,s,n)=>{const r=e.find(l=>l.name===t),i=r==null?void 0:r.type,o=s[t];return i&&!n.includes(i)?sa(i,o):$r(o)},sa=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return ch(e,s)}switch(t){case de.bool:return oh(e);case de.float4:case de.float8:case de.int2:case de.int4:case de.int8:case de.numeric:case de.oid:return lh(e);case de.json:case de.jsonb:return ah(e);case de.timestamp:return uh(e);case de.abstime:case de.date:case de.daterange:case de.int4range:case de.int8range:case de.money:case de.reltime:case de.text:case de.time:case de.timestamptz:case de.timetz:case de.tsrange:case de.tstzrange:return $r(e);default:return $r(e)}},$r=t=>t,oh=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},lh=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},ah=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},ch=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,n=t[s];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>sa(e,l))}return t},uh=t=>typeof t=="string"?t.replace(" ","T"):t,na=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class ur{constructor(e,s,n={},r=ea){this.channel=e,this.event=s,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var n;return this._hasReceived(e)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var co;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(co||(co={}));class Ns{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},r=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ns.syncState(this.state,r,i,o),this.pendingDiffs.forEach(a=>{this.state=Ns.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},r=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Ns.syncDiff(this.state,r,i,o),l())}),this.onJoin((r,i,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:o})}),this.onLeave((r,i,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,n,r){const i=this.cloneDeep(e),o=this.transformState(s),l={},a={};return this.map(i,(c,u)=>{o[c]||(a[c]=u)}),this.map(o,(c,u)=>{const f=i[c];if(f){const m=u.map($=>$.presence_ref),g=f.map($=>$.presence_ref),b=u.filter($=>g.indexOf($.presence_ref)<0),k=f.filter($=>m.indexOf($.presence_ref)<0);b.length>0&&(l[c]=b),k.length>0&&(a[c]=k)}else l[c]=u}),this.syncDiff(i,{joins:l,leaves:a},n,r)}static syncDiff(e,s,n,r){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,(l,a)=>{var c;const u=(c=e[l])!==null&&c!==void 0?c:[];if(e[l]=this.cloneDeep(a),u.length>0){const f=e[l].map(g=>g.presence_ref),m=u.filter(g=>f.indexOf(g.presence_ref)<0);e[l].unshift(...m)}n(l,u,a)}),this.map(o,(l,a)=>{let c=e[l];if(!c)return;const u=a.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),e[l]=c,r(l,c,a),c.length===0&&delete e[l]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(n=>s(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,n)=>{const r=e[n];return"metas"in r?s[n]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[n]=r,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var uo;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(uo||(uo={}));var fo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(fo||(fo={}));var mt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(mt||(mt={}));class ai{constructor(e,s={config:{}},n){this.topic=e,this.params=s,this.socket=n,this.bindings={},this.state=Be.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new ur(this,Ge.join,this.params,this.timeout),this.rejoinTimer=new ta(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Be.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Be.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ge.reply,{},(r,i)=>{this._trigger(this._replyEventName(i),r)}),this.presence=new Ns(this),this.broadcastEndpointURL=na(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var n,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(u=>e==null?void 0:e(mt.CHANNEL_ERROR,u)),this._onClose(()=>e==null?void 0:e(mt.CLOSED));const a={},c={broadcast:i,presence:o,postgres_changes:(r=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(u=>u.filter))!==null&&r!==void 0?r:[],private:l};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},a)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:u})=>{var f;if(this.socket.setAuth(),u===void 0){e==null||e(mt.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,g=(f=m==null?void 0:m.length)!==null&&f!==void 0?f:0,b=[];for(let k=0;k<g;k++){const $=m[k],{filter:{event:M,schema:U,table:D,filter:I}}=$,J=u&&u[k];if(J&&J.event===M&&J.schema===U&&J.table===D&&J.filter===I)b.push(Object.assign(Object.assign({},$),{id:J.id}));else{this.unsubscribe(),e==null||e(mt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(mt.SUBSCRIBED);return}}).receive("error",u=>{e==null||e(mt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(mt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,n){return this._on(e,s,n)}async send(e,s={}){var n,r;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(n=s.timeout)!==null&&n!==void 0?n:this.timeout);return await((r=c.body)===null||r===void 0?void 0:r.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const c=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Be.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ge.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const r=new ur(this,Ge.leave,{},e);r.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}async _fetchWithTimeout(e,s,n){const r=new AbortController,i=setTimeout(()=>r.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:r.signal}));return clearTimeout(i),o}_push(e,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new ur(this,e,s,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,s,n){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,n){var r,i;const o=e.toLocaleLowerCase(),{close:l,error:a,leave:c,join:u}=Ge;if(n&&[l,a,c,u].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,s,n);if(s&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(g=>{var b,k,$;return((b=g.filter)===null||b===void 0?void 0:b.event)==="*"||(($=(k=g.filter)===null||k===void 0?void 0:k.event)===null||$===void 0?void 0:$.toLocaleLowerCase())===o}).map(g=>g.callback(m,n)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var b,k,$,M,U,D;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const I=g.id,J=(b=g.filter)===null||b===void 0?void 0:b.event;return I&&((k=s.ids)===null||k===void 0?void 0:k.includes(I))&&(J==="*"||(J==null?void 0:J.toLocaleLowerCase())===(($=s.data)===null||$===void 0?void 0:$.type.toLocaleLowerCase()))}else{const I=(U=(M=g==null?void 0:g.filter)===null||M===void 0?void 0:M.event)===null||U===void 0?void 0:U.toLocaleLowerCase();return I==="*"||I===((D=s==null?void 0:s.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof m=="object"&&"ids"in m){const b=m.data,{schema:k,table:$,commit_timestamp:M,type:U,errors:D}=b;m=Object.assign(Object.assign({},{schema:k,table:$,commit_timestamp:M,eventType:U,new:{},old:{},errors:D}),this._getPayloadRecords(b))}g.callback(m,n)})}_isClosed(){return this.state===Be.closed}_isJoined(){return this.state===Be.joined}_isJoining(){return this.state===Be.joining}_isLeaving(){return this.state===Be.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,n){const r=e.toLocaleLowerCase(),i={type:r,filter:s,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,s){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&ai.isEqual(r.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const n in e)if(e[n]!==s[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ge.close,{},e)}_onError(e){this._on(Ge.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Be.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=ao(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=ao(e.columns,e.old_record)),s}}const dh=()=>{},fh=typeof WebSocket<"u",hh=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ph{constructor(e,s){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=th,this.params={},this.timeout=ea,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=dh,this.conn=null,this.sendBuffer=[],this.serializer=new rh,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>ys(()=>Promise.resolve().then(()=>vs),void 0).then(({default:a})=>a(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${Rr.websocket}`,this.httpEndpoint=na(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const r=(n=s==null?void 0:s.params)===null||n===void 0?void 0:n.apikey;if(r&&(this.accessTokenValue=r,this.apiKey=r),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ta(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(fh){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new mh(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ys(()=>import("./browser-ef26b05d.js").then(e=>e.b),[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:sh}))}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),e}log(e,s,n){this.logger(e,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case hs.connecting:return Kt.Connecting;case hs.open:return Kt.Open;case hs.closing:return Kt.Closing;default:return Kt.Closed}}isConnected(){return this.connectionState()===Kt.Open}channel(e,s={config:{}}){const n=new ai(`realtime:${e}`,s,this);return this.channels.push(n),n}push(e){const{topic:s,event:n,payload:r,ref:i}=e,o=()=>{this.encode(e,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${s} ${n} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let s=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(s){let n=null;try{n=JSON.parse(atob(s.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=s,this.channels.forEach(r=>{s&&r.updateJoinPayload({access_token:s}),r.joinedOnce&&r._isJoined()&&r._push(Ge.access_token,{access_token:s})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(nh,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:n,event:r,payload:i,ref:o}=s;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${r} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l._isMember(n)).forEach(l=>l._trigger(r,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(s))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ge.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(s);return`${e}${n}${r}`}_workerObjectUrl(e){let s;if(e)s=e;else{const n=new Blob([hh],{type:"application/javascript"});s=URL.createObjectURL(n)}return s}}class mh{constructor(e,s,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=hs.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class ci extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function we(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class gh extends ci{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ir extends ci{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var yh=globalThis&&globalThis.__awaiter||function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(u){try{c(n.next(u))}catch(f){o(f)}}function a(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):r(u.value).then(l,a)}c((n=n.apply(t,e||[])).next())})};const ra=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>ys(()=>Promise.resolve().then(()=>vs),void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},_h=()=>yh(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ys(()=>Promise.resolve().then(()=>vs),void 0)).Response:Response}),jr=t=>{if(Array.isArray(t))return t.map(s=>jr(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,n])=>{const r=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[r]=jr(n)}),e};var Gt=globalThis&&globalThis.__awaiter||function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(u){try{c(n.next(u))}catch(f){o(f)}}function a(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):r(u.value).then(l,a)}c((n=n.apply(t,e||[])).next())})};const dr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),vh=(t,e,s)=>Gt(void 0,void 0,void 0,function*(){const n=yield _h();t instanceof n&&!(s!=null&&s.noResolveJson)?t.json().then(r=>{e(new gh(dr(r),t.status||500))}).catch(r=>{e(new Ir(dr(r),r))}):e(new Ir(dr(t),t))}),bh=(t,e,s,n)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(r.body=JSON.stringify(n)),Object.assign(Object.assign({},r),s))};function tn(t,e,s,n,r,i){return Gt(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(s,bh(e,n,r,i)).then(a=>{if(!a.ok)throw a;return n!=null&&n.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>vh(a,l,n))})})}function An(t,e,s,n){return Gt(this,void 0,void 0,function*(){return tn(t,"GET",e,s,n)})}function It(t,e,s,n,r){return Gt(this,void 0,void 0,function*(){return tn(t,"POST",e,n,r,s)})}function wh(t,e,s,n,r){return Gt(this,void 0,void 0,function*(){return tn(t,"PUT",e,n,r,s)})}function xh(t,e,s,n){return Gt(this,void 0,void 0,function*(){return tn(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),n)})}function ia(t,e,s,n,r){return Gt(this,void 0,void 0,function*(){return tn(t,"DELETE",e,n,r,s)})}var Ie=globalThis&&globalThis.__awaiter||function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(u){try{c(n.next(u))}catch(f){o(f)}}function a(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):r(u.value).then(l,a)}c((n=n.apply(t,e||[])).next())})};const Sh={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ho={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class kh{constructor(e,s={},n,r){this.url=e,this.headers=s,this.bucketId=n,this.fetch=ra(r)}uploadOrUpdate(e,s,n,r){return Ie(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ho),r);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),r!=null&&r.headers&&(l=Object.assign(Object.assign({},l),r.headers));const c=this._removeEmptyFolders(s),u=this._getFinalPath(c),f=yield this.fetch(`${this.url}/object/${u}`,Object.assign({method:e,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),m=yield f.json();return f.ok?{data:{path:c,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(i){if(we(i))return{data:null,error:i};throw i}})}upload(e,s,n){return Ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,n)})}uploadToSignedUrl(e,s,n,r){return Ie(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",s);try{let a;const c=Object.assign({upsert:ho.upsert},r),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",c.cacheControl),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",c.cacheControl)):(a=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:a,headers:u}),m=yield f.json();return f.ok?{data:{path:i,fullPath:m.Key},error:null}:{data:null,error:m}}catch(a){if(we(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,s){return Ie(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const r=Object.assign({},this.headers);s!=null&&s.upsert&&(r["x-upsert"]="true");const i=yield It(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:r}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new ci("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}})}update(e,s,n){return Ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,n)})}move(e,s,n){return Ie(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}})}copy(e,s,n){return Ie(this,void 0,void 0,function*(){try{return{data:{path:(yield It(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}})}createSignedUrl(e,s,n){return Ie(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield It(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:s},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}})}createSignedUrls(e,s,n){return Ie(this,void 0,void 0,function*(){try{const r=yield It(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}})}download(e,s){return Ie(this,void 0,void 0,function*(){const r=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield An(this.fetch,`${this.url}/${r}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(we(l))return{data:null,error:l};throw l}})}info(e){return Ie(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const n=yield An(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:jr(n),error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}})}exists(e){return Ie(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield xh(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(we(n)&&n instanceof Ir){const r=n.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,s){const n=this._getFinalPath(e),r=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&r.push(i);const l=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});a!==""&&r.push(a);let c=r.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${c}`)}}}remove(e){return Ie(this,void 0,void 0,function*(){try{return{data:yield ia(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}})}list(e,s,n){return Ie(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},Sh),s),{prefix:e||""});return{data:yield It(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const Eh="2.7.1",Ch={"X-Client-Info":`storage-js/${Eh}`};var Zt=globalThis&&globalThis.__awaiter||function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(u){try{c(n.next(u))}catch(f){o(f)}}function a(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):r(u.value).then(l,a)}c((n=n.apply(t,e||[])).next())})};class Th{constructor(e,s={},n){this.url=e,this.headers=Object.assign(Object.assign({},Ch),s),this.fetch=ra(n)}listBuckets(){return Zt(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(we(e))return{data:null,error:e};throw e}})}getBucket(e){return Zt(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return Zt(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}})}updateBucket(e,s){return Zt(this,void 0,void 0,function*(){try{return{data:yield wh(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Zt(this,void 0,void 0,function*(){try{return{data:yield It(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}})}deleteBucket(e){return Zt(this,void 0,void 0,function*(){try{return{data:yield ia(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(we(s))return{data:null,error:s};throw s}})}}class Ah extends Th{constructor(e,s={},n){super(e,s,n)}from(e){return new kh(this.url,this.headers,e,this.fetch)}}const Ph="2.49.8";let Rs="";typeof Deno<"u"?Rs="deno":typeof document<"u"?Rs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Rs="react-native":Rs="node";const Oh={"X-Client-Info":`supabase-js-${Rs}/${Ph}`},Rh={headers:Oh},$h={schema:"public"},Ih={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jh={};var Mh=globalThis&&globalThis.__awaiter||function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(u){try{c(n.next(u))}catch(f){o(f)}}function a(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):r(u.value).then(l,a)}c((n=n.apply(t,e||[])).next())})};const Uh=t=>{let e;return t?e=t:typeof fetch>"u"?e=Vl:e=fetch,(...s)=>e(...s)},Dh=()=>typeof Headers>"u"?ql:Headers,Lh=(t,e,s)=>{const n=Uh(s),r=Dh();return(i,o)=>Mh(void 0,void 0,void 0,function*(){var l;const a=(l=yield e())!==null&&l!==void 0?l:t;let c=new r(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${a}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var Nh=globalThis&&globalThis.__awaiter||function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(u){try{c(n.next(u))}catch(f){o(f)}}function a(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):r(u.value).then(l,a)}c((n=n.apply(t,e||[])).next())})};function Fh(t){return t.endsWith("/")?t:t+"/"}function Bh(t,e){var s,n;const{db:r,auth:i,realtime:o,global:l}=t,{db:a,auth:c,realtime:u,global:f}=e,m={db:Object.assign(Object.assign({},a),r),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),o),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(s=f==null?void 0:f.headers)!==null&&s!==void 0?s:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Nh(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}const oa="2.69.1",rs=30*1e3,Mr=3,fr=Mr*rs,Hh="http://localhost:9999",Vh="supabase.auth.token",qh={"X-Client-Info":`gotrue-js/${oa}`},Ur="X-Supabase-Api-Version",la={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Kh=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,zh=6e5;class ui extends Error{constructor(e,s,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=n}}function z(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Wh extends ui{constructor(e,s,n){super(e,s,n),this.name="AuthApiError",this.status=s,this.code=n}}function Gh(t){return z(t)&&t.name==="AuthApiError"}class aa extends ui{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class Dt extends ui{constructor(e,s,n,r){super(e,n,r),this.name=s,this.status=n}}class At extends Dt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Jh(t){return z(t)&&t.name==="AuthSessionMissingError"}class hr extends Dt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ln extends Dt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class an extends Dt{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Yh(t){return z(t)&&t.name==="AuthImplicitGrantRedirectError"}class po extends Dt{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Dr extends Dt{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function pr(t){return z(t)&&t.name==="AuthRetryableFetchError"}class mo extends Dt{constructor(e,s,n){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=n}}class Fs extends Dt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const go="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),yo=` 	
\r=`.split(""),Qh=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<yo.length;e+=1)t[yo[e].charCodeAt(0)]=-2;for(let e=0;e<go.length;e+=1)t[go[e].charCodeAt(0)]=e;return t})();function ca(t,e,s){const n=Qh[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function _o(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},i=o=>{ep(o,n,s)};for(let o=0;o<t.length;o+=1)ca(t.charCodeAt(o),r,i);return e.join("")}function Xh(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Zh(t,e){for(let s=0;s<t.length;s+=1){let n=t.charCodeAt(s);if(n>55295&&n<=56319){const r=(n-55296)*1024&65535;n=(t.charCodeAt(s+1)-56320&65535|r)+65536,s+=1}Xh(n,e)}}function ep(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function tp(t){const e=[],s={queue:0,queuedBits:0},n=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)ca(t.charCodeAt(r),s,n);return new Uint8Array(e)}function sp(t){const e=[];return Zh(t,s=>e.push(s)),new Uint8Array(e)}function np(t){return Math.round(Date.now()/1e3)+t}function rp(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ot=()=>typeof window<"u"&&typeof document<"u",Bt={tested:!1,writable:!1},Bs=()=>{if(!ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bt.tested)return Bt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Bt.tested=!0,Bt.writable=!0}catch{Bt.tested=!0,Bt.writable=!1}return Bt.writable};function ip(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((r,i)=>{e[i]=r})}catch{}return s.searchParams.forEach((n,r)=>{e[r]=n}),e}const ua=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>ys(()=>Promise.resolve().then(()=>vs),void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},op=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",da=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},cn=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},un=async(t,e)=>{await t.removeItem(e)};class Jn{constructor(){this.promise=new Jn.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Jn.promiseConstructor=Promise;function mr(t){const e=t.split(".");if(e.length!==3)throw new Fs("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Kh.test(e[n]))throw new Fs("JWT not in base64url format");return{header:JSON.parse(_o(e[0])),payload:JSON.parse(_o(e[1])),signature:tp(e[2]),raw:{header:e[0],payload:e[1]}}}async function lp(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ap(t,e){return new Promise((n,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){r(o);return}}})()})}function cp(t){return("0"+t.toString(16)).substr(-2)}function up(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let r="";for(let i=0;i<56;i++)r+=s.charAt(Math.floor(Math.random()*n));return r}return crypto.getRandomValues(e),Array.from(e,cp).join("")}async function dp(t){const s=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",s),r=new Uint8Array(n);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}async function fp(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await dp(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function es(t,e,s=!1){const n=up();let r=n;s&&(r+="/PASSWORD_RECOVERY"),await da(t,`${e}-code-verifier`,r);const i=await fp(n);return[i,n===i?"plain":"s256"]}const hp=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function pp(t){const e=t.headers.get(Ur);if(!e||!e.match(hp))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function mp(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function gp(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var yp=globalThis&&globalThis.__rest||function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};const Vt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),_p=[502,503,504];async function vo(t){var e;if(!op(t))throw new Dr(Vt(t),0);if(_p.includes(t.status))throw new Dr(Vt(t),t.status);let s;try{s=await t.json()}catch(i){throw new aa(Vt(i),i)}let n;const r=pp(t);if(r&&r.getTime()>=la["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?n=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(n=s.error_code),n){if(n==="weak_password")throw new mo(Vt(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new At}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new mo(Vt(s),t.status,s.weak_password.reasons);throw new Wh(Vt(s),t.status||500,n)}const vp=(t,e,s,n)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(n),Object.assign(Object.assign({},r),s))};async function Y(t,e,s,n){var r;const i=Object.assign({},n==null?void 0:n.headers);i[Ur]||(i[Ur]=la["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(r=n==null?void 0:n.query)!==null&&r!==void 0?r:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await bp(t,e,s+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(a):{data:Object.assign({},a),error:null}}async function bp(t,e,s,n,r,i){const o=vp(e,n,r,i);let l;try{l=await t(s,Object.assign({},o))}catch(a){throw console.error(a),new Dr(Vt(a),0)}if(l.ok||await vo(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(a){await vo(a)}}function Pt(t){var e;let s=null;kp(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=np(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:n},error:null}}function bo(t){const e=Pt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function jt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function wp(t){return{data:t,error:null}}function xp(t){const{action_link:e,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i}=t,o=yp(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function Sp(t){return t}function kp(t){return t.access_token&&t.refresh_token&&t.expires_in}var Ep=globalThis&&globalThis.__rest||function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};class Cp{constructor({url:e="",headers:s={},fetch:n}){this.url=e,this.headers=s,this.fetch=ua(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s="global"){try{return await Y(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,s={}){try{return await Y(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:jt})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:s}=e,n=Ep(e,["options"]),r=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(r.new_email=n==null?void 0:n.newEmail,delete r.newEmail),await Y(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:xp,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(z(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await Y(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:jt})}catch(s){if(z(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,n,r,i,o,l,a;try{const c={nextPage:null,lastPage:0,total:0},u=await Y(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(i=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:Sp});if(u.error)throw u.error;const f=await u.json(),m=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(a=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return g.length>0&&(g.forEach(b=>{const k=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),$=JSON.parse(b.split(";")[1].split("=")[1]);c[`${$}Page`]=k}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(z(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await Y(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:jt})}catch(s){if(z(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){try{return await Y(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:jt})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,s=!1){try{return await Y(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:jt})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:s,error:n}=await Y(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:s,error:n}}catch(s){if(z(s))return{data:null,error:s};throw s}}async _deleteFactor(e){try{return{data:await Y(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(z(s))return{data:null,error:s};throw s}}}const Tp={getItem:t=>Bs()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Bs()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Bs()&&globalThis.localStorage.removeItem(t)}};function wo(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function Ap(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ts={debug:!!(globalThis&&Bs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fa extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Pp extends fa{}async function Op(t,e,s){ts.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ts.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async r=>{if(r){ts.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await s()}finally{ts.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw ts.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Pp(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ts.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}Ap();const Rp={url:Hh,storageKey:Vh,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qh,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function xo(t,e,s){return await s()}class Ys{constructor(e){var s,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ys.nextInstanceID,Ys.nextInstanceID+=1,this.instanceID>0&&ot()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},Rp),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new Cp({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=ua(r.fetch),this.lock=r.lock||xo,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:ot()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Op:this.lock=xo,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?r.storage?this.storage=r.storage:Bs()?this.storage=Tp:(this.memoryStorage={},this.storage=wo(this.memoryStorage)):(this.memoryStorage={},this.storage=wo(this.memoryStorage)),ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${oa}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=ip(window.location.href);let n="none";if(this._isImplicitGrantCallback(s)?n="implicit":await this._isPKCECallback(s)&&(n="pkce"),ot()&&this.detectSessionInUrl&&n!=="none"){const{data:r,error:i}=await this._getSessionFromURL(s,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Yh(i)){const a=(e=i.details)===null||e===void 0?void 0:e.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return z(s)?{error:s}:{error:new aa("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,n,r;try{const i=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:Pt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,n,r;try{let i;if("email"in e){const{email:u,password:f,options:m}=e;let g=null,b=null;this.flowType==="pkce"&&([g,b]=await es(this.storage,this.storageKey)),i=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:u,password:f,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:g,code_challenge_method:b},xform:Pt})}else if("phone"in e){const{phone:u,password:f,options:m}=e;i=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(r=m==null?void 0:m.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Pt})}else throw new ln("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(i){if(z(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:l}=e;s=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:bo})}else if("phone"in e){const{phone:i,password:o,options:l}=e;s=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:bo})}else throw new ln("You must provide either an email or phone number and a password");const{data:n,error:r}=s;return r?{data:{user:null,session:null},error:r}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new hr}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:r})}catch(s){if(z(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,n,r,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const s=await cn(this.storage,`${this.storageKey}-code-verifier`),[n,r]=(s??"").split("/");try{const{data:i,error:o}=await Y(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Pt});if(await un(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new hr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:r??null}),error:o})}catch(i){if(z(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:n,token:r,access_token:i,nonce:o}=e,l=await Y(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Pt}),{data:a,error:c}=l;return c?{data:{user:null,session:null},error:c}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new hr}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:c})}catch(s){if(z(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,n,r,i,o;try{if("email"in e){const{email:l,options:a}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await es(this.storage,this.storageKey));const{error:f}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(n=a==null?void 0:a.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:l,options:a}=e,{data:c,error:u}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(r=a==null?void 0:a.data)!==null&&r!==void 0?r:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new ln("You must provide either an email or phone number.")}catch(l){if(z(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var s,n;try{let r,i;"options"in e&&(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Y(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:Pt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,c=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:c,session:a},error:null}}catch(r){if(z(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var s,n,r;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await es(this.storage,this.storageKey)),await Y(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:wp})}catch(i){if(z(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:n}=e;if(n)throw n;if(!s)throw new At;const{error:r}=await Y(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(z(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:i}=e,{error:o}=await Y(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:r,options:i}=e,{data:o,error:l}=await Y(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new ln("You must provide either an email or phone number and a type")}catch(s){if(z(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await cn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<fr:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(a,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,c,u))})}return{data:{session:e},error:null}}const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:jt}):await this._useSession(async s=>{var n,r,i;const{data:o,error:l}=s;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new At}:await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0,xform:jt})})}catch(s){if(z(s))return Jh(s)&&(await this._removeSession(),await un(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async n=>{const{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new At;const o=r.session;let l=null,a=null;this.flowType==="pkce"&&e.email!=null&&([l,a]=await es(this.storage,this.storageKey));const{data:c,error:u}=await Y(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:jt});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(z(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new At;const s=Date.now()/1e3;let n=s,r=!0,i=null;const{payload:o}=mr(e.access_token);if(o.exp&&(n=o.exp,r=n<=s),r){const{session:l,error:a}=await this._callRefreshToken(e.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(z(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var n;if(!e){const{data:o,error:l}=s;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new At;const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(z(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!ot())throw new an("No browser detected.");if(e.error||e.error_description||e.error_code)throw new an(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new po("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new an("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new po("No code detected.");const{data:U,error:D}=await this._exchangeCodeForSession(e.code);if(D)throw D;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:U.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:c}=e;if(!i||!l||!o||!c)throw new an("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(l);let m=u+f;a&&(m=parseInt(a));const g=m-u;g*1e3<=rs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const b=m-f;u-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,m,u):u-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,m,u);const{data:k,error:$}=await this._getUser(i);if($)throw $;const M={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:f,expires_at:m,refresh_token:o,token_type:c,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:M,redirectType:e.type},error:null}}catch(n){if(z(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await cn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{error:i};const o=(n=r.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(Gh(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await un(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=rp(),n={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async s=>{var n,r;try{const{data:{session:i},error:o}=s;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let n=null,r=null;this.flowType==="pkce"&&([n,r]=await es(this.storage,this.storageKey,!0));try{return await Y(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(z(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(z(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:n,error:r}=await this._useSession(async i=>{var o,l,a,c,u;const{data:f,error:m}=i;if(m)throw m;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await Y(this.fetch,"GET",g,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(r)throw r;return ot()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(z(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)throw o;return await Y(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:void 0})})}catch(s){if(z(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await ap(async r=>(r>0&&await lp(200*Math.pow(2,r-1)),this._debug(s,"refreshing attempt",r),await Y(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Pt})),(r,i)=>{const o=200*Math.pow(2,r);return i&&pr(i)&&Date.now()+o-n<rs})}catch(n){if(this._debug(s,"error",n),z(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",n),ot()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await cn(this.storage,this.storageKey);if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const r=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<fr;if(this._debug(s,`session has${r?"":" not"} expired with margin of ${fr}s`),r){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),pr(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,n;if(!e)throw new At;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Jn;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new At;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(r,"error",i),z(i)){const o={session:null,error:i};return pr(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,s,n=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,s)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await da(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await un(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ot()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),rs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((n.expires_at*1e3-e)/rs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${rs}ms, refresh threshold is ${Mr} ticks`),r<=Mr&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof fa)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ot()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,n){const r=[`provider=${encodeURIComponent(s)}`];if(n!=null&&n.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await es(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);r.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;return i?{data:null,error:i}:await Y(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(z(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:c}=await Y(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((r=a==null?void 0:a.totp)===null||r===void 0)&&r.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(s){if(z(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:l}=await Y(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(s){if(z(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;return i?{data:null,error:i}:await Y(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(z(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const n=(e==null?void 0:e.factors)||[],r=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:r,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,n;const{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=mr(r.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((n=(s=r.user.factors)===null||s===void 0?void 0:s.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const u=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,s={keys:[]}){let n=s.keys.find(o=>o.kid===e);if(n||(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+zh>Date.now()))return n;const{data:r,error:i}=await Y(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!r.keys||r.keys.length===0)throw new Fs("JWKS is empty");if(this.jwks=r,this.jwks_cached_at=Date.now(),n=r.keys.find(o=>o.kid===e),!n)throw new Fs("No matching signing key found in JWKS");return n}async getClaims(e,s={keys:[]}){try{let n=e;if(!n){const{data:g,error:b}=await this.getSession();if(b||!g.session)return{data:null,error:b};n=g.session.access_token}const{header:r,payload:i,signature:o,raw:{header:l,payload:a}}=mr(n);if(mp(i.exp),!r.kid||r.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:i,header:r,signature:o},error:null}}const c=gp(r.alg),u=await this.fetchJwk(r.kid,s),f=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,o,sp(`${l}.${a}`)))throw new Fs("Invalid JWT signature");return{data:{claims:i,header:r,signature:o},error:null}}catch(n){if(z(n))return{data:null,error:n};throw n}}}Ys.nextInstanceID=0;const $p=Ys;class Ip extends $p{constructor(e){super(e)}}var jp=globalThis&&globalThis.__awaiter||function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function l(u){try{c(n.next(u))}catch(f){o(f)}}function a(u){try{c(n.throw(u))}catch(f){o(f)}}function c(u){u.done?i(u.value):r(u.value).then(l,a)}c((n=n.apply(t,e||[])).next())})};class Mp{constructor(e,s,n){var r,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const l=Fh(e),a=new URL(l);this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const c=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:$h,realtime:jh,auth:Object.assign(Object.assign({},Ih),{storageKey:c}),global:Rh},f=Bh(n??{},u);this.storageKey=(r=f.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(m,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=Lh(s,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Zf(new URL("rest/v1",a).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new Af(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Ah(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},n={}){return this.rest.rpc(e,s,n)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return jp(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(s=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:r,storageKey:i,flowType:o,lock:l,debug:a},c,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ip({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),c),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:r,flowType:o,lock:l,debug:a,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new ph(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,s,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Up=(t,e,s)=>new Mp(t,e,s),Dp="https://nivvbndswqkjnifvkauf.supabase.co",Lp="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5pdnZibmRzd3Fram5pZnZrYXVmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc4NTAzMzEsImV4cCI6MjA2MzQyNjMzMX0.UocPLAEg1htKV7ZivlqRR3GZhDDCNi1jSseGikVpYv4",G=Up(Dp,Lp),Np={name:"Signup",data(){return{email:"",password:""}},methods:{async handleSignup(){const{data:t,error:e}=await G.auth.signUp({email:this.email,password:this.password});alert(e?"Erro ao cadastrar: "+e.message:"Cadastro realizado! Verifique seu e-mail para ativar a conta.")}}},Fp={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-blue-100 px-4"},Bp={class:"bg-white p-10 rounded-2xl shadow-xl w-full max-w-lg"},Hp={class:"mt-6 text-center text-sm text-gray-500"};function Vp(t,e,s,n,r,i){const o=oe("router-link");return E(),P("section",Fp,[d("div",Bp,[e[8]||(e[8]=d("div",{class:"mb-8 text-center"},[d("h2",{class:"text-3xl font-extrabold text-blue-700"},"Crie sua conta"),d("p",{class:"text-gray-500"},"Comece agora a organizar seus atendimentos com praticidade")],-1)),d("form",{onSubmit:e[2]||(e[2]=ut((...l)=>i.handleSignup&&i.handleSignup(...l),["prevent"])),class:"space-y-5"},[d("div",null,[e[3]||(e[3]=d("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"email"},"E-mail",-1)),W(d("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>r.email=l),type:"email",id:"email",placeholder:"seu@email.com",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Q,r.email]])]),d("div",null,[e[4]||(e[4]=d("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"password"},"Senha",-1)),W(d("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>r.password=l),type:"password",id:"password",placeholder:"********",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Q,r.password]])]),e[5]||(e[5]=d("button",{type:"submit",class:"w-full bg-blue-600 text-white font-semibold py-3 rounded-lg hover:bg-blue-700 transition duration-200"},"Cadastrar",-1))],32),d("p",Hp,[e[7]||(e[7]=ie(" Já tem uma conta? ")),V(o,{to:"/login",class:"text-blue-600 hover:underline"},{default:_e(()=>e[6]||(e[6]=[ie("Entrar")])),_:1,__:[6]})])])])}const qp=ye(Np,[["render",Vp]]),Kp={name:"Login",data(){return{email:"",password:""}},methods:{async handleLogin(){const{data:t,error:e}=await G.auth.signInWithPassword({email:this.email,password:this.password});e?alert("Erro ao entrar: "+e.message):this.$router.push("/dashboard")},async handleGoogleLogin(){const{error:t}=await G.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/#/dashboard"}});t&&alert("Erro ao entrar com Google: "+t.message)}}},zp={class:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-100 to-blue-100 px-4"},Wp={class:"bg-white p-10 rounded-2xl shadow-xl w-full max-w-lg"},Gp={class:"mt-6 text-center text-sm text-gray-500"};function Jp(t,e,s,n,r,i){const o=oe("router-link");return E(),P("section",zp,[d("div",Wp,[e[9]||(e[9]=d("div",{class:"mb-8 text-center"},[d("h2",{class:"text-3xl font-extrabold text-blue-700"},"Entrar"),d("p",{class:"text-gray-500"},"Acesse sua conta do Agenda Zen")],-1)),d("form",{onSubmit:e[3]||(e[3]=ut((...l)=>i.handleLogin&&i.handleLogin(...l),["prevent"])),class:"space-y-5"},[d("div",null,[e[4]||(e[4]=d("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"email"},"E-mail",-1)),W(d("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>r.email=l),type:"email",id:"email",placeholder:"seu@email.com",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Q,r.email]])]),d("div",null,[e[5]||(e[5]=d("label",{class:"block text-sm font-medium text-gray-700 mb-1",for:"password"},"Senha",-1)),W(d("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>r.password=l),type:"password",id:"password",placeholder:"********",class:"w-full px-4 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Q,r.password]])]),e[6]||(e[6]=d("button",{type:"submit",class:"w-full bg-blue-600 text-white font-semibold py-3 rounded-lg hover:bg-blue-700 transition duration-200"},"Entrar",-1)),d("button",{type:"button",onClick:e[2]||(e[2]=(...l)=>i.handleGoogleLogin&&i.handleGoogleLogin(...l)),class:"w-full bg-red-500 text-white font-semibold py-3 rounded-lg hover:bg-red-600 transition duration-200"},"Entrar com Google")],32),d("p",Gp,[e[8]||(e[8]=ie(" Ainda não tem conta? ")),V(o,{to:"/cadastro",class:"text-blue-600 hover:underline"},{default:_e(()=>e[7]||(e[7]=[ie("Criar agora")])),_:1,__:[7]})])])])}const Yp=ye(Kp,[["render",Jp]]),Qp={name:"Sidebar"},Xp={class:"w-64 bg-white shadow-md h-screen p-6"},Zp={class:"space-y-4"};function em(t,e,s,n,r,i){const o=oe("router-link");return E(),P("aside",Xp,[e[6]||(e[6]=d("h2",{class:"text-2xl font-bold text-blue-600 mb-6"},"Agenda Zen",-1)),d("nav",Zp,[V(o,{to:"/dashboard",class:"block text-gray-700 hover:text-blue-600"},{default:_e(()=>e[0]||(e[0]=[ie("Início")])),_:1,__:[0]}),V(o,{to:"/clientes",class:"block text-gray-700 hover:text-blue-600"},{default:_e(()=>e[1]||(e[1]=[ie("Clientes")])),_:1,__:[1]}),V(o,{to:"/servicos",class:"block text-gray-700 hover:text-blue-600"},{default:_e(()=>e[2]||(e[2]=[ie("Serviços")])),_:1,__:[2]}),V(o,{to:"/agendamentos",class:"block text-gray-700 hover:text-blue-600"},{default:_e(()=>e[3]||(e[3]=[ie("Agendamentos")])),_:1,__:[3]}),V(o,{to:"/usuarios",class:"block text-gray-700 hover:text-blue-600"},{default:_e(()=>e[4]||(e[4]=[ie("Usuários")])),_:1,__:[4]}),V(o,{to:"/configuracao",class:"block text-gray-700 hover:text-blue-600"},{default:_e(()=>e[5]||(e[5]=[ie("Configurações")])),_:1,__:[5]})])])}const ws=ye(Qp,[["render",em]]),tm={name:"HeaderUser",props:{title:{type:String,default:"Agenda Zen"}},data(){return{userEmail:null}},async mounted(){const{data:{user:t}}=await G.auth.getUser();t?this.userEmail=t.email:this.$router.push("/login")},methods:{async handleLogout(){await G.auth.signOut(),this.$router.push("/login")}}},sm={class:"flex justify-between items-center mb-8"},nm={class:"text-2xl font-semibold text-gray-800"},rm={key:0,class:"flex items-center space-x-4"},im={class:"text-gray-600"};function om(t,e,s,n,r,i){return E(),P("header",sm,[d("h1",nm,N(s.title),1),r.userEmail?(E(),P("div",rm,[d("span",im,N(r.userEmail),1),d("button",{onClick:e[0]||(e[0]=(...o)=>i.handleLogout&&i.handleLogout(...o)),class:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600"},"Sair")])):he("",!0)])}const xs=ye(tm,[["render",om]]),lm={name:"Modal"},am={class:"bg-white p-6 rounded-lg shadow-lg w-full max-w-lg"};function cm(t,e,s,n,r,i){return E(),P("div",{class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e[0]||(e[0]=ut(o=>t.$emit("close"),["self"]))},[d("div",am,[bc(t.$slots,"default")])])}const Yn=ye(lm,[["render",cm]]),um={name:"Dashboard",components:{Sidebar:ws,HeaderUser:xs,Modal:Yn},data(){return{userId:null,stats:{week:0,month:0,clients:0,newClients:0},upcomingAppointments:[],clients:[],topClients:[],showClientModal:!1,showAppointmentModal:!1,clientForm:{name:"",email:"",phone:""},appointmentForm:{date:"",time:"",clientId:"",description:""}}},methods:{async fetchStats(){const t=new Date,e=t.getDay(),s=new Date(t);s.setDate(t.getDate()-e),s.setHours(0,0,0,0);const n=new Date(t);n.setDate(t.getDate()+(6-e)),n.setHours(23,59,59,999);const r=s.toISOString().split("T")[0],i=n.toISOString().split("T")[0],o=new Date(t.getFullYear(),t.getMonth(),1),l=new Date(t.getFullYear(),t.getMonth()+1,0);l.setHours(23,59,59,999);const a=o.toISOString().split("T")[0],c=l.toISOString().split("T")[0],{data:u}=await G.from("appointments").select().eq("user_id",this.userId).gte("date",r).lte("date",i);this.stats.week=u?u.length:0;const{data:f}=await G.from("appointments").select().eq("user_id",this.userId).gte("date",a).lte("date",c);this.stats.month=f?f.length:0;const{data:m}=await G.from("clients").select().eq("user_id",this.userId);m&&(this.stats.clients=m.length,this.clients=m,this.stats.newClients=m.filter(g=>{const b=new Date(g.created_at);return b>=o&&b<=l}).length),await this.fetchTopClients()},async fetchUpcomingAppointments(){const t=new Date().toISOString().split("T")[0],{data:e}=await G.from("appointments").select().eq("user_id",this.userId).gte("date",t).order("date",{ascending:!0}).order("time",{ascending:!0}).limit(5);this.upcomingAppointments=e||[]},async fetchTopClients(){const{data:t}=await G.from("appointments").select("client_id").eq("user_id",this.userId),e={};t&&t.forEach(n=>{e[n.client_id]=(e[n.client_id]||0)+1});const s=Object.entries(e).sort((n,r)=>r[1]-n[1]).slice(0,5);this.topClients=s.map(([n,r])=>({id:n,count:r,name:this.getClientName(n)}))},getClientName(t){const e=this.clients.find(s=>s.id===t);return e?e.name:""},async handleAddClient(){const{data:t,error:e}=await G.from("clients").insert({name:this.clientForm.name,email:this.clientForm.email,phone:this.clientForm.phone,user_id:this.userId}).select().single();if(e)alert("Erro ao salvar cliente: "+e.message);else{this.clients.push(t),this.clientForm={name:"",email:"",phone:""},this.stats.clients+=1;const s=new Date(t.created_at),n=new Date(s.getFullYear(),s.getMonth(),1),r=new Date(s.getFullYear(),s.getMonth()+1,0);r.setHours(23,59,59,999),s>=n&&s<=r&&(this.stats.newClients+=1),await this.fetchTopClients(),alert("Cliente cadastrado!")}},async handleAddAppointment(){const{data:t,error:e}=await G.from("appointments").insert({date:this.appointmentForm.date,time:this.appointmentForm.time,client_id:this.appointmentForm.clientId,description:this.appointmentForm.description,user_id:this.userId}).select().single();e?alert("Erro ao salvar agendamento: "+e.message):(this.upcomingAppointments.push(t),this.showAppointmentModal=!1,this.appointmentForm={date:"",time:"",clientId:"",description:""},this.stats.week+=1,this.stats.month+=1,await this.fetchTopClients())}},async mounted(){const{data:{user:t}}=await G.auth.getUser();if(!t){this.$router.push("/login");return}this.userId=t.id,await this.fetchStats(),await this.fetchUpcomingAppointments()}},dm={class:"min-h-screen flex bg-gray-50"},fm={class:"flex-1 p-8 space-y-8"},hm={class:"grid grid-cols-1 md:grid-cols-4 gap-6"},pm={class:"bg-white p-6 rounded-lg shadow-lg text-center"},mm={class:"text-2xl font-bold"},gm={class:"bg-white p-6 rounded-lg shadow-lg text-center"},ym={class:"text-2xl font-bold"},_m={class:"bg-white p-6 rounded-lg shadow-lg text-center"},vm={class:"text-2xl font-bold"},bm={class:"bg-white p-6 rounded-lg shadow-lg text-center"},wm={class:"text-2xl font-bold"},xm={class:"grid grid-cols-1 md:grid-cols-12 gap-6"},Sm={class:"md:col-span-8"},km={class:"flex items-center justify-between mb-4"},Em={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},Cm={class:"text-sm text-gray-600"},Tm={key:0,class:"text-gray-500 col-span-full"},Am={class:"md:col-span-4 space-y-4"},Pm={class:"bg-white p-4 rounded-lg shadow"},Om={class:"space-y-1"},Rm={key:0,class:"text-gray-500 text-sm"},$m={class:"flex justify-end space-x-2"},Im=["value"],jm={class:"flex justify-end space-x-2"};function Mm(t,e,s,n,r,i){const o=oe("Sidebar"),l=oe("HeaderUser"),a=oe("Modal");return E(),P("div",dm,[V(o),d("main",fm,[V(l,{title:"Dashboard"}),d("section",hm,[d("div",pm,[e[15]||(e[15]=d("p",{class:"text-sm text-gray-500"},"Agendamentos na semana",-1)),d("p",mm,N(r.stats.week),1)]),d("div",gm,[e[16]||(e[16]=d("p",{class:"text-sm text-gray-500"},"Agendamentos no mês",-1)),d("p",ym,N(r.stats.month),1)]),d("div",_m,[e[17]||(e[17]=d("p",{class:"text-sm text-gray-500"},"Clientes cadastrados",-1)),d("p",vm,N(r.stats.clients),1)]),d("div",bm,[e[18]||(e[18]=d("p",{class:"text-sm text-gray-500"},"Novos clientes no mês",-1)),d("p",wm,N(r.stats.newClients),1)])]),d("section",xm,[d("div",Sm,[d("div",km,[e[19]||(e[19]=d("h3",{class:"text-lg font-medium"},"Próximos agendamentos",-1)),d("button",{onClick:e[0]||(e[0]=c=>r.showAppointmentModal=!0),class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"},"Novo Agendamento")]),d("div",Em,[(E(!0),P(ce,null,Ue(r.upcomingAppointments,c=>(E(),P("div",{key:c.id,class:"p-4 bg-white rounded-lg shadow"},[d("strong",null,N(c.date)+" "+N(c.time),1),d("div",null,N(i.getClientName(c.client_id)),1),d("div",Cm,N(c.description),1)]))),128)),r.upcomingAppointments.length===0?(E(),P("p",Tm,"Nenhum agendamento")):he("",!0)])]),d("div",Am,[d("button",{onClick:e[1]||(e[1]=c=>r.showClientModal=!0),class:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 w-full"},"Novo Cliente"),d("div",Pm,[e[20]||(e[20]=d("h4",{class:"font-medium mb-2"},"Clientes com mais agendamentos",-1)),d("ul",Om,[(E(!0),P(ce,null,Ue(r.topClients,c=>(E(),P("li",{key:c.id,class:"flex justify-between"},[d("span",null,N(c.name),1),d("span",null,N(c.count),1)]))),128)),r.topClients.length===0?(E(),P("li",Rm,"Nenhum dado")):he("",!0)])])])]),r.showClientModal?(E(),xt(a,{key:0,onClose:e[7]||(e[7]=c=>r.showClientModal=!1)},{default:_e(()=>[e[25]||(e[25]=d("h3",{class:"text-lg font-semibold mb-4"},"Adicionar Cliente",-1)),d("form",{onSubmit:e[6]||(e[6]=ut((...c)=>i.handleAddClient&&i.handleAddClient(...c),["prevent"])),class:"space-y-4"},[d("div",null,[e[21]||(e[21]=d("label",{class:"block text-sm font-medium text-gray-700"},"Nome",-1)),W(d("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=c=>r.clientForm.name=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[Q,r.clientForm.name]])]),d("div",null,[e[22]||(e[22]=d("label",{class:"block text-sm font-medium text-gray-700"},"E-mail",-1)),W(d("input",{type:"email","onUpdate:modelValue":e[3]||(e[3]=c=>r.clientForm.email=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[Q,r.clientForm.email]])]),d("div",null,[e[23]||(e[23]=d("label",{class:"block text-sm font-medium text-gray-700"},"Telefone",-1)),W(d("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=c=>r.clientForm.phone=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[Q,r.clientForm.phone]])]),d("div",$m,[d("button",{type:"button",onClick:e[5]||(e[5]=c=>r.showClientModal=!1),class:"px-4 py-2 rounded border"},"Cancelar"),e[24]||(e[24]=d("button",{type:"submit",class:"bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700"},"Salvar",-1))])],32)]),_:1,__:[25]})):he("",!0),r.showAppointmentModal?(E(),xt(a,{key:1,onClose:e[14]||(e[14]=c=>r.showAppointmentModal=!1)},{default:_e(()=>[e[32]||(e[32]=d("h3",{class:"text-lg font-semibold mb-4"},"Adicionar Agendamento",-1)),d("form",{onSubmit:e[13]||(e[13]=ut((...c)=>i.handleAddAppointment&&i.handleAddAppointment(...c),["prevent"])),class:"space-y-4"},[d("div",null,[e[26]||(e[26]=d("label",{class:"block text-sm font-medium text-gray-700"},"Data",-1)),W(d("input",{type:"date","onUpdate:modelValue":e[8]||(e[8]=c=>r.appointmentForm.date=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[Q,r.appointmentForm.date]])]),d("div",null,[e[27]||(e[27]=d("label",{class:"block text-sm font-medium text-gray-700"},"Hora",-1)),W(d("input",{type:"time","onUpdate:modelValue":e[9]||(e[9]=c=>r.appointmentForm.time=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[Q,r.appointmentForm.time]])]),d("div",null,[e[29]||(e[29]=d("label",{class:"block text-sm font-medium text-gray-700"},"Cliente",-1)),W(d("select",{"onUpdate:modelValue":e[10]||(e[10]=c=>r.appointmentForm.clientId=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},[e[28]||(e[28]=d("option",{disabled:"",value:""},"Selecione um cliente",-1)),(E(!0),P(ce,null,Ue(r.clients,c=>(E(),P("option",{key:c.id,value:c.id},N(c.name),9,Im))),128))],512),[[Cr,r.appointmentForm.clientId]])]),d("div",null,[e[30]||(e[30]=d("label",{class:"block text-sm font-medium text-gray-700"},"Descrição",-1)),W(d("textarea",{"onUpdate:modelValue":e[11]||(e[11]=c=>r.appointmentForm.description=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[Q,r.appointmentForm.description]])]),d("div",jm,[d("button",{type:"button",onClick:e[12]||(e[12]=c=>r.showAppointmentModal=!1),class:"px-4 py-2 rounded border"},"Cancelar"),e[31]||(e[31]=d("button",{type:"submit",class:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700"},"Salvar",-1))])],32)]),_:1,__:[32]})):he("",!0)])])}const Um=ye(um,[["render",Mm]]),Dm={name:"Configuracao",components:{Sidebar:ws,HeaderUser:xs},data(){return{userId:null,slug:"",form:{businessName:"",description:"",phone:"",whatsapp:"",email:"",address:"",instagram:"",facebook:"",youtube:"",x:""}}},methods:{updateSlug(){this.slug=this.form.businessName.toLowerCase().normalize("NFD").replace(/\p{Diacritic}/gu,"").replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")},async handleSave(){const t={id:this.userId,business_name:this.form.businessName,slug:this.slug,description:this.form.description,phone:this.form.phone,whatsapp:this.form.whatsapp,email:this.form.email,address:this.form.address,instagram:this.form.instagram,facebook:this.form.facebook,youtube:this.form.youtube,x:this.form.x},{error:e}=await G.from("profiles").upsert(t,{onConflict:["id"]});alert(e?"Erro ao salvar dados: "+e.message:"Dados salvos com sucesso!")}},async mounted(){const{data:{user:t}}=await G.auth.getUser();if(!t){this.$router.push("/login");return}this.userId=t.id;const{data:e,error:s}=await G.from("profiles").select().eq("id",this.userId).single();e&&(this.form={businessName:e.business_name||"",description:e.description||"",phone:e.phone||"",whatsapp:e.whatsapp||"",email:e.email||"",address:e.address||"",instagram:e.instagram||"",facebook:e.facebook||"",youtube:e.youtube||"",x:e.x||""},this.updateSlug())}},Lm={class:"min-h-screen flex bg-gray-100"},Nm={class:"flex-1 p-8"},Fm={class:"text-sm text-gray-500 mt-1"},Bm={class:"font-mono"},Hm=["href"],Vm={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},qm={class:"grid grid-cols-1 md:grid-cols-2 gap-6"};function Km(t,e,s,n,r,i){const o=oe("Sidebar"),l=oe("HeaderUser");return E(),P("div",Lm,[V(o),d("main",Nm,[V(l,{title:"Configurações do Perfil"}),d("form",{onSubmit:e[11]||(e[11]=ut((...a)=>i.handleSave&&i.handleSave(...a),["prevent"])),class:"space-y-6 max-w-3xl"},[d("div",null,[e[13]||(e[13]=d("label",{class:"block text-sm font-medium text-gray-700"},"Nome Comercial",-1)),W(d("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>r.form.businessName=a),onInput:e[1]||(e[1]=(...a)=>i.updateSlug&&i.updateSlug(...a)),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,544),[[Q,r.form.businessName]]),d("p",Fm,[e[12]||(e[12]=ie(" Seu link público: ")),d("span",Bm,"/agenda-zen/#/"+N(r.slug),1),d("a",{href:"/agenda-zen/#/"+r.slug,target:"_blank",class:"text-blue-600 hover:underline ml-2"},"Abrir página do cliente",8,Hm)])]),d("div",null,[e[14]||(e[14]=d("label",{class:"block text-sm font-medium text-gray-700"},"Descrição do Estabelecimento",-1)),W(d("textarea",{"onUpdate:modelValue":e[2]||(e[2]=a=>r.form.description=a),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[Q,r.form.description]])]),d("div",Vm,[d("div",null,[e[15]||(e[15]=d("label",{class:"block text-sm font-medium text-gray-700"},"Telefone de Contato",-1)),W(d("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=a=>r.form.phone=a),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[Q,r.form.phone]])]),d("div",null,[e[16]||(e[16]=d("label",{class:"block text-sm font-medium text-gray-700"},"WhatsApp",-1)),W(d("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=a=>r.form.whatsapp=a),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[Q,r.form.whatsapp]])]),d("div",null,[e[17]||(e[17]=d("label",{class:"block text-sm font-medium text-gray-700"},"E-mail",-1)),W(d("input",{type:"email","onUpdate:modelValue":e[5]||(e[5]=a=>r.form.email=a),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[Q,r.form.email]])]),d("div",null,[e[18]||(e[18]=d("label",{class:"block text-sm font-medium text-gray-700"},"Endereço",-1)),W(d("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=a=>r.form.address=a),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[Q,r.form.address]])])]),d("div",qm,[d("div",null,[e[19]||(e[19]=d("label",{class:"block text-sm font-medium text-gray-700"},"Instagram",-1)),W(d("input",{type:"text","onUpdate:modelValue":e[7]||(e[7]=a=>r.form.instagram=a),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[Q,r.form.instagram]])]),d("div",null,[e[20]||(e[20]=d("label",{class:"block text-sm font-medium text-gray-700"},"Facebook",-1)),W(d("input",{type:"text","onUpdate:modelValue":e[8]||(e[8]=a=>r.form.facebook=a),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[Q,r.form.facebook]])]),d("div",null,[e[21]||(e[21]=d("label",{class:"block text-sm font-medium text-gray-700"},"YouTube",-1)),W(d("input",{type:"text","onUpdate:modelValue":e[9]||(e[9]=a=>r.form.youtube=a),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[Q,r.form.youtube]])]),d("div",null,[e[22]||(e[22]=d("label",{class:"block text-sm font-medium text-gray-700"},"X (Twitter)",-1)),W(d("input",{type:"text","onUpdate:modelValue":e[10]||(e[10]=a=>r.form.x=a),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[Q,r.form.x]])])]),e[23]||(e[23]=d("div",null,[d("button",{type:"submit",class:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700"},"Salvar")],-1))],32)])])}const zm=ye(Dm,[["render",Km]]),Wm={name:"Clientes",components:{Sidebar:ws,HeaderUser:xs,Modal:Yn},data(){return{userId:null,showModal:!1,search:"",form:{name:"",email:"",phone:""},clients:[]}},methods:{openModal(){this.showModal=!0},closeModal(){this.showModal=!1,this.form={name:"",email:"",phone:""}},formatPhone(t){return t.replace(/[^\d]/g,"")},whatsappLink(t){return`https://wa.me/${this.formatPhone(t)}`},async handleAddClient(){const{data:t,error:e}=await G.from("clients").insert({name:this.form.name,email:this.form.email,phone:this.form.phone,user_id:this.userId}).select().single();e?alert("Erro ao salvar cliente: "+e.message):(this.clients.push(t),this.closeModal())},async handleDeleteClient(t){const{error:e}=await G.from("clients").delete().eq("id",t);e?alert("Erro ao excluir cliente: "+e.message):this.clients=this.clients.filter(s=>s.id!==t)}},computed:{filteredClients(){const t=this.search.toLowerCase();return this.clients.filter(e=>e.name.toLowerCase().includes(t)||e.email.toLowerCase().includes(t)||e.phone.toLowerCase().includes(t))}},async mounted(){const{data:{user:t}}=await G.auth.getUser();if(!t){this.$router.push("/login");return}this.userId=t.id;const{data:e}=await G.from("clients").select().eq("user_id",this.userId);e&&(this.clients=e)}},Gm={class:"min-h-screen flex bg-gray-100"},Jm={class:"flex-1 p-8 space-y-6"},Ym={class:"bg-white p-6 rounded-lg shadow"},Qm={class:"flex justify-between items-center mb-4"},Xm={class:"flex items-center space-x-3"},Zm={class:"overflow-x-auto"},eg={class:"min-w-full text-left"},tg={class:"px-4 py-2"},sg={class:"px-4 py-2"},ng={class:"px-4 py-2"},rg={class:"px-4 py-2 text-right space-x-2"},ig=["href"],og=["onClick"],lg={key:0},ag={class:"flex justify-end space-x-2"};function cg(t,e,s,n,r,i){const o=oe("Sidebar"),l=oe("HeaderUser"),a=oe("Modal");return E(),P("div",Gm,[V(o),d("main",Jm,[V(l,{title:"Clientes"}),d("section",Ym,[d("div",Qm,[e[7]||(e[7]=d("h3",{class:"text-lg font-medium"},"Clientes cadastrados",-1)),d("div",Xm,[W(d("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>r.search=c),type:"text",placeholder:"Buscar...",class:"border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Q,r.search]]),d("button",{onClick:e[1]||(e[1]=(...c)=>i.openModal&&i.openModal(...c)),class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"}," Novo Cliente ")])]),d("div",Zm,[d("table",eg,[e[9]||(e[9]=d("thead",{class:"bg-gray-50"},[d("tr",null,[d("th",{class:"px-4 py-2 font-medium text-gray-700"},"Nome"),d("th",{class:"px-4 py-2 font-medium text-gray-700"},"E-mail"),d("th",{class:"px-4 py-2 font-medium text-gray-700"},"Telefone"),d("th",{class:"px-4 py-2"})])],-1)),d("tbody",null,[(E(!0),P(ce,null,Ue(i.filteredClients,c=>(E(),P("tr",{key:c.id,class:"border-b last:border-b-0"},[d("td",tg,N(c.name),1),d("td",sg,N(c.email),1),d("td",ng,N(c.phone),1),d("td",rg,[d("a",{href:i.whatsappLink(c.phone),target:"_blank",rel:"noopener",class:"text-green-600 hover:underline"}," WhatsApp ",8,ig),d("button",{onClick:u=>i.handleDeleteClient(c.id),class:"text-red-600 hover:underline"}," Excluir ",8,og)])]))),128)),i.filteredClients.length===0?(E(),P("tr",lg,e[8]||(e[8]=[d("td",{colspan:"4",class:"px-4 py-6 text-center text-gray-500"}," Nenhum cliente encontrado ",-1)]))):he("",!0)])])])]),r.showModal?(E(),xt(a,{key:0,onClose:i.closeModal},{default:_e(()=>[e[14]||(e[14]=d("h3",{class:"text-lg font-semibold mb-4"},"Adicionar Cliente",-1)),d("form",{onSubmit:e[6]||(e[6]=ut((...c)=>i.handleAddClient&&i.handleAddClient(...c),["prevent"])),class:"space-y-6"},[d("div",null,[e[10]||(e[10]=d("label",{class:"block text-sm font-medium text-gray-700"},"Nome",-1)),W(d("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=c=>r.form.name=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[Q,r.form.name]])]),d("div",null,[e[11]||(e[11]=d("label",{class:"block text-sm font-medium text-gray-700"},"E-mail",-1)),W(d("input",{type:"email","onUpdate:modelValue":e[3]||(e[3]=c=>r.form.email=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[Q,r.form.email]])]),d("div",null,[e[12]||(e[12]=d("label",{class:"block text-sm font-medium text-gray-700"},"Telefone",-1)),W(d("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=c=>r.form.phone=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[Q,r.form.phone]])]),d("div",ag,[d("button",{type:"button",onClick:e[5]||(e[5]=(...c)=>i.closeModal&&i.closeModal(...c)),class:"px-4 py-2 rounded border"},"Cancelar"),e[13]||(e[13]=d("button",{type:"submit",class:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700"},"Salvar",-1))])],32)]),_:1,__:[14]},8,["onClose"])):he("",!0)])])}const ug=ye(Wm,[["render",cg]]),dg={name:"CalendarView",props:{appointments:{type:Array,required:!0},getClientName:{type:Function,required:!0}},data(){const t=new Date;return{currentYear:t.getFullYear(),currentMonth:t.getMonth(),monthNames:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],daysOfWeek:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"]}},computed:{daysInMonth(){return new Date(this.currentYear,this.currentMonth+1,0).getDate()},leadingBlanks(){return new Date(this.currentYear,this.currentMonth,1).getDay()}},methods:{prevMonth(){this.currentMonth===0?(this.currentMonth=11,this.currentYear--):this.currentMonth--},nextMonth(){this.currentMonth===11?(this.currentMonth=0,this.currentYear++):this.currentMonth++},getAppointmentsForDay(t){const e=String(this.currentMonth+1).padStart(2,"0"),s=String(t).padStart(2,"0"),n=`${this.currentYear}-${e}-${s}`;return this.appointments.filter(r=>r.date===n)}}},fg={class:"flex justify-between items-center mb-2"},hg={class:"font-semibold"},pg={class:"grid grid-cols-7 gap-1 text-sm"},mg={class:"text-center font-medium"};function gg(t,e,s,n,r,i){return E(),P("div",null,[d("div",fg,[d("button",{onClick:e[0]||(e[0]=(...o)=>i.prevMonth&&i.prevMonth(...o)),class:"px-2"},"<"),d("div",hg,N(r.monthNames[r.currentMonth])+" "+N(r.currentYear),1),d("button",{onClick:e[1]||(e[1]=(...o)=>i.nextMonth&&i.nextMonth(...o)),class:"px-2"},">")]),d("div",pg,[(E(!0),P(ce,null,Ue(r.daysOfWeek,o=>(E(),P("div",{class:"font-semibold text-center",key:o},N(o),1))),128)),(E(!0),P(ce,null,Ue(i.leadingBlanks,o=>(E(),P("div",{key:"b"+o}))),128)),(E(!0),P(ce,null,Ue(i.daysInMonth,o=>(E(),P("div",{key:o,class:"border h-24 p-1 overflow-auto"},[d("div",mg,N(o),1),d("ul",null,[(E(!0),P(ce,null,Ue(i.getAppointmentsForDay(o),l=>(E(),P("li",{key:l.id,class:"text-xs truncate"},N(l.time)+" - "+N(s.getClientName(l.client_id)),1))),128))])]))),128))])])}const yg=ye(dg,[["render",gg]]),_g={name:"Agendamentos",components:{Sidebar:ws,HeaderUser:xs,Modal:Yn,CalendarView:yg},data(){return{userId:null,showModal:!1,editingId:null,viewMode:"list",form:{date:"",time:"",clientId:"",serviceId:"",duration:"",description:""},clients:[],services:[],appointments:[],searchQuery:"",sortColumn:"",sortAsc:!0,showViewDropdown:!1}},computed:{processedAppointments(){let t=this.appointments.slice();if(this.searchQuery){const e=this.searchQuery.toLowerCase();t=t.filter(s=>s.date.toLowerCase().includes(e)||s.time.toLowerCase().includes(e)||this.getClientName(s.client_id).toLowerCase().includes(e)||this.getServiceName(s.service_id).toLowerCase().includes(e)||s.description&&s.description.toLowerCase().includes(e))}return this.sortColumn&&t.sort((e,s)=>{let n,r;switch(this.sortColumn){case"client":n=this.getClientName(e.client_id),r=this.getClientName(s.client_id);break;case"service":n=this.getServiceName(e.service_id),r=this.getServiceName(s.service_id);break;default:n=e[this.sortColumn],r=s[this.sortColumn]}return n<r?this.sortAsc?-1:1:n>r?this.sortAsc?1:-1:0}),t}},methods:{openModal(t){t?(this.editingId=t.id,this.form={date:t.date,time:t.time,clientId:t.client_id,serviceId:t.service_id,duration:t.duration,description:t.description}):(this.editingId=null,this.form={date:"",time:"",clientId:"",serviceId:"",duration:"",description:""}),this.showModal=!0},closeModal(){this.showModal=!1,this.form={date:"",time:"",clientId:"",serviceId:"",duration:"",description:""},this.editingId=null},async handleSaveAppointment(){if(this.editingId){const{data:t,error:e}=await G.from("appointments").update({date:this.form.date,time:this.form.time,client_id:this.form.clientId,service_id:this.form.serviceId,duration:this.form.duration,description:this.form.description}).eq("id",this.editingId).select().single();if(e)alert("Erro ao atualizar agendamento: "+e.message);else{const s=this.appointments.findIndex(n=>n.id===this.editingId);s!==-1&&(this.appointments[s]=t),this.closeModal()}}else{const{data:t,error:e}=await G.from("appointments").insert({date:this.form.date,time:this.form.time,client_id:this.form.clientId,service_id:this.form.serviceId,duration:this.form.duration,description:this.form.description,user_id:this.userId}).select().single();e?alert("Erro ao salvar agendamento: "+e.message):(this.appointments.push(t),this.closeModal())}},async handleDeleteAppointment(t){const{error:e}=await G.from("appointments").delete().eq("id",t);e?alert("Erro ao excluir agendamento: "+e.message):this.appointments=this.appointments.filter(s=>s.id!==t)},getClientName(t){const e=this.clients.find(s=>s.id===t);return e?e.name:""},getServiceName(t){const e=this.services.find(s=>s.id===t);return e?e.name:""},sortBy(t){this.sortColumn===t?this.sortAsc=!this.sortAsc:(this.sortColumn=t,this.sortAsc=!0)},setViewMode(t){this.viewMode=t,this.showViewDropdown=!1}},watch:{"form.serviceId"(t){const e=this.services.find(s=>s.id===t);e&&(!this.editingId||this.form.duration==="")&&(this.form.duration=e.duration)}},async mounted(){const{data:{user:t}}=await G.auth.getUser();if(!t){this.$router.push("/login");return}this.userId=t.id;const{data:e}=await G.from("clients").select().eq("user_id",this.userId);e&&(this.clients=e);const{data:s}=await G.from("services").select().eq("user_id",this.userId);s&&(this.services=s);const{data:n}=await G.from("appointments").select().eq("user_id",this.userId);n&&(this.appointments=n)}},vg={class:"min-h-screen flex bg-gray-100"},bg={class:"flex-1 p-8"},wg={class:"flex items-center mb-4 space-x-2"},xg={class:"relative"},Sg={key:0,class:"absolute right-0 mt-2 w-32 bg-white border rounded shadow"},kg={class:"text-lg font-semibold mb-4"},Eg=["value"],Cg=["value"],Tg={class:"flex justify-end space-x-2"},Ag={class:"mt-8"},Pg={class:"bg-white p-6 rounded-lg shadow overflow-x-auto"},Og={class:"min-w-full text-left"},Rg={class:"bg-gray-50"},$g={key:0},Ig={key:0},jg={key:0},Mg={key:0},Ug={key:0},Dg={key:0},Lg={class:"px-4 py-2"},Ng={class:"px-4 py-2"},Fg={class:"px-4 py-2"},Bg={class:"px-4 py-2"},Hg={class:"px-4 py-2"},Vg={class:"px-4 py-2"},qg={class:"px-4 py-2 text-right"},Kg=["onClick"],zg=["onClick"],Wg={key:0},Gg={class:"mt-8"};function Jg(t,e,s,n,r,i){const o=oe("Sidebar"),l=oe("HeaderUser"),a=oe("Modal"),c=oe("CalendarView");return E(),P("div",vg,[V(o),d("main",bg,[V(l,{title:"Agendamentos"}),d("section",null,[d("div",wg,[W(d("input",{"onUpdate:modelValue":e[0]||(e[0]=u=>r.searchQuery=u),type:"text",placeholder:"Buscar...",class:"border px-3 py-2 rounded flex-grow max-w-xs"},null,512),[[Q,r.searchQuery]]),d("div",xg,[d("button",{onClick:e[1]||(e[1]=u=>r.showViewDropdown=!r.showViewDropdown),class:"px-4 py-2 bg-gray-200 rounded"},N(r.viewMode==="list"?"Lista":"Calendário"),1),r.showViewDropdown?(E(),P("div",Sg,[d("button",{onClick:e[2]||(e[2]=u=>i.setViewMode("list")),class:"block w-full text-left px-4 py-2 hover:bg-gray-100"},"Lista"),d("button",{onClick:e[3]||(e[3]=u=>i.setViewMode("calendar")),class:"block w-full text-left px-4 py-2 hover:bg-gray-100"},"Calendário")])):he("",!0)]),d("button",{onClick:e[4]||(e[4]=u=>i.openModal()),class:"ml-auto bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"},"Novo Agendamento")]),r.showModal?(E(),xt(a,{key:0,onClose:i.closeModal},{default:_e(()=>[d("h3",kg,N(r.editingId?"Editar Agendamento":"Adicionar Agendamento"),1),d("form",{onSubmit:e[12]||(e[12]=ut((...u)=>i.handleSaveAppointment&&i.handleSaveAppointment(...u),["prevent"])),class:"space-y-4"},[d("div",null,[e[19]||(e[19]=d("label",{class:"block text-sm font-medium text-gray-700"},"Data",-1)),W(d("input",{type:"date","onUpdate:modelValue":e[5]||(e[5]=u=>r.form.date=u),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[Q,r.form.date]])]),d("div",null,[e[20]||(e[20]=d("label",{class:"block text-sm font-medium text-gray-700"},"Hora",-1)),W(d("input",{type:"time","onUpdate:modelValue":e[6]||(e[6]=u=>r.form.time=u),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[Q,r.form.time]])]),d("div",null,[e[22]||(e[22]=d("label",{class:"block text-sm font-medium text-gray-700"},"Cliente",-1)),W(d("select",{"onUpdate:modelValue":e[7]||(e[7]=u=>r.form.clientId=u),class:"w-full mt-1 px-4 py-2 border rounded-md"},[e[21]||(e[21]=d("option",{disabled:"",value:""},"Selecione um cliente",-1)),(E(!0),P(ce,null,Ue(r.clients,u=>(E(),P("option",{key:u.id,value:u.id},N(u.name),9,Eg))),128))],512),[[Cr,r.form.clientId]])]),d("div",null,[e[24]||(e[24]=d("label",{class:"block text-sm font-medium text-gray-700"},"Serviço",-1)),W(d("select",{"onUpdate:modelValue":e[8]||(e[8]=u=>r.form.serviceId=u),class:"w-full mt-1 px-4 py-2 border rounded-md"},[e[23]||(e[23]=d("option",{disabled:"",value:""},"Selecione um serviço",-1)),(E(!0),P(ce,null,Ue(r.services,u=>(E(),P("option",{key:u.id,value:u.id},N(u.name),9,Cg))),128))],512),[[Cr,r.form.serviceId]])]),d("div",null,[e[25]||(e[25]=d("label",{class:"block text-sm font-medium text-gray-700"},"Duração (minutos)",-1)),W(d("input",{type:"text","onUpdate:modelValue":e[9]||(e[9]=u=>r.form.duration=u),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[Q,r.form.duration]])]),d("div",null,[e[26]||(e[26]=d("label",{class:"block text-sm font-medium text-gray-700"},"Descrição",-1)),W(d("textarea",{"onUpdate:modelValue":e[10]||(e[10]=u=>r.form.description=u),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[Q,r.form.description]])]),d("div",Tg,[d("button",{type:"button",onClick:e[11]||(e[11]=(...u)=>i.closeModal&&i.closeModal(...u)),class:"px-4 py-2 rounded border"},"Cancelar"),e[27]||(e[27]=d("button",{type:"submit",class:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700"},"Salvar",-1))])],32)]),_:1},8,["onClose"])):he("",!0),W(d("div",Ag,[e[36]||(e[36]=d("h3",{class:"text-lg font-medium mb-4"},"Agendamentos",-1)),d("div",Pg,[d("table",Og,[d("thead",Rg,[d("tr",null,[d("th",{onClick:e[13]||(e[13]=u=>i.sortBy("date")),class:"px-4 py-2 font-medium text-gray-700 cursor-pointer"},[e[28]||(e[28]=ie(" Data ")),r.sortColumn==="date"?(E(),P("span",$g,N(r.sortAsc?"▲":"▼"),1)):he("",!0)]),d("th",{onClick:e[14]||(e[14]=u=>i.sortBy("time")),class:"px-4 py-2 font-medium text-gray-700 cursor-pointer"},[e[29]||(e[29]=ie(" Hora ")),r.sortColumn==="time"?(E(),P("span",Ig,N(r.sortAsc?"▲":"▼"),1)):he("",!0)]),d("th",{onClick:e[15]||(e[15]=u=>i.sortBy("client")),class:"px-4 py-2 font-medium text-gray-700 cursor-pointer"},[e[30]||(e[30]=ie(" Cliente ")),r.sortColumn==="client"?(E(),P("span",jg,N(r.sortAsc?"▲":"▼"),1)):he("",!0)]),d("th",{onClick:e[16]||(e[16]=u=>i.sortBy("service")),class:"px-4 py-2 font-medium text-gray-700 cursor-pointer"},[e[31]||(e[31]=ie(" Serviço ")),r.sortColumn==="service"?(E(),P("span",Mg,N(r.sortAsc?"▲":"▼"),1)):he("",!0)]),d("th",{onClick:e[17]||(e[17]=u=>i.sortBy("duration")),class:"px-4 py-2 font-medium text-gray-700 cursor-pointer"},[e[32]||(e[32]=ie(" Duração ")),r.sortColumn==="duration"?(E(),P("span",Ug,N(r.sortAsc?"▲":"▼"),1)):he("",!0)]),d("th",{onClick:e[18]||(e[18]=u=>i.sortBy("description")),class:"px-4 py-2 font-medium text-gray-700 cursor-pointer"},[e[33]||(e[33]=ie(" Descrição ")),r.sortColumn==="description"?(E(),P("span",Dg,N(r.sortAsc?"▲":"▼"),1)):he("",!0)]),e[34]||(e[34]=d("th",{class:"px-4 py-2"},null,-1))])]),d("tbody",null,[(E(!0),P(ce,null,Ue(i.processedAppointments,u=>(E(),P("tr",{key:u.id,class:"border-b last:border-b-0"},[d("td",Lg,N(u.date),1),d("td",Ng,N(u.time),1),d("td",Fg,N(i.getClientName(u.client_id)),1),d("td",Bg,N(i.getServiceName(u.service_id)),1),d("td",Hg,N(u.duration),1),d("td",Vg,N(u.description),1),d("td",qg,[d("button",{onClick:f=>i.openModal(u),class:"text-blue-600 hover:underline"},"Editar",8,Kg),d("button",{onClick:f=>i.handleDeleteAppointment(u.id),class:"text-red-600 hover:underline ml-2"},"Excluir",8,zg)])]))),128)),i.processedAppointments.length===0?(E(),P("tr",Wg,e[35]||(e[35]=[d("td",{colspan:"7",class:"px-4 py-6 text-center text-gray-500"},"Nenhum agendamento encontrado",-1)]))):he("",!0)])])])],512),[[$i,r.viewMode==="list"]]),W(d("div",Gg,[e[37]||(e[37]=d("h3",{class:"text-lg font-medium mb-4"},"Calendário",-1)),V(c,{appointments:r.appointments,getClientName:i.getClientName},null,8,["appointments","getClientName"])],512),[[$i,r.viewMode==="calendar"]])])])])}const Yg=ye(_g,[["render",Jg]]),Qg={name:"Servicos",components:{Sidebar:ws,HeaderUser:xs,Modal:Yn},data(){return{userId:null,showModal:!1,search:"",form:{name:"",description:"",duration:""},services:[]}},methods:{openModal(){this.showModal=!0},closeModal(){this.showModal=!1,this.form={name:"",description:"",duration:""}},async handleAddService(){const{data:t,error:e}=await G.from("services").insert({name:this.form.name,description:this.form.description,duration:this.form.duration,user_id:this.userId}).select().single();e?alert("Erro ao salvar serviço: "+e.message):(this.services.push(t),this.closeModal())},async handleDeleteService(t){const{error:e}=await G.from("services").delete().eq("id",t);e?alert("Erro ao excluir serviço: "+e.message):this.services=this.services.filter(s=>s.id!==t)}},computed:{filteredServices(){const t=this.search.toLowerCase();return this.services.filter(e=>e.name.toLowerCase().includes(t)||(e.description||"").toLowerCase().includes(t)||(e.duration||"").toLowerCase().includes(t))}},async mounted(){const{data:{user:t}}=await G.auth.getUser();if(!t){this.$router.push("/login");return}this.userId=t.id;const{data:e}=await G.from("services").select().eq("user_id",this.userId);e&&(this.services=e)}},Xg={class:"min-h-screen flex bg-gray-100"},Zg={class:"flex-1 p-8 space-y-6"},ey={class:"bg-white p-6 rounded-lg shadow"},ty={class:"flex justify-between items-center mb-4"},sy={class:"flex items-center space-x-3"},ny={class:"overflow-x-auto"},ry={class:"min-w-full text-left"},iy={class:"px-4 py-2"},oy={class:"px-4 py-2"},ly={class:"px-4 py-2"},ay={class:"px-4 py-2 text-right"},cy=["onClick"],uy={key:0},dy={class:"flex justify-end space-x-2"};function fy(t,e,s,n,r,i){const o=oe("Sidebar"),l=oe("HeaderUser"),a=oe("Modal");return E(),P("div",Xg,[V(o),d("main",Zg,[V(l,{title:"Serviços"}),d("section",ey,[d("div",ty,[e[7]||(e[7]=d("h3",{class:"text-lg font-medium"},"Serviços cadastrados",-1)),d("div",sy,[W(d("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>r.search=c),type:"text",placeholder:"Buscar...",class:"border rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[Q,r.search]]),d("button",{onClick:e[1]||(e[1]=(...c)=>i.openModal&&i.openModal(...c)),class:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"}," Novo Serviço ")])]),d("div",ny,[d("table",ry,[e[9]||(e[9]=d("thead",{class:"bg-gray-50"},[d("tr",null,[d("th",{class:"px-4 py-2 font-medium text-gray-700"},"Nome"),d("th",{class:"px-4 py-2 font-medium text-gray-700"},"Descrição"),d("th",{class:"px-4 py-2 font-medium text-gray-700"},"Duração"),d("th",{class:"px-4 py-2"})])],-1)),d("tbody",null,[(E(!0),P(ce,null,Ue(i.filteredServices,c=>(E(),P("tr",{key:c.id,class:"border-b last:border-b-0"},[d("td",iy,N(c.name),1),d("td",oy,N(c.description),1),d("td",ly,N(c.duration),1),d("td",ay,[d("button",{onClick:u=>i.handleDeleteService(c.id),class:"text-red-600 hover:underline"}," Excluir ",8,cy)])]))),128)),i.filteredServices.length===0?(E(),P("tr",uy,e[8]||(e[8]=[d("td",{colspan:"4",class:"px-4 py-6 text-center text-gray-500"}," Nenhum serviço encontrado ",-1)]))):he("",!0)])])])]),r.showModal?(E(),xt(a,{key:0,onClose:i.closeModal},{default:_e(()=>[e[14]||(e[14]=d("h3",{class:"text-lg font-semibold mb-4"},"Adicionar Serviço",-1)),d("form",{onSubmit:e[6]||(e[6]=ut((...c)=>i.handleAddService&&i.handleAddService(...c),["prevent"])),class:"space-y-6"},[d("div",null,[e[10]||(e[10]=d("label",{class:"block text-sm font-medium text-gray-700"},"Nome",-1)),W(d("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=c=>r.form.name=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[Q,r.form.name]])]),d("div",null,[e[11]||(e[11]=d("label",{class:"block text-sm font-medium text-gray-700"},"Descrição",-1)),W(d("textarea",{"onUpdate:modelValue":e[3]||(e[3]=c=>r.form.description=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[Q,r.form.description]])]),d("div",null,[e[12]||(e[12]=d("label",{class:"block text-sm font-medium text-gray-700"},"Tempo de duração",-1)),W(d("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=c=>r.form.duration=c),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[Q,r.form.duration]])]),d("div",dy,[d("button",{type:"button",onClick:e[5]||(e[5]=(...c)=>i.closeModal&&i.closeModal(...c)),class:"px-4 py-2 rounded border"},"Cancelar"),e[13]||(e[13]=d("button",{type:"submit",class:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700"},"Salvar",-1))])],32)]),_:1,__:[14]},8,["onClose"])):he("",!0)])])}const hy=ye(Qg,[["render",fy]]),py={name:"Usuarios",components:{Sidebar:ws,HeaderUser:xs},data(){return{form:{email:"",password:""},userId:null,successMessage:"",errorMessage:""}},methods:{async handleAddUser(){this.successMessage="",this.errorMessage="";const{data:{user:t}}=await G.auth.getUser(),{data:{session:e}}=await G.auth.getSession();let s=null;if(t){const{data:i}=await G.from("profiles").select("*").eq("id",t.id).single();s=i}const{data:n,error:r}=await G.auth.signUp({email:this.form.email,password:this.form.password});e&&await G.auth.setSession(e),r?this.errorMessage="Erro ao cadastrar usuário: "+r.message:(n!=null&&n.user&&s&&await G.from("profiles").insert({id:n.user.id,business_name:s.business_name,description:s.description,phone:s.phone,whatsapp:s.whatsapp,email:s.email,address:s.address,instagram:s.instagram,facebook:s.facebook,youtube:s.youtube,x:s.x,slug:s.slug}),this.successMessage="Usuário cadastrado! Verifique o e-mail para ativar a conta.",this.form={email:"",password:""})}},async mounted(){const{data:{user:t}}=await G.auth.getUser();if(!t){this.$router.push("/login");return}this.userId=t.id}},my={class:"min-h-screen flex bg-gray-100"},gy={class:"flex-1 p-8 space-y-6"},yy={class:"bg-white p-6 rounded-lg shadow"},_y={key:0,class:"text-green-600 mt-4"},vy={key:1,class:"text-red-600 mt-4"};function by(t,e,s,n,r,i){const o=oe("Sidebar"),l=oe("HeaderUser");return E(),P("div",my,[V(o),d("main",gy,[V(l,{title:"Usuários"}),d("section",yy,[e[6]||(e[6]=d("h3",{class:"text-lg font-medium mb-4"},"Cadastrar novo usuário",-1)),d("form",{onSubmit:e[2]||(e[2]=ut((...a)=>i.handleAddUser&&i.handleAddUser(...a),["prevent"])),class:"space-y-4"},[d("div",null,[e[3]||(e[3]=d("label",{class:"block text-sm font-medium text-gray-700"},"E-mail",-1)),W(d("input",{type:"email","onUpdate:modelValue":e[0]||(e[0]=a=>r.form.email=a),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[Q,r.form.email]])]),d("div",null,[e[4]||(e[4]=d("label",{class:"block text-sm font-medium text-gray-700"},"Senha",-1)),W(d("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=a=>r.form.password=a),class:"w-full mt-1 px-4 py-2 border rounded-md"},null,512),[[Q,r.form.password]])]),e[5]||(e[5]=d("div",{class:"flex justify-end"},[d("button",{type:"submit",class:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700"},"Cadastrar")],-1))],32),r.successMessage?(E(),P("p",_y,N(r.successMessage),1)):he("",!0),r.errorMessage?(E(),P("p",vy,N(r.errorMessage),1)):he("",!0)])])])}const wy=ye(py,[["render",by]]),xy={name:"SearchProfiles",data(){return{profiles:[],search:""}},computed:{filteredProfiles(){const t=this.search.toLowerCase();return this.profiles.filter(e=>e.business_name.toLowerCase().includes(t))}},async mounted(){const{data:t}=await G.from("profiles").select("id, business_name, description, slug");t&&(this.profiles=t)}},Sy={class:"min-h-screen bg-gradient-to-b from-white to-blue-50 py-10"},ky={class:"max-w-2xl mx-auto px-4"},Ey={class:"mb-6 text-center"},Cy={class:"space-y-4"},Ty={class:"text-xl font-semibold text-blue-600"},Ay={class:"text-gray-700 mb-2"},Py={key:0,class:"text-center text-gray-500 py-6"};function Oy(t,e,s,n,r,i){const o=oe("router-link");return E(),P("div",Sy,[d("div",ky,[d("div",Ey,[e[1]||(e[1]=d("h1",{class:"text-3xl font-extrabold text-blue-700 mb-4"},"Buscar perfis",-1)),W(d("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>r.search=l),type:"text",placeholder:"Digite o nome do estabelecimento",class:"w-full px-4 py-2 border rounded-md"},null,512),[[Q,r.search]])]),d("ul",Cy,[(E(!0),P(ce,null,Ue(i.filteredProfiles,l=>(E(),P("li",{key:l.id,class:"bg-white p-4 rounded-md shadow"},[d("h2",Ty,N(l.business_name),1),d("p",Ay,N(l.description),1),V(o,{to:"/"+l.slug,class:"text-blue-600 hover:underline"},{default:_e(()=>e[2]||(e[2]=[ie(" Ver perfil ")])),_:2,__:[2]},1032,["to"])]))),128)),i.filteredProfiles.length===0?(E(),P("li",Py," Nenhum resultado encontrado ")):he("",!0)])])])}const Ry=ye(xy,[["render",Oy]]),$y={name:"PublicPage",data(){return{profile:null,services:[]}},async mounted(){const t=this.$route.params.slug,{data:e}=await G.from("profiles").select("*").eq("slug",t).single();if(e){this.profile=e;const{data:s}=await G.from("services").select().eq("user_id",e.id);this.services=s||[]}}},Iy={class:"min-h-screen flex flex-col bg-white"},jy={key:0,class:"flex-1"},My={class:"bg-blue-600 text-white py-12"},Uy={class:"max-w-5xl mx-auto px-4 text-center space-y-4"},Dy={class:"text-4xl font-bold"},Ly={class:"text-lg"},Ny={class:"max-w-5xl mx-auto px-4 py-12 space-y-16"},Fy={key:0,class:"grid gap-6 md:grid-cols-2"},By={class:"text-lg font-medium text-blue-700"},Hy={class:"text-sm text-gray-600"},Vy={class:"text-sm text-gray-500 mt-1"},qy={key:1,class:"text-gray-500"},Ky={class:"space-y-1 text-gray-700"},zy={key:1,class:"flex-1 flex items-center justify-center text-gray-500"},Wy={key:2,class:"bg-gray-100 py-6"},Gy={class:"max-w-5xl mx-auto px-4 text-center space-y-2"},Jy={class:"space-x-4 text-blue-600"},Yy=["href"],Qy=["href"],Xy=["href"],Zy=["href"],e_={class:"text-sm text-gray-500"};function t_(t,e,s,n,r,i){return E(),P("div",Iy,[r.profile?(E(),P("section",jy,[d("div",My,[d("div",Uy,[e[0]||(e[0]=d("img",{src:Hl,alt:"Banner",class:"w-32 h-32 mx-auto rounded-full shadow-lg"},null,-1)),d("h1",Dy,N(r.profile.business_name),1),d("p",Ly,N(r.profile.description),1)])]),d("div",Ny,[d("div",null,[e[1]||(e[1]=d("h2",{class:"text-2xl font-semibold text-blue-600 mb-4"},"Serviços",-1)),r.services.length?(E(),P("ul",Fy,[(E(!0),P(ce,null,Ue(r.services,o=>(E(),P("li",{key:o.id,class:"p-4 bg-gray-50 border rounded-lg shadow"},[d("h3",By,N(o.name),1),d("p",Hy,N(o.description),1),d("p",Vy,"Duração: "+N(o.duration),1)]))),128))])):(E(),P("p",qy,"Nenhum serviço cadastrado."))]),d("div",null,[e[6]||(e[6]=d("h2",{class:"text-2xl font-semibold text-blue-600 mb-4"},"Contato",-1)),d("ul",Ky,[d("li",null,[e[2]||(e[2]=d("strong",null,"Telefone:",-1)),ie(" "+N(r.profile.phone),1)]),d("li",null,[e[3]||(e[3]=d("strong",null,"WhatsApp:",-1)),ie(" "+N(r.profile.whatsapp),1)]),d("li",null,[e[4]||(e[4]=d("strong",null,"Email:",-1)),ie(" "+N(r.profile.email),1)]),d("li",null,[e[5]||(e[5]=d("strong",null,"Endereço:",-1)),ie(" "+N(r.profile.address),1)])])])])])):(E(),P("div",zy,e[7]||(e[7]=[d("p",null,"Carregando perfil...",-1)]))),r.profile?(E(),P("footer",Wy,[d("div",Gy,[d("div",Jy,[r.profile.instagram?(E(),P("a",{key:0,href:r.profile.instagram,class:"hover:underline"},"Instagram",8,Yy)):he("",!0),r.profile.facebook?(E(),P("a",{key:1,href:r.profile.facebook,class:"hover:underline"},"Facebook",8,Qy)):he("",!0),r.profile.youtube?(E(),P("a",{key:2,href:r.profile.youtube,class:"hover:underline"},"YouTube",8,Xy)):he("",!0),r.profile.x?(E(),P("a",{key:3,href:r.profile.x,class:"hover:underline"},"X (Twitter)",8,Zy)):he("",!0)]),d("p",e_,"© "+N(new Date().getFullYear())+" "+N(r.profile.business_name),1)])])):he("",!0)])}const s_=ye($y,[["render",t_]]),n_=[{path:"/",name:"Home",component:bf},{path:"/cadastro",name:"Signup",component:qp},{path:"/login",name:"Login",component:Yp},{path:"/dashboard",name:"Dashboard",component:Um},{path:"/configuracao",name:"Configuracao",component:zm},{path:"/clientes",name:"Clientes",component:ug},{path:"/servicos",name:"Servicos",component:hy},{path:"/agendamentos",name:"Agendamentos",component:Yg},{path:"/usuarios",name:"Usuarios",component:wy},{path:"/buscar",name:"SearchProfiles",component:Ry},{path:"/:slug",name:"PublicPage",component:s_}],r_=Bd({history:gd(),routes:n_});Iu(Lu).use(r_).mount("#app");export{i_ as g};
